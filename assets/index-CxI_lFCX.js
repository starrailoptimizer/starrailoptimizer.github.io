var gc=Object.defineProperty;var pc=(e,a,i)=>a in e?gc(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i;var bs=(e,a,i)=>pc(e,typeof a!="symbol"?a+"":a,i);import{s as or,v as rr,t as wl,a as ji,P as z,j as s,F as g,T as cr,R as vi,b as rl,I as ni,c as Et,d as yt,D as It,r as V,e as ui,B as j,f as en,g as li,h as dr,E as Xl,i as Na,k as be,l as gt,m as Gc,n as Xa,o as Ic,p as Oa,q as cl,u as P,w as qt,S as N,x as ba,C as Oi,y as tn,z as Ec,A as jl,M as Bt,G as Tc,H as ur,J as Dc,K as mr,L as oi,N as Ya,O as Ts,Q as vl,U as Zt,V as an,W as hr,X as Bs,Y as br,Z as Sr,_ as Zc,$ as rs,a0 as Cc,a1 as Bc,a2 as Rr,a3 as dl,a4 as yc,a5 as Ol,a6 as Wc,a7 as Kl,a8 as Mc,a9 as Vc,aa as Fc,ab as xc,ac as Ki,ad as xi,ae as Li,af as Lc,ag as fr,ah as gr,ai as pr,aj as ul,ak as ei,al as Gr,am as Ir,an as _n,ao as _l,ap as Er,aq as ml,ar as Uc,as as kc,at as hl,au as Hc,av as ri,aw as Pc,ax as Nc,ay as Yc,az as Ac,aA as wc,aB as Xc,aC as jc,aD as vc,aE as Oc,aF as Kc,aG as _c,aH as Jc}from"./vendor-Cmt0GynZ.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();const _i="v2.6.3",Tr="2.6v3",se=`Current version: ${Tr} - Calculations are subject to change.`,t={ATK_P:"ATK%",ATK:"ATK",BE:"Break Effect",CD:"CRIT DMG",CR:"CRIT Rate",DEF_P:"DEF%",DEF:"DEF",EHR:"Effect Hit Rate",ERR:"Energy Regeneration Rate",Fire_DMG:"Fire DMG Boost",HP_P:"HP%",HP:"HP",Ice_DMG:"Ice DMG Boost",Imaginary_DMG:"Imaginary DMG Boost",Lightning_DMG:"Lightning DMG Boost",OHB:"Outgoing Healing Boost",Physical_DMG:"Physical DMG Boost",Quantum_DMG:"Quantum DMG Boost",RES:"Effect RES",SPD_P:"SPD%",SPD:"SPD",Wind_DMG:"Wind DMG Boost"},zc=[t.HP_P,t.ATK_P,t.DEF_P,t.HP,t.ATK,t.SPD,t.CR,t.CD,t.EHR,t.BE,t.OHB,t.ERR,t.Physical_DMG,t.Fire_DMG,t.Ice_DMG,t.Lightning_DMG,t.Wind_DMG,t.Quantum_DMG,t.Imaginary_DMG],Jn={[t.HP_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[t.ATK_P]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[t.DEF_P]:{5:{base:8.64,increment:3.024},4:{base:6.912,increment:2.4192},3:{base:5.184,increment:1.8144},2:{base:3.456,increment:1.2096}},[t.HP]:{5:{base:112.896,increment:39.5136},4:{base:90.3168,increment:31.61088},3:{base:67.7376,increment:23.70816},2:{base:45.1584,increment:15.80544}},[t.ATK]:{5:{base:56.448,increment:19.7568},4:{base:45.1584,increment:15.80544},3:{base:33.8688,increment:11.85408},2:{base:22.5792,increment:7.90272}},[t.SPD]:{5:{base:4.032,increment:1.4},4:{base:3.226,increment:1.1},3:{base:2.419,increment:1},2:{base:1.613,increment:1}},[t.CR]:{5:{base:5.184,increment:1.8144},4:{base:4.1472,increment:1.4515},3:{base:3.1104,increment:1.0886},2:{base:2.0736,increment:.7258}},[t.CD]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[t.EHR]:{5:{base:6.912,increment:2.4192},4:{base:5.5296,increment:1.9354},3:{base:4.1472,increment:1.4515},2:{base:2.7648,increment:.9677}},[t.BE]:{5:{base:10.368,increment:3.6288},4:{base:8.2944,increment:2.903},3:{base:6.2208,increment:2.1773},2:{base:4.1472,increment:1.4515}},[t.ERR]:{5:{base:3.1104,increment:1.0886},4:{base:2.4883,increment:.8709},3:{base:1.8662,increment:.6532},2:{base:1.2442,increment:.4355}},[t.OHB]:{5:{base:5.5296,increment:1.9354},4:{base:4.4237,increment:1.5483},3:{base:3.3178,increment:1.1612},2:{base:2.2118,increment:.7741}},[t.Physical_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[t.Fire_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[t.Ice_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[t.Lightning_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[t.Wind_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[t.Quantum_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}},[t.Imaginary_DMG]:{5:{base:6.2208,increment:2.1773},4:{base:4.9766,increment:1.7418},3:{base:3.7325,increment:1.3064},2:{base:2.4883,increment:.8709}}},wt=[t.HP_P,t.ATK_P,t.DEF_P,t.HP,t.ATK,t.DEF,t.SPD,t.CR,t.CD,t.EHR,t.RES,t.BE],Se={[t.SPD]:{5:{high:2.6,mid:2.3,low:2},4:{high:2,mid:1.8,low:1.6},3:{high:1.4,mid:1.3,low:1.2},2:{high:1.2,mid:1.1,low:1}},[t.HP]:{5:{high:42.33751,mid:38.103755,low:33.87},4:{high:33.87,mid:30.483,low:27.096},3:{high:25.402506,mid:22.862253,low:20.322},2:{high:16.935,mid:15.2415,low:13.548}},[t.ATK]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[t.DEF]:{5:{high:21.168754,mid:19.051877,low:16.935},4:{high:16.935,mid:15.2415,low:13.548},3:{high:10.161,mid:11.431126,low:12.701252},2:{high:8.4675,mid:7.62075,low:6.774}},[t.HP_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[t.ATK_P]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[t.DEF_P]:{5:{high:5.4,mid:4.86,low:4.32},4:{high:4.32,mid:3.888,low:3.456},3:{high:2.592,mid:2.916,low:3.24},2:{high:2.16,mid:1.944,low:1.728}},[t.BE]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}},[t.EHR]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[t.RES]:{5:{high:4.32,mid:3.888,low:3.456},4:{high:3.456,mid:3.1104,low:2.7648},3:{high:2.592,mid:2.3328,low:2.0736},2:{high:1.728,mid:1.5552,low:1.3824}},[t.CR]:{5:{high:3.24,mid:2.916,low:2.592},4:{high:2.592,mid:2.3328,low:2.0736},3:{high:1.5552,mid:1.7496,low:1.944},2:{high:1.296,mid:1.1664,low:1.0368}},[t.CD]:{5:{high:6.48,mid:5.832,low:5.184},4:{high:5.184,mid:4.6656,low:4.1472},3:{high:3.888,mid:3.4992,low:3.1104},2:{high:2.592,mid:2.3328,low:2.0736}}},Dt={[t.HP_P]:"HP %",[t.ATK_P]:"ATK %",[t.DEF_P]:"DEF %",[t.SPD_P]:"SPD %",[t.HP]:"HP",[t.ATK]:"ATK",[t.DEF]:"DEF",[t.SPD]:"SPD",[t.CR]:"CRIT Rate",[t.CD]:"CRIT DMG",[t.EHR]:"Effect HIT",[t.RES]:"Effect RES",[t.BE]:"Break Effect",[t.ERR]:"Energy Regen",[t.OHB]:"Healing Boost",[t.Physical_DMG]:"Physical DMG",[t.Fire_DMG]:"Fire DMG",[t.Ice_DMG]:"Ice DMG",[t.Lightning_DMG]:"Lightning DMG",[t.Wind_DMG]:"Wind DMG",[t.Quantum_DMG]:"Quantum DMG",[t.Imaginary_DMG]:"Imaginary DMG"},Qc={[t.HP_P]:"HP %",[t.ATK_P]:"ATK %",[t.DEF_P]:"DEF %",[t.SPD_P]:"SPD %",[t.HP]:"HP",[t.ATK]:"ATK",[t.DEF]:"DEF",[t.SPD]:"SPD",[t.CR]:"CRIT Rate",[t.CD]:"CRIT DMG",[t.EHR]:"HIT",[t.RES]:"RES",[t.BE]:"Break",[t.ERR]:"Energy",[t.OHB]:"Healing",[t.Physical_DMG]:"Physical",[t.Fire_DMG]:"Fire",[t.Ice_DMG]:"Ice",[t.Lightning_DMG]:"Lightning",[t.Wind_DMG]:"Wind",[t.Quantum_DMG]:"Quantum",[t.Imaginary_DMG]:"Imaginary"},zn={[t.HP_P]:"HP%",[t.ATK_P]:"ATK%",[t.DEF_P]:"DEF%",[t.SPD_P]:"SPD%",[t.HP]:"HP",[t.ATK]:"ATK",[t.DEF]:"DEF",[t.SPD]:"SPD",[t.CR]:"CR",[t.CD]:"CD",[t.EHR]:"EHR",[t.RES]:"RES",[t.BE]:"BE",[t.ERR]:"ERR",[t.OHB]:"OHB",[t.Physical_DMG]:"Physical",[t.Fire_DMG]:"Fire",[t.Ice_DMG]:"Ice",[t.Lightning_DMG]:"Lightning",[t.Wind_DMG]:"Wind",[t.Quantum_DMG]:"Quantum",[t.Imaginary_DMG]:"Imaginary"},Jl={[t.HP_P]:"HP %",[t.ATK_P]:"ATK %",[t.DEF_P]:"DEF %",[t.SPD_P]:"SPD %",[t.HP]:"HP",[t.ATK]:"ATK",[t.DEF]:"DEF",[t.SPD]:"SPD",[t.CR]:"CR",[t.CD]:"CD",[t.EHR]:"EHR",[t.RES]:"RES",[t.BE]:"BE",[t.ERR]:"ERR",[t.OHB]:"OHB",[t.Physical_DMG]:"Physical",[t.Fire_DMG]:"Fire",[t.Ice_DMG]:"Ice",[t.Lightning_DMG]:"Lightning",[t.Wind_DMG]:"Wind",[t.Quantum_DMG]:"Quantum",[t.Imaginary_DMG]:"Imaginary"},G={Head:"Head",Hands:"Hands",Body:"Body",Feet:"Feet",PlanarSphere:"PlanarSphere",LinkRope:"LinkRope"},Ui={[G.Head]:"Head",[G.Hands]:"Hands",[G.Body]:"Body",[G.Feet]:"Feet",[G.PlanarSphere]:"Sphere",[G.LinkRope]:"Rope"},ti={[G.Head]:[t.HP],[G.Hands]:[t.ATK],[G.Body]:[t.HP_P,t.ATK_P,t.DEF_P,t.CR,t.CD,t.OHB,t.EHR],[G.Feet]:[t.HP_P,t.ATK_P,t.DEF_P,t.SPD],[G.PlanarSphere]:[t.HP_P,t.ATK_P,t.DEF_P,t.Physical_DMG,t.Fire_DMG,t.Ice_DMG,t.Lightning_DMG,t.Wind_DMG,t.Quantum_DMG,t.Imaginary_DMG],[G.LinkRope]:[t.HP_P,t.ATK_P,t.DEF_P,t.BE,t.ERR]},ja={PasserbyOfWanderingCloud:"Passerby of Wandering Cloud",MusketeerOfWildWheat:"Musketeer of Wild Wheat",KnightOfPurityPalace:"Knight of Purity Palace",HunterOfGlacialForest:"Hunter of Glacial Forest",ChampionOfStreetwiseBoxing:"Champion of Streetwise Boxing",GuardOfWutheringSnow:"Guard of Wuthering Snow",FiresmithOfLavaForging:"Firesmith of Lava-Forging",GeniusOfBrilliantStars:"Genius of Brilliant Stars",BandOfSizzlingThunder:"Band of Sizzling Thunder",EagleOfTwilightLine:"Eagle of Twilight Line",ThiefOfShootingMeteor:"Thief of Shooting Meteor",WastelanderOfBanditryDesert:"Wastelander of Banditry Desert",LongevousDisciple:"Longevous Disciple",MessengerTraversingHackerspace:"Messenger Traversing Hackerspace",TheAshblazingGrandDuke:"The Ashblazing Grand Duke",PrisonerInDeepConfinement:"Prisoner in Deep Confinement",PioneerDiverOfDeadWaters:"Pioneer Diver of Dead Waters",WatchmakerMasterOfDreamMachinations:"Watchmaker, Master of Dream Machinations",IronCavalryAgainstTheScourge:"Iron Cavalry Against the Scourge",TheWindSoaringValorous:"The Wind-Soaring Valorous",SacerdosRelivedOrdeal:"Sacerdos' Relived Ordeal",ScholarLostInErudition:"Scholar Lost in Erudition"},mi={SpaceSealingStation:"Space Sealing Station",FleetOfTheAgeless:"Fleet of the Ageless",PanCosmicCommercialEnterprise:"Pan-Cosmic Commercial Enterprise",BelobogOfTheArchitects:"Belobog of the Architects",CelestialDifferentiator:"Celestial Differentiator",InertSalsotto:"Inert Salsotto",TaliaKingdomOfBanditry:"Talia: Kingdom of Banditry",SprightlyVonwacq:"Sprightly Vonwacq",RutilantArena:"Rutilant Arena",BrokenKeel:"Broken Keel",FirmamentFrontlineGlamoth:"Firmament Frontline: Glamoth",PenaconyLandOfTheDreams:"Penacony, Land of the Dreams",SigoniaTheUnclaimedDesolation:"Sigonia, the Unclaimed Desolation",IzumoGenseiAndTakamaDivineRealm:"Izumo Gensei and Takama Divine Realm",DuranDynastyOfRunningWolves:"Duran, Dynasty of Running Wolves",ForgeOfTheKalpagniLantern:"Forge of the Kalpagni Lantern",LushakaTheSunkenSeas:"Lushaka, the Sunken Seas",TheWondrousBananAmusementPark:"The Wondrous BananAmusement Park"},y={...ja,...mi},ys=Object.values(ja),Ws=Object.values(mi),cs={};for(let e=0;e<Ws.length;e++)cs[Ws[e]]=e;const na={};for(let e=0;e<ys.length;e++)na[ys[e]]=e;const Ss=Object.values(ja).length,$c=Object.values(mi).length,qc={Abundance:"Abundance",Destruction:"Destruction",Erudition:"Erudition",Harmony:"Harmony",Hunt:"Hunt",Nihility:"Nihility",Preservation:"Preservation"},Ns={Physical:t.Physical_DMG,Fire:t.Fire_DMG,Ice:t.Ice_DMG,Lightning:t.Lightning_DMG,Wind:t.Wind_DMG,Quantum:t.Quantum_DMG,Imaginary:t.Imaginary_DMG},ed={Physical:"PHYSICAL_RES_PEN",Fire:"FIRE_RES_PEN",Ice:"ICE_RES_PEN",Lightning:"LIGHTNING_RES_PEN",Wind:"WIND_RES_PEN",Quantum:"QUANTUM_RES_PEN",Imaginary:"IMAGINARY_RES_PEN"},d={Sets:y,Parts:G,Stats:t,MainStats:zc,MainStatsValues:Jn,SubStats:wt,SetsOrnaments:mi,SetsRelics:ja,SetsRelicsNames:ys,SetsOrnamentsNames:Ws,StatsToReadable:Dt,PartsToReadable:Ui,PartsMainStats:ti,RelicSetToIndex:na,OrnamentSetToIndex:cs,MAX_INT:2147483647,THREAD_BUFFER_LENGTH:15e4},td=(()=>{const e=[];for(let a=95;a>=1;a--)e.push({value:a,label:`Lv. ${a} - ${200+10*a} DEF`,number:`Lv. ${a}`});return e})(),ad=(()=>{const e=[];for(let a=1;a<=5;a+=2)e.push({value:a,label:`${a} target${a>1?"s":""}`});return e})(),sd=(()=>{const e=[];for(let a=20;a<=60;a+=20)e.push({value:a/100,label:`${a}% Damage RES`});return e})(),id=(()=>{const e=[];for(let a=0;a<=40;a+=10)e.push({value:a/100,label:`${a}% Effect RES`});return e})(),nd=(()=>{const e=[];for(let a=720;a>=1;a-=30)e.push({value:a,label:`${a} max toughness`,number:`${a} max toughness`});return e})(),Dr=[{value:1,label:"S1"},{value:2,label:"S2"},{value:3,label:"S3"},{value:4,label:"S4"},{value:5,label:"S5"}],Zr=[{value:0,label:"E0"},{value:1,label:"E1"},{value:2,label:"E2"},{value:3,label:"E3"},{value:4,label:"E4"},{value:5,label:"E5"},{value:6,label:"E6"}],Ct={relic4Piece:"4 Piece",relic2Plus2Piece:"2 + 2 Piece",relic2PlusAny:"2 + Any"},ai="combat",ld=2e6,od=[{value:t.HP_P,short:"HP%",label:"HP%"},{value:t.ATK_P,short:"ATK%",label:"ATK%"},{value:t.DEF_P,short:"DEF%",label:"DEF%"},{value:t.CR,short:"Crit Rate",label:"CRIT Rate"},{value:t.CD,short:"Crit DMG",label:"CRIT DMG"},{value:t.EHR,short:"EHR",label:"Effect HIT Rate"},{value:t.OHB,short:"Healing",label:"Outgoing Healing Boost"}],rd=[{value:t.HP_P,short:"HP%",label:"HP%"},{value:t.ATK_P,short:"ATK%",label:"ATK%"},{value:t.DEF_P,short:"DEF%",label:"DEF%"},{value:t.SPD,short:"SPD",label:"Speed"}],cd=[{value:t.HP_P,short:"HP%",label:"HP%"},{value:t.ATK_P,short:"ATK%",label:"ATK%"},{value:t.DEF_P,short:"DEF%",label:"DEF%"},{value:t.BE,short:"Break",label:"Break Effect"},{value:t.ERR,short:"Energy",label:"Energy Regeneration Rate"}],dd=[{value:t.HP_P,short:"HP%",label:"HP%"},{value:t.ATK_P,short:"ATK%",label:"ATK%"},{value:t.DEF_P,short:"DEF%",label:"DEF%"},{value:t.Physical_DMG,short:"Physical",label:"Physical DMG"},{value:t.Fire_DMG,short:"Fire",label:"Fire DMG"},{value:t.Ice_DMG,short:"Ice",label:"Ice DMG"},{value:t.Lightning_DMG,short:"Lightning",label:"Lightning DMG"},{value:t.Wind_DMG,short:"Wind",label:"Wind DMG"},{value:t.Quantum_DMG,short:"Quantum",label:"Quantum DMG"},{value:t.Imaginary_DMG,short:"Imaginary",label:"Imaginary DMG"}],Ji={ATK:{title:"ATK",key:"ATK",percent:!1},ATK_P:{title:"ATK %",key:"ATK_P",percent:!0},HP:{title:"HP",key:"HP",percent:!1},HP_P:{title:"HP %",key:"HP_P",percent:!0},DEF:{title:"DEF",key:"DEF",percent:!1},DEF_P:{title:"DEF %",key:"DEF_P",percent:!0},CR:{title:"Crit Rate %",key:"CR",percent:!0},CD:{title:"Crit Dmg %",key:"CD",percent:!0},SPD:{title:"SPD",key:"SPD",percent:!1},SPD_P:{title:"SPD %",key:"SPD_P",percent:!0},BE:{title:"BE %",key:"BE",percent:!0},DMG_BOOST:{title:"Dmg Boost %",key:"DMG_BOOST",percent:!0},DEF_PEN:{title:"Def Pen %",key:"DEF_PEN",percent:!0},RES_PEN:{title:"Dmg RES PEN %",key:"RES_PEN",percent:!0},EFFECT_RES_PEN:{title:"Effect RES PEN %",key:"EFFECT_RES_PEN",percent:!0},VULNERABILITY:{title:"Vulnerability %",key:"VULNERABILITY",percent:!0},BREAK_EFFICIENCY:{title:"Break Efficiency %",key:"BREAK_EFFICIENCY",percent:!0}},gn=["BASIC","SKILL","ULT","FUA","DOT","BREAK"],vs="Default",es="Custom",zl="Settings",ki="Combat Simulation Score",pn="Character Score",Qn="Damage Upgrades",Gn="Combat Stats",Qt="CPU",Ms="GPU Stable",va="GPU Experimental",bl="Sacerdos' Relived Ordeal 1x",Sl="Sacerdos' Relived Ordeal 2x";console.debug=(...e)=>{let a="%c%s ";e.forEach(i=>{switch(typeof i){case"bigint":case"number":case"boolean":a+="%d ";break;case"string":a+="%s ";break;case"object":case"undefined":default:a+="%o "}}),console.log(a,"color: orange","[DEBUG]",...e)};const C={objectHash:e=>or(e),arrayOfZeroes:e=>new Array(e).fill(0),arrayOfValue:(e,a)=>new Array(e).fill(a),nullUndefinedToZero:e=>e??0,mergeDefinedValues:(e,a)=>{for(const i of Object.keys(e))a[i]!=null&&(e[i]=a[i]);return e},mergeUndefinedValues:(e,a)=>{for(const i of Object.keys(a))e[i]==null&&(e[i]=a[i]);return e},sleep:e=>new Promise(a=>setTimeout(a,e)),relicsToSetArrays:e=>{const a=C.arrayOfValue(Object.values(d.SetsRelics).length,0),i=C.arrayOfValue(Object.values(d.SetsOrnaments).length,0);for(const n of e)if(n)if(n.part==d.Parts.PlanarSphere||n.part==d.Parts.LinkRope){const l=d.OrnamentSetToIndex[n.set];i[l]++}else{const l=d.RelicSetToIndex[n.set];a[l]++}return{relicSets:a,ornamentSets:i}},isFlat:e=>e==d.Stats.HP||e==d.Stats.ATK||e==d.Stats.DEF||e==d.Stats.SPD,randomElement:e=>e[Math.floor(Math.random()*e.length)],isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),screenshotElementById:async(e,a,i)=>{const n=C.isMobile(),l=async()=>{const c=n?9:3;let h=0,b;for(;h<c&&(h++,b=await wl(document.getElementById(e),{pixelRatio:1.5,skipFonts:!0}),!(b.size>12e5)););return n&&(b=await wl(document.getElementById(e),{pixelRatio:1.5,skipFonts:!0})),b};function o(r){const c=i||"Hsr-optimizer",h=new Date().toLocaleDateString().replace(/[^apm\d]+/gi,"-"),b=new Date().toLocaleTimeString("en-GB").replace(/[^apm\d]+/gi,"-"),R=`${c}_${h}_${b}.png`;if(a=="clipboard")if(n){const S=new File([r],R,{type:"image/png"});navigator.canShare&&navigator.canShare({files:[S]})?navigator.share({files:[S],title:"",text:""}):Message.error("Unable to save screenshot to clipboard, try the download button to the right")}else try{const S=[new window.ClipboardItem({[r.type]:r})];navigator.clipboard.write(S).then(()=>{Message.success("Copied screenshot to clipboard")})}catch(S){console.error(S),Message.error("Unable to save screenshot to clipboard, try the download button to the right")}if(a=="download"){const S=window.URL.createObjectURL(r),u=document.createElement("a");u.href=S,u.download=R,u.style.display="none",document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(S),Message.success("Downloaded screenshot")}}return new Promise(r=>{l().then(c=>{o(c),r()})})},collectById:e=>{const a={};for(const i of e)a[i.id]=i;return a},truncate10ths:e=>Math.floor(e*10)/10,truncate100ths:e=>Math.floor(e*100)/100,truncate1000ths:e=>Math.floor(e*1e3)/1e3,truncate10000ths:e=>Math.floor(e*1e4)/1e4,precisionRound(e,a=5){const i=Math.pow(10,a);return Math.round(e*i)/i},flipMapping:e=>Object.fromEntries(Object.entries(e).map(a=>a.reverse())),clone:e=>e?JSON.parse(JSON.stringify(e)):null,labelFilterOption:(e,a)=>((a==null?void 0:a.label)??"").toLowerCase().includes(e.toLowerCase()),nameFilterOption:(e,a)=>((a==null?void 0:a.name)??"").toLowerCase().includes(e.toLowerCase()),titleFilterOption:(e,a)=>((a==null?void 0:a.title)??"").toLowerCase().includes(e.toLowerCase()),hasMainStat:e=>e==d.Parts.Body||e==d.Parts.Feet||e==d.Parts.LinkRope||e==d.Parts.PlanarSphere,generateCharacterOptions:()=>{const e=JSON.parse(JSON.stringify(Z.getMetadata().characters));for(const a of Object.values(e))a.value=a.id,a.label=a.displayName;return Object.values(e).sort((a,i)=>a.displayName.localeCompare(i.displayName))},generateLightConeOptions:e=>{const a=JSON.parse(JSON.stringify(Z.getMetadata().lightCones));let i=null;e&&(i=Z.getMetadata().characters[e].path);for(const n of Object.values(a))n.value=n.id,n.label=n.name;return Object.values(a).filter(n=>!i||n.path===i).sort((n,l)=>n.label.localeCompare(l.label))},generateCurrentCharacterOptions:(e,a=[],i=!0)=>{const n=Z.getMetadata().characters,l=e.filter(o=>!a.includes(o)).map(o=>({value:o.id,label:n[o.id].displayName})).sort((o,r)=>o.label.localeCompare(r.label));return i&&l.unshift({value:"None",label:"Nobody"}),l},recursiveToCamel:e=>Array.isArray(e)?e.map(a=>C.recursiveToCamel(a)):typeof e=="function"||e!==Object(e)?e:Object.fromEntries(Object.entries(e).map(([a,i])=>[a.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,"")),C.recursiveToCamel(i)])),randomId:()=>rr(),getCharacterNameById:e=>{var a;return(a=Z.getMetadata().characters[e])==null?void 0:a.displayName},stripTrailingSlashes:e=>e.replace(/\/+$/,""),sortRarityDesc:(e,a)=>a.rarity-e.rarity,sumArray:e=>e.reduce((a,i)=>a+i,0),arrayToMap:(e,a)=>e.reduce((i,n)=>(i[n[a]]=n,i),{}),stringArrayToMap:e=>e.reduce((a,i)=>(a[i]=!0,a),{}),msToReadable:e=>{const a=Math.floor(e/1e3%60),i=Math.floor(e/(1e3*60)%60),n=Math.floor(e/(1e3*60*60)),l=n>0?`${n}:`:"",o=i<10?`0${i}`:`${i}`,r=a<10?`0${a}`:`${a}`;return`${l}${o}:${r}`},filterUnique:e=>e.filter((a,i,n)=>n.indexOf(a)===i)},Cr={1:d.Parts.Head,2:d.Parts.Hands,3:d.Parts.Body,4:d.Parts.Feet,5:d.Parts.PlanarSphere,6:d.Parts.LinkRope},Br={6:5,5:4,4:3,3:2},$n={HPAddedRatio:d.Stats.HP_P,AttackAddedRatio:d.Stats.ATK_P,DefenceAddedRatio:d.Stats.DEF_P,HPDelta:d.Stats.HP,AttackDelta:d.Stats.ATK,DefenceDelta:d.Stats.DEF,SpeedDelta:d.Stats.SPD,CriticalDamageBase:d.Stats.CD,CriticalChanceBase:d.Stats.CR,StatusProbabilityBase:d.Stats.EHR,StatusResistanceBase:d.Stats.RES,BreakDamageAddedRatioBase:d.Stats.BE,SPRatioBase:d.Stats.ERR,HealRatioBase:d.Stats.OHB,PhysicalAddedRatio:d.Stats.Physical_DMG,FireAddedRatio:d.Stats.Fire_DMG,IceAddedRatio:d.Stats.Ice_DMG,ThunderAddedRatio:d.Stats.Lightning_DMG,WindAddedRatio:d.Stats.Wind_DMG,QuantumAddedRatio:d.Stats.Quantum_DMG,ImaginaryAddedRatio:d.Stats.Imaginary_DMG},Rl={convert:e=>{const a=e.relicList||[],i=e.equipment,n=e.rank||0,l=""+e.avatarId,o=i?""+i.tid:void 0,r=i?i.level:0,c=i?i.rank:0,h=a.map(R=>ud(R)).filter(R=>!!R),b={};for(const R of h)R.verified=!0,R.equippedBy=l,b[R.part]=R;return{id:l,key:C.randomId(),form:{characterLevel:80,characterId:l,characterEidolon:n,lightCone:o,lightConeLevel:r,lightConeSuperimposition:c},equipped:b}},getConstantConversions:()=>({statConversion:$n,partConversion:Cr,gradeConversion:Br})},Rs={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}};function ud(e){try{const a=Z.getMetadata().relics,i=""+e.tid,n=e.level||0;let l=i.substring(1,4);Rs[i]&&(l=Rs[i].set);const o=a.relicSets[l].name;let r=i.substring(4,5);Rs[i]&&(r=Rs[i].part);const c=Cr[r],h=i.substring(0,1),b=Br[h];let R=e.mainAffixId;R||(R=Object.values(a.relicMainAffixes[`${b}${r}`].affixes).find(D=>D.property==e.main_affix.type).affix_id);let S=a.relicMainAffixes[`${b}${r}`].affixes[R];Rs[i]&&(S=a.relicMainAffixes[Rs[i].main].affixes[R]);const u=$n[S.property],m=S.base,f=S.step,p=m+f*n,I={stat:u,value:C.precisionRound(p*(C.isFlat(u)?1:100),5)},E=[];for(const D of e.subAffixList){let W=D.affixId;W||(W=Object.values(a.relicSubAffixes[`${b}`].affixes).find(A=>A.property==D.type).affix_id);const B=D.cnt??D.count,F=D.step||0,L=a.relicSubAffixes[b].affixes[W],M=$n[L.property],H=L.base,X=L.step,oe=H*B+X*F;E.push({stat:M,value:C.precisionRound(oe*(C.isFlat(M)?1:100),5)})}const T={part:c,set:o,enhance:n,grade:b,main:I,substats:E};return ds.augment(T)}catch(a){return console.error(a),null}}let Ql,In,$l,En=!1;const Vs={fixMainStatvalue:e=>{En||Vs.initialize();const a=e.enhance,i=e.main.stat,n=$l[e.part],o=`${e.grade}${n}`,r=Z.getMetadata().relics.relicMainAffixes[o].affixes,c=Object.values(r).find(u=>u.property==In[i]);if(!c)return 0;const h=c.step,R=c.base+h*a,S=C.isFlat(i)?R:R*100;return C.precisionRound(S,5)},fixSubStatValue:(e,a,i)=>{if(En||Vs.initialize(),e==d.Stats.SPD)return a;const n=md[i];if(!n)return a;const l=Ql[e];if(!l||!n[l])return a;let r=n[l][a];if(!r)return a;r.length&&(r=r[0]);const c=Z.getMetadata().relics.relicSubAffixes[i].affixes,h=Object.values(c).find(f=>f.property==In[e]);if(!h)return a;const b=h.base,R=h.step,u=(b+R*2)*r,m=C.isFlat(e)?u:u*100;return C.precisionRound(m,5)},initialize:()=>{En=!0;const e=Rl.getConstantConversions();In=C.flipMapping(e.statConversion),$l=C.flipMapping(e.partConversion),Ql=C.flipMapping({ATK:d.Stats.ATK,HP:d.Stats.HP,DEF:d.Stats.DEF,ATK_:d.Stats.ATK_P,HP_:d.Stats.HP_P,DEF_:d.Stats.DEF_P,SPD:d.Stats.SPD,"CRIT Rate_":d.Stats.CR,"CRIT DMG_":d.Stats.CD,"Effect Hit Rate_":d.Stats.EHR,"Effect RES_":d.Stats.RES,"Break Effect_":d.Stats.BE})}},md={2:{HP:{13:.8,15:.9,16:1},ATK:{6:.8,7:.9,8:1},DEF:{6:.8,7:.9,8:1},HP_:{1.3:.8,1.5:.9,1.7:1},ATK_:{1.3:.8,1.5:.9,1.7:1},DEF_:{1.7:.8,1.9:.9,2.1:1},SPD:{1:[.8,.9,1]},"CRIT Rate_":{1:.8,1.1:.9,1.2:1},"CRIT DMG_":{2:.8,2.3:.9,2.5:1},"Effect Hit Rate_":{1.3:.8,1.5:.9,1.7:1},"Effect RES_":{1.3:.8,1.5:.9,1.7:1},"Break Effect_":{2:.8,2.3:.9,2.5:1}},3:{HP:{20:.8,22:.9,25:1,40:1.6,43:1.7,45:1.8,48:1.9,50:2},ATK:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},DEF:{10:.8,11:.9,12:1,20:1.6,21:1.7,22:1.8,24:1.9,25:2},HP_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},ATK_:{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},DEF_:{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2},SPD:{1:[.8,.9,1],2:[1.6,1.7,1.8,1.9,2]},"CRIT Rate_":{1.5:.8,1.7:.9,1.9:1,3.1:1.6,3.3:1.7,3.4:1.8,3.6:1.9,3.8:2},"CRIT DMG_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2},"Effect Hit Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Effect RES_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2},"Break Effect_":{3.1:.8,3.4:.9,3.8:1,6.2:1.6,6.6:1.7,6.9:1.8,7.3:1.9,7.7:2}},4:{HP:{27:.8,30:.9,33:1,54:1.6,57:1.7,60:1.8,64:1.9,67:2,81:2.4,84:2.5,88:2.6,91:2.7,94:2.8,98:2.9,101:3,108:3.2,111:3.3,115:3.4,118:3.5,121:3.6,125:3.7,128:3.8,132:3.9,135:4},ATK:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},DEF:{13:.8,15:.9,16:1,27:1.6,28:1.7,30:1.8,32:1.9,33:2,40:2.4,42:2.5,44:2.6,45:2.7,47:2.8,49:2.9,50:3,54:3.2,55:3.3,57:3.4,59:3.5,60:3.6,62:3.7,64:3.8,66:3.9,67:4},HP_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},ATK_:{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},DEF_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4},SPD:{1:[.8,.9],2:1,3:[1.6,1.7,1.8,1.9],4:[2,2.4],5:[2.5,2.6,2.7,2.8,2.9],6:[3,3.2,3.3,3.4],7:[3.5,3.6,3.7,3.8,3.9],8:4},"CRIT Rate_":{2:.8,2.3:.9,2.5:1,4.1:1.6,4.4:1.7,4.6:1.8,4.9:1.9,5.1:2,6.2:2.4,6.4:2.5,6.7:2.6,6.9:2.7,7.2:2.8,7.5:2.9,7.7:3,8.2:3.2,8.5:3.3,8.8:3.4,9:3.5,9.3:3.6,9.5:3.7,9.8:3.8,10.1:3.9,10.3:4},"CRIT DMG_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4},"Effect Hit Rate_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Effect RES_":{2.7:.8,3.1:.9,3.4:1,5.5:1.6,5.8:1.7,6.2:1.8,6.5:1.9,6.9:2,8.2:2.4,8.6:2.5,8.9:2.6,9.3:2.7,9.6:2.8,10:2.9,10.3:3,11:3.2,11.4:3.3,11.7:3.4,12:3.5,12.4:3.6,12.7:3.7,13.1:3.8,13.4:3.9,13.8:4},"Break Effect_":{4.1:.8,4.6:.9,5.1:1,8.2:1.6,8.8:1.7,9.3:1.8,9.8:1.9,10.3:2,12.4:2.4,12.9:2.5,13.4:2.6,13.9:2.7,14.5:2.8,15:2.9,15.5:3,16.5:3.2,17.1:3.3,17.6:3.4,18.1:3.5,18.6:3.6,19.1:3.7,19.6:3.8,20.2:3.9,20.7:4}},5:{HP:{33:.8,38:.9,42:1,67:1.6,71:1.7,76:1.8,80:1.9,84:2,101:2.4,105:2.5,110:2.6,114:2.7,118:2.8,122:2.9,127:3,135:3.2,139:3.3,143:3.4,148:3.5,152:3.6,156:3.7,160:3.8,165:3.9,169:4,173:4.1,177:4.2,182:4.3,186:4.4,190:4.5,194:4.6,198:4.7,203:4.8,207:4.9,211:5,215:5.1,220:5.2,224:5.3,228:5.4,232:5.5,237:5.6,241:5.7,245:5.8,249:5.9,254:6},ATK:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},DEF:{16:.8,19:.9,21:1,33:1.6,35:1.7,38:1.8,40:1.9,42:2,50:2.4,52:2.5,55:2.6,57:2.7,59:2.8,61:2.9,63:3,67:3.2,69:3.3,71:3.4,74:3.5,76:3.6,78:3.7,80:3.8,82:3.9,84:4,86:4.1,88:4.2,91:4.3,93:4.4,95:4.5,97:4.6,99:4.7,101:4.8,103:4.9,105:5,107:5.1,110:5.2,112:5.3,114:5.4,116:5.5,118:5.6,120:5.7,122:5.8,124:5.9,127:6},HP_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},ATK_:{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},DEF_:{4.3:.8,4.8:.9,5.4:1,8.6:1.6,9.1:1.7,9.7:1.8,10.2:1.9,10.8:2,12.9:2.4,13.5:2.5,14:2.6,14.5:2.7,15.1:2.8,15.6:2.9,16.2:3,17.2:3.2,17.8:3.3,18.3:3.4,18.9:3.5,19.4:3.6,19.9:3.7,20.5:3.8,21:3.9,21.6:4,22.1:4.1,22.6:4.2,23.2:4.3,23.7:4.4,24.3:4.5,24.8:4.6,25.3:4.7,25.9:4.8,26.4:4.9,27:5,27.5:5.1,28:5.2,28.6:5.3,29.1:5.4,29.7:5.5,30.2:5.6,30.7:5.7,31.3:5.8,31.8:5.9,32.4:6},SPD:{2:[.8,.9,1],4:[1.6,1.7,1.8,1.9],5:2,6:[2.4,2.5,2.6],7:[2.7,2.8,2.9,3],8:[3.2,3.3,3.4],9:[3.5,3.6,3.7,3.8],10:[3.9,4,4.1,4.2],11:[4.3,4.4,4.5,4.6],12:[4.7,4.8,4.9],13:[5,5.1,5.2,5.3],14:[5.4,5.5,5.6,5.7],15:[5.8,5.9,6]},"CRIT Rate_":{2.5:.8,2.9:.9,3.2:1,5.1:1.6,5.5:1.7,5.8:1.8,6.1:1.9,6.4:2,7.7:2.4,8.1:2.5,8.4:2.6,8.7:2.7,9:2.8,9.3:2.9,9.7:3,10.3:3.2,10.6:3.3,11:3.4,11.3:3.5,11.6:3.6,11.9:3.7,12.3:3.8,12.6:3.9,12.9:4,13.2:4.1,13.6:4.2,13.9:4.3,14.2:4.4,14.5:4.5,14.9:4.6,15.2:4.7,15.5:4.8,15.8:4.9,16.2:5,16.5:5.1,16.8:5.2,17.1:5.3,17.4:5.4,17.8:5.5,18.1:5.6,18.4:5.7,18.7:5.8,19.1:5.9,19.4:6},"CRIT DMG_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6},"Effect Hit Rate_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Effect RES_":{3.4:.8,3.8:.9,4.3:1,6.9:1.6,7.3:1.7,7.7:1.8,8.2:1.9,8.6:2,10.3:2.4,10.8:2.5,11.2:2.6,11.6:2.7,12:2.8,12.5:2.9,12.9:3,13.8:3.2,14.2:3.3,14.6:3.4,15.1:3.5,15.5:3.6,15.9:3.7,16.4:3.8,16.8:3.9,17.2:4,17.7:4.1,18.1:4.2,18.5:4.3,19:4.4,19.4:4.5,19.8:4.6,20.3:4.7,20.7:4.8,21.1:4.9,21.6:5,22:5.1,22.4:5.2,22.8:5.3,23.3:5.4,23.7:5.5,24.1:5.6,24.6:5.7,25:5.8,25.4:5.9,25.9:6},"Break Effect_":{5.1:.8,5.8:.9,6.4:1,10.3:1.6,11:1.7,11.6:1.8,12.3:1.9,12.9:2,15.5:2.4,16.2:2.5,16.8:2.6,17.4:2.7,18.1:2.8,18.7:2.9,19.4:3,20.7:3.2,21.3:3.3,22:3.4,22.6:3.5,23.3:3.6,23.9:3.7,24.6:3.8,25.2:3.9,25.9:4,26.5:4.1,27.2:4.2,27.8:4.3,28.5:4.4,29.1:4.5,29.8:4.6,30.4:4.7,31.1:4.8,31.7:4.9,32.4:5,33:5.1,33.6:5.2,34.3:5.3,34.9:5.4,35.6:5.5,36.2:5.6,36.9:5.7,37.5:5.8,38.2:5.9,38.8:6}}},hd={calculateIncrementCounts(e,a){let i=1/0,n=null;function l(o,r,c){if(c===Object.keys(a).length){Math.abs(o-e)<Math.abs(i-e)&&(i=o,n={...r});return}const h=Object.keys(a)[c];for(let b=0;o+b*a[h]<=e+.01;b++)r[h]=b,l(o+b*a[h],r,c+1)}return l(0,{high:0,mid:0,low:0},0),n},calculateRelicSubstatRolls(e){if(e.grade<5){e.substats.map(i=>{i.addedRolls=0});return}let a=0;if(e.substats.forEach(i=>{const n=Se[i.stat][e.grade],l=this.calculateIncrementCounts(i.value,n);l&&(i.addedRolls=Math.min(5,Math.max(0,l.high+l.mid+l.low-1)),a+=i.addedRolls)}),a>Math.floor(e.enhance/3)){const i=e.substats.reduce((n,l)=>n.addedRolls>l.addedRolls?n:l);i.addedRolls-=1}},calculateStatSum(e){return e?parseFloat(((e.high*100+e.mid*90+e.low*80)/(e.high+e.mid+e.low)).toFixed(2)):0}},ds={augment:function(e){const a={};if(e.grade&&!e.main)return null;const i=e.main.stat;e.main.value=Vs.fixMainStatvalue(e);const n=e.main.value;a.mainStat=i,a.mainValue=n,bd(e);for(const l of e.substats){const o=l.stat;l.value=C.precisionRound(l.value),l.value=Vs.fixSubStatValue(o,l.value,e.grade),a[o]=l.value}return e.enhance>12&&e.grade!=5&&(e.grade=5),e.id||(e.id=rr()),e.augmentedStats=a,Sd([e]),hd.calculateRelicSubstatRolls(e),e}},ql={[d.Stats.HP]:0,[d.Stats.ATK]:1,[d.Stats.DEF]:2,[d.Stats.HP_P]:3,[d.Stats.ATK_P]:4,[d.Stats.DEF_P]:5,[d.Stats.SPD]:6,[d.Stats.CR]:7,[d.Stats.CD]:8,[d.Stats.EHR]:9,[d.Stats.RES]:10,[d.Stats.BE]:11};function bd(e){e.substats=e.substats.sort((a,i)=>ql[a.stat]-ql[i.stat])}function Sd(e){return e.map(a=>{for(const i of Object.values(d.Stats))a.augmentedStats[i]=a.augmentedStats[i]||0,C.isFlat(i)||(a.augmentedStats.mainStat==i&&(a.augmentedStats.mainValue=a.augmentedStats.mainValue/100),a.augmentedStats[i]=a.augmentedStats[i]/100);return a})}var nt=(e=>(e.optimizerCharacterId="optimizerCharacterId",e.relicScorerSidebarOpen="relicScorerSidebarOpen",e.scoringType="scoringType",e.combatScoreDetails="combatScoreDetails",e.computeEngine="computeEngine",e))(nt||{});const Rd=ji([{color:"#5A1A06",pos:0},{color:"#343127",pos:.35},{color:"#38821F",pos:1}]);let Tn=ji("#343127","#38821F"),Dn;const Ce={getColor:(e,a)=>a.rgbAt(e).toHexString(),getOptimizerColumnGradient:e=>{const a=$.getAggs();try{const i=e.column.colId;if(e.data&&a&&$.getColumnsToAggregate(!0)[i]){const n=a.minAgg[i],l=a.maxAgg[i];let r=(e.value-n)/(l-n);return l==n&&(r=.5),{backgroundColor:Ce.getColor(Math.min(Math.max(r,0),1),Rd)}}}catch(i){console.error(i)}},setTheme(e){Tn=ji(e.colorBgBase,e.colorPrimary)},setToken(e){Tn=ji(e.colorBgElevated,e.colorPrimaryHover)},getRelicGradient(e){const a=e.column.colId,i=e.value;if(Dn||(Dn={[`augmentedStats.${d.Stats.HP}`]:169.35,[`augmentedStats.${d.Stats.ATK}`]:84.675,[`augmentedStats.${d.Stats.DEF}`]:84.675,[`augmentedStats.${d.Stats.SPD}`]:10,[`augmentedStats.${d.Stats.ATK_P}`]:.1728,[`augmentedStats.${d.Stats.HP_P}`]:.1728,[`augmentedStats.${d.Stats.DEF_P}`]:.216,[`augmentedStats.${d.Stats.CR}`]:.1296,[`augmentedStats.${d.Stats.CD}`]:.2592,[`augmentedStats.${d.Stats.EHR}`]:.1728,[`augmentedStats.${d.Stats.RES}`]:.1728,[`augmentedStats.${d.Stats.BE}`]:.2592,cv:.4,"weights.current":64.8,"weights.potentialSelected.averagePct":100,"weights.potentialSelected.bestPct":100,"weights.potentialAllAll":100}),isNaN(i)||i==0)return{};let n;return a.startsWith("weights.potential")?n=i/100:a.startsWith("weights.")?n=i/(6.48*9):n=i/Dn[a],{backgroundColor:Ce.getColor(Math.min(Math.max(n,0),1),Tn)}}};function Ne(e){return new URL(ss+"/assets"+e,import.meta.url).href}let fi;const U={getStatIcon:(e,a)=>(fi||(fi={[d.Stats.HP]:"IconMaxHP.webp",[d.Stats.ATK]:"IconAttack.webp",[d.Stats.DEF]:"IconDefence.webp",[d.Stats.HP_P]:"IconMaxHP.webp",[d.Stats.ATK_P]:"IconAttack.webp",[d.Stats.DEF_P]:"IconDefence.webp",[d.Stats.SPD]:"IconSpeed.webp",[d.Stats.SPD_P]:"IconSpeed.webp",[d.Stats.CR]:"IconCriticalChance.webp",[d.Stats.CD]:"IconCriticalDamage.webp",[d.Stats.EHR]:"IconStatusProbability.webp",[d.Stats.RES]:"IconStatusResistance.webp",[d.Stats.BE]:"IconBreakUp.webp",[d.Stats.ERR]:"IconEnergyRecovery.webp",[d.Stats.OHB]:"IconHealRatio.webp",[d.Stats.Physical_DMG]:"IconPhysicalAddedRatio.webp",[d.Stats.Fire_DMG]:"IconFireAddedRatio.webp",[d.Stats.Ice_DMG]:"IconIceAddedRatio.webp",[d.Stats.Lightning_DMG]:"IconThunderAddedRatio.webp",[d.Stats.Wind_DMG]:"IconWindAddedRatio.webp",[d.Stats.Quantum_DMG]:"IconQuantumAddedRatio.webp",[d.Stats.Imaginary_DMG]:"IconImaginaryAddedRatio.webp"}),e=="CV"?Ne("/misc/cv.webp"):e=="simScore"?Ne("/misc/battle.webp"):e==d.Stats.HP_P&&a?Ne("/misc/IconMaxHPPercent.webp"):e==d.Stats.ATK_P&&a?Ne("/misc/IconAttackPercent.webp"):e==d.Stats.DEF_P&&a?Ne("/misc/IconDefencePercent.webp"):!e||!fi[e]?U.getBlank():Ne(`/icon/property/${fi[e]}`)),getCharacterPortraitById:e=>e?Ne(`/image/character_portrait/${e}.webp`):(console.warn("No id found"),U.getBlank()),getCharacterAvatarById:e=>e?Ne(`/icon/avatar/${e}.webp`):U.getBlank(),getCharacterPreviewById:e=>e?Ne(`/image/character_preview/${e}.webp`):U.getBlank(),getLightConePortrait:e=>e?Ne(`/image/light_cone_portrait/${e.id}.webp`):U.getBlank(),getLightConePortraitById:e=>e?Ne(`/image/light_cone_portrait/${e}.webp`):U.getBlank(),getLightConeIconById:e=>e?Ne(`/icon/light_cone/${e}.webp`):U.getBlank(),getPath:e=>e?Ne(`/icon/path/${e}.webp`):U.getBlank(),getPathFromClass:e=>e?Ne(`/icon/path/${e}.webp`):U.getBlank(),getElement:e=>e?Ne(`/icon/element/${e}.webp`):U.getBlank(),getBlank:()=>Ne("/misc/blank.webp"),getQuestion:()=>Ne("/misc/tooltip.webp"),getLogo:()=>Ne("/misc/logo.webp"),getDiscord:()=>Ne("/misc/badgediscord.webp"),getGithub:()=>Ne("/misc/badgegithub.webp"),getKofi:()=>Ne("/misc/badgekofi.webp"),getStar:()=>Ne("/misc/StarBig.webp"),getGuideImage:e=>Ne(`/misc/guide/${e}.webp`),getStarBw:()=>Ne("/misc/QuestMainIcon.webp"),getPart:e=>{const a={[d.Parts.Head]:"partHead",[d.Parts.Hands]:"partHands",[d.Parts.Body]:"partBody",[d.Parts.Feet]:"partFeet",[d.Parts.PlanarSphere]:"partPlanarSphere",[d.Parts.LinkRope]:"partLinkRope"};return Ne(`/misc/${a[e]}.webp`)},getChangelog:e=>Ne(`/misc/changelog/${e}`),getSetImage:(e,a,i=!1)=>{if(e==-1)return U.getBlank();a||(a=d.Parts.PlanarSphere);const n={[d.Sets.PasserbyOfWanderingCloud]:"101",[d.Sets.MusketeerOfWildWheat]:"102",[d.Sets.KnightOfPurityPalace]:"103",[d.Sets.HunterOfGlacialForest]:"104",[d.Sets.ChampionOfStreetwiseBoxing]:"105",[d.Sets.GuardOfWutheringSnow]:"106",[d.Sets.FiresmithOfLavaForging]:"107",[d.Sets.GeniusOfBrilliantStars]:"108",[d.Sets.BandOfSizzlingThunder]:"109",[d.Sets.EagleOfTwilightLine]:"110",[d.Sets.ThiefOfShootingMeteor]:"111",[d.Sets.WastelanderOfBanditryDesert]:"112",[d.Sets.LongevousDisciple]:"113",[d.Sets.MessengerTraversingHackerspace]:"114",[d.Sets.TheAshblazingGrandDuke]:"115",[d.Sets.PrisonerInDeepConfinement]:"116",[d.Sets.PioneerDiverOfDeadWaters]:"117",[d.Sets.WatchmakerMasterOfDreamMachinations]:"118",[d.Sets.IronCavalryAgainstTheScourge]:"119",[d.Sets.TheWindSoaringValorous]:"120",[d.Sets.SacerdosRelivedOrdeal]:"121",[d.Sets.ScholarLostInErudition]:"122",[d.Sets.SpaceSealingStation]:"301",[d.Sets.FleetOfTheAgeless]:"302",[d.Sets.PanCosmicCommercialEnterprise]:"303",[d.Sets.BelobogOfTheArchitects]:"304",[d.Sets.CelestialDifferentiator]:"305",[d.Sets.InertSalsotto]:"306",[d.Sets.TaliaKingdomOfBanditry]:"307",[d.Sets.SprightlyVonwacq]:"308",[d.Sets.RutilantArena]:"309",[d.Sets.BrokenKeel]:"310",[d.Sets.FirmamentFrontlineGlamoth]:"311",[d.Sets.PenaconyLandOfTheDreams]:"312",[d.Sets.SigoniaTheUnclaimedDesolation]:"313",[d.Sets.IzumoGenseiAndTakamaDivineRealm]:"314",[d.Sets.DuranDynastyOfRunningWolves]:"315",[d.Sets.ForgeOfTheKalpagniLantern]:"316",[d.Sets.LushakaTheSunkenSeas]:"317",[d.Sets.TheWondrousBananAmusementPark]:"318"},l={base:"",[d.Parts.Head]:"_0",[d.Parts.Hands]:"_1",[d.Parts.Body]:"_2",[d.Parts.Feet]:"_3",[d.Parts.PlanarSphere]:"_0",[d.Parts.LinkRope]:"_1"};return i?Ne(`/icon/relic/${n[e]}.webp`):e==bl||e==Sl?Ne(`/icon/relic/${n[d.Sets.SacerdosRelivedOrdeal]}${l[a]}.webp`):Ne(`/icon/relic/${n[e]}${l[a]}.webp`)}},_={floor:e=>e==null||e.value==null?"":Math.floor(e.value),x100Tenths:e=>e==null||e.value==null?"":(Math.floor(C.precisionRound(e.value*100)*10)/10).toFixed(1),tenths:e=>e==null||e.value==null?"":(Math.floor(C.precisionRound(e.value)*10)/10).toFixed(1),relicSet:e=>{if(e==null||e.value==null||isNaN(e.value))return"";const a=e.value,i=Object.values(d.SetsRelics).length,n=[],l=a%i,o=(a-l)/i%i,r=(a-o*i-l)/(i*i)%i,c=(a-r*i*i-o*i-l)/(i*i*i)%i,h=[l,o,r,c];for(;h.length>0;){const b=h[0];if(h.lastIndexOf(b)){const R=Object.entries(d.RelicSetToIndex).find(m=>m[1]==b)[0],S=U.getSetImage(R,d.Parts.Head);n.push(S);const u=h.lastIndexOf(b);h.splice(u,1)}h.splice(0,1)}return n.sort(),s.jsxs(g,{justify:"center",style:{marginTop:-1},children:[s.jsx(ts,{asset:n[0]}),s.jsx(ts,{asset:n[1]})]})},ornamentSet:e=>{if(e==null||e.value==null)return"";const a=e.value,i=Object.values(d.SetsOrnaments).length;let n;const l=a%i,o=(a-l)/i%i;if(l==o){const r=Object.entries(d.OrnamentSetToIndex).find(c=>c[1]==l)[0];return n=U.getSetImage(r,d.Parts.PlanarSphere),s.jsx(g,{justify:"center",style:{marginTop:-1},children:s.jsx(ts,{asset:n})})}else return""},anySet:e=>{if(e==null||e.value==null)return"";const a=e.data.part,i=U.getSetImage(e.data.set,a);return s.jsx(g,{justify:"center",title:e.data.set,style:{marginTop:-1},children:s.jsx(ts,{asset:i})})},characterIcon:e=>{if(e==null||e.value==null)return"";const a=e.data.equippedBy;if(!a)return"";const i=U.getCharacterAvatarById(a);return s.jsx(g,{justify:"center",style:{marginTop:-1},children:s.jsx(ts,{asset:i})})},readableStat:e=>e==null||e.value==null?"":Qc[e.value],readablePart:e=>e==null||e.value==null?"":d.PartsToReadable[e.value],partIcon:e=>e==null||e.value==null?"":s.jsx(g,{justify:"center",style:{marginTop:-1,width:20,marginBottom:3},children:s.jsx(ts,{asset:U.getPart(e.value)})}),hideZeroes:e=>e.value==0?"":e.value,hideZeroesFloor:e=>e.value==0?"":Math.floor(e.value),hideZeroes10thsRelicTabSpd:e=>{if(e.value==0)return"";const a=C.precisionRound(Math.floor(e.value*10)/10);return e.data.verified?a.toFixed(1):a},mainValueRenderer:e=>{const a=e.data.part;return a==d.Parts.Hands||a==d.Parts.Head?e.value==0?"":Math.floor(e.value):e.value==0?"":C.truncate10ths(e.value)},hideZeroesX100Tenths:e=>e.value==0?"":_.x100Tenths(e),scoreRenderer:e=>Math.round(e.value),hideNaNAndFloor:e=>isNaN(e.value)?0:Math.floor(e.value),hideNaNAndFloorPercent:e=>(isNaN(e.value)?0:Math.floor(e.value))+"%",renderSubstatNumber:(e,a)=>e.stat==d.Stats.SPD?a.verified?C.truncate10ths(e.value).toFixed(1):Math.floor(e.value):C.isFlat(e.stat)?Math.floor(e.value):C.truncate10ths(e.value).toFixed(1),renderMainStatNumber:e=>C.isFlat(e.stat)?Math.floor(e.value):C.truncate10ths(e.value).toFixed(1),renderGradeCell:e=>{const a=e.data;return _.renderGrade(a)},renderGrade:(e,a=!1)=>{const i=fd[e.grade]||"";return(a?e.verified=="true":e.verified)?s.jsx(cr,{mouseEnterDelay:.4,title:"Relic substats verified by relic scorer (speed decimals)",children:s.jsx(vi,{style:{fontSize:"14px",color:i}})}):s.jsx("div",{style:{width:14,height:14,borderRadius:"50%",background:i}})},renderEquippedBy:({equippedBy:e})=>e=="true"?s.jsx(vi,{style:{fontSize:"14px",color:"#6de362"}}):s.jsx(rl,{style:{fontSize:"14px",color:"#de5555"}})},fd={5:"#efb679",4:"#cc52f1",3:"#58beed",2:"#63e0ac",[-1]:"#bdbdbd"};function ts(e){return e.asset?s.jsx(ni,{src:e.asset,width:32,preview:!1}):""}ts.propTypes={asset:z.string};const Ds=46,qe=50,yr=52,ma=56,Wr=62,mt=5,At=211,Mr=11,gd=[{field:"relicSetIndex",cellRenderer:_.relicSet,width:72,headerName:"Set"},{field:"ornamentSetIndex",cellRenderer:_.ornamentSet,width:42,headerName:"Set"},{field:d.Stats.ATK,valueFormatter:_.floor,width:qe,cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.DEF,valueFormatter:_.floor,width:qe,cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.HP,valueFormatter:_.floor,width:qe,cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.SPD,valueFormatter:_.tenths,width:qe,cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.CR,valueFormatter:_.x100Tenths,width:qe,headerName:"CR",cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.CD,valueFormatter:_.x100Tenths,width:qe,headerName:"CD",cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.EHR,valueFormatter:_.x100Tenths,width:qe,headerName:"EHR",cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.RES,valueFormatter:_.x100Tenths,width:Ds,headerName:"RES",cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.BE,valueFormatter:_.x100Tenths,width:qe,headerName:"BE",cellStyle:Ce.getOptimizerColumnGradient},{field:d.Stats.OHB,valueFormatter:_.x100Tenths,width:Ds,headerName:"OHB"},{field:d.Stats.ERR,valueFormatter:_.x100Tenths,width:Ds,headerName:"ERR"},{field:"ED",valueFormatter:_.x100Tenths,width:qe,headerName:"DMG"},{field:"EHP",valueFormatter:_.floor,width:qe,headerName:"EHP"},{field:"WEIGHT",valueFormatter:_.floor,width:yr,headerName:`STAT
WEIGHT`},{field:"BASIC",valueFormatter:_.floor,width:ma,headerName:`BASIC
DMG`},{field:"SKILL",valueFormatter:_.floor,width:ma,headerName:`SKILL
DMG`},{field:"ULT",valueFormatter:_.floor,width:ma,headerName:`ULT
DMG`},{field:"FUA",valueFormatter:_.floor,width:ma,headerName:`FUA
DMG`},{field:"DOT",valueFormatter:_.floor,width:ma,headerName:`DOT
DMG`},{field:"BREAK",valueFormatter:_.floor,width:qe,headerName:`BREAK
DMG`},{field:"COMBO",valueFormatter:_.floor,width:Wr,headerName:`COMBO
DMG`}],pd=[{field:"relicSetIndex",cellRenderer:_.relicSet,width:72,headerName:"Set"},{field:"ornamentSetIndex",cellRenderer:_.ornamentSet,width:42,headerName:"Set"},{field:"xATK",valueFormatter:_.floor,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ ATK"},{field:"xDEF",valueFormatter:_.floor,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ DEF"},{field:"xHP",valueFormatter:_.floor,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ HP"},{field:"xSPD",valueFormatter:_.tenths,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ SPD"},{field:"xCR",valueFormatter:_.x100Tenths,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ CR"},{field:"xCD",valueFormatter:_.x100Tenths,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ CD"},{field:"xEHR",valueFormatter:_.x100Tenths,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ EHR"},{field:"xRES",valueFormatter:_.x100Tenths,width:Ds,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ RES"},{field:"xBE",valueFormatter:_.x100Tenths,width:qe,cellStyle:Ce.getOptimizerColumnGradient,headerName:"Σ BE"},{field:"xOHB",valueFormatter:_.x100Tenths,width:Ds,headerName:"Σ OHB"},{field:"xERR",valueFormatter:_.x100Tenths,width:Ds,headerName:"Σ ERR"},{field:"xELEMENTAL_DMG",valueFormatter:_.x100Tenths,width:qe,headerName:"Σ DMG"},{field:"EHP",valueFormatter:_.floor,width:qe,headerName:"EHP"},{field:"WEIGHT",valueFormatter:_.floor,width:yr,headerName:`STAT
WEIGHT`},{field:"BASIC",valueFormatter:_.floor,width:ma,headerName:`BASIC
DMG`},{field:"SKILL",valueFormatter:_.floor,width:ma,headerName:`SKILL
DMG`},{field:"ULT",valueFormatter:_.floor,width:ma,headerName:`ULT
DMG`},{field:"FUA",valueFormatter:_.floor,width:ma,headerName:`FUA
DMG`},{field:"DOT",valueFormatter:_.floor,width:ma,headerName:`DOT
DMG`},{field:"BREAK",valueFormatter:_.floor,width:qe,headerName:`BREAK
DMG`},{field:"COMBO",valueFormatter:_.floor,width:Wr,headerName:`COMBO
DMG`}],eo={rowHeight:33,pagination:!0,rowSelection:"single",rowModelType:"infinite",datasource:null,paginationPageSize:500,paginationPageSizeSelector:[100,500,1e3],cacheBlockSize:500,maxBlocksInCache:1,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,suppressMultiSort:!0,getRowId:e=>String(e.data.id||C.randomId())},Gd={cellStyle:Ce.getOptimizerColumnGradient,sortable:!0,sortingOrder:["desc","asc"],wrapHeaderText:!0,autoHeaderHeight:!0},{useToken:Id}=Et,Ed="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",Td=5,Dd=At,Zd=373,Cd=1183,Bd={small:Dd,medium:Zd,large:Cd};function Nt(e){var l;const{token:a}=Id(),i=e.size||"small",n=Bd[i];return s.jsx(g,{style:{borderRadius:5,backgroundColor:a.colorBgContainer,height:e.height||350,padding:Mr,boxShadow:Ed,overflow:(l=e.style)==null?void 0:l.overflow},children:s.jsx(g,{style:{width:n},justify:e.justify||void 0,children:s.jsx(g,{vertical:!0,style:{width:n-.5},gap:Td,justify:e.justify||void 0,children:e.children})})})}function os(e){const a=e.width??10;return s.jsx(g,{vertical:!0,children:s.jsx(It,{type:"vertical",style:{flexGrow:1,margin:`10px ${a}px`}})})}const Vr=yt(It)`
    margin: 5px 0px;
`;function Ae(e){return e>>2}function Q(e){return Math.min(1,e>>1)}function Ta(){const e={mainStat:d.Stats.HP,mainValue:0};for(const a of Object.values(d.Stats))e[a]=0;return{set:-1,augmentedStats:e,substats:[]}}function yd(){return{[t.HP]:0,[t.ATK]:0,[t.DEF]:0}}const to={[d.Stats.SPD]:[7.613,11.419,16.426,25.032],[d.Stats.HP]:[139.991,281.111,469.647,705.6],[d.Stats.ATK]:[69.996,140.556,234.824,352.8],[d.Stats.HP_P]:[8.571,17.211,28.754,43.2],[d.Stats.ATK_P]:[8.571,17.211,28.754,43.2],[d.Stats.DEF_P]:[10.714,21.514,35.942,54],[d.Stats.CR]:[6.428,12.908,21.565,32.4],[d.Stats.CD]:[12.856,25.817,43.13,64.8],[d.Stats.OHB]:[6.856,13.769,23.003,34.561],[d.Stats.EHR]:[8.571,17.211,28.754,43.2],[d.Stats.BE]:[12.856,25.817,43.13,64.8],[d.Stats.ERR]:[3.857,7.745,12.939,19.439],[d.Stats.Physical_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Fire_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Ice_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Lightning_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Wind_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Quantum_DMG]:[7.714,15.49,25.878,38.88],[d.Stats.Imaginary_DMG]:[7.714,15.49,25.878,38.88]},$t={getMaxedSubstatValue:(e,a=1)=>a==.8?C.precisionRound(Se[e][5].low):a==.9?C.precisionRound(Se[e][5].mid):C.precisionRound(Se[e][5].high),getMaxedStatValue:e=>{if(e==="NONE")return 0;const a=C.isFlat(e)?1:100;return C.precisionRound(to[e][3]/a)},getMaxedMainStat:e=>to[e.main.stat][e.grade-2],calculateCv:e=>{let a=0;for(const i of e)if(!(!i||!i.condensedStats))for(const n of i.condensedStats)n[0]==d.Stats.CD&&(a+=n[1]),n[0]==d.Stats.CR&&(a+=n[1]*2);return C.precisionRound(a*100)}},Xe={clone(e){return e&&JSON.parse(JSON.stringify(e))},objectHash(e){return or(e)},sumArray:e=>e.reduce((a,i)=>a+i,0),precisionRound:(e,a=5)=>{const i=Math.pow(10,a);return Math.round(e*i)/i},calculateRelicMainStatValue:(e,a,i)=>d.MainStatsValues[e][a].base+d.MainStatsValues[e][a].increment*i},st={calculateWeightScore:(e,a)=>{const i=e.weights||{},n=Z.getMetadata().characters[e.characterId].stats,l={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:1/(n[d.Stats.HP]*2*.01)*(64.8/43.2),[d.Stats.ATK]:1/(n[d.Stats.ATK]*2*.01)*(64.8/43.2),[d.Stats.DEF]:1/(n[d.Stats.DEF]*2*.01)*(64.8/54),[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25,[d.Stats.BE]:64.8/64.8};i[d.Stats.ATK]=i[d.Stats.ATK_P],i[d.Stats.DEF]=i[d.Stats.DEF_P],i[d.Stats.HP]=i[d.Stats.HP_P];for(const o of Object.keys(i))i[o]==null&&(i[o]=0);for(const o of a){let r=0;for(const c of o.substats){const h=i[c.stat]||0,b=l[c.stat]||0,R=c.value||0;r+=R*h*b}o.weightScore=r}return a},applyTopFilter:(e,a,i)=>{const n=e.weights||{},l={[G.Head]:n.headHands||0,[G.Hands]:n.headHands||0,[G.Body]:n.bodyFeet||0,[G.Feet]:n.bodyFeet||0,[G.PlanarSphere]:n.sphereRope||0,[G.LinkRope]:n.sphereRope||0};for(const o of Object.values(d.Parts)){const r=a[o];a[o]=r.filter(c=>c.weightScore>=l[o]*6.48*.8)}return a},applyRankFilter:(e,a)=>{if(!e.rankFilter)return a;const i=Z.getCharacters(),n=e.characterId,l={};for(let o=0;o<i.length;o++){const r=i[o];if(r.id!=n){if(o>=e.rank)break;Object.values(r.equipped).filter(c=>c!=null).map(c=>l[c]=!0)}}return a.filter(o=>!l[o.id])},applyExcludeFilter:(e,a)=>{if(!e.exclude)return a;const i=Z.getCharacters(),n=[];for(const l of i)e.exclude.includes(l.id)&&l.id!=e.characterId&&Object.values(l.equipped).filter(o=>o!=null).map(o=>n[o]=!0);return a.filter(l=>!n[l.id])},applyMainFilter:(e,a)=>{const i=[];return i.push(...a.filter(n=>n.part==d.Parts.Head)),i.push(...a.filter(n=>n.part==d.Parts.Hands)),i.push(...a.filter(n=>n.part==d.Parts.Body).filter(n=>e.mainBody.length==0||e.mainBody.includes(n.main.stat))),i.push(...a.filter(n=>n.part==d.Parts.Feet).filter(n=>e.mainFeet.length==0||e.mainFeet.includes(n.main.stat))),i.push(...a.filter(n=>n.part==d.Parts.PlanarSphere).filter(n=>e.mainPlanarSphere.length==0||e.mainPlanarSphere.includes(n.main.stat))),i.push(...a.filter(n=>n.part==d.Parts.LinkRope).filter(n=>e.mainLinkRope.length==0||e.mainLinkRope.includes(n.main.stat))),i},applyEnhanceFilter:(e,a)=>a.filter(i=>i.enhance>=e.enhance),applyEquippedFilter:(e,a)=>{if(e.includeEquippedRelics)return a;const i=e.characterId||"99999999";let n=[];return window.store.getState().characters.forEach(o=>{o.id!=i&&(n=n.concat(Object.values(o.equipped)))}),a.filter(o=>!n.includes(o.id))},applyGradeFilter:(e,a)=>a.filter(i=>i.grade?i.grade>=e.grade:!0),applySetFilter:(e,a)=>{function i(l,o){if(!l.relicSets||l.relicSets.length==0)return o;let r=C.arrayOfZeroes(Object.values(d.SetsRelics).length);for(const c of l.relicSets){if(c[0]==Ct.relic4Piece&&(c.length==1&&(r=C.arrayOfValue(Object.values(d.SetsRelics).length,1)),c.length==2)){const h=d.RelicSetToIndex[c[1]];r[h]=1}if(c[0]==Ct.relic2PlusAny&&(r=C.arrayOfValue(Object.values(d.SetsRelics).length,1)),(c[0]=="2 Piece"||c[0]==Ct.relic2Plus2Piece)&&(c.length==1&&(r=C.arrayOfValue(Object.values(d.SetsRelics).length,1)),c.length==2&&(r=C.arrayOfValue(Object.values(d.SetsRelics).length,1)),c.length==3)){c[2]=="Any"&&(r=C.arrayOfValue(Object.values(d.SetsRelics).length,1));const h=d.RelicSetToIndex[c[1]];r[h]=1;const b=d.RelicSetToIndex[c[2]];r[b]=1}}return o.filter(c=>c.part==d.Parts.Head||c.part==d.Parts.Hands||c.part==d.Parts.Body||c.part==d.Parts.Feet?r[d.RelicSetToIndex[c.set]]==1:!0)}function n(l,o){if(!l.ornamentSets||l.ornamentSets.length==0)return o;const r=C.arrayOfZeroes(Object.values(d.SetsOrnaments).length);for(const c of l.ornamentSets){const h=d.OrnamentSetToIndex[c];r[h]=1}return o.filter(c=>c.part==d.Parts.PlanarSphere||c.part==d.Parts.LinkRope?r[d.OrnamentSetToIndex[c.set]]==1:!0)}return n(e,i(e,a))},applyCurrentFilter:(e,a)=>{if(!e.keepCurrentRelics)return a;const i=Z.getCharacterById(e.characterId);if(!i)return a;function n(l){if(!i.equipped[l])return a[l];const o=a[l].find(r=>r.id==i.equipped[l]);return o?[o]:[]}return{Head:n(d.Parts.Head),Hands:n(d.Parts.Hands),Body:n(d.Parts.Body),Feet:n(d.Parts.Feet),PlanarSphere:n(d.Parts.PlanarSphere),LinkRope:n(d.Parts.LinkRope)}},splitRelicsByPart:e=>({Head:e.filter(a=>a.part==d.Parts.Head),Hands:e.filter(a=>a.part==d.Parts.Hands),Body:e.filter(a=>a.part==d.Parts.Body),Feet:e.filter(a=>a.part==d.Parts.Feet),PlanarSphere:e.filter(a=>a.part==d.Parts.PlanarSphere),LinkRope:e.filter(a=>a.part==d.Parts.LinkRope)}),applyMainStatsFilter:({mainStatUpscaleLevel:e},a)=>(e&&a.map(i=>{const{grade:n,enhance:l,main:{stat:o}}=i,r=n*3;if(l<r&&l<e){const c=r<e?r:e,h=Xe.calculateRelicMainStatValue(o,n,c)/(C.isFlat(i.main.stat)?1:100);return i.augmentedStats.mainValue=h}}),a),condenseRelicSubstatsForOptimizerSingle:e=>{for(const a of e){a.condensedStats=[];for(const i of a.substats){const n=i.stat,l=ao(n,i.value);a.condensedStats.push([n,l])}a.condensedStats.push([a.augmentedStats.mainStat,a.augmentedStats.mainValue]),delete a.augmentedStats,delete a.weights}},condenseRelicSubstatsForOptimizer:e=>{for(const a of Object.keys(d.Parts)){const i=e[a];for(const n of i){n.condensedStats=[];for(const l of n.substats){const o=l.stat,r=ao(o,l.value);n.condensedStats.push([o,r])}n.condensedStats.push([n.augmentedStats.mainStat,n.augmentedStats.mainValue]),delete n.augmentedStats,delete n.weights}}return e}};function ao(e,a){return C.precisionRound(C.isFlat(e)?a:a/100)}const Zs={getZeroes:function(){return{[d.Stats.ATK]:0,[d.Stats.DEF]:0,[d.Stats.HP]:0,[d.Stats.ATK_P]:0,[d.Stats.DEF_P]:0,[d.Stats.HP_P]:0,[d.Stats.SPD]:0,[d.Stats.SPD_P]:0,[d.Stats.CR]:0,[d.Stats.CD]:0,[d.Stats.EHR]:0,[d.Stats.RES]:0,[d.Stats.BE]:0,[d.Stats.ERR]:0,[d.Stats.OHB]:0,[d.Stats.Physical_DMG]:0,[d.Stats.Fire_DMG]:0,[d.Stats.Ice_DMG]:0,[d.Stats.Lightning_DMG]:0,[d.Stats.Wind_DMG]:0,[d.Stats.Quantum_DMG]:0,[d.Stats.Imaginary_DMG]:0}}},le=.06,ht=1,_e=2,We=4,Te=8,Wa=16,Ys=32,Fr=64,Wd={BASIC_DMG_TYPE:ht,SKILL_DMG_TYPE:_e,ULT_DMG_TYPE:We,FUA_DMG_TYPE:Te,DOT_DMG_TYPE:Wa,BREAK_DMG_TYPE:Ys,SUPER_BREAK_DMG_TYPE:Fr,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:1e-4,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0,ELEMENTAL_DMG:0,BASIC_SCALING:0,SKILL_SCALING:0,ULT_SCALING:0,FUA_SCALING:0,DOT_SCALING:0,BASIC_CR_BOOST:0,SKILL_CR_BOOST:0,ULT_CR_BOOST:0,FUA_CR_BOOST:0,BASIC_CD_BOOST:0,SKILL_CD_BOOST:0,ULT_CD_BOOST:0,FUA_CD_BOOST:0,BASIC_BOOST:0,SKILL_BOOST:0,ULT_BOOST:0,FUA_BOOST:0,DOT_BOOST:0,VULNERABILITY:0,BASIC_VULNERABILITY:0,SKILL_VULNERABILITY:0,ULT_VULNERABILITY:0,FUA_VULNERABILITY:0,DOT_VULNERABILITY:0,BREAK_VULNERABILITY:0,DEF_PEN:0,BASIC_DEF_PEN:0,SKILL_DEF_PEN:0,ULT_DEF_PEN:0,FUA_DEF_PEN:0,DOT_DEF_PEN:0,BREAK_DEF_PEN:0,SUPER_BREAK_DEF_PEN:0,RES_PEN:0,PHYSICAL_RES_PEN:0,FIRE_RES_PEN:0,ICE_RES_PEN:0,LIGHTNING_RES_PEN:0,WIND_RES_PEN:0,QUANTUM_RES_PEN:0,IMAGINARY_RES_PEN:0,BASIC_RES_PEN:0,SKILL_RES_PEN:0,ULT_RES_PEN:0,FUA_RES_PEN:0,DOT_RES_PEN:0,BASIC_DMG:0,SKILL_DMG:0,ULT_DMG:0,FUA_DMG:0,DOT_DMG:0,BREAK_DMG:0,COMBO_DMG:0,DMG_RED_MULTI:1,EHP:0,DOT_CHANCE:0,EFFECT_RES_PEN:0,DOT_SPLIT:0,DOT_STACKS:0,ENEMY_WEAKNESS_BROKEN:0,SUPER_BREAK_MODIFIER:0,BASIC_SUPER_BREAK_MODIFIER:0,SUPER_BREAK_HMC_MODIFIER:0,BASIC_TOUGHNESS_DMG:0,SKILL_TOUGHNESS_DMG:0,ULT_TOUGHNESS_DMG:0,FUA_TOUGHNESS_DMG:0,BASIC_ORIGINAL_DMG_BOOST:0,SKILL_ORIGINAL_DMG_BOOST:0,ULT_ORIGINAL_DMG_BOOST:0,BASIC_BREAK_DMG_MODIFIER:0,ULT_CD_OVERRIDE:0,ULT_BOOSTS_MULTI:1,RATIO_BASED_HP_BUFF:0,RATIO_BASED_HP_P_BUFF:0,RATIO_BASED_ATK_BUFF:0,RATIO_BASED_ATK_P_BUFF:0,RATIO_BASED_DEF_BUFF:0,RATIO_BASED_DEF_P_BUFF:0,RATIO_BASED_SPD_BUFF:0,RATIO_BASED_CD_BUFF:0,BREAK_EFFICIENCY_BOOST:0,BASIC_BREAK_EFFICIENCY_BOOST:0,ULT_BREAK_EFFICIENCY_BOOST:0,sets:{},WEIGHT:0},x=(e,a=8)=>{const i=Math.pow(10,a);return Math.round(e*i)/i},us=(e,a,i)=>{const n=Md(e.sets.TheAshblazingGrandDuke),o=.06*a.setConditionals[d.Sets.TheAshblazingGrandDuke][1]*n*a.baseAtk;return i*n*a.baseAtk-o},O=(e,a)=>e.find(i=>i.id==a),Md=e=>e>>2,ot=e=>(a,i,n)=>a>=e?n:i,te={SKILL_TALENT_3_ULT_BASIC_5:{basic:ot(5),skill:ot(3),ult:ot(5),talent:ot(3)},SKILL_BASIC_3_ULT_TALENT_5:{basic:ot(3),skill:ot(3),ult:ot(5),talent:ot(5)},ULT_TALENT_3_SKILL_BASIC_5:{basic:ot(5),skill:ot(5),ult:ot(3),talent:ot(3)},ULT_BASIC_3_SKILL_TALENT_5:{basic:ot(3),skill:ot(5),ult:ot(3),talent:ot(5)},SKILL_ULT_3_BASIC_TALENT_5:{basic:ot(5),skill:ot(3),ult:ot(3),talent:ot(5)}};function ke(e){e.BASIC_DMG+=e.BASIC_SCALING*e[t.ATK],e.SKILL_DMG+=e.SKILL_SCALING*e[t.ATK],e.ULT_DMG+=e.ULT_SCALING*e[t.ATK],e.FUA_DMG+=e.FUA_SCALING*e[t.ATK],e.DOT_DMG+=e.DOT_SCALING*e[t.ATK]}function He(){return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * x.ATK;
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}function xr(e){e.BASIC_DMG+=e.BASIC_SCALING*e[t.HP],e.SKILL_DMG+=e.SKILL_SCALING*e[t.HP],e.ULT_DMG+=e.ULT_SCALING*e[t.HP],e.FUA_DMG+=e.FUA_SCALING*e[t.HP],e.DOT_DMG+=e.DOT_SCALING*e[t.HP]}function Lr(){return`
x.BASIC_DMG += x.BASIC_SCALING * x.HP;
x.SKILL_DMG += x.SKILL_SCALING * x.HP;
x.ULT_DMG += x.ULT_SCALING * x.HP;
x.FUA_DMG += x.FUA_SCALING * x.HP;
x.DOT_DMG += x.DOT_SCALING * x.HP;
    `}function Ft(e,a,i){e.BASIC_DMG+=e.BASIC_SCALING*e[t.ATK],e.SKILL_DMG+=e.SKILL_SCALING*e[t.ATK],e.ULT_DMG+=e.ULT_SCALING*e[t.ATK],e.FUA_DMG+=e.FUA_SCALING*(e[t.ATK]+us(e,a,i)),e.DOT_DMG+=e.DOT_SCALING*e[t.ATK]}function xt(e){return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${e}));
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}function ne(e,a,i,n){n!==!1&&(a&e.BASIC_DMG_TYPE&&(e.BASIC_BOOST+=i),a&e.SKILL_DMG_TYPE&&(e.SKILL_BOOST+=i),a&e.ULT_DMG_TYPE&&(e.ULT_BOOST+=i),a&e.FUA_DMG_TYPE&&(e.FUA_BOOST+=i),a&e.DOT_DMG_TYPE&&(e.DOT_BOOST+=i))}function la(e,a,i,n){n!==!1&&(a&e.BASIC_DMG_TYPE&&(e.BASIC_VULNERABILITY+=i),a&e.SKILL_DMG_TYPE&&(e.SKILL_VULNERABILITY+=i),a&e.ULT_DMG_TYPE&&(e.ULT_VULNERABILITY+=i),a&e.FUA_DMG_TYPE&&(e.FUA_VULNERABILITY+=i),a&e.DOT_DMG_TYPE&&(e.DOT_VULNERABILITY+=i),a&e.BREAK_DMG_TYPE&&(e.BREAK_VULNERABILITY+=i))}function Fs(e,a,i,n){n!==!1&&(a&e.BASIC_DMG_TYPE&&(e.BASIC_RES_PEN+=i),a&e.SKILL_DMG_TYPE&&(e.SKILL_RES_PEN+=i),a&e.ULT_DMG_TYPE&&(e.ULT_RES_PEN+=i),a&e.FUA_DMG_TYPE&&(e.FUA_RES_PEN+=i),a&e.DOT_DMG_TYPE&&(e.DOT_RES_PEN+=i))}function fa(e,a,i,n){n!==!1&&(a&e.BASIC_DMG_TYPE&&(e.BASIC_DEF_PEN+=i),a&e.SKILL_DMG_TYPE&&(e.SKILL_DEF_PEN+=i),a&e.ULT_DMG_TYPE&&(e.ULT_DEF_PEN+=i),a&e.FUA_DMG_TYPE&&(e.FUA_DEF_PEN+=i),a&e.DOT_DMG_TYPE&&(e.DOT_DEF_PEN+=i),a&e.BREAK_DMG_TYPE&&(e.BREAK_DEF_PEN+=i),a&e.SUPER_BREAK_DMG_TYPE&&(e.SUPER_BREAK_DEF_PEN+=i))}function fl(e,a,i,n){n!==!1&&(a&e.BASIC_DMG_TYPE&&(e.BASIC_CR_BOOST+=i),a&e.SKILL_DMG_TYPE&&(e.SKILL_CR_BOOST+=i),a&e.ULT_DMG_TYPE&&(e.ULT_CR_BOOST+=i),a&e.FUA_DMG_TYPE&&(e.FUA_CR_BOOST+=i))}function Ba(e,a,i,n){n!==!1&&(a&e.BASIC_DMG_TYPE&&(e.BASIC_CD_BOOST+=i),a&e.SKILL_DMG_TYPE&&(e.SKILL_CD_BOOST+=i),a&e.ULT_DMG_TYPE&&(e.ULT_CD_BOOST+=i),a&e.FUA_DMG_TYPE&&(e.FUA_CD_BOOST+=i))}const Vd=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=e>=4?12:10,r=a(e,1,1.1),c=i(e,1.2,1.32),h=n(e,1.6,1.728),b=n(e,2.8,3.024),R=n(e,.95,1.026),S=l(e,.025,.028),u=[{formItem:"switch",id:"ultEnhanced",name:"ultEnhanced",text:"Enhanced ult",title:"Enhanced ult",content:`Consumes 180 Energy and deals Physical DMG equal to ${x(b*100)}% of Argenti's ATK to all enemies,
      and further deals DMG for 6 extra time(s), with each time dealing Physical DMG equal to ${x(R*100)}% of Argenti's ATK to a random enemy.`},{formItem:"switch",id:"enemyHp50",name:"enemyHp50",text:"Enemy HP ≤ 50% DMG boost",title:"Courage",content:"Deals 15% more DMG to enemies whose HP percentage is 50% or less."},{formItem:"slider",id:"talentStacks",name:"talentStacks",text:"Apotheosis stacks",title:"Apotheosis stacks",content:`Increases CR by ${x(S*100)}% per stack, max of ${x(o)} stacks.`,min:0,max:o},{formItem:"slider",id:"ultEnhancedExtraHits",name:"ultEnhancedExtraHits",text:"Enhanced ult extra hits on target",title:"Enhanced ult extra hits on target",content:`Enhanced Ult hits a random enemy for ${x(R*100)}% ATK per hit.`,min:0,max:6},{formItem:"switch",id:"e2UltAtkBuff",name:"e2UltAtkBuff",text:"E2 ult ATK buff",title:"E2 ult ATK buff",content:`E2: If the number of enemies on the field equals to 3 or more, increases ATK by ${x(.4*100)}% for 1 turn.`,disabled:e<2}];return{content:()=>u,teammateContent:()=>[],defaults:()=>({ultEnhanced:!0,talentStacks:o,ultEnhancedExtraHits:6,e2UltAtkBuff:!0,enemyHp50:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m[t.CR]+=p.talentStacks*S,m[t.CD]+=e>=1?p.talentStacks*.04:0,m[t.ATK_P]+=e>=2&&p.e2UltAtkBuff?.4:0,m.BASIC_SCALING+=r,m.SKILL_SCALING+=c,m.ULT_SCALING+=p.ultEnhanced?b:h,m.ULT_SCALING+=p.ultEnhancedExtraHits*R,m.ELEMENTAL_DMG+=p.enemyHp50?.15:0,fa(m,We,.3,e>=6),m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=30,m.ULT_TOUGHNESS_DMG+=p.ultEnhanced?60+15*p.ultEnhancedExtraHits:60,m},precomputeMutualEffects:(m,f)=>{},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He()}},Fd=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=a(e,1,1.1),r=i(e,2.4,2.64),c=n(e,3.2,3.456),h=l(e,.72,.792),b=[{formItem:"slider",id:"selfCurrentHpPercent",name:"selfCurrentHpPercent",text:"Self current HP%",title:"Self current HP%",content:`Increases Arlan's DMG for every percent of HP below his Max HP, up to a max of ${x(h*100)}% more DMG.`,min:.01,max:1,percent:!0}];return{content:()=>b,teammateContent:()=>[],defaults:()=>({selfCurrentHpPercent:1}),teammateDefaults:()=>({}),precomputeEffects:(R,S)=>{const u=S.characterConditionals;return R.ELEMENTAL_DMG+=Math.min(h,1-u.selfCurrentHpPercent),R.BASIC_SCALING+=o,R.SKILL_SCALING+=r,R.ULT_SCALING+=c,ne(R,_e,.1,e>=1&&u.selfCurrentHpPercent<=.5),ne(R,We,.2,e>=6&&u.selfCurrentHpPercent<=.5),R.BASIC_TOUGHNESS_DMG+=30,R.SKILL_TOUGHNESS_DMG+=60,R.ULT_TOUGHNESS_DMG+=60,R},precomputeMutualEffects:(R,S)=>{},finalizeCalculations:R=>ke(R),gpuFinalizeCalculations:()=>He()}},xd=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=n(e,50,52.8),r=l(e,.14,.154),c=.06,h=e>=1?5:4,b=a(e,1,1.1),R=i(e,.5,.55),S=n(e,0,0),u=a(e,.5,.55),m=[{formItem:"slider",id:"skillExtraDmgHits",name:"skillExtraDmgHits",text:"Skill extra hits",title:"Skill: Meteor Storm",content:`Deals 50% ATK DMG equal to a single enemy. Deals DMG for ${x(h)} extra times to a random enemy.
    ::BR::
    E1: When using Skill, deals DMG for 1 extra time to a random enemy.`,min:0,max:h},{formItem:"slider",id:"talentBuffStacks",name:"talentBuffStacks",text:"Talent ATK buff stacks",title:"Talent: Astrometry",content:`Increases allies' ATK by ${x(r*100)}% for every stack.
    ::BR::
    E4: Asta's Energy Regeneration Rate increases by 15% when she has 2 or more Charging stacks.`,min:0,max:5},{formItem:"switch",id:"ultSpdBuff",name:"ultSpdBuff",text:"Ult SPD buff active",title:"Ultimate: Astral Blessing",content:`Increases SPD of all allies by ${x(o)} for 2 turn(s).`},{formItem:"switch",id:"fireDmgBoost",name:"fireDmgBoost",text:"Fire DMG boost",title:"Trace: Ignite",content:"When Asta is on the field, all allies' Fire DMG increases by 18%."}],f=[O(m,"talentBuffStacks"),O(m,"ultSpdBuff"),O(m,"fireDmgBoost")];return{content:()=>m,teammateContent:()=>f,defaults:()=>({talentBuffStacks:5,skillExtraDmgHits:h,ultSpdBuff:!0,fireDmgBoost:!0}),teammateDefaults:()=>({talentBuffStacks:5,ultSpdBuff:!0,fireDmgBoost:!0}),precomputeEffects:(p,I)=>{const E=I.characterConditionals;return p[t.DEF_P]+=E.talentBuffStacks*c,p[t.ERR]+=e>=4&&E.talentBuffStacks>=2?.15:0,p.BASIC_SCALING+=b,p.SKILL_SCALING+=R+E.skillExtraDmgHits*R,p.ULT_SCALING+=S,p.DOT_SCALING+=u,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=30+15*E.skillExtraDmgHits,p.DOT_CHANCE=.8,p},precomputeMutualEffects:(p,I)=>{const E=I.characterConditionals;p[t.SPD]+=E.ultSpdBuff?o:0,p[t.ATK_P]+=E.talentBuffStacks*r,p[t.Fire_DMG]+=E.fireDmgBoost?.18:0},finalizeCalculations:p=>ke(p),gpuFinalizeCalculations:()=>He()}},Ld=e=>{const{basic:a,skill:i,ult:n}=te.SKILL_TALENT_3_ULT_BASIC_5,l=a(e,1,1.1),o=i(e,0,0),r=n(e,0,0),c=[{formItem:"switch",id:"healingMaxHpBuff",name:"healingMaxHpBuff",text:"Healing max HP buff",title:"Healing max HP buff",content:`When Bailu heals a target ally above their normal Max HP, the target's Max HP increases by ${x(.1*100)}% for 2 turns.`},{formItem:"switch",id:"talentDmgReductionBuff",name:"talentDmgReductionBuff",text:"Invigoration DMG reduction",title:"Invigoration DMG reduction",content:`Characters with Invigoration take ${x(.1*100)}% less DMG.`},{formItem:"switch",id:"e2UltHealingBuff",name:"e2UltHealingBuff",text:"E2 ult healing buff",title:"E2 ult healing buff",content:`E2: Increases healing by ${x(.15*100)}% after Ultimate.`,disabled:e<2},{formItem:"slider",id:"e4SkillHealingDmgBuffStacks",name:"e4SkillHealingDmgBuffStacks",text:"E4 skill healing DMG buff stacks",title:"E4 skill healing DMG buff stacks",content:`E4: Every healing provided by Bailu's Skill makes the recipient deal ${x(.1*100)}% more DMG for 2 turns. This effect can stack up to 3 times.`,min:0,max:3,disabled:e<4}],h=[O(c,"healingMaxHpBuff"),O(c,"talentDmgReductionBuff"),O(c,"e4SkillHealingDmgBuffStacks")];return{content:()=>c,teammateContent:()=>h,defaults:()=>({healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e2UltHealingBuff:!0,e4SkillHealingDmgBuffStacks:0}),teammateDefaults:()=>({healingMaxHpBuff:!0,talentDmgReductionBuff:!0,e4SkillHealingDmgBuffStacks:3}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b[t.OHB]+=e>=2&&S.e2UltHealingBuff?.15:0,b.BASIC_SCALING+=l,b.SKILL_SCALING+=o,b.ULT_SCALING+=r,b.BASIC_TOUGHNESS_DMG+=30,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b[t.HP_P]+=S.healingMaxHpBuff?.1:0,b.ELEMENTAL_DMG+=e>=4?S.e4SkillHealingDmgBuffStacks*.1:0,b.DMG_RED_MULTI*=S.talentDmgReductionBuff?1-.1:1},finalizeCalculations:b=>ke(b),gpuFinalizeCalculations:()=>He()}},Me={SET:0,ABILITY:1},Be={SINGLE:0,CONTINUOUS:1},Ur={id:"RutilantArenaConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.CR],condition:function(e,a,i){return Q(e.sets.RutilantArena)&&e[t.CR]>=.7},effect:e=>{ne(e,ht|_e,.2)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.RutilantArena) >= 1 &&
  (*p_state).RutilantArenaConditional == 0.0 &&
  (*p_x).CR >= 0.70
) {
  (*p_state).RutilantArenaConditional = 1.0;

  buffAbilityDmg(p_x, BASIC_TYPE | SKILL_TYPE, 0.20, 1);
}
    `)}},kr={id:"InertSalsottoConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.CR],condition:function(e,a,i){return Q(e.sets.InertSalsotto)&&e[t.CR]>=.5},effect:e=>{ne(e,We|Te,.15)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.InertSalsotto) >= 1 &&
  (*p_state).InertSalsottoConditional == 0.0 &&
  (*p_x).CR >= 0.50
) {
  (*p_state).InertSalsottoConditional = 1.0;

  buffAbilityDmg(p_x, ULT_TYPE | FUA_TYPE, 0.15, 1);
}
    `)}},Hr={id:"SpaceSealingStationConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.SPD],condition:function(e,a,i){return Q(e.sets.SpaceSealingStation)&&e[t.SPD]>=120},effect:(e,a,i)=>{je(e,a,i,t.ATK,.12*i.baseATK)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.SpaceSealingStation) >= 1 &&
  (*p_state).SpaceSealingStationConditional == 0.0 &&
  (*p_x).SPD >= 120
) {
  (*p_state).SpaceSealingStationConditional = 1.0;
  buffNonDynamicATK_P(0.12, p_x, p_state);
}
    `)}},Pr={id:"FleetOfTheAgelessConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.SPD],condition:function(e,a,i){return Q(e.sets.FleetOfTheAgeless)&&e[t.SPD]>=120},effect:(e,a,i)=>{je(e,a,i,t.ATK,.08*i.baseATK)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.FleetOfTheAgeless) >= 1 &&
  (*p_state).FleetOfTheAgelessConditional == 0.0 &&
  (*p_x).SPD >= 120
) {
  (*p_state).FleetOfTheAgelessConditional = 1.0;
  buffNonDynamicATK_P(0.08, p_x, p_state);
}
    `)}},Nr={id:"BelobogOfTheArchitectsConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.EHR],condition:function(e,a,i){return Q(e.sets.BelobogOfTheArchitects)&&e[t.EHR]>=.5},effect:(e,a,i)=>{je(e,a,i,t.DEF,.15*i.baseDEF)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.BelobogOfTheArchitects) >= 1 &&
  (*p_state).BelobogOfTheArchitectsConditional == 0.0 &&
  (*p_x).EHR >= 0.50
) {
  (*p_state).BelobogOfTheArchitectsConditional = 1.0;
  buffNonDynamicDEF_P(0.15, p_x, p_state);
}
    `)}},Yr={id:"IronCavalryAgainstTheScourge150Conditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.BE],condition:function(e,a,i){return Ae(e.sets.IronCavalryAgainstTheScourge)&&e[t.BE]>=1.5},effect:e=>{fa(e,Ys,.1)},gpu:function(){return Ve(this,`
if (
  p4((*p_x).sets.IronCavalryAgainstTheScourge) >= 1 &&
  (*p_state).IronCavalryAgainstTheScourge150Conditional == 0.0 &&
  (*p_x).BE >= 1.50
) {
  (*p_state).IronCavalryAgainstTheScourge150Conditional = 1.0;
  buffAbilityDefShred(p_x, BREAK_TYPE, 0.10, 1);
}
    `)}},Ar={id:"IronCavalryAgainstTheScourge250Conditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.BE],condition:function(e,a,i){return Ae(e.sets.IronCavalryAgainstTheScourge)&&e[t.BE]>=2.5},effect:e=>{fa(e,Fr,.15)},gpu:function(){return Ve(this,`
if (
  p4((*p_x).sets.IronCavalryAgainstTheScourge) >= 1 &&
  (*p_state).IronCavalryAgainstTheScourge250Conditional == 0.0 &&
  (*p_x).BE >= 2.50
) {
  (*p_state).IronCavalryAgainstTheScourge250Conditional = 1.0;
  buffAbilityDefShred(p_x, SUPER_BREAK_TYPE, 0.15, 1);
}
    `)}},wr={id:"PanCosmicCommercialEnterpriseConditional",type:Me.SET,activation:Be.CONTINUOUS,dependsOn:[t.EHR],condition:function(e,a,i){return Q(e.sets.PanCosmicCommercialEnterprise)},effect:function(e,a,i){const n=i.conditionalState[this.id]||0,l=Math.min(.25,.25*e[t.EHR])*i.baseATK;return i.conditionalState[this.id]=l,je(e,a,i,t.ATK,l-n),l},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.PanCosmicCommercialEnterprise) >= 1
) {
  let stateValue: f32 = (*p_state).PanCosmicCommercialEnterpriseConditional;
  let buffValue: f32 = min(0.25, 0.25 * (*p_x).EHR) * baseATK;

  (*p_state).PanCosmicCommercialEnterpriseConditional = buffValue;
  buffNonDynamicATK(buffValue - stateValue, p_x, p_state);
}
    `)}},Xr={id:"BrokenKeelConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.RES],condition:function(e,a,i){return Q(e.sets.BrokenKeel)&&e[t.RES]>=.3},effect:function(e,a,i){je(e,a,i,t.CD,.1)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.BrokenKeel) >= 1 &&
  (*p_state).BrokenKeelConditional == 0.0 &&
  (*p_x).RES >= 0.30
) {
  (*p_state).BrokenKeelConditional = 1.0;
  buffNonDynamicCD(0.10, p_x, p_state);
}
    `)}},jr={id:"CelestialDifferentiatorConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.CD],condition:function(e,a,i){return Q(e.sets.CelestialDifferentiator)&&i.enabledCelestialDifferentiator&&e[t.CD]>=1.2},effect:function(e,a,i){je(e,a,i,t.CR,.6)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.CelestialDifferentiator) >= 1 &&
  enabledCelestialDifferentiator >= 1 &&
  (*p_state).CelestialDifferentiatorConditional == 0.0 &&
  (*p_x).CD >= 1.20
) {
  (*p_state).CelestialDifferentiatorConditional = 1.0;
  buffNonDynamicCR(0.60, p_x, p_state);
}
    `)}},vr={id:"TaliaKingdomOfBanditryConditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.SPD],condition:function(e,a,i){return Q(e.sets.TaliaKingdomOfBanditry)&&e[t.SPD]>=145},effect:function(e,a,i){je(e,a,i,t.BE,.2)},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.TaliaKingdomOfBanditry) >= 1 &&
  (*p_state).TaliaKingdomOfBanditryConditional == 0.0 &&
  (*p_x).SPD >= 145
) {
  (*p_state).TaliaKingdomOfBanditryConditional = 1.0;
  buffNonDynamicBE(0.20, p_x, p_state);
}
    `)}},Or={id:"FirmamentFrontlineGlamoth135Conditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.SPD],condition:function(e,a,i){return Q(e.sets.FirmamentFrontlineGlamoth)&&e[t.SPD]>=135},effect:function(e){e.ELEMENTAL_DMG+=.12},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.FirmamentFrontlineGlamoth) >= 1 &&
  (*p_state).FirmamentFrontlineGlamoth135Conditional == 0.0 &&
  (*p_x).SPD >= 135
) {
  (*p_state).FirmamentFrontlineGlamoth135Conditional = 1.0;
  (*p_x).ELEMENTAL_DMG += 0.12;
}
    `)}},Kr={id:"FirmamentFrontlineGlamoth160Conditional",type:Me.SET,activation:Be.SINGLE,dependsOn:[t.SPD],condition:function(e,a,i){return Q(e.sets.FirmamentFrontlineGlamoth)&&e[t.SPD]>=160},effect:function(e){e.ELEMENTAL_DMG+=.06},gpu:function(){return Ve(this,`
if (
  p2((*p_x).sets.FirmamentFrontlineGlamoth) >= 1 &&
  (*p_state).FirmamentFrontlineGlamoth160Conditional == 0.0 &&
  (*p_x).SPD >= 160
) {
  (*p_state).FirmamentFrontlineGlamoth160Conditional = 1.0;
  (*p_x).ELEMENTAL_DMG += 0.06;
}
    `)}},Ud=[Hr,Ur,kr,Pr,Nr,Yr,Ar,wr,Xr,jr,vr,Or,Kr];function ea(e,a){const i=" ".repeat(a*2);return e.split(`
`).map(n=>i+n).join(`
`)}function pt(e){return e?"true":"false"}function Xt(e){return e?"false":"true"}function Tt(e,a,i,n){e.activation==Be.SINGLE?!n.conditionalState[e.id]&&e.condition(a,i,n)&&(n.conditionalState[e.id]=1,e.effect(a,i,n)):e.activation==Be.CONTINUOUS&&e.condition(a,i,n)&&e.effect(a,i,n)}function Ve(e,a){return`
fn evaluate${e.id}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
  let x = *p_x;
${ea(a.trim(),1)}
}
  `}function je(e,a,i,n,l){if(!(l<1e-4)){e[n]+=l;for(const o of i.conditionalRegistry[n]||[])Tt(o,e,a,i)}}const kd={id:"AventurineConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.DEF],condition:function(e,a,i){return a.characterConditionals.defToCrBoost&&e[t.DEF]>1600},effect:function(e,a,i){const n=i.conditionalState[this.id]||0,l=Math.min(.48,.02*Math.floor((e[t.DEF]-1600)/100));return i.conditionalState[this.id]=l,je(e,a,i,t.CR,l-n),l},gpu:function(e,a){const i=e.characterConditionals;return Ve(this,`
if (${Xt(i.defToCrBoost)}) {
  return;
}
let def = (*p_x).DEF;
let stateValue: f32 = (*p_state).AventurineConversionConditional;

if (def > 1600) {
  let buffValue: f32 = min(0.48, 0.02 * floor((def - 1600) / 100));

  (*p_state).AventurineConversionConditional = buffValue;
  buffDynamicCR(buffValue - stateValue, p_x, p_state);
}
    `)}},Hd={id:"XueyiConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.BE],condition:function(e,a,i){return a.characterConditionals.beToDmgBoost},effect:function(e,a,i){const n=i.conditionalState[this.id]||0,l=Math.min(2.4,e[t.BE]);i.conditionalState[this.id]=l,e.ELEMENTAL_DMG+=l-n},gpu:function(e,a){const i=e.characterConditionals;return Ve(this,`
if (${Xt(i.beToDmgBoost)}) {
  return;
}
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).XueyiConversionConditional;
let buffValue: f32 = min(2.40, be);

(*p_state).XueyiConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},Pd={id:"FireflyConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.ATK],condition:function(e){return e[t.ATK]>1800},effect:function(e,a,i){const n=i.conditionalState[this.id]||0,l=e[t.ATK]-e.RATIO_BASED_ATK_BUFF-e.RATIO_BASED_ATK_P_BUFF*i.baseATK,o=.008*Math.floor((l-1800)/10);return i.conditionalState[this.id]=o,je(e,a,i,t.BE,o-n),o},gpu:function(e,a){const i=e.characterConditionals;return Ve(this,`
if (${Xt(i.atkToBeConversion)}) {
  return;
}
let atk = (*p_x).ATK;
let stateValue = (*p_state).FireflyConversionConditional;
let trueAtk = atk - (*p_x).RATIO_BASED_ATK_BUFF - (*p_x).RATIO_BASED_ATK_P_BUFF * baseATK;

if (trueAtk > 1800) {
  let buffValue: f32 = 0.008 * floor((trueAtk - 1800) / 10);

  (*p_state).FireflyConversionConditional = buffValue;
  buffDynamicBE(buffValue - stateValue, p_x, p_state);
}
    `)}},Nd={id:"BoothillConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.BE],condition:function(e,a,i){return a.characterConditionals.beToCritBoost},effect:function(e,a,i){const n=i.conditionalState[this.id]||0,l=Math.min(.3,.1*n),o=Math.min(1.5,.5*n),r=Math.min(.3,.1*e[t.BE]),c=Math.min(1.5,.5*e[t.BE]);i.conditionalState[this.id]=e[t.BE],je(e,a,i,t.CR,r-l),je(e,a,i,t.CD,c-o)},gpu:function(e,a){const i=e.characterConditionals;return Ve(this,`
if (${Xt(i.beToCritBoost)}) {
  return;
}

let be = (*p_x).BE;
let stateValue = (*p_state).BoothillConversionConditional;

let stateCrBuffValue = min(0.30, 0.10 * stateValue);
let stateCdBuffValue = min(1.50, 0.50 * stateValue);

let crBuffValue = min(0.30, 0.10 * be);
let cdBuffValue = min(1.50, 0.50 * be);

(*p_state).BoothillConversionConditional = be;

buffDynamicCR(crBuffValue - stateCrBuffValue, p_x, p_state);
buffDynamicCD(cdBuffValue - stateCdBuffValue, p_x, p_state);
    `)}},Yd={id:"GepardConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.DEF],condition:function(){return!0},effect:function(e,a,i){const n=i.conditionalState[this.id]||0,l=.35*e[t.DEF];i.conditionalState[this.id]=l,je(e,a,i,t.ATK,l-n)},gpu:function(){return Ve(this,`
let def = (*p_x).DEF;
let stateValue: f32 = (*p_state).GepardConversionConditional;
let buffValue: f32 = 0.35 * def;

(*p_state).GepardConversionConditional = buffValue;
buffDynamicATK(buffValue - stateValue, p_x, p_state);
    `)}},Ad={id:"BlackSwanConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.EHR],condition:function(e,a,i){return!0},effect:function(e,a,i){if(!a.characterConditionals.ehrToDmgBoost)return;const l=i.conditionalState[this.id]||0,o=Math.min(.72,.6*e[t.EHR]);i.conditionalState[this.id]=o,e.ELEMENTAL_DMG+=o-l},gpu:function(e,a){const i=e.characterConditionals;return Ve(this,`
if (${Xt(i.ehrToDmgBoost)}) {
  return;
}
let ehr = (*p_x).EHR;
let stateValue: f32 = (*p_state).BlackSwanConversionConditional;
let buffValue: f32 = min(0.72, 0.60 * ehr);

(*p_state).BlackSwanConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},wd={id:"RappaConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.ATK],condition:function(e,a,i){return!0},effect:function(e,a,i){if(!a.characterConditionals.atkToBreakVulnerability)return;const l=i.conditionalState[this.id]||0,o=Math.floor(x((e[t.ATK]-2e3)/100)),r=Math.min(.12,Math.max(0,o)*.01)+.03;i.conditionalState[this.id]=r,e.BREAK_VULNERABILITY+=r-l},gpu:function(e,a){const i=e.characterConditionals;return Ve(this,`
if (${Xt(i.atkToBreakVulnerability)}) {
  return;
}
let atk = (*p_x).ATK;
let stateValue: f32 = (*p_state).RappaConversionConditional;
let atkOverStacks: f32 = floor((x.ATK - 2000) / 100);
let buffValue: f32 = min(0.12, max(0, atkOverStacks) * 0.01) + 0.03;

(*p_state).RappaConversionConditional = buffValue;
(*p_x).BREAK_VULNERABILITY += buffValue - stateValue;
    `)}},Xd={id:"GallagherConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.BE],condition:function(e,a,i){return!0},effect:function(e,a,i){a.characterConditionals;const n=i.conditionalState[this.id]||0,l=Math.min(.75,.5*e[t.BE]);i.conditionalState[this.id]=l,je(e,a,i,t.OHB,l-n)},gpu:function(e,a){return e.characterConditionals,Ve(this,`
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).GallagherConversionConditional;
let buffValue: f32 = min(0.75, 0.50 * (*p_x).BE);

(*p_state).GallagherConversionConditional = buffValue;
buffDynamicOHB(buffValue - stateValue, p_x, p_state);
    `)}},jd={id:"RuanMeiConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.BE],condition:function(e,a,i){return!0},effect:function(e,a,i){a.characterConditionals;const n=i.conditionalState[this.id]||0,l=Math.floor(x((e[t.BE]*100-120)/10)),o=Math.min(.36,Math.max(0,l)*.06);i.conditionalState[this.id]=o,e.ELEMENTAL_DMG+=o-n},gpu:function(e,a){return e.characterConditionals,Ve(this,`
let be = (*p_x).BE;
let stateValue: f32 = (*p_state).RuanMeiConversionConditional;
let beOver = ((*p_x).BE * 100 - 120) / 10;
let buffValue: f32 = floor(max(0, beOver)) * 0.06;

(*p_state).RuanMeiConversionConditional = buffValue;
(*p_x).ELEMENTAL_DMG += buffValue - stateValue;
    `)}},vd={id:"JiaoqiuConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.EHR],condition:function(e,a,i){return!0},effect:function(e,a,i){if(!a.characterConditionals.ehrToAtkBoost||e[t.EHR]<=.8)return;const l=i.conditionalState[this.id]||0,o=Math.min(2.4,.6*Math.floor((e[t.EHR]-.8)/.15))*a.baseAtk;i.conditionalState[this.id]=o,je(e,a,i,t.ATK,o-l)},gpu:function(e,a){return e.characterConditionals,Ve(this,`
let ehr = (*p_x).EHR;
let stateValue: f32 = (*p_state).JiaoqiuConversionConditional;
let buffValue: f32 = min(2.40, 0.60 * floor(((*p_x).EHR - 0.80) / 0.15));

(*p_state).JiaoqiuConversionConditional = buffValue;
buffDynamicATK_P(buffValue - stateValue, p_x, p_state);
    `)}},Od={id:"LingshaConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.BE],condition:function(e,a,i){return!0},effect:function(e,a,i){if(!a.characterConditionals.beConversion)return;const l=i.conditionalState[this.id]||0,o=Math.min(.5,.25*e[t.BE])*a.baseAtk,r=Math.min(.2,.1*e[t.BE]),c=Math.min(.5,.25*l)*a.baseAtk,h=Math.min(.2,.1*l);i.conditionalState[this.id]=e[t.BE];const b=o-(l?c:0),R=r-(l?h:0);je(e,a,i,t.ATK,b),je(e,a,i,t.OHB,R)},gpu:function(e,a){const i=e.characterConditionals;return Ve(this,`
if (${Xt(i.beConversion)}) {
  return;
}

let stateValue: f32 = (*p_state).LingshaConversionConditional;

let buffValueAtk = min(0.50, 0.25 * x.BE) * baseATK;
let buffValueOhb = min(0.20, 0.10 * x.BE);

let stateBuffValueAtk = min(0.50, 0.25 * stateValue) * baseATK;
let stateBuffValueOhb = min(0.20, 0.10 * stateValue);

(*p_state).LingshaConversionConditional = (*p_x).BE;

let finalBuffAtk = buffValueAtk - select(0, stateBuffValueAtk, stateValue > 0);
let finalBuffOhb = buffValueOhb - select(0, stateBuffValueOhb, stateValue > 0);

buffDynamicATK(finalBuffAtk, p_x, p_state);
buffDynamicOHB(finalBuffOhb, p_x, p_state);
    `)}},Kd=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=l(e,.12,.132),r=n(e,.25,.27),c=i(e,.208,.22),h=a(e,.6,.66),b=i(e,.9,.99),R=n(e,1.2,1.3),S=l(e,2.4,2.64),u=l(e,.65,.68),m=[{formItem:"switch",id:"ehrToDmgBoost",name:"ehrToDmgBoost",text:"EHR to DMG boost",title:"EHR to DMG boost",content:"Increases this unit's DMG by an amount equal to 60% of Effect Hit Rate, up to a maximum DMG increase of 72%."},{formItem:"switch",id:"epiphanyDebuff",name:"epiphanyDebuff",text:"Epiphany debuff",title:"Epiphany debuff",content:`Enemies affected by Epiphany take ${x(r*100)}% more DMG in their turn.`},{formItem:"switch",id:"defDecreaseDebuff",name:"defDecreaseDebuff",text:"Def decrease debuff",title:"Skill def decrease debuff",content:`Enemies DEF is decreased by ${x(c*100)}%.`},{formItem:"slider",id:"arcanaStacks",name:"arcanaStacks",text:"Arcana stacks",title:"Arcana stacks",content:`While afflicted with Arcana, enemy targets receive Wind DoT equal to ${x(S*100)}% of Black Swan's ATK at the start of each turn. Each stack of Arcana increases this DoT DMG multiplier by ${x(o*100)}%. Arcana can stack up to 50 times. 
    ::BR::
When there are 3 or more Arcana stacks, deals Wind DoT to adjacent targets. When there are 7 or more Arcana stacks, enables the current DoT dealt this time to ignore 20% of the target's and adjacent targets' DEF.`,min:1,max:50},{formItem:"switch",id:"e1ResReduction",name:"e1ResReduction",text:"E1 RES reduction",title:"E1 RES reduction",content:"E1: While Black Swan is active in battle, enemies afflicted with Wind Shear, Bleed, Burn, or Shock will have their corresponding Wind, Physical, Fire, or Lightning RES respectively reduced by 25%.",disabled:e<1}],f=[O(m,"epiphanyDebuff"),O(m,"defDecreaseDebuff"),O(m,"e1ResReduction")];return{content:()=>m,teammateContent:()=>f,defaults:()=>({ehrToDmgBoost:!0,epiphanyDebuff:!0,defDecreaseDebuff:!0,arcanaStacks:7,e1ResReduction:!0}),teammateDefaults:()=>({epiphanyDebuff:!0,defDecreaseDebuff:!0,e1ResReduction:!0}),precomputeEffects:(p,I)=>{const E=I.characterConditionals;return p.BASIC_SCALING+=h,p.SKILL_SCALING+=b,p.ULT_SCALING+=R,p.DOT_SCALING+=S+o*E.arcanaStacks,fa(p,Wa,.2,E.arcanaStacks>=7),p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=60,p.DOT_CHANCE=u,p.DOT_SPLIT=.05,p.DOT_STACKS=E.arcanaStacks,p},precomputeMutualEffects:(p,I)=>{const E=I.characterConditionals;la(p,Wa,r,E.epiphanyDebuff),p.DEF_PEN+=E.defDecreaseDebuff?c:0,p.WIND_RES_PEN+=e>=1&&E.e1ResReduction?.25:0,p.FIRE_RES_PEN+=e>=1&&E.e1ResReduction?.25:0,p.PHYSICAL_RES_PEN+=e>=1&&E.e1ResReduction?.25:0,p.LIGHTNING_RES_PEN+=e>=1&&E.e1ResReduction?.25:0},finalizeCalculations:p=>ke(p),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[Ad]}},_d=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_TALENT_3_SKILL_BASIC_5,o=i(e,.4,.456),r=.9,c=a(e,1,1.1),h=i(e,.4,.44),b=i(e,1,1.1),R=n(e,.4,.432),S=n(e,1,1.08),u=n(e,1,1.08),m=l(e,.44,.484),f=l(e,1.1,1.21),p={1:le*(1*.33+2*.33+3*.34),3:le*(2*.33+5*.33+8*.34),5:le*(3*.33+8*.33+8*.34)},I=[{formItem:"switch",id:"enhancedStateActive",name:"enhancedStateActive",text:"Hellscape state",title:"Hellscape state",content:`
      Increases DMG by ${x(o*100)}% and his Basic ATK Shard Sword is enhanced to Forest of Swords for 3 turn(s).
      ::BR::
      E2: Increases CRIT Rate by ${x(.15*100)}%.
    `},{formItem:"slider",id:"hpPercentLostTotal",name:"hpPercentLostTotal",text:"HP% lost total",title:"HP% lost total",content:`Ultimate DMG scales off of the tally of Blade's HP loss in the current battle. 
    The tally of Blade's HP loss in the current battle is capped at ${x(r*100)}% of his Max HP.`,min:0,max:r,percent:!0},{formItem:"slider",id:"e4MaxHpIncreaseStacks",name:"e4MaxHpIncreaseStacks",text:"E4 max HP stacks",title:"E4 max HP stacks",content:`E4: Increases HP by ${x(.2*100)}%, stacks up to 2 times.`,min:0,max:2,disabled:e<4}];return{content:()=>I,teammateContent:()=>[],defaults:()=>({enhancedStateActive:!0,hpPercentLostTotal:r,e4MaxHpIncreaseStacks:2}),teammateDefaults:()=>({}),precomputeEffects:(E,T)=>{const D=T.characterConditionals;return E[t.CR]+=e>=2&&D.enhancedStateActive?.15:0,E[t.HP_P]+=e>=4?D.e4MaxHpIncreaseStacks*.2:0,E.BASIC_SCALING+=c,E.ELEMENTAL_DMG+=D.enhancedStateActive?o:0,ne(E,Te,.2),E.BASIC_TOUGHNESS_DMG+=D.enhancedStateActive?60:30,E.ULT_TOUGHNESS_DMG+=60,E.FUA_TOUGHNESS_DMG+=30,E},precomputeMutualEffects:(E,T)=>{},finalizeCalculations:(E,T)=>{const D=T.characterConditionals;D.enhancedStateActive?(E.BASIC_DMG+=h*E[t.ATK],E.BASIC_DMG+=b*E[t.HP]):E.BASIC_DMG+=E.BASIC_SCALING*E[t.ATK],E.ULT_DMG+=R*E[t.ATK],E.ULT_DMG+=S*E[t.HP],E.ULT_DMG+=u*D.hpPercentLostTotal*E[t.HP],E.ULT_DMG+=e>=1&&T.enemyCount==1?1.5*D.hpPercentLostTotal*E[t.HP]:0;const W=p[T.enemyCount],B=us(E,T,W);E.FUA_DMG+=m*(E[t.ATK]+B),E.FUA_DMG+=f*E[t.HP],E.FUA_DMG+=e>=6?.5*E[t.HP]:0},gpuFinalizeCalculations:E=>{const T=E.characterConditionals;return`
if (${pt(T.enhancedStateActive)}) {
  x.BASIC_DMG += ${h} * x.ATK;
  x.BASIC_DMG += ${b} * x.HP;
} else {
  x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
}

x.ULT_DMG += ${R} * x.ATK;
x.ULT_DMG += ${S} * x.HP;
x.ULT_DMG += ${u*T.hpPercentLostTotal} * x.HP;

if (${pt(e>=1&&E.enemyCount==1)}) {
  x.ULT_DMG += 1.50 * ${T.hpPercentLostTotal} * x.HP;
}

x.FUA_DMG += ${m} * (x.ATK + calculateAshblazingSet(p_x, p_state, ${p[E.enemyCount]}));
x.FUA_DMG += ${f} * x.HP;

if (e >= 6) {
  x.FUA_DMG += 0.50 * x.HP;
}
    `}}},Jd=e=>{const{basic:a,skill:i,ult:n}=te.ULT_TALENT_3_SKILL_BASIC_5,l=i(e,.66,.726),o=n(e,.55,.594),r=n(e,.16,.168),c=n(e,.2,.216),h=a(e,1,1.1),b=h*.8,R=le*(1*1/1),S=[{formItem:"switch",id:"teamDmgBuff",name:"teamDmgBuff",text:"Team DMG buff",title:"Trace: Military Might",content:"When Bronya is on the field, all allies deal 10% more DMG."},{formItem:"switch",id:"skillBuff",name:"skillBuff",text:"Skill DMG buff",title:"Skill: Combat Redeployment",content:`Dispels a debuff from a single ally, allows them to immediately take action, and increases their DMG by ${x(l*100)}% for 1 turn(s).`},{formItem:"switch",id:"ultBuff",name:"ultBuff",text:"Ult ATK/CD buffs",title:"Ultimate: The Belobog March",content:`Increases the ATK of all allies by ${x(o*100)}% and CRIT DMG by ${x(r*100)}% of Bronya's CRIT DMG plus ${x(c*100)}% for 2 turns.`},{formItem:"switch",id:"battleStartDefBuff",name:"battleStartDefBuff",text:"Initial DEF buff",title:"Trace: Battlefield",content:"At the start of the battle, all allies' DEF increases by 20% for 2 turn(s)."},{formItem:"switch",id:"techniqueBuff",name:"techniqueBuff",text:"Technique ATK buff",title:"Technique: Banner of Command",content:"After using Bronya's Technique, at the start of the next battle, all allies' ATK increases by 15% for 2 turn(s)."},{formItem:"switch",id:"e2SkillSpdBuff",name:"e2SkillSpdBuff",text:"E2 skill SPD buff",title:"E2: Quick March",content:"When using Skill, the target ally's SPD increases by 30% after taking action, lasting for 1 turn.",disabled:e<2}],u=[O(S,"teamDmgBuff"),O(S,"skillBuff"),O(S,"ultBuff"),O(S,"battleStartDefBuff"),O(S,"techniqueBuff"),{formItem:"slider",id:"teammateCDValue",name:"teammateCDValue",text:"Bronya's Combat CD",title:"Ultimate: The Belobog March",content:`Increases the ATK of all allies by ${x(o*100)}% and CRIT DMG by ${x(r*100)}% of Bronya's CRIT DMG plus ${x(c*100)}% for 2 turns.`,min:0,max:3,percent:!0},O(S,"e2SkillSpdBuff")],m={teamDmgBuff:!0,skillBuff:!0,ultBuff:!0,battleStartDefBuff:!1,techniqueBuff:!1,e2SkillSpdBuff:!1};return{content:()=>S,teammateContent:()=>u,defaults:()=>m,teammateDefaults:()=>({...m,teammateCDValue:2.5}),precomputeEffects:(f,p)=>{fl(f,ht,1),f.BASIC_SCALING+=h,f.FUA_SCALING+=e>=4?b:0,f.BASIC_TOUGHNESS_DMG+=30,f.FUA_TOUGHNESS_DMG+=e>=4?30:0},precomputeMutualEffects:(f,p)=>{const I=p.characterConditionals;f[t.DEF_P]+=I.battleStartDefBuff?.2:0,f[t.SPD_P]+=I.e2SkillSpdBuff?.3:0,f[t.ATK_P]+=I.techniqueBuff?.15:0,f[t.ATK_P]+=I.ultBuff?o:0,f.ELEMENTAL_DMG+=I.teamDmgBuff?.1:0,f.ELEMENTAL_DMG+=I.skillBuff?l:0},precomputeTeammateEffects:(f,p)=>{const I=p.characterConditionals;f[t.CD]+=I.ultBuff?r*I.teammateCDValue:0,f[t.CD]+=I.ultBuff?c:0},finalizeCalculations:(f,p)=>{Ft(f,p,R)},gpuFinalizeCalculations:f=>xt(R),dynamicConditionals:[{id:"BronyaCdConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.CD],ratioConversion:!0,condition:function(){return!0},effect:function(f,p,I){if(!p.characterConditionals.ultBuff)return;const T=I.conditionalState[this.id]||0,D=f[t.CD]-f.RATIO_BASED_CD_BUFF,W=r*D+c,B=r*T+c;I.conditionalState[this.id]=f[t.CD];const F=W-(T?B:0);f.RATIO_BASED_CD_BUFF+=F,je(f,p,I,t.CD,F)},gpu:function(f,p){const I=f.characterConditionals;return Ve(this,`
if (${Xt(I.ultBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).BronyaCdConditional;
let convertibleCdValue: f32 = (*p_x).CD - (*p_x).RATIO_BASED_CD_BUFF;

var buffCD: f32 = ${r} * convertibleCdValue + ${c};
var stateBuffCD: f32 = ${r} * stateValue + ${c};

(*p_state).BronyaCdConditional = (*p_x).CD;

let finalBuffCd = buffCD - select(0, stateBuffCD, stateValue > 0);
(*p_x).RATIO_BASED_CD_BUFF += finalBuffCd;

buffNonRatioDynamicCD(finalBuffCd, p_x, p_state);
    `)}}]}},zd=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=n(e,.25,.27),r=n(e,1.6,1.728),c=a(e,1,1.1),h=i(e,1.2,1.32),b=l(e,1.6,1.76),R={1:le*(1*1/1),3:le*(2*1/1),5:le*(2*1/1)},S=le*(1*1/1),u=[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:"Ult buff",title:"Ult buff",content:`Increases Svarog Counter DMG by ${x(r*100)}% during Ultimate. DMG dealt to Clara is reduced by an extra ${x(o*100)}% for 2 turns`},{formItem:"switch",id:"talentEnemyMarked",name:"talentEnemyMarked",text:"Enemy marked",title:"Enemy marked",content:`Additionally deals Physical DMG equal to ${x(h*100)}% of Clara's ATK to enemies marked by Svarog with a Mark of Counter.`},{formItem:"switch",id:"e2UltAtkBuff",name:"e2UltAtkBuff",text:"E2 ult ATK buff",title:"E2 ult ATK buff",content:`E2: After using Ultimate, increases ATK by ${x(.3*100)}% for 2 turns.`,disabled:e<2},{formItem:"switch",id:"e4DmgReductionBuff",name:"e4DmgReductionBuff",text:"E4 DMG reduction buff",title:"E4 DMG reduction buff",content:`E4: Decreases DMG taken by ${x(.3*100)}%.`,disabled:e<4}];return{content:()=>u,teammateContent:()=>[],defaults:()=>({ultBuff:!0,talentEnemyMarked:!0,e2UltAtkBuff:!0,e4DmgReductionBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m[t.ATK_P]+=e>=2&&p.e2UltAtkBuff?.3:0,m.BASIC_SCALING+=c,m.SKILL_SCALING+=h,m.SKILL_SCALING+=p.talentEnemyMarked?h:0,m.FUA_SCALING+=b,m.FUA_SCALING+=p.ultBuff?r:0,m.DMG_RED_MULTI*=1-.1,m.DMG_RED_MULTI*=p.ultBuff?1-o:1,m.DMG_RED_MULTI*=e>=4&&p.e4DmgReductionBuff?1-.3:1,ne(m,Te,.3),m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=30,m.FUA_TOUGHNESS_DMG+=30,m},precomputeMutualEffects:(m,f)=>{},finalizeCalculations:(m,f)=>{const I=f.characterConditionals.ultBuff?R[f.enemyCount]:S;Ft(m,f,I)},gpuFinalizeCalculations:m=>{const p=m.characterConditionals.ultBuff?R[m.enemyCount]:S;return xt(p)}}},Qd=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=l(e,.36,.396),r=a(e,1,1.1),c=i(e,2.6,2.86),h=n(e,4,4.32),b=n(e,1.2,1.296),R=[{formItem:"switch",id:"talentPenBuff",name:"talentPenBuff",text:"Talent RES PEN buff",title:"Talent RES PEN buff",content:`When Dan Heng is the target of an ally's Ability, his next attack's Wind RES PEN increases by ${x(o*100)}%.`},{formItem:"switch",id:"enemySlowed",name:"enemySlowed",text:"Enemy slowed",title:"Enemy slowed",content:"Basic ATK deals 40% more damage to Slowed enemies."},{formItem:"switch",id:"e1EnemyHp50",name:"e1EnemyHp50",text:"E1 enemy HP ≥ 50% CR boost",title:"E1: The Higher You Fly, the Harder You Fall",content:"When the target enemy's current HP percentage is greater than or equal to 50%, CRIT Rate increases by 12%.",disabled:e<1}];return{content:()=>R,teammateContent:()=>[],defaults:()=>({talentPenBuff:!0,enemySlowed:!0,e1EnemyHp50:!0}),teammateDefaults:()=>({}),precomputeEffects:(S,u)=>{const m=u.characterConditionals;return S[t.CR]+=e>=1&&m.e1EnemyHp50?.12:0,S.BASIC_SCALING+=r,S.SKILL_SCALING+=c,S.ULT_SCALING+=h,S.ULT_SCALING+=m.enemySlowed?b:0,S.RES_PEN+=m.talentPenBuff?o:0,ne(S,ht,.4,m.enemySlowed),S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=60,S.ULT_TOUGHNESS_DMG+=90,S},finalizeCalculations:S=>ke(S),gpuFinalizeCalculations:()=>He()}},$d=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=5,r=e>=1?10:6,c=a(e,1,1.1),h=i(e,1.5,1.65),b=n(e,2.4,2.592),R=l(e,2.7,2.97);function S(E,T=!0){return T?R/(R+.2*E):.2/(R+.2*E)}const u=le*(1*1/1),m={0:le*(1*1/1),1:le*(1*S(1,!0)+2*S(1,!1)),2:le*(1*S(2,!0)+5*S(2,!1)),3:le*(1*S(3,!0)+9*S(3,!1)),4:le*(1*S(4,!0)+14*S(4,!1))};function f(E){const T=E.characterConditionals;return e>=2?m[Math.min(4,T.enemyDebuffStacks)]:u}const p=()=>["When using his Skill, Dr. Ratio has a 40% fixed chance of launching a follow-up attack against his target for 1 time,","dealing Imaginary DMG equal to {0}% of Dr. Ratio's ATK.","For each debuff the target enemy has, the fixed chance of launching follow-up attack increases by 20%.","If the target enemy is defeated before the follow-up attack triggers, the follow-up attack will be directed at a single random enemy instead.","::BR::When dealing DMG to a target that has 3 or more debuff(s), for each debuff the target has, the DMG dealt by Dr. Ratio to this target increases by 10%, up to a maximum increase of 50%.","::BR::E2: When his Talent's follow-up attack hits a target, for every debuff the target has, additionally deals Imaginary Additional DMG equal to 20% of Dr. Ratio's ATK. This effect can be triggered for a maximum of 4 times during each follow-up attack."].join(" ").replace("{0}",e>=5?"297":"270"),I=[{id:"summationStacks",name:"summationStacks",formItem:"slider",text:"Summation stacks",title:"Summation stacks",content:`When Dr. Ratio uses his Skill, for every debuff on the target, his CRIT Rate increases by 2.5% and CRIT DMG by 5%. This effect can stack up to ${x(r)} time(s).`,min:0,max:r},{id:"enemyDebuffStacks",name:"enemyDebuffStacks",formItem:"slider",text:"Enemy debuff stacks",title:"Talent: Cogito, Ergo Sum",content:p(),min:0,max:o}];return{content:()=>I,teammateContent:()=>[],defaults:()=>({enemyDebuffStacks:o,summationStacks:r}),teammateDefaults:()=>({}),precomputeEffects:(E,T)=>{const D=T.characterConditionals;return E[t.CR]+=D.summationStacks*.025,E[t.CD]+=D.summationStacks*.05,E.BASIC_SCALING+=c,E.SKILL_SCALING+=h,E.ULT_SCALING+=b,E.FUA_SCALING+=R,E.ELEMENTAL_DMG+=D.enemyDebuffStacks>=3?Math.min(.5,D.enemyDebuffStacks*.1):0,ne(E,Te,.5,e>=6),E.BASIC_TOUGHNESS_DMG+=30,E.SKILL_TOUGHNESS_DMG+=60,E.ULT_TOUGHNESS_DMG+=90,E.FUA_TOUGHNESS_DMG+=30,E},precomputeMutualEffects:(E,T)=>{},finalizeCalculations:(E,T)=>{Ft(E,T,f(T))},gpuFinalizeCalculations:E=>xt(f(E))}},qd=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=i(e,.12,.132),r=i(e,.06,.066),c=l(e,.18,.196),h=a(e,.5,.55),b=i(e,0,0),R=n(e,1,1.08),S=[{formItem:"switch",id:"talentActive",name:"talentActive",text:"Team DMG reduction",title:"Team DMG reduction",content:`While Fu Xuan is still active in battle, Misfortune Avoidance is applied to the entire team. With Misfortune Avoidance, allies take ${x(c*100)}% less DMG.`},{formItem:"switch",id:"skillActive",name:"skillActive",text:"Skill active",title:"Skill active",content:`Activates Matrix of Prescience, via which other team members will Distribute 65% of the DMG they receive (before this DMG is mitigated by any Shields) to Fu Xuan for 3 turn(s).
    While affected by Matrix of Prescience, all team members gain the Knowledge effect, which increases their respective Max HP by ${x(r*100)}% of Fu Xuan's Max HP, 
    and increases CRIT Rate by ${x(o*100)}%.`},{formItem:"slider",id:"e6TeamHpLostPercent",name:"e6TeamHpLostPercent",text:"E6 team HP lost",title:"E6 team HP lost",content:"E6: Once Matrix of Prescience is activated, it will keep a tally of the total HP lost by all team members in the current battle. Fu Xuan's Ultimate DMG will increase by 200% of this tally of HP loss. This tally is also capped at 120% of Fu Xuan's Max HP.",min:0,max:1.2,percent:!0,disabled:e<6}],u=[O(S,"talentActive"),O(S,"skillActive"),{formItem:"slider",id:"teammateHPValue",name:"teammateHPValue",text:"Fu Xuan's HP",title:"Known by Stars, Shown by Hearts",content:`While affected by Matrix of Prescience, all team members gain the Knowledge effect, which increases their respective Max HP by ${x(r*100)}% of Fu Xuan's Max HP`,min:0,max:1e4}];return{content:()=>S,teammateContent:()=>u,defaults:()=>({skillActive:!0,talentActive:!0,e6TeamHpLostPercent:1.2}),teammateDefaults:()=>({skillActive:!0,talentActive:!0,teammateHPValue:8e3}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m.BASIC_SCALING+=h,m.SKILL_SCALING+=b,m.ULT_SCALING+=R+(e>=6?2*p.e6TeamHpLostPercent:0),m.BASIC_TOUGHNESS_DMG+=30,m.ULT_TOUGHNESS_DMG+=60,m},precomputeMutualEffects:(m,f)=>{const p=f.characterConditionals;m[t.CR]+=p.skillActive?o:0,m[t.CD]+=e>=1&&p.skillActive?.3:0,m.DMG_RED_MULTI*=p.talentActive?1-c:1},precomputeTeammateEffects:(m,f)=>{const p=f.characterConditionals;m[t.HP]+=p.skillActive?r*p.teammateHPValue:0,m.DMG_RED_MULTI*=p.skillActive?1-.65:1},finalizeCalculations:(m,f)=>{xr(m)},gpuFinalizeCalculations:()=>Lr(),dynamicConditionals:[{id:"FuXuanHpConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.HP],ratioConversion:!0,condition:function(){return!0},effect:function(m,f,p){if(!f.characterConditionals.skillActive)return;const E=p.conditionalState[this.id]||0,T=m[t.HP]-m.RATIO_BASED_HP_BUFF,D=r*T,W=r*E;p.conditionalState[this.id]=m[t.HP];const B=D-(E?W:0);m.RATIO_BASED_HP_BUFF+=B,je(m,f,p,t.HP,B)},gpu:function(m,f){const p=m.characterConditionals;return Ve(this,`
if (${Xt(p.skillActive)}) {
  return;
}

let stateValue: f32 = (*p_state).FuXuanHpConditional;
let convertibleHpValue: f32 = (*p_x).HP - (*p_x).RATIO_BASED_HP_BUFF;

var buffHP: f32 = ${r} * convertibleHpValue;
var stateBuffHP: f32 = ${r} * stateValue;

(*p_state).FuXuanHpConditional = (*p_x).HP;

let finalBuffHp = buffHP - select(0, stateBuffHP, stateValue > 0);
(*p_x).RATIO_BASED_HP_BUFF += finalBuffHp;

buffNonRatioDynamicHP(finalBuffHp, p_x, p_state);
    `)}}]}},eu=e=>{const{basic:a,skill:i}=te.ULT_TALENT_3_SKILL_BASIC_5,n=a(e,1,1.1),l=i(e,2,2.2),o=[{formItem:"switch",id:"e4TeamResBuff",name:"e4TeamResBuff",text:"E4 Team RES buff",title:"E4 Team RES buff",content:"E4: When Gepard is in battle, all allies' Effect RES increases by 20%.",disabled:e<4}];return{content:()=>o,teammateContent:()=>o,defaults:()=>({e4TeamResBuff:!0}),teammateDefaults:()=>({e4TeamResBuff:!0}),precomputeEffects:(r,c)=>(r.BASIC_SCALING+=n,r.SKILL_SCALING+=l,r.BASIC_TOUGHNESS_DMG+=30,r.SKILL_TOUGHNESS_DMG+=60,r),precomputeMutualEffects:(r,c)=>{const h=c.characterConditionals;r[t.RES]+=e>=4&&h.e4TeamResBuff?.2:0},finalizeCalculations:r=>ke(r),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[Yd]}},tu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=l(e,.07,.076),r=e>=6?4:3,c=a(e,1,1.1),h=i(e,1.2,1.32),b=n(e,1.2,1.296),R=i(e,2.182,2.4),S=[{formItem:"slider",id:"talentDebuffStacks",name:"talentDebuffStacks",text:"Enemy Firekiss stacks",title:"Enemy Firekiss stacks",content:`While inflicted with Firekiss, the enemy receives ${x(o*100)}% increased DMG, which lasts for 3 turns and can stack up to ${x(r)} times.`,min:0,max:r},{formItem:"switch",id:"enemyBurned",name:"enemyBurned",text:"Enemy burned",title:"Enemy burned",content:`Increases DMG by ${x(.2*100)}% against enemies affected by Burn.`},{formItem:"switch",id:"skillDot",name:"skillDot",text:"Use Skill DoT chance",title:"Use Skill DoT chance",content:"When enabled, uses the Skill's 100% DoT chance instead of the Basic's 80% DoT chance."},{formItem:"switch",id:"e1EffectResShred",name:"e1EffectResShred",text:"E1 Effect RES shred",title:"E1 Effect RES shred",content:"E1: When Skill is used, there is a 100% base chance to reduce the attacked target enemy's Effect RES by 10% for 2 turn(s).",disabled:e<1},{formItem:"switch",id:"e2BurnMultiBoost",name:"e2BurnMultiBoost",text:"E2 burn multi boost",title:"E2 burn multi boost",content:"E2: When an enemy target is Burned, Guinaifen's Basic ATK and Skill can increase the DMG multiplier of their Burn status by 40%.",disabled:e<2}],u=[O(S,"talentDebuffStacks"),O(S,"e1EffectResShred")];return{content:()=>S,teammateContent:()=>u,defaults:()=>({talentDebuffStacks:r,enemyBurned:!0,skillDot:!0,e1EffectResShred:!0,e2BurnMultiBoost:!0}),teammateDefaults:()=>({talentDebuffStacks:r,e1EffectResShred:!0}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m.BASIC_SCALING+=c,m.SKILL_SCALING+=h,m.ULT_SCALING+=b,m.DOT_SCALING+=R,m.DOT_SCALING+=e>=2&&p.e2BurnMultiBoost?.4:0,m.ELEMENTAL_DMG+=p.enemyBurned?.2:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=60,m.DOT_CHANCE=p.skillDot?1:.8,m},precomputeMutualEffects:(m,f)=>{const p=f.characterConditionals;m.VULNERABILITY+=p.talentDebuffStacks*o,m.EFFECT_RES_PEN+=p.e1EffectResShred?.1:0},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He()}},au=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=n(e,.2,.21),r=n(e,.6,.648);let c=l(e,.3,.33);c+=e>=6?.1:0;const h=a(e,1,1.1),b=i(e,2.4,2.64),R=n(e,0,0),S=[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:"Ult SPD/ATK buff",title:"Ultimate: Ten-Lords' Decree, All Shall Obey",content:`Increases the SPD of a target ally by ${x(o*100)}% of Hanya's SPD and increases the same target ally's ATK by ${x(r*100)}%.`},{formItem:"switch",id:"targetBurdenActive",name:"targetBurdenActive",text:"Target Burden debuff",title:"Talent: Sanction",content:`When an ally uses a Basic ATK, Skill, or Ultimate on an enemy inflicted with Burden, the DMG dealt increases by ${x(c*100)}% for 2 turn(s).`},{formItem:"switch",id:"burdenAtkBuff",name:"burdenAtkBuff",text:"Burden ATK buff",title:"Trace: Scrivener",content:"Allies triggering Burden's Skill Point recovery effect have their ATK increased by 10% for 1 turn(s)."},{formItem:"switch",id:"e2SkillSpdBuff",name:"e2SkillSpdBuff",text:"E2 skill SPD buff",title:"E2: Two Views",content:`E2: After Skill, increases SPD by ${x(.2*100)}% for 1 turn.`,disabled:e<2}],u=[O(S,"ultBuff"),{formItem:"slider",id:"teammateSPDValue",name:"teammateSPDValue",text:"Hanya's SPD",title:"Ultimate: Ten-Lords' Decree, All Shall Obey",content:`Increases the SPD of a target ally by ${x(o*100)}% of Hanya's SPD and increases the same target ally's ATK by ${x(r*100)}%.`,min:0,max:200},O(S,"targetBurdenActive"),O(S,"burdenAtkBuff")];return{content:()=>S,teammateContent:()=>u,defaults:()=>({ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,e2SkillSpdBuff:!1}),teammateDefaults:()=>({ultBuff:!0,targetBurdenActive:!0,burdenAtkBuff:!0,teammateSPDValue:160}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m.BASIC_SCALING+=h,m.SKILL_SCALING+=b,m.ULT_SCALING+=R,m[t.SPD_P]+=e>=2&&p.e2SkillSpdBuff?.2:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m},precomputeMutualEffects:(m,f)=>{const p=f.characterConditionals;m[t.ATK_P]+=p.ultBuff?r:0,m[t.ATK_P]+=p.burdenAtkBuff?.1:0,m.ELEMENTAL_DMG+=p.targetBurdenActive?c:0},precomputeTeammateEffects:(m,f)=>{const p=f.characterConditionals;m[t.SPD]+=p.ultBuff?o*p.teammateSPDValue:0},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[{id:"HanyaSpdConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.SPD],ratioConversion:!0,condition:function(){return!0},effect:function(m,f,p){if(!f.characterConditionals.ultBuff)return;const E=p.conditionalState[this.id]||0,T=m[t.SPD]-m.RATIO_BASED_SPD_BUFF,D=o*T,W=o*E;p.conditionalState[this.id]=m[t.SPD];const B=D-(E?W:0);m.RATIO_BASED_SPD_BUFF+=B,je(m,f,p,t.SPD,B)},gpu:function(m,f){const p=m.characterConditionals;return Ve(this,`
if (${Xt(p.ultBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).HanyaSpdConditional;
let convertibleSpdValue: f32 = (*p_x).SPD - (*p_x).RATIO_BASED_SPD_BUFF;

var buffSPD: f32 = ${o} * convertibleSpdValue;
var stateBuffSPD: f32 = ${o} * stateValue;

(*p_state).HanyaSpdConditional = (*p_x).SPD;

let finalBuffSpd = buffSPD - select(0, stateBuffSPD, stateValue > 0);
(*p_x).RATIO_BASED_SPD_BUFF += finalBuffSpd;

buffNonRatioDynamicSPD(finalBuffSpd, p_x, p_state);
    `)}}]}},su=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=a(e,1,1.1),r=i(e,1,1.1),c=n(e,2,2.16),h=l(e,.4,.43);function b(u,m){const f=1/u;if(m.enemyCount==1){let p=1,I=0;for(let E=0;E<u;E++)I+=f*p,p=Math.min(8,p+1);return I}if(m.enemyCount==3){let p=2,I=0;for(let E=0;E<u;E++)I+=f*p,p=Math.min(8,p+3);return I}if(m.enemyCount==5){let p=3,I=0;for(let E=0;E<u;E++)I+=f*p,p=Math.min(8,p+5);return I}return 1}function R(u){const m=u.characterConditionals,f=b(m.fuaStacks,u);return{1:le*f,3:le*f,5:le*f}[u.enemyCount]}const S=[{formItem:"slider",id:"fuaStacks",name:"fuaStacks",text:"Followup attack hits",title:"Followup attack hits",content:"When an ally's attack causes an enemy's HP percentage to fall to 50% or lower, Herta will launch a follow-up attack, dealing Ice DMG.",min:1,max:5},{formItem:"switch",id:"targetFrozen",name:"targetFrozen",text:"Target frozen",title:"Target frozen",content:`When Ultimate is used, deals ${x(.2*100)}% more DMG to Frozen enemies.`},{formItem:"switch",id:"enemyHpGte50",name:"enemyHpGte50",text:"Skill DMG boost",title:"One-Time Offer",content:"Skill: If the enemy's HP percentage is 50% or higher, DMG dealt to this target increases by 20%."},{formItem:"switch",id:"techniqueBuff",name:"techniqueBuff",text:"Technique buff",title:"Technique buff",content:`Increases ATK by ${x(.4*100)}% for 3 turns.`},{formItem:"switch",id:"enemyHpLte50",name:"enemyHpLte50",text:"E1 basic scaling boost",title:"E1: Kick You When You're Down",content:"E1: If the enemy's HP percentage is at 50% or less, Herta's Basic ATK deals Additional Ice DMG equal to 40% of Herta's ATK.",disabled:e<1},{formItem:"slider",id:"e2TalentCritStacks",name:"e2TalentCritStacks",text:"E2 talent CR stacks",title:"E2 talent CR stacks",content:"E2: Increases CRIT Rate by 3% per stack. Stacks up to 5 times.",min:0,max:5,disabled:e<2},{formItem:"switch",id:"e6UltAtkBuff",name:"e6UltAtkBuff",text:"E6 ult ATK buff",title:"E6 ult ATK buff",content:`E6: After Ult, increases ATK by ${x(.25*100)}% for 1 turn.`,disabled:e<6}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({fuaStacks:5,techniqueBuff:!1,targetFrozen:!0,e2TalentCritStacks:5,e6UltAtkBuff:!0,enemyHpGte50:!0,enemyHpLte50:!1}),teammateDefaults:()=>({}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.ATK_P]+=f.techniqueBuff?.4:0,u[t.CR]+=e>=2?f.e2TalentCritStacks*.03:0,u[t.ATK_P]+=e>=6&&f.e6UltAtkBuff?.25:0,u.BASIC_SCALING+=o,u.BASIC_SCALING+=e>=1&&f.enemyHpLte50?.4:0,u.SKILL_SCALING+=r,u.ULT_SCALING+=c,u.FUA_SCALING+=h*f.fuaStacks,ne(u,_e,.2,f.enemyHpGte50),ne(u,We,.2,f.targetFrozen),ne(u,Te,.1,e>=4),u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=30,u.ULT_TOUGHNESS_DMG+=60,u.FUA_TOUGHNESS_DMG+=15,u},precomputeMutualEffects:(u,m)=>{},finalizeCalculations:(u,m)=>{Ft(u,m,R(m))},gpuFinalizeCalculations:u=>xt(R(u))}},iu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=a(e,1,1.1),r=i(e,2,2.2),c=n(e,2.3,2.484),h=l(e,1.4,1.54),b=.3,R={1:le*(1*.2+2*.2+3*.2+4*.4),3:le*(2*.2+5*.2+8*.2+8*.4),5:le*(3*.2+8*.2+8*.2+8*.4)},S=[{formItem:"switch",id:"targetBurned",name:"targetBurned",text:"Target burned",title:"Target burned",content:"Skill deals 20% more DMG to enemies currently afflicted with Burn."},{formItem:"switch",id:"selfCurrentHp80Percent",name:"selfCurrentHp80Percent",text:"Self HP ≥ 80% CR boost",title:"Self HP ≥ 80% CR boost",content:"When current HP percentage is 80% or higher, CRIT Rate increases by 15%."},{formItem:"switch",id:"e1TalentSpdBuff",name:"e1TalentSpdBuff",text:"E1 SPD buff",title:"E1 SPD buff",content:"E1: After Victory Rush is triggered, Himeko's SPD increases by 20% for 2 turns.",disabled:e<1},{formItem:"switch",id:"e2EnemyHp50DmgBoost",name:"e2EnemyHp50DmgBoost",text:"E2 enemy HP ≤ 50% DMG boost",title:"E2: Convergence",content:"E2: Deals 15% more DMG to enemies whose HP percentage is 50% or less.",disabled:e<2},{formItem:"slider",id:"e6UltExtraHits",name:"e6UltExtraHits",text:"E6 ult extra hits",title:"E6 ult extra hits",content:`Ultimate deals DMG 2 extra times. Extra hits deals ${x(.4*100)}% of the original DMG per hit.`,min:0,max:2,disabled:e<6}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({targetBurned:!0,selfCurrentHp80Percent:!0,e1TalentSpdBuff:!1,e6UltExtraHits:2}),teammateDefaults:()=>({}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.CR]+=f.selfCurrentHp80Percent?.15:0,u[t.SPD_P]+=e>=1&&f.e1TalentSpdBuff?.2:0,u.BASIC_SCALING+=o,u.SKILL_SCALING+=r,u.ULT_SCALING+=c,u.ULT_SCALING+=e>=6?f.e6UltExtraHits*c*.4:0,u.FUA_SCALING+=h,u.DOT_SCALING+=b,ne(u,_e,.2,f.targetBurned),u.ELEMENTAL_DMG+=e>=2&&f.e2EnemyHp50DmgBoost?.15:0,u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=60,u.ULT_TOUGHNESS_DMG+=60,u.FUA_TOUGHNESS_DMG+=30,u.DOT_CHANCE=.5,u},precomputeMutualEffects:(u,m)=>{},finalizeCalculations:(u,m)=>{Ft(u,m,R[m.enemyCount])},gpuFinalizeCalculations:u=>xt(R[u.enemyCount])}},nu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=l(e,1,1.1),r=a(e,1,1.1),c=i(e,2.4,2.64),h=i(e,2.8,3.08),b=n(e,4,4.32),R=i(e,.65,.715),S=[{formItem:"switch",id:"enhancedSkill",name:"enhancedSkill",text:"Enhanced skill",title:"Enhanced skill",content:`After using Ultimate, the next Skill to be used is Enhanced. Enhanced Skill deals Fire DMG equal to ${x(h*100)}% of Hook's ATK to a single enemy and reduced DMG to adjacent enemies.`},{formItem:"switch",id:"targetBurned",name:"targetBurned",text:"Target burned",title:"Target burned",content:`When attacking a target afflicted with Burn, deals Additional Fire DMG equal to ${x(o*100)}% of Hook's ATK.`}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({enhancedSkill:!0,targetBurned:!0}),teammateDefaults:()=>({}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u.BASIC_SCALING+=r,u.SKILL_SCALING+=f.enhancedSkill?h:c,u.ULT_SCALING+=b,u.BASIC_SCALING+=f.targetBurned?o:0,u.SKILL_SCALING+=f.targetBurned?o:0,u.ULT_SCALING+=f.targetBurned?o:0,u.DOT_SCALING+=R,ne(u,_e,.2,e>=1&&f.enhancedSkill),u.ELEMENTAL_DMG+=e>=6&&f.targetBurned?.2:0,u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=60,u.ULT_TOUGHNESS_DMG+=90,u.DOT_CHANCE=1,u},finalizeCalculations:u=>ke(u),gpuFinalizeCalculations:()=>He()}},lu=e=>{const{basic:a,ult:i}=te.ULT_TALENT_3_SKILL_BASIC_5,n=i(e,.4,.432),l=a(e,.5,.55),o=[{formItem:"switch",id:"ultBuff",name:"ultBuff",text:"Ult ATK buff",title:"Ult ATK buff",content:`Increases all allies' ATK by ${x(n*100)}% for 2 turns after using Ultimate.`},{formItem:"switch",id:"skillBuff",name:"skillBuff",text:"E1 SPD buff",title:"E1 SPD buff",content:"E1: When Huohuo possesses Divine Provision, all allies' SPD increases by 12%.",disabled:e<1},{formItem:"switch",id:"e6DmgBuff",name:"e6DmgBuff",text:"E6 DMG buff",title:"E6 DMG buff",content:"E6: When healing a target ally, increases the target ally's DMG dealt by 50% for 2 turns.",disabled:e<6}],r=[O(o,"ultBuff"),O(o,"skillBuff"),O(o,"e6DmgBuff")];return{content:()=>o,teammateContent:()=>r,defaults:()=>({ultBuff:!0,skillBuff:!0,e6DmgBuff:!0}),teammateDefaults:()=>({ultBuff:!0,skillBuff:!0,e6DmgBuff:!0}),precomputeEffects:(c,h)=>(c.BASIC_SCALING+=l,c.BASIC_TOUGHNESS_DMG+=30,c),precomputeMutualEffects:(c,h)=>{const b=h.characterConditionals;c[t.ATK_P]+=b.ultBuff?n:0,c[t.SPD_P]+=e>=1&&b.skillBuff?.12:0,c.ELEMENTAL_DMG+=e>=6&&b.e6DmgBuff?.5:0},finalizeCalculations:(c,h)=>{xr(c)},gpuFinalizeCalculations:()=>Lr()}},ou=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=e>=1?10:6,r=i(e,.12,.132),c=l(e,.1,.11),h=a(e,1,1.1),b=a(e,2.6,2.86),R=a(e,3.8,4.18),S=a(e,5,5.5),u=i(e,0,0),m=n(e,3,3.24),f=[{formItem:"slider",id:"basicEnhanced",name:"basicEnhanced",text:"Basic enhancements",title:"Basic enhancements",content:`0 stack(s): Uses a 2-hit attack and deals Imaginary DMG equal to ${x(h*100)}% ATK to a single enemy target.
    ::BR::1 stack(s): Uses a 3-hit attack and deals Imaginary DMG equal to ${x(b*100)}% ATK to a single enemy target.
    ::BR::2 stack(s): Uses a 5-hit attack and deals Imaginary DMG equal to ${x(R*100)}% ATK to a single enemy target and reduced DMG to adjacent targets.
    ::BR::3 stack(s): Uses a 7-hit attack and deals Imaginary DMG equal to ${x(S*100)}% ATK to a single enemy target and reduced DMG to adjacent targets.`,min:0,max:3},{formItem:"slider",id:"skillOutroarStacks",name:"skillOutroarStacks",text:"Outroar stacks",title:"Outroar stacks",content:`Divine Spear or Fulgurant Leap, starting from the fourth hit, 1 stack of Outroar is gained before every hit. 
    Each stack of Outroar increases Dan Heng • Imbibitor Lunae's CRIT DMG by ${x(r*100)}%, for a max of 4 stacks. (applied to all hits)`,min:0,max:4},{formItem:"slider",id:"talentRighteousHeartStacks",name:"talentRighteousHeartStacks",text:"Righteous Heart stacks",title:"Righteous Heart stacks",content:`After each hit dealt during an attack, Dan Heng • Imbibitor Lunae gains 1 stack of Righteous Heart, increasing his DMG by ${x(c*100)}%. (applied to all hits)`,min:0,max:o},{formItem:"slider",id:"e6ResPenStacks",name:"e6ResPenStacks",text:"E6 RES PEN stacks",title:"E6 RES PEN stacks",content:"E6: After any other ally uses their Ultimate, the Imaginary RES PEN of Dan Heng • Imbibitor Lunae's next Fulgurant Leap attack increases by 20%, up to 3 stacks.",min:0,max:3,disabled:e<6}];return{content:()=>f,teammateContent:()=>[],defaults:()=>({basicEnhanced:3,skillOutroarStacks:4,talentRighteousHeartStacks:o,e6ResPenStacks:3}),teammateDefaults:()=>({}),precomputeEffects:(p,I)=>{const E=I.characterConditionals;return p[t.CD]+=I.enemyElementalWeak?.24:0,p[t.CD]+=E.skillOutroarStacks*r,p.BASIC_SCALING+={0:h,1:b,2:R,3:S}[E.basicEnhanced]??0,p.SKILL_SCALING+=u,p.ULT_SCALING+=m,p.ELEMENTAL_DMG+=E.talentRighteousHeartStacks*c,Fs(p,ht,.2*E.e6ResPenStacks,e>=6&&E.basicEnhanced==3),p.BASIC_TOUGHNESS_DMG+=30+30*E.basicEnhanced,p.ULT_TOUGHNESS_DMG+=60,p},precomputeMutualEffects:(p,I)=>{},finalizeCalculations:p=>ke(p),gpuFinalizeCalculations:()=>He()}},ru=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_TALENT_3_SKILL_BASIC_5,o=l(e,.5,.52);let r=l(e,1.8,1.98);r+=e>=4?.3:0;const c=a(e,1,1.1),h=i(e,2,2.2),b=i(e,2.5,2.75),R=n(e,3,3.24),S=[{name:"talentEnhancedState",id:"talentEnhancedState",formItem:"switch",text:"Enhanced state",title:"Crescent Transmigration",content:`When Jingliu has 2 stacks of Syzygy, she enters the Spectral Transmigration state with her Action Advanced by 100% and her CRIT Rate increases by ${x(o*100)}%. 
      Then, Jingliu's Skill "Transcendent Flash" becomes enhanced and turns into "Moon On Glacial River," and becomes the only ability she can use in battle.`},{name:"talentHpDrainAtkBuff",id:"talentHpDrainAtkBuff",formItem:"slider",text:"HP drain ATK buff",title:"Crescent Transmigration - ATK Bonus",content:`When Jingliu uses an attack in the Spectral Transmigration state, she consumes HP from all other allies and Jingliu's ATK increases based on the total HP consumed from all allies in this attack, 
      capped at ${x(r*100)}% of her base ATK, lasting until the current attack ends.`,min:0,max:r,percent:!0},{id:"e1CdBuff",name:"e1CdBuff",formItem:"switch",text:"E1 ult active",title:"E1 Moon Crashes Tianguan Gate",content:"E1: When using her Ultimate or Enhanced Skill, Jingliu's CRIT DMG increases by 24% for 1 turn. If only one enemy target is attacked, the target will additionally be dealt Ice DMG equal to 100% of Jingliu's ATK.",disabled:e<1},{id:"e2SkillDmgBuff",name:"e2SkillDmgBuff",formItem:"switch",text:"E2 skill buff",title:"E2 Crescent Shadows Qixing Dipper",content:"E2: After using Ultimate, increases the DMG of the next Enhanced Skill by 80%.",disabled:e<2}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({talentEnhancedState:!0,talentHpDrainAtkBuff:r,e1CdBuff:!0,e2SkillDmgBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.CR]+=f.talentEnhancedState?o:0,u[t.ATK_P]+=f.talentEnhancedState?f.talentHpDrainAtkBuff:0,u[t.RES]+=f.talentEnhancedState?.35:0,ne(u,We,.2,f.talentEnhancedState),u[t.CD]+=e>=1&&f.e1CdBuff?.24:0,u[t.CD]+=e>=6&&f.talentEnhancedState?.5:0,u.BASIC_SCALING+=c,u.SKILL_SCALING+=f.talentEnhancedState?b:h,u.SKILL_SCALING+=e>=1&&f.talentEnhancedState&&m.enemyCount==1?1:0,u.ULT_SCALING+=R,u.ULT_SCALING+=e>=1&&m.enemyCount==1?1:0,u.FUA_SCALING+=0,ne(u,_e,.8,e>=2&&f.talentEnhancedState&&f.e2SkillDmgBuff),u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=60,u.ULT_TOUGHNESS_DMG+=60,u},precomputeMutualEffects:(u,m)=>{},finalizeCalculations:u=>ke(u),gpuFinalizeCalculations:()=>He()}},cu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=a(e,1,1.1),r=i(e,1,1.1),c=n(e,2,2.16),h=l(e,.66,.726);function b(S){const u=S.characterConditionals;let m=0;const f=u.talentHitsPerAction,p=u.talentAttacks,I=S.enemyCount>=3?2:0,E=S.enemyCount>=3?3:1,T=S.enemyCount>=3?2:1;let D=I*(f-p);D+=T;let W=0;for(let B=0;B<p;B++)W+=Math.min(8,D)*(1/p),D+=E;return m=W*le,m}const R=[{formItem:"switch",id:"skillCritBuff",name:"skillCritBuff",text:"Skill CR buff",title:"Skill CR buff",content:"After using Skill, CRIT Rate increases by 10% for 2 turns."},{formItem:"slider",id:"talentHitsPerAction",name:"talentHitsPerAction",text:"Lightning Lord stacks",title:"Lightning Lord stacks",content:"Lightning Lord hits-per-action stack up to 10 times.",min:3,max:10},{formItem:"slider",id:"talentAttacks",name:"talentAttacks",text:"Lightning Lord hits on target",title:"Lightning Lord hits on target",content:"Count of hits on target. Should usually be set to the same value as Lightning Lord Stacks.",min:0,max:10},{formItem:"switch",id:"e2DmgBuff",name:"e2DmgBuff",text:"E2 dmg buff",title:"E2 dmg buff",content:"E2: After Lightning-Lord takes action, DMG caused by Jing Yuan's Basic ATK, Skill, and Ultimate increases by 20% for 2 turns.",disabled:e<2},{formItem:"slider",id:"e6FuaVulnerabilityStacks",name:"e6FuaVulnerabilityStacks",text:"E6 vulnerable stacks",title:"E6 vulnerable stacks",content:"E6: Each hit performed by the Lightning-Lord when it takes action will make the target enemy Vulnerable. While Vulnerable, enemies receive 12% more DMG until the end of the Lightning-Lord's current turn, stacking up to 3 time(s). (applies to all hits)",min:0,max:3,disabled:e<6}];return{content:()=>R,teammateContent:()=>[],defaults:()=>({skillCritBuff:!0,talentHitsPerAction:10,talentAttacks:10,e2DmgBuff:!0,e6FuaVulnerabilityStacks:3}),teammateDefaults:()=>({}),precomputeEffects:(S,u)=>{const m=u.characterConditionals;m.talentHitsPerAction=Math.max(m.talentHitsPerAction,m.talentAttacks),S[t.CR]+=m.skillCritBuff?.1:0,S.BASIC_SCALING+=o,S.SKILL_SCALING+=r,S.ULT_SCALING+=c,S.FUA_SCALING+=h*m.talentAttacks,Ba(S,Te,.25,m.talentHitsPerAction>=6),ne(S,ht|_e|We,.2,e>=2&&m.e2DmgBuff),la(S,Te,m.e6FuaVulnerabilityStacks*.12,e>=6);const f=m.talentAttacks;return S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=30,S.ULT_TOUGHNESS_DMG+=60,S.FUA_TOUGHNESS_DMG+=15*f,S},precomputeMutualEffects:(S,u)=>{},finalizeCalculations:(S,u)=>{Ft(S,u,b(u))},gpuFinalizeCalculations:S=>xt(b(S))}},du=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=a(e,1,1.1),r=i(e,1.6,1.76),c=n(e,.8,.864),h=l(e,1.4,1.596),b=n(e,2.9,3.183),R=le*(1*.15+2*.15+3*.15+4*.15+5*.15+6*.25),S=[{formItem:"switch",id:"e1DotDmgReceivedDebuff",name:"e1DotDmgReceivedDebuff",text:"E1 DoT DMG debuff",title:"E1 DoT DMG debuff",content:"E1: When the Talent triggers a follow-up attack, there is a 100% base chance to increase the DoT received by the target by 30% for 2 turn(s).",disabled:e<1},{formItem:"switch",id:"e2TeamDotBoost",name:"e2TeamDotBoost",text:"E2 Team DoT DMG boost",title:"E2 Team DoT DMG boost",content:"E2: While Kafka is on the field, DoT dealt by all allies increases by 25%.",disabled:e<2}],u=[O(S,"e1DotDmgReceivedDebuff"),O(S,"e2TeamDotBoost")];return{content:()=>S,teammateContent:()=>u,defaults:()=>({e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0}),teammateDefaults:()=>({e1DotDmgReceivedDebuff:!0,e2TeamDotBoost:!0}),precomputeEffects:(m,f)=>(m.BASIC_SCALING+=o,m.SKILL_SCALING+=r,m.ULT_SCALING+=c,m.FUA_SCALING+=h,m.DOT_SCALING+=b,m.DOT_SCALING+=e>=6?1.56:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=60,m.FUA_TOUGHNESS_DMG+=30,m.DOT_CHANCE=1.3,m),precomputeMutualEffects:(m,f)=>{const p=f.characterConditionals;la(m,Wa,.3,e>=1&&p.e1DotDmgReceivedDebuff),ne(m,Wa,.25,e>=2&&p.e2TeamDotBoost)},finalizeCalculations:(m,f)=>{Ft(m,f,R)},gpuFinalizeCalculations:m=>xt(R)}},uu=e=>{const{basic:a,skill:i,ult:n}=te.SKILL_TALENT_3_ULT_BASIC_5,l=a(e,.2,.22),o=n(e,.2,.216),r=a(e,1,1.1),c=a(e,.2*3+.8,.22*3+.88),h=i(e,1.2,1.32),b=n(e,3.3,3.564),R=i(e,3.38,3.718),S=[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:"Basic enhanced",title:"Basic enhanced: Sky-Shatter Fist",content:"Enhances Basic ATK to deal additional damage, and has a chance to trigger extra hits."},{formItem:"switch",id:"targetUltDebuffed",name:"targetUltDebuffed",text:"Ult vulnerability debuff",title:"Ult vulnerability debuff",content:`Increase the target's DMG received by ${x(o*100)}% for 3 turn(s)`},{formItem:"slider",id:"basicEnhancedExtraHits",name:"basicEnhancedExtraHits",text:"Enhanced basic extra hits",title:"Enhanced basic extra hits",content:"Increases the number of hits of Basic Enhanced.",min:0,max:3},{formItem:"switch",id:"e1TargetBleeding",name:"e1TargetBleeding",text:"E1 target bleeding",title:"E1 target bleeding",content:"E1: When Luka takes action, if the target enemy is Bleeding, increases DMG dealt by Luka by 15% for 2 turn(s).",disabled:e<1},{formItem:"slider",id:"e4TalentStacks",name:"e4TalentStacks",text:"E4 talent stacks",title:"E4 talent stacks",content:"E4: For every stack of Fighting Will obtained, increases ATK by 5%, stacking up to 4 time(s).",min:0,max:4,disabled:e<4}],u=[O(S,"targetUltDebuffed")];return{content:()=>S,teammateContent:()=>u,defaults:()=>({basicEnhanced:!0,targetUltDebuffed:!0,e1TargetBleeding:!0,basicEnhancedExtraHits:3,e4TalentStacks:4}),teammateDefaults:()=>({targetUltDebuffed:!0}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m[t.ATK_P]+=e>=4?p.e4TalentStacks*.05:0,m.BASIC_SCALING+=p.basicEnhanced?c:r,m.BASIC_SCALING+=(p.basicEnhanced&&p.basicEnhancedExtraHits)*l,m.SKILL_SCALING+=h,m.ULT_SCALING+=b,m.DOT_SCALING+=R,m.ELEMENTAL_DMG+=e>=1&&p.e1TargetBleeding?.15:0,m.BASIC_TOUGHNESS_DMG+=p.basicEnhanced?60:30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=90,m.DOT_CHANCE=1,m},precomputeMutualEffects:(m,f)=>{const p=f.characterConditionals;m.VULNERABILITY+=p.targetUltDebuffed?o:0},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He()}},mu=e=>{const{basic:a,skill:i,ult:n}=te.SKILL_BASIC_3_ULT_TALENT_5,l=a(e,1,1.1),o=i(e,0,0),r=n(e,2,2.16),c=[{formItem:"switch",id:"fieldActive",name:"fieldActive",text:"Field active",title:"Field active",content:`
      E1: While the Field is active, ATK of all allies increases by 20%.
    `},{formItem:"switch",id:"e6ResReduction",name:"e6ResReduction",text:"E6 RES reduction",title:"E6 RES reduction",content:"E6: When Ultimate is used, reduces all enemies' All-Type RES by 20% for 2 turn(s).",disabled:e<6}],h=[O(c,"fieldActive"),O(c,"e6ResReduction")];return{content:()=>c,teammateContent:()=>h,defaults:()=>({fieldActive:!0,e6ResReduction:!0}),teammateDefaults:()=>({fieldActive:!0,e6ResReduction:!0}),precomputeEffects:(b,R)=>(b.BASIC_SCALING+=l,b.SKILL_SCALING+=o,b.ULT_SCALING+=r,b.BASIC_TOUGHNESS_DMG+=30,b.ULT_TOUGHNESS_DMG+=60,b),precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b[t.ATK_P]+=e>=1&&S.fieldActive?.2:0,b.RES_PEN+=e>=6&&S.e6ResReduction?.2:0},finalizeCalculations:b=>ke(b),gpuFinalizeCalculations:()=>He()}},hu=e=>{const{basic:a,skill:i,ult:n}=te.SKILL_BASIC_3_ULT_TALENT_5,l=i(e,.075,.08),o=i(e,200,223),r=a(e,.5,.55),c=i(e,0,0),h=n(e,0,0),b=[{formItem:"switch",id:"skillBuff",name:"skillBuff",text:"Skill max HP buff",title:"Skill max HP buff",content:`
    Applies "Survival Response" to a single target ally and increases their Max HP by ${x(l*100)}% of Lynx's Max HP plus ${x(o)}.
    ::BR::E4: When "Survival Response" is gained, increases the target's ATK by an amount equal to 3% of Lynx's Max HP for 1 turn(s).
    ::BR::E6: Additionally boosts the Max HP increasing effect of "Survival Response" by an amount equal to 6% of Lynx's Max HP and increases Effect RES by 30%.`}],R=[O(b,"skillBuff"),{formItem:"slider",id:"teammateHPValue",name:"teammateHPValue",text:"Lynx's HP",title:"Dusk of Warm Campfire",content:`
      Applies "Survival Response" to a single target ally and increases their Max HP by ${x(l*100)}% of Lynx's Max HP plus ${x(o)}.
      ::BR::E4: When "Survival Response" is gained, increases the target's ATK by an amount equal to 3% of Lynx's Max HP for 1 turn(s).
      ::BR::E6: Additionally boosts the Max HP increasing effect of "Survival Response" by an amount equal to 6% of Lynx's Max HP and increases Effect RES by 30%.`,min:0,max:1e4}];return{content:()=>b,teammateContent:()=>R,defaults:()=>({skillBuff:!0}),teammateDefaults:()=>({skillBuff:!0,teammateHPValue:6e3}),precomputeEffects:(S,u)=>(S.BASIC_SCALING+=r,S.SKILL_SCALING+=c,S.ULT_SCALING+=h,S.BASIC_TOUGHNESS_DMG+=30,S),precomputeMutualEffects:(S,u)=>{const m=u.characterConditionals;S[t.RES]+=e>=6&&m.skillBuff?.3:0},precomputeTeammateEffects:(S,u)=>{const m=u.characterConditionals;S[t.HP]+=m.skillBuff?l*m.teammateHPValue:0,S[t.HP]+=e>=6&&m.skillBuff?.06*m.teammateHPValue:0,S[t.HP]+=m.skillBuff?o:0;const f=e>=4&&m.skillBuff?.03*m.teammateHPValue:0;S[t.ATK]+=f},finalizeCalculations:(S,u)=>{S.BASIC_DMG+=S.BASIC_SCALING*S[t.HP]},gpuFinalizeCalculations:(S,u)=>(S.characterConditionals,`
x.BASIC_DMG += x.BASIC_SCALING * x.HP;
      `),dynamicConditionals:[{id:"LynxConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.HP],ratioConversion:!0,condition:function(){return!0},effect:function(S,u,m){if(!u.characterConditionals.skillBuff)return;const p=m.conditionalState[this.id]||0;let I=0,E=0,T=0,D=0;const W=S[t.HP]-S.RATIO_BASED_HP_BUFF;I+=l*W+o,T+=l*p+o,e>=4&&(E+=.03*W,D+=.03*p),e>=6&&(I+=.06*W,T+=.06*p),m.conditionalState[this.id]=S[t.HP];const B=I-(p?T:0),F=E-(p?D:0);S.RATIO_BASED_HP_BUFF+=B,je(S,u,m,t.HP,B),je(S,u,m,t.ATK,F)},gpu:function(S,u){const m=S.characterConditionals;return Ve(this,`
if (${Xt(m.skillBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).LynxConversionConditional;
let convertibleHpValue: f32 = (*p_x).HP - (*p_x).RATIO_BASED_HP_BUFF;

var buffATK: f32 = 0;
var stateBuffATK: f32 = 0;

var buffHP: f32 = ${l} * convertibleHpValue + ${o};
var stateBuffHP: f32 = ${l} * stateValue + ${o};

if (${pt(e>=4)}) {
  buffATK += 0.03 * convertibleHpValue;
  stateBuffATK += 0.03 * stateValue;
}

if (${pt(e>=6)}) {
  buffHP += 0.06 * convertibleHpValue;
  stateBuffHP += 0.06 * stateValue;
}

(*p_state).LynxConversionConditional = (*p_x).HP;

let finalBuffHp = buffHP - select(0, stateBuffHP, stateValue > 0);
let finalBuffAtk = buffATK - select(0, stateBuffATK, stateValue > 0);
(*p_x).RATIO_BASED_HP_BUFF += finalBuffHp;

buffNonRatioDynamicHP(finalBuffHp, p_x, p_state);
buffDynamicATK(finalBuffAtk, p_x, p_state);
    `)}}]}},bu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=a(e,1,1.1),r=i(e,0,0),c=n(e,1.5,1.62),h=l(e,1,1.1),b=le*(1*1/1);return{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({}),precomputeEffects:(R,S)=>(R.BASIC_SCALING+=o,R.SKILL_SCALING+=r,R.ULT_SCALING+=c,R.FUA_SCALING+=h,R.BASIC_TOUGHNESS_DMG+=30,R.ULT_TOUGHNESS_DMG+=60,R.FUA_TOUGHNESS_DMG+=30,R),precomputeMutualEffects:(R,S)=>{},finalizeCalculations:(R,S)=>{const u=us(R,S,b);R.BASIC_DMG+=R.BASIC_SCALING*R[t.ATK],R.SKILL_DMG+=R.SKILL_SCALING*R[t.ATK],R.ULT_DMG+=R.ULT_SCALING*R[t.ATK],R.FUA_DMG+=R.FUA_SCALING*(R[t.ATK]+u),R.FUA_DMG+=e>=4?.3*R[t.DEF]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${b}));
if (${pt(e>=4)}) {
  x.FUA_DMG += 0.30 * x.DEF;
}
    `}},Su=e=>{const{basic:a,skill:i,ult:n}=te.ULT_BASIC_3_SKILL_TALENT_5,l=a(e,1,1.1),o=i(e,2,2.2);let r=n(e,.6,.65);r+=e>=4?.06:0;const c=[{formItem:"slider",id:"ultHitsOnTarget",name:"ultHitsOnTarget",text:"Ult hits on target",title:"Ult hits on target",content:`Number of Ultimate hits on the primary target, dealing DMG equal to ${x(r*100)}% ATK per hit.`,min:1,max:10},{formItem:"switch",id:"enemyFrozen",name:"enemyFrozen",text:"Enemy frozen",title:"Enemy frozen",content:"When dealing DMG to Frozen enemies, increases CRIT DMG by 30%."},{formItem:"switch",id:"e2DefReduction",name:"e2DefReduction",text:"E2 DEF reduction",title:"E2 DEF reduction",content:"E2: Reduces the target's DEF by 16% for 3 turn(s).",disabled:e<2},{formItem:"switch",id:"e6UltDmgBoost",name:"e6UltDmgBoost",text:"E6 ult DMG boost",title:"E6 ult DMG boost",content:"E6: When using the Ultimate, increases own DMG by 30%, lasting until the end of the turn.",disabled:e<6}],h=[O(c,"e2DefReduction")];return{content:()=>c,teammateContent:()=>h,defaults:()=>({ultHitsOnTarget:10,enemyFrozen:!0,e2DefReduction:!0,e6UltDmgBoost:!0}),teammateDefaults:()=>({e2DefReduction:!0}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b[t.CD]+=S.enemyFrozen?.3:0,b.ELEMENTAL_DMG+=e>=6&&S.e6UltDmgBoost?.3:0,b.BASIC_SCALING+=l,b.SKILL_SCALING+=o,b.ULT_SCALING+=r*S.ultHitsOnTarget,b.BASIC_TOUGHNESS_DMG+=30,b.SKILL_TOUGHNESS_DMG+=60,b.ULT_TOUGHNESS_DMG+=30+15*(S.ultHitsOnTarget-1),b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;b.DEF_PEN+=e>=2&&S.e2DefReduction?.16:0},finalizeCalculations:b=>ke(b),gpuFinalizeCalculations:()=>He()}},Ru=e=>{const{basic:a}=te.SKILL_BASIC_3_ULT_TALENT_5,i=a(e,1,1.1);return{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({}),precomputeEffects:(n,l)=>(n.BASIC_SCALING+=i,n.BASIC_TOUGHNESS_DMG+=30,n),precomputeMutualEffects:(n,l)=>{},finalizeCalculations:(n,l)=>{n.BASIC_DMG+=n.BASIC_SCALING*n[t.ATK],n.BASIC_DMG+=e>=6?.4*n[t.HP]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
if (${pt(e>=6)}) {
  x.BASIC_DMG += 0.40 * x.HP;
}
    `}},fu=e=>{const{basic:a,skill:i,ult:n}=te.SKILL_BASIC_3_ULT_TALENT_5,l=n(e,.4,.42),o=a(e,1,1.1),r=i(e,2.1,2.31),c=n(e,1,1.08),h=[{formItem:"switch",id:"teamEhrBuff",name:"teamEhrBuff",text:"Team EHR buff",title:"Team EHR buff",content:"When Pela is on the battlefield, all allies' Effect Hit Rate increases by 10%."},{formItem:"switch",id:"enemyDebuffed",name:"enemyDebuffed",text:"Enemy debuffed",title:"Enemy debuffed",content:"Deals 20% more DMG to debuffed enemies."},{formItem:"switch",id:"skillRemovedBuff",name:"skillRemovedBuff",text:"Enemy buff removed skill buffs",title:"Enemy buff removed skill buffs",content:`Using Skill to remove buff(s) increases the DMG of Pela's next attack by 20%.
    ::BR::
    E2: Using Skill to remove buff(s) increases SPD by 10% for 2 turn(s).`},{formItem:"switch",id:"ultDefPenDebuff",name:"ultDefPenDebuff",text:"Ult DEF shred debuff",title:"Ult DEF shred debuff",content:`When Exposed, enemies' DEF is reduced by ${x(l*100)}% for 2 turn(s).`},{formItem:"switch",id:"e4SkillResShred",name:"e4SkillResShred",text:"E4 skill Ice RES shred",title:"E4 skill Ice RES shred",content:"E4: When using Skill, there is a 100% base chance to reduce the target enemy's Ice RES by 12% for 2 turn(s).",disabled:e<4}],b=[O(h,"teamEhrBuff"),O(h,"ultDefPenDebuff"),O(h,"e4SkillResShred")];return{content:()=>h,teammateContent:()=>b,defaults:()=>({teamEhrBuff:!0,enemyDebuffed:!0,skillRemovedBuff:!1,ultDefPenDebuff:!0,e4SkillResShred:!0}),teammateDefaults:()=>({teamEhrBuff:!0,ultDefPenDebuff:!0,e4SkillResShred:!0}),precomputeEffects:(R,S)=>{const u=S.characterConditionals;return R[t.SPD_P]+=e>=2&&u.skillRemovedBuff?.1:0,R.BASIC_SCALING+=o,R.SKILL_SCALING+=r,R.ULT_SCALING+=c,ne(R,ht|_e|We,.2,u.skillRemovedBuff),R.ELEMENTAL_DMG+=u.enemyDebuffed?.2:0,R.BASIC_TOUGHNESS_DMG+=30,R.SKILL_TOUGHNESS_DMG+=60,R.ULT_TOUGHNESS_DMG+=60,R},precomputeMutualEffects:(R,S)=>{const u=S.characterConditionals;R[t.EHR]+=u.teamEhrBuff?.1:0,R.DEF_PEN+=u.ultDefPenDebuff?l:0,R.ICE_RES_PEN+=e>=4&&u.e4SkillResShred?.12:0},finalizeCalculations:(R,S)=>{R.BASIC_DMG+=R.BASIC_SCALING*R[t.ATK],R.SKILL_DMG+=R.SKILL_SCALING*R[t.ATK],R.ULT_DMG+=R.ULT_SCALING*R[t.ATK],R.BASIC_DMG+=e>=6?.4*R[t.ATK]:0,R.SKILL_DMG+=e>=6?.4*R[t.ATK]:0,R.ULT_DMG+=e>=6?.4*R[t.ATK]:0},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;

if (${pt(e>=6)}) {
  x.BASIC_DMG += 0.40 * x.ATK;
  x.SKILL_DMG += 0.40 * x.ATK;
  x.ULT_DMG += 0.40 * x.ATK;
}
    `}},so=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=l(e,.2,.22),r=a(e,1,1.1),c=i(e,1.25,1.375),h=n(e,4.5,4.8),b=n(e,2.7,2.88),R=n(e,1.62,1.728),S=[{formItem:"switch",id:"enhancedUlt",name:"Enhanced Ult",text:"AoE ult",title:"AoE ULT - Split DMG to adjacent enemies",content:`Choose between two attack modes to deliver a full strike. ::BR:: Blowout: (ST) Farewell Hit deals Physical DMG equal to ${x(h*100)}% of the Trailblazer's ATK to a single enemy. 
    ::BR::Blowout: (Blast) RIP Home Run deals Physical DMG equal to ${x(b*100)}% of the Trailblazer's ATK to a single enemy, and Physical DMG equal to ${x(R*100)}% of the Trailblazer's ATK to enemies adjacent to it.`},{formItem:"slider",id:"talentStacks",name:"Talent stacks",text:"Talent stacks",title:"Talent stacks",content:`Each time after this character inflicts Weakness Break on an enemy, ATK increases by ${x(o*100)}% and DEF increases by 10%. This effect stacks up to 2 times.`,min:0,max:2}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({enhancedUlt:!0,talentStacks:2}),teammateDefaults:()=>({}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.ATK_P]+=f.talentStacks*o,u[t.DEF_P]+=f.talentStacks*.1,u[t.CR]+=u.ENEMY_WEAKNESS_BROKEN?.25:0,u.BASIC_SCALING+=r,u.SKILL_SCALING+=c,u.ULT_SCALING+=f.enhancedUlt?b:h,ne(u,_e,.25),ne(u,We,.25,f.enhancedUlt),u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=60,u.ULT_TOUGHNESS_DMG+=f.enhancedUlt?60:90,u},precomputeMutualEffects:(u,m)=>{},finalizeCalculations:u=>ke(u),gpuFinalizeCalculations:()=>He()}},io=e=>{const{basic:a,skill:i,ult:n}=te.SKILL_TALENT_3_ULT_BASIC_5,l=a(e,1,1.1),o=i(e,.5,.55),r=n(e,.3,.33),c=e>=6?6:4,h={1:1.6,3:1.4,5:1.2},b=[{formItem:"switch",id:"backupDancer",name:"backupDancer",text:"Backup Dancer BE buff",title:"Backup Dancer BE buff",content:`Grants all allies the Backup Dancer effect, lasting for 3 turn(s). This duration reduces by 1 at the start of Trailblazer's every turn. Allies with the Backup Dancer effect have their Break Effect increased by ${x(r*100)}%.`},{formItem:"switch",id:"superBreakDmg",name:"superBreakDmg",text:"Super Break DMG calcs (force weakness break)",title:"Super Break DMG calcs (force weakness break)",content:`When allies with the Backup Dancer effect attack enemy targets that are in the Weakness Broken state, the Toughness Reduction of the attack will be converted into 1 instance of Super Break DMG.
      ::BR::
      Super Break DMG is added to each of the BASIC / SKILL / ULT / FUA damage columns. For example when enabled, the SKILL column becomes the sum of base Skill damage + Super Break DMG based on the Skill's toughness damage. This option also overrides enemy weakness break to ON.`},{formItem:"slider",id:"skillHitsOnTarget",name:"skillHitsOnTarget",text:"Skill extra hits on target",title:"Skill extra hits on target",content:"Deals Imaginary DMG to a single target enemy and additionally deals DMG for 4 times, with each time dealing Imaginary DMG to a random enemy.",min:0,max:c},{formItem:"switch",id:"e2EnergyRegenBuff",name:"e2EnergyRegenBuff",text:"E2 ERR buff",title:"E2 ERR buff",content:"When the battle starts, the Trailblazer's Energy Regeneration Rate increases by 25%, lasting for 3 turn(s).",disabled:e<2}],R=[O(b,"backupDancer"),O(b,"superBreakDmg"),{formItem:"slider",id:"teammateBeValue",name:"teammateBeValue",text:"E4 Trailblazer's Combat BE",title:"E4 Trailblazer's Combat BE",content:"While the Trailblazer is on the field, increases the Break Effect of all teammates (excluding the Trailblazer), by an amount equal to 15% of the Trailblazer's Break Effect.",min:0,max:4,percent:!0,disabled:e<4}],S={skillHitsOnTarget:c,backupDancer:!0,superBreakDmg:!0,e2EnergyRegenBuff:!1};return{content:()=>b,teammateContent:()=>R,defaults:()=>S,teammateDefaults:()=>({backupDancer:!0,superBreakDmg:!0,teammateBeValue:2}),initializeConfigurations:(u,m)=>{m.characterConditionals.superBreakDmg&&(u.ENEMY_WEAKNESS_BROKEN=1)},initializeTeammateConfigurations:(u,m)=>{m.characterConditionals.superBreakDmg&&(u.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.ERR]+=e>=2&&f.e2EnergyRegenBuff?.25:0,u.BASIC_SCALING+=l,u.SKILL_SCALING+=o,u.SKILL_SCALING+=f.skillHitsOnTarget*o,u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=30*f.skillHitsOnTarget,u},precomputeMutualEffects:(u,m)=>{const f=m.characterConditionals;u[t.BE]+=f.backupDancer?r:0,u.SUPER_BREAK_HMC_MODIFIER+=f.backupDancer&&f.superBreakDmg?h[m.enemyCount]:0},precomputeTeammateEffects:(u,m)=>{const f=m.characterConditionals;u[t.BE]+=e>=4?.15*f.teammateBeValue:0},finalizeCalculations:u=>ke(u),gpuFinalizeCalculations:()=>He()}},no=e=>{const{basic:a,skill:i,ult:n}=te.SKILL_TALENT_3_ULT_BASIC_5,l=i(e,.5,.52),o=a(e,1,1.1),r=e>=1?.25:0,c=a(e,1.35,1.463),h=e>=1?.5:0,b=i(e,0,0),R=n(e,1,1.1),S=n(e,1.5,1.65),u=[{formItem:"switch",id:"enhancedBasic",name:"enhancedBasic",text:"Enhanced basic",title:"Enhanced basic",content:`Enhanced basic ATK deals Fire DMG equal to ${x(c*100)}% of the Trailblazer's ATK to a single enemy, and reduced damage to adjacent enemies.`},{formItem:"switch",id:"skillActive",name:"skillActive",text:"Skill DMG reduction",title:"Skill DMG reduction",content:`When the Skill is used, reduces DMG taken by ${x(l*100)}%. Also reduces DMG taken by all allies by 15% for 1 turn.`},{formItem:"switch",id:"shieldActive",name:"shieldActive",text:"Shield active",title:"Shield active",content:"When the shield is active, increases ATK by 15%."},{formItem:"slider",id:"e6DefStacks",name:"e6DefStacks",text:"E6 def stacks",title:"E6 def stacks: Increases DEF by 10%",content:"E6: Increases DEF by 10% per stack.",min:0,max:3,disabled:e<6}],m=[O(u,"skillActive")];return{content:()=>u,teammateContent:()=>m,defaults:()=>({enhancedBasic:!0,skillActive:!0,shieldActive:!0,e6DefStacks:3}),teammateDefaults:()=>({skillActive:!0}),precomputeEffects:(f,p)=>{const I=p.characterConditionals;return f[t.DEF_P]+=e>=6?I.e6DefStacks*.1:0,f[t.ATK_P]+=I.shieldActive?.15:0,f.SKILL_SCALING+=b,f.DMG_RED_MULTI*=I.skillActive?1-l:1,f.BASIC_TOUGHNESS_DMG+=I.basicEnhanced?60:30,f.ULT_TOUGHNESS_DMG+=60,f},precomputeMutualEffects:(f,p)=>{const I=p.characterConditionals;f.DMG_RED_MULTI*=I.skillActive?1-.15:1},finalizeCalculations:(f,p)=>{p.characterConditionals.enhancedBasic?(f.BASIC_DMG+=c*f[t.ATK],f.BASIC_DMG+=h*f[t.DEF]):(f.BASIC_DMG+=o*f[t.ATK],f.BASIC_DMG+=r*f[t.DEF]),f.SKILL_DMG+=f.SKILL_SCALING*f[t.ATK],f.ULT_DMG+=R*f[t.ATK],f.ULT_DMG+=S*f[t.DEF]},gpuFinalizeCalculations:f=>{const p=f.characterConditionals;return`
if (${pt(p.enhancedBasic)}) {
  x.BASIC_DMG += ${c} * x.ATK;
  x.BASIC_DMG += ${h} * x.DEF;
} else {
  x.BASIC_DMG += ${o} * x.ATK;
  x.BASIC_DMG += ${r} * x.DEF;
}      

x.SKILL_DMG += x.SKILL_SCALING * x.ATK;

x.ULT_DMG += ${R} * x.ATK;
x.ULT_DMG += ${S} * x.DEF;
    `}}},gu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_TALENT_3_SKILL_BASIC_5,o=i(e,.38,.408),r=l(e,.72,.792),c=a(e,1,1.1),h=a(e,2.4,2.64),b=i(e,0,0),R=n(e,2,2.16),S={1:le*(1*1/1),3:le*(2*1/1),5:le*(2*1/1)},u=le*(1*1/1);function m(p){return p.characterConditionals.basicEnhanced?S[p.enemyCount]:u}const f=[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:"Basic enhanced",title:"Basic enhanced",content:`Qingque's ATK increases by ${x(r*100)}%, and her Basic ATK "Flower Pick" is enhanced, becoming "Cherry on Top!"`},{formItem:"switch",id:"basicEnhancedSpdBuff",name:"basicEnhancedSpdBuff",text:"Basic enhanced SPD buff",title:"Basic enhanced SPD buff",content:"Qingque's SPD increases by 10% for 1 turn after using the Enhanced Basic ATK."},{formItem:"slider",id:"skillDmgIncreaseStacks",name:"skillDmgIncreaseStacks",text:"Skill DMG stacks",title:"Skill DMG stacks",content:`Immediately draws 2 jade tile(s) and increases DMG by ${x(o*100)}% until the end of the current turn. This effect can stack up to 4 time(s).`,min:0,max:4}];return{content:()=>f,teammateContent:()=>[],defaults:()=>({basicEnhanced:!0,basicEnhancedSpdBuff:!1,skillDmgIncreaseStacks:4}),teammateDefaults:()=>({}),precomputeEffects:(p,I)=>{const E=I.characterConditionals;return p[t.ATK_P]+=E.basicEnhanced?r:0,p[t.SPD_P]+=E.basicEnhancedSpdBuff?.1:0,p.BASIC_SCALING+=E.basicEnhanced?h:c,p.SKILL_SCALING+=b,p.ULT_SCALING+=R,p.FUA_SCALING+=e>=4?p.BASIC_SCALING:0,p.ELEMENTAL_DMG+=E.skillDmgIncreaseStacks*o,ne(p,We,.1,e>=1),p.BASIC_TOUGHNESS_DMG+=E.basicEnhanced?60:30,p.ULT_TOUGHNESS_DMG+=60,p.FUA_TOUGHNESS_DMG+=E.basicEnhanced?60:30,p},precomputeMutualEffects:(p,I)=>{},finalizeCalculations:(p,I)=>{Ft(p,I,m(I))},gpuFinalizeCalculations:p=>xt(m(p))}},pu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_TALENT_3_SKILL_BASIC_5,o=n(e,.25,.27),r=a(e,1,1.1),c=i(e,.32,.352),h=l(e,.1,.104),b=[{formItem:"switch",id:"skillOvertoneBuff",name:"skillOvertoneBuff",text:"Overtone buff",title:"Skill: String Sings Slow Swirls",content:`After using her Skill, Ruan Mei gains Overtone, lasting for 3 turn(s). This duration decreases by 1 at the start of Ruan Mei's turn. When Ruan Mei has Overtone, all allies' DMG increases by ${x(c*100)}% and Weakness Break Efficiency increases by 50%`},{formItem:"switch",id:"teamBEBuff",name:"teamBEBuff",text:"Team BE buff",title:"Trace: Inert Respiration",content:"Increases Break Effect by 20% for all allies."},{formItem:"switch",id:"ultFieldActive",name:"ultFieldActive",text:"Ult field active",title:"Ultimate: Petals to Stream, Repose in Dream",content:`While inside the field, all allies' All-Type RES PEN increases by ${x(o*100)}%.
    ::BR::
    E1: While the Ultimate's field is deployed, the DMG dealt by all allies ignores 20% of the target's DEF.`},{formItem:"switch",id:"e2AtkBoost",name:"e2AtkBoost",text:"E2 weakness ATK buff",title:"E2: Reedside Promenade",content:"E2: With Ruan Mei on the field, all allies increase their ATK by 40% when dealing DMG to enemies with Weakness Break.",disabled:e<2},{formItem:"switch",id:"e4BeBuff",name:"e4BeBuff",text:"E4 BE buff",title:"E4: Chatoyant Éclat",content:"E4: When an enemy target's Weakness is Broken, Ruan Mei's Break Effect increases by 100% for 3 turn(s).",disabled:e<4}],R=[O(b,"skillOvertoneBuff"),{formItem:"switch",id:"teamSpdBuff",name:"teamSpdBuff",text:"Team SPD buff",title:"Talent: Somatotypical Helix",content:`Increases SPD by ${x(h*100)}% for the team (excluding this character).`},O(b,"teamBEBuff"),{formItem:"slider",id:"teamDmgBuff",name:"teamDmgBuff",text:"BE to DMG buff",title:"Trace: Candle Lights on Still Waters",content:"In battle, for every 10% of Ruan Mei's Break Effect that exceeds 120%, her Skill additionally increases allies' DMG by 6%, up to a maximum of 36%.",min:0,max:.36,percent:!0},O(b,"ultFieldActive"),O(b,"e2AtkBoost")];return{content:()=>b,teammateContent:()=>R,defaults:()=>({skillOvertoneBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,e4BeBuff:!1}),teammateDefaults:()=>({skillOvertoneBuff:!0,teamSpdBuff:!0,teamBEBuff:!0,ultFieldActive:!0,e2AtkBoost:!1,teamDmgBuff:.36}),precomputeEffects:(S,u)=>{const m=u.characterConditionals;return S[t.ATK_P]+=e>=2&&m.e2AtkBoost?.4:0,S[t.BE]+=e>=4&&m.e4BeBuff?1:0,S.BASIC_SCALING+=r,S.BASIC_TOUGHNESS_DMG+=30,S},precomputeMutualEffects:(S,u)=>{const m=u.characterConditionals;S[t.BE]+=m.teamBEBuff?.2:0,S.ELEMENTAL_DMG+=m.skillOvertoneBuff?c:0,S.BREAK_EFFICIENCY_BOOST+=m.skillOvertoneBuff?.5:0,S.RES_PEN+=m.ultFieldActive?o:0,S.DEF_PEN+=e>=1&&m.ultFieldActive?.2:0},precomputeTeammateEffects:(S,u)=>{const m=u.characterConditionals;S[t.SPD_P]+=m.teamSpdBuff?h:0,S.ELEMENTAL_DMG+=m.teamDmgBuff,S[t.ATK_P]+=e>=2&&m.e2AtkBoost?.4:0,S.RATIO_BASED_ATK_P_BUFF+=e>=2&&m.e2AtkBoost?.4:0},finalizeCalculations:S=>ke(S),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[jd]}},Gu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=n(e,.3,.32),r=a(e,1,1.1),c=i(e,.56,.616),h=n(e,1.6,1.728),b=l(e,.52,.572),R=e<1?4:5,S=[{formItem:"switch",id:"targetDotTakenDebuff",name:"targetDotTakenDebuff",text:"Ult DoT taken debuff",title:"Ult Dot taken debuff",content:`When debuffed by Sampo's Ultimate, increase the targets' DoT taken by ${x(o*100)}% for 2 turn(s).`},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:"Skill extra hits",title:"Skill extra hits",content:"Number of extra hits from Skill.",min:1,max:R},{formItem:"switch",id:"targetWindShear",name:"targetWindShear",text:"Target has wind shear",title:"Target has wind shear",content:"Enemies with Wind Shear effect deal 15% less damage to Sampo."}],u=[O(S,"targetDotTakenDebuff")];return{content:()=>S,teammateContent:()=>u,defaults:()=>({targetDotTakenDebuff:!0,skillExtraHits:R,targetWindShear:!0}),teammateDefaults:()=>({targetDotTakenDebuff:!0}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m.BASIC_SCALING+=r,m.SKILL_SCALING+=c,m.SKILL_SCALING+=p.skillExtraHits*c,m.ULT_SCALING+=h,m.DOT_SCALING+=b,m.DOT_SCALING+=e>=6?.15:0,m.DMG_RED_MULTI*=p.targetWindShear?1-.15:1,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=30+15*p.skillExtraHits,m.ULT_TOUGHNESS_DMG+=60,m.DOT_CHANCE=.65,m},precomputeMutualEffects:(m,f)=>{const p=f.characterConditionals;la(m,Wa,o,p.targetDotTakenDebuff)},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He()}},Iu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=l(e,.8,.88),r=e>=2?2:1,c=a(e,1,1.1),h=i(e,2.2,2.42),b=n(e,4.25,4.59),R=[{formItem:"switch",id:"buffedState",name:"buffedState",text:"Buffed State",title:"Buffed State",content:`
      Enters the buffed state upon defeating an enemy with Basic ATK, Skill, or Ultimate, and receives an extra turn. While in the buffed state, the DMG of Seele's attacks increases by ${x(o*100)}% for 1 turn(s).
      ::BR::
      While Seele is in the buffed state, her Quantum RES PEN increases by 20%.
    `},{formItem:"slider",id:"speedBoostStacks",name:"speedBoostStacks",text:"Speed boost stacks",title:"Speed boost stacks",content:`Increases SPD by 25% per stack. Stacks up to ${x(r)} time(s).`,min:0,max:r},{formItem:"switch",id:"e1EnemyHp80CrBoost",name:"e1EnemyHp80CrBoost",text:"E1 Enemy HP ≤ 80% CR boost",title:"E1: Extirpating Slash",content:"E1: When dealing DMG to an enemy whose HP percentage is 80% or lower, CRIT Rate increases by 15%.",disabled:e<1},{formItem:"switch",id:"e6UltTargetDebuff",name:"e6UltTargetDebuff",text:"E6 Butterfly Flurry",title:"E6 Shattering Shambles",content:`E6: After Seele uses her Ultimate, inflict the target enemy with Butterfly Flurry for 1 turn(s). 
    Enemies suffering from Butterfly Flurry will take Additional Quantum DMG equal to 15% of Seele's Ultimate DMG every time they are attacked.`,disabled:e<6}];return{content:()=>R,teammateContent:()=>[],defaults:()=>({buffedState:!0,speedBoostStacks:r,e1EnemyHp80CrBoost:!1,e6UltTargetDebuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(S,u)=>{const m=u.characterConditionals;return S[t.CR]+=e>=1&&m.e1EnemyHp80CrBoost?.15:0,S[t.SPD_P]+=.25*m.speedBoostStacks,S.BASIC_SCALING+=c,S.SKILL_SCALING+=h,S.ULT_SCALING+=b,S.ELEMENTAL_DMG+=m.buffedState?o:0,S.RES_PEN+=m.buffedState?.2:0,S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=60,S.ULT_TOUGHNESS_DMG+=90,S},precomputeMutualEffects:(S,u)=>{},finalizeCalculations:(S,u)=>{const m=u.characterConditionals;S.BASIC_DMG+=S.BASIC_SCALING*S[t.ATK],S.SKILL_DMG+=S.SKILL_SCALING*S[t.ATK],S.ULT_DMG+=S.ULT_SCALING*S[t.ATK],S.BASIC_DMG+=e>=6&&m.e6UltTargetDebuff?.15*S.ULT_DMG:0,S.SKILL_DMG+=e>=6&&m.e6UltTargetDebuff?.15*S.ULT_DMG:0,S.ULT_DMG+=e>=6&&m.e6UltTargetDebuff?.15*S.ULT_DMG:0},gpuFinalizeCalculations:S=>{const u=S.characterConditionals;return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;

if (${pt(e>=6&&u.e6UltTargetDebuff)}) {
  x.BASIC_DMG += 0.15 * x.ULT_DMG;
  x.SKILL_DMG += 0.15 * x.ULT_DMG;
  x.ULT_DMG += 0.15 * x.ULT_DMG;
}
    `}}},Eu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=l(e,.72,.792),r=a(e,1,1.1),c=i(e,1.4,1.54),h=n(e,1.8,1.944),b=i(e,1.04,1.144),R=[{formItem:"switch",id:"targetShocked",name:"targetShocked",text:"Target shocked",title:"Target shocked",content:`After Serval attacks, deals Additional Lightning DMG equal to ${x(o*100)}% of Serval's ATK to all Shocked enemies.`},{formItem:"switch",id:"enemyDefeatedBuff",name:"enemyDefeatedBuff",text:"Enemy defeated buff",title:"Enemy defeated buff",content:"Upon defeating an enemy, ATK increases by 20% for 2 turn(s)."}];return{content:()=>R,teammateContent:()=>[],defaults:()=>({targetShocked:!0,enemyDefeatedBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(S,u)=>{const m=u.characterConditionals;return S[t.ATK_P]+=m.enemyDefeatedBuff?.2:0,S.BASIC_SCALING+=r,S.SKILL_SCALING+=c,S.ULT_SCALING+=h,S.DOT_SCALING+=b,S.BASIC_SCALING+=m.targetShocked?o:0,S.SKILL_SCALING+=m.targetShocked?o:0,S.ULT_SCALING+=m.targetShocked?o:0,S.ELEMENTAL_DMG+=e>=6&&m.targetShocked?.3:0,S.BASIC_TOUGHNESS_DMG+=30,S.SKILL_TOUGHNESS_DMG+=60,S.ULT_TOUGHNESS_DMG+=60,S.DOT_CHANCE=.65,S},precomputeMutualEffects:(S,u)=>{},finalizeCalculations:S=>ke(S),gpuFinalizeCalculations:()=>He()}},Tu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=i(e,.1,.105),r=l(e,.08,.088),c=n(e,.45,.468),h=a(e,1,1.1),b=i(e,1.96,2.156),R=n(e,3.8,4.104),S=[{formItem:"switch",id:"skillResShredDebuff",name:"skillResShredDebuff",text:"Skill All-Type RES shred",title:"Skill: Allow Changes? RES Shred",content:`Decreases the target's All-Type RES of the enemy by ${x(o*100)}% for 2 turn(s).
    ::BR::If there are 3 or more debuff(s) affecting the enemy when the Skill is used, then the Skill decreases the enemy's All-Type RES by an additional 3%.`},{formItem:"switch",id:"skillWeaknessResShredDebuff",name:"skillWeaknessResShredDebuff",text:"Skill weakness implanted RES shred",title:"Skill weakness implanted RES shred",content:"There is a chance to add 1 Weakness of an on-field character's Type to the target enemy. This also reduces the enemy's DMG RES to that Weakness Type by 20% for 2 turn(s). If the enemy already has that Type Weakness, the effect of DMG RES reduction to that Weakness Type will not be triggered."},{formItem:"switch",id:"talentDefShredDebuff",name:"talentDefShredDebuff",text:"Bug DEF shred",title:"Talent: Awaiting System Response... DEF shred",content:`Silver Wolf's bug reduces the target's DEF by ${x(r*100)}% for 3 turn(s).`},{formItem:"switch",id:"ultDefShredDebuff",name:"ultDefShredDebuff",text:"Ult DEF shred",title:"Ult: User Banned DEF shred",content:`Decreases the target's DEF by ${x(c*100)}% for 3 turn(s).`},{formItem:"slider",id:"targetDebuffs",name:"targetDebuffs",text:"Target debuffs",title:"Target debuffs",content:`
      If there are 3 or more debuff(s) affecting the enemy when the Skill is used, then the Skill decreases the enemy's All-Type RES by an additional 3%.
      ::BR::
      E4: After using her Ultimate to attack enemies, deals Additional Quantum DMG equal to 20% of Silver Wolf's ATK for every debuff currently on the enemy target. This effect can be triggered for a maximum of 5 time(s) during each use of her Ultimate.
      ::BR::
      E6: For every debuff the target enemy has, the DMG dealt by Silver Wolf increases by 20%, up to a limit of 100%.
    `,min:0,max:5}],u=[O(S,"skillResShredDebuff"),O(S,"skillWeaknessResShredDebuff"),O(S,"talentDefShredDebuff"),O(S,"ultDefShredDebuff"),O(S,"targetDebuffs")];return{content:()=>S,teammateContent:()=>u,defaults:()=>({skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5}),teammateDefaults:()=>({skillWeaknessResShredDebuff:!1,skillResShredDebuff:!0,talentDefShredDebuff:!0,ultDefShredDebuff:!0,targetDebuffs:5}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;return m.BASIC_SCALING+=h,m.SKILL_SCALING+=b,m.ULT_SCALING+=R,m.ULT_SCALING+=e>=4?p.targetDebuffs*.2:0,m.ELEMENTAL_DMG+=e>=6?p.targetDebuffs*.2:0,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=90,m},precomputeMutualEffects:(m,f)=>{const p=f.characterConditionals;m.RES_PEN+=p.skillWeaknessResShredDebuff?.2:0,m.RES_PEN+=p.skillResShredDebuff?o:0,m.RES_PEN+=p.skillResShredDebuff&&p.targetDebuffs>=3?.03:0,m.DEF_PEN+=p.ultDefShredDebuff?c:0,m.DEF_PEN+=p.talentDefShredDebuff?r:0},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He()}},Du=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=i(e,.24,.264),r=i(e,.45,.486),c=n(e,.1,.108),h=l(e,.06,.066),b=a(e,1,1.1),R=i(e,0,0),S=n(e,0,0),u={0:0,1:.05,2:.15,3:.3},m=[{formItem:"switch",id:"skillCdBuff",name:"skillCdBuff",text:"Skill CD buff",title:"Skill: Dreamdiver",content:`Increases the CRIT DMG of a single ally by ${x(o*100)}% of Sparkle's CRIT DMG plus ${x(r*100)}%, lasting for 1 turn(s).
    ::BR::
    E6: The CRIT DMG Boost effect of Sparkle's Skill additionally increases by 30% of Sparkle's CRIT DMG, and when she uses her Skill, the CRIT DMG Boost effect will apply to all allies currently with Cipher. When Sparkle uses her Ultimate, this effect will spread to all allies with Cipher should the allied target have the CRIT DMG increase effect provided by the Skill active on them.`},{formItem:"switch",id:"cipherBuff",name:"cipherBuff",text:"Cipher buff",title:"Ultimate: The Hero with a Thousand Faces",content:`When allies with Cipher trigger the DMG Boost effect provided by Sparkle's Talent, each stack additionally increases its effect by ${x(c*100)}%, lasting for 2 turns.
    ::BR::
    E1: The Cipher effect applied by the Ultimate lasts for 1 extra turn. All allies affected by Cipher have their ATK increased by 40%.`},{formItem:"slider",id:"talentStacks",name:"talentStacks",text:"Talent DMG stacks",title:"Talent: Red Herring",content:`Whenever an ally consumes 1 Skill Point, all allies' DMG increases by ${x(h*100)}%. This effect lasts for 2 turn(s) and can stack up to 3 time(s).
    ::BR::
    E2: Each Talent stack allows allies to ignore 8% of the enemy target's DEF when dealing DMG to enemies.`,min:0,max:3},{formItem:"slider",id:"quantumAllies",name:"quantumAllies",text:"Quantum allies",title:"Trace: Nocturne",content:"When there are 1/2/3 Quantum allies in your team, Quantum-Type allies' ATK are increased by 5%/15%/30%.",min:0,max:3}],f=[O(m,"skillCdBuff"),{formItem:"slider",id:"teammateCDValue",name:"teammateCDValue",text:"Sparkle's Combat CD",title:"Skill: Dreamdiver",content:`Increases the CRIT DMG of a single ally by ${x(o*100)}% of Sparkle's CRIT DMG plus ${x(r*100)}%, lasting for 1 turn(s).`,min:0,max:3.5,percent:!0},O(m,"cipherBuff"),O(m,"talentStacks"),O(m,"quantumAllies")],p={skillCdBuff:!1,cipherBuff:!0,talentStacks:3,quantumAllies:3};return{content:()=>m,teammateContent:()=>f,defaults:()=>p,teammateDefaults:()=>({...p,skillCdBuff:!0,teammateCDValue:2.5}),precomputeEffects:(I,E)=>(I.BASIC_SCALING+=b,I.SKILL_SCALING+=R,I.ULT_SCALING+=S,I.BASIC_TOUGHNESS_DMG+=30,I),precomputeMutualEffects:(I,E)=>{const T=E.characterConditionals;I[t.ATK_P]+=.15+(E.PRIMARY_ELEMENTAL_DMG_TYPE==t.Quantum_DMG&&u[T.quantumAllies]||0),I[t.ATK_P]+=e>=1&&T.cipherBuff?.4:0,I.ELEMENTAL_DMG+=T.cipherBuff?T.talentStacks*(h+c):T.talentStacks*h,I.DEF_PEN+=e>=2?.08*T.talentStacks:0},precomputeTeammateEffects:(I,E)=>{const T=E.characterConditionals;I[t.CD]+=T.skillCdBuff?r+(o+(e>=6?.3:0))*T.teammateCDValue:0},finalizeCalculations:I=>ke(I),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[{id:"SparkleCdConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.CD],ratioConversion:!0,condition:function(){return!0},effect:function(I,E,T){if(!E.characterConditionals.skillCdBuff)return;const W=o+(e>=6?.3:0),B=T.conditionalState[this.id]||0,F=I[t.CD]-I.RATIO_BASED_CD_BUFF,L=W*F+r,M=W*B+r;T.conditionalState[this.id]=I[t.CD];const H=L-(B?M:0);I.RATIO_BASED_CD_BUFF+=H,je(I,E,T,t.CD,H)},gpu:function(I,E){const T=I.characterConditionals,D=o+(e>=6?.3:0);return Ve(this,`
if (${Xt(T.skillCdBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).SparkleCdConditional;
let convertibleCdValue: f32 = (*p_x).CD - (*p_x).RATIO_BASED_CD_BUFF;

var buffCD: f32 = ${D} * convertibleCdValue + ${r};
var stateBuffCD: f32 = ${D} * stateValue + ${r};

(*p_state).SparkleCdConditional = (*p_x).CD;

let finalBuffCd = buffCD - select(0, stateBuffCD, stateValue > 0);
(*p_x).RATIO_BASED_CD_BUFF += finalBuffCd;

buffNonRatioDynamicCD(finalBuffCd, p_x, p_state);
    `)}}]}},Zu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_TALENT_3_SKILL_BASIC_5,o=l(e,.2,.21),r=n(e,.3,.324),c=e>=6?2:1,h=a(e,1,1.1),b=i(e,2.1,2.31),R=i(e,1,1.1),S=n(e,3.2,3.456),u=[{formItem:"switch",id:"ultBuffedState",name:"ultBuffedState",text:"Ult buffed state",title:"Ult buffed state",content:`Sushang's ATK increases by ${x(r*100)}% and using her Skill has 2 extra chances to trigger Sword Stance for 2 turn(s).
    Sword Stance triggered from the extra chances deals 50% of the original DMG.`},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:"Skill extra hits",title:"Skill extra hits",content:"Increases the number of Sword Stance extra hits of the Skill.",min:0,max:3},{formItem:"slider",id:"skillTriggerStacks",name:"skillTriggerStacks",text:"Skill trigger stacks",title:"Skill trigger stacks",content:"For every Sword Stance triggered, the DMG dealt by Sword Stance increases by 2.5%. Stacks up to 10 time(s).",min:0,max:10},{formItem:"slider",id:"talentSpdBuffStacks",name:"talentSpdBuffStacks",text:"Talent SPD buff stacks",title:"Talent SPD buff stacks",content:`When an enemy has their Weakness Broken on the field, Sushang's SPD increases by ${x(o*100)}% per stack for 2 turn(s).
    ::BR::
    E6: Talent's SPD Boost is stackable and can stack up to 2 times.`,min:0,max:c},{formItem:"switch",id:"e2DmgReductionBuff",name:"e2DmgReductionBuff",text:"E2 DMG reduction buff",title:"E2 DMG reduction buff",content:"E2: After triggering Sword Stance, the DMG taken by Sushang is reduced by 20% for 1 turn.",disabled:e<2}];return{content:()=>u,teammateContent:()=>[],defaults:()=>({ultBuffedState:!0,e2DmgReductionBuff:!0,skillExtraHits:3,skillTriggerStacks:10,talentSpdBuffStacks:c}),teammateDefaults:()=>({}),precomputeEffects:(m,f)=>{const p=f.characterConditionals;m[t.BE]+=e>=4?.4:0,m[t.ATK_P]+=p.ultBuffedState?r:0,m[t.SPD_P]+=p.talentSpdBuffStacks*o;const I=b;let E=0;E+=p.skillExtraHits>=1?R:0,E+=p.ultBuffedState&&p.skillExtraHits>=2?R*.5:0,E+=p.ultBuffedState&&p.skillExtraHits>=3?R*.5:0;const T=E/(E+I);return m.BASIC_SCALING+=h,m.SKILL_SCALING+=I,m.SKILL_SCALING+=E,m.ULT_SCALING+=S,ne(m,_e,p.skillTriggerStacks*.025*T),m.DMG_RED_MULTI*=e>=2&&p.e2DmgReductionBuff?1-.2:1,m.BASIC_TOUGHNESS_DMG+=30,m.SKILL_TOUGHNESS_DMG+=60,m.ULT_TOUGHNESS_DMG+=90,m},precomputeMutualEffects:(m,f)=>{},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He()}},Cu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=i(e,.25,.27),r=n(e,.5,.56),c=i(e,.5,.55),h=i(e,.4,.44)+(e>=4?.2:0),b=l(e,.6,.66)+(e>=4?.2:0),R=a(e,1,1.1),S=i(e,0,0),u=n(e,0,0),m=[{formItem:"switch",id:"benedictionBuff",name:"benedictionBuff",text:"Benediction buff",title:"Benediction buff",content:`Grants a single ally with Benediction to increase their ATK by ${x(c*100)}%, up to ${x(o*100)}% of Tingyun's current ATK. When the ally with Benediction attacks, it deals lightning damage equal to ${x(h*100)}% of that ally's ATK. This effect lasts for 3 turns.`},{formItem:"switch",id:"skillSpdBuff",name:"skillSpdBuff",text:"Skill SPD buff",title:"Skill SPD buff",content:"Tingyun's SPD increases by 20% for 1 turn after using Skill."},{formItem:"switch",id:"ultDmgBuff",name:"ultDmgBuff",text:"Ult DMG buff",title:"Ult DMG buff",content:`Regenerates 50 Energy for a single ally and increases the target's DMG by ${x(r*100)}% for 2 turn(s).`},{formItem:"switch",id:"ultSpdBuff",name:"ultSpdBuff",text:"E1 ult SPD buff",title:"E1 ult SPD buff",content:"E1: After using their Ultimate, the ally with Benediction gains a 20% increase in SPD for 1 turn.",disabled:e<1}],f=[O(m,"benedictionBuff"),{formItem:"slider",id:"teammateAtkBuffValue",name:"teammateAtkBuffValue",text:"Skill ATK buff value",title:"Benediction buff",content:`Grants a single ally with Benediction to increase their ATK by ${x(c*100)}%, up to ${x(o*100)}% of Tingyun's current ATK. When the ally with Benediction attacks, it deals lightning damage equal to ${x(h*100)}% of that ally's ATK. This effect lasts for 3 turns.`,min:0,max:c,percent:!0},O(m,"ultDmgBuff"),O(m,"ultSpdBuff")];return{content:()=>m,teammateContent:()=>f,defaults:()=>({benedictionBuff:!1,skillSpdBuff:!1,ultSpdBuff:!1,ultDmgBuff:!1}),teammateDefaults:()=>({benedictionBuff:!0,ultSpdBuff:!1,ultDmgBuff:!0,teammateAtkBuffValue:c}),precomputeEffects:(p,I)=>{const E=I.characterConditionals;return p[t.SPD_P]+=E.skillSpdBuff?.2:0,p.BASIC_SCALING+=R,p.SKILL_SCALING+=S,p.ULT_SCALING+=u,ne(p,ht,.4),p.BASIC_TOUGHNESS_DMG+=30,p},precomputeMutualEffects:(p,I)=>{const E=I.characterConditionals;p[t.SPD_P]+=e>=1&&E.ultSpdBuff?.2:0,p.ELEMENTAL_DMG+=E.ultDmgBuff?r:0},precomputeTeammateEffects:(p,I)=>{const E=I.characterConditionals;p[t.ATK_P]+=E.benedictionBuff?E.teammateAtkBuffValue:0},finalizeCalculations:(p,I)=>{const E=I.characterConditionals;p.BASIC_DMG+=p.BASIC_SCALING*p[t.ATK]+(E.benedictionBuff?h+b:0)*p[t.ATK],p.SKILL_DMG+=p.SKILL_SCALING*p[t.ATK],p.ULT_DMG+=p.ULT_SCALING*p[t.ATK]},gpuFinalizeCalculations:p=>{const I=p.characterConditionals;return`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
if (${pt(I.benedictionBuff)}) {
  x.BASIC_DMG += (${h+b}) * x.ATK;
}

x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
    `},dynamicConditionals:[{id:"TingyunAtkConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.ATK],ratioConversion:!0,condition:function(){return!0},effect:function(p,I,E){if(!I.characterConditionals.benedictionBuff)return;const D=E.conditionalState[this.id]||0,W=p[t.ATK]-p.RATIO_BASED_ATK_BUFF,B=o*W,F=o*D;E.conditionalState[this.id]=p[t.ATK];const L=B-(D?F:0);p.RATIO_BASED_ATK_BUFF+=L,je(p,I,E,t.ATK,L)},gpu:function(p,I){const E=p.characterConditionals;return Ve(this,`
if (${Xt(E.benedictionBuff)}) {
  return;
}

let stateValue: f32 = (*p_state).TingyunAtkConditional;
let convertibleAtkValue: f32 = (*p_x).ATK - (*p_x).RATIO_BASED_ATK_BUFF;

var buffATK: f32 = ${o} * convertibleAtkValue;
var stateBuffATK: f32 = ${o} * stateValue;

(*p_state).TingyunAtkConditional = (*p_x).ATK;

let finalBuffAtk = buffATK - select(0, stateBuffATK, stateValue > 0);
(*p_x).RATIO_BASED_ATK_BUFF += finalBuffAtk;

buffNonRatioDynamicATK(finalBuffAtk, p_x, p_state);
    `)}}]}},Bu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=e>=6?3:2,r=a(e,1,1.1),c=i(e,.72,.792),h=n(e,1.5,1.62),b=l(e,.6,.66),R=[{formItem:"switch",id:"enemyDmgTakenDebuff",name:"enemyDmgTakenDebuff",text:"Ult vulnerability debuff",title:"Retribution",content:"When using Ultimate, there is a 100% base chance to increase the DMG received by the targets by 12% for 2 turn(s)."},{formItem:"switch",id:"enemySlowed",name:"enemySlowed",text:"Enemy slowed",title:"Time Distortion",content:`When hitting an enemy that is already Slowed, Welt deals Additional Imaginary DMG equal to ${x(b*100)}% of his ATK to the enemy.`},{formItem:"slider",id:"skillExtraHits",name:"skillExtraHits",text:"Skill extra hits on target",title:"Edge of the Void",content:`Deals Imaginary DMG equal to ${x(c*100)}% of Welt's ATK to a single enemy and further deals DMG 2 extra times, with each time dealing Imaginary DMG equal to ${x(c*100)}% of Welt's ATK to a random enemy.`,min:0,max:o},{formItem:"switch",id:"e1EnhancedState",name:"e1EnhancedState",text:"E1 enhanced state",title:"E1 Legacy of Honor",content:"E1: After Welt uses his Ultimate, his abilities are enhanced. The next 2 time(s) he uses his Basic ATK or Skill, deals Additional DMG to the target equal to 50% of his Basic ATK's DMG multiplier or 80% of his Skill's DMG multiplier respectively.",disabled:e<1}],S=[O(R,"enemyDmgTakenDebuff")];return{content:()=>R,teammateContent:()=>S,defaults:()=>({enemySlowed:!0,enemyDmgTakenDebuff:!0,skillExtraHits:o,e1EnhancedState:!0}),teammateDefaults:()=>({enemyDmgTakenDebuff:!0}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u.ELEMENTAL_DMG+=u.ENEMY_WEAKNESS_BROKEN?.2:0,u.BASIC_SCALING+=r,u.SKILL_SCALING+=c,u.ULT_SCALING+=h,u.BASIC_SCALING+=f.enemySlowed?b:0,u.SKILL_SCALING+=f.enemySlowed?b:0,u.ULT_SCALING+=f.enemySlowed?b:0,u.BASIC_SCALING+=e>=1&&f.e1EnhancedState?.5*r:0,u.SKILL_SCALING+=e>=1&&f.e1EnhancedState?.8*c:0,u.SKILL_SCALING+=f.skillExtraHits*c,u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=30+30*f.skillExtraHits,u.ULT_TOUGHNESS_DMG+=60,u},precomputeMutualEffects:(u,m)=>{const f=m.characterConditionals;u.VULNERABILITY+=f.enemyDmgTakenDebuff?.12:0},finalizeCalculations:u=>ke(u),gpuFinalizeCalculations:()=>He()}},yu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=n(e,.6,.648),r=a(e,1,1.1),c=i(e,1.4,1.54),h=n(e,2.5,2.7),b=l(e,.9,.99),R={0:0,1:le*(1*1/1),2:le*(1*1/2+2*1/2),3:le*(1*1/3+2*1/3+3*1/3)},S=[{id:"beToDmgBoost",name:"beToDmgBoost",text:"BE to DMG boost",formItem:"switch",title:"Clairvoyant Loom",content:"Increases DMG dealt by this unit by an amount equal to 100% of Break Effect, up to a maximum DMG increase of 240%."},{id:"enemyToughness50",name:"enemyToughness50",text:"Intrepid Rollerbearings",formItem:"switch",title:"Intrepid Rollerbearings",content:"If the enemy target's Toughness is equal to or higher than 50% of their Max Toughness, deals 10% more DMG when using Ultimate."},{id:"toughnessReductionDmgBoost",name:"toughnessReductionDmgBoost",text:"Ultimate DMG boost",formItem:"slider",title:"Ultimate: Divine Castigation",content:`When using Ultimate, the more Toughness is reduced, the higher the DMG will be dealt, up to a max of ${x(o*100)}% increase.`,min:0,max:o,percent:!0},{id:"fuaHits",name:"fuaHits",text:"FUA hits",formItem:"slider",title:"Talent: Karmic Perpetuation",content:`When Karma reaches the max number of stacks, consumes all current Karma stacks and immediately launches a follow-up attack against an enemy target, 
      dealing DMG for 3 times, with each time dealing Quantum DMG equal to ${x(b*100)}% of Xueyi's ATK to a single random enemy.`,min:0,max:3},{id:"e4BeBuff",name:"e4BeBuff",text:"E4 BE buff",formItem:"switch",title:"E4 break effect buff",content:"E4: When using Ultimate, increases Break Effect by 40% for 2 turn(s).",disabled:e<4}];return{content:()=>S,teammateContent:()=>[],defaults:()=>({beToDmgBoost:!0,enemyToughness50:!0,toughnessReductionDmgBoost:o,fuaHits:3,e4BeBuff:!0}),teammateDefaults:()=>({}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.BE]+=e>=4&&f.e4BeBuff?.4:0,u.BASIC_SCALING+=r,u.SKILL_SCALING+=c,u.ULT_SCALING+=h,u.FUA_SCALING+=b*f.fuaHits,ne(u,We,f.toughnessReductionDmgBoost),ne(u,We,.1,f.enemyToughness50),ne(u,Te,.4,e>=1),u.BASIC_TOUGHNESS_DMG+=30,u.SKILL_TOUGHNESS_DMG+=60,u.ULT_TOUGHNESS_DMG+=120,u.FUA_TOUGHNESS_DMG+=15*f.fuaHits,u},precomputeMutualEffects:(u,m)=>{},finalizeCalculations:(u,m)=>{Ft(u,m,R[m.characterConditionals.fuaHits])},gpuFinalizeCalculations:u=>xt(R[u.characterConditionals.fuaHits]),dynamicConditionals:[Hd]}},Wu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=n(e,.5,.54),r=n(e,.3,.33),c=n(e,.2,.21),h=a(e,1,1.1),b=i(e,2.2,2.42),R=n(e,3.5,3.78),S=l(e,.5,.55),u=le*(1*1/1),m=[{formItem:"switch",id:"ultBuffActive",name:"ultBuffActive",text:"Ult buff active",title:"Ult buff active",content:`Increases Yanqing's CRIT Rate by 60%. When Soulsteel Sync is active, increases Yanqing's CRIT DMG by an extra ${x(o*100)}%.`},{formItem:"switch",id:"soulsteelBuffActive",name:"soulsteelBuffActive",text:"Soulsteel buff active",title:"Soulsteel buff active",content:`When Soulsteel Sync is active, Yanqing's CRIT Rate increases by ${x(c*100)}% and his CRIT DMG increases by ${x(r*100)}%. 
    ::BR::
    Before using Ultimate, when Soulsteel Sync is active, increases Yanqing's CRIT DMG by an extra ${x(o*100)}%.
    ::BR::
    When Soulsteel Sync is active, Effect RES increases by 20%.
    ::BR::
    E2: When Soulsteel Sync is active, Energy Regeneration Rate increases by an extra 10%.
    `},{formItem:"switch",id:"critSpdBuff",name:"critSpdBuff",text:"Crit spd buff",title:"Crit spd buff",content:"When a CRIT Hit is triggered, increases SPD by 10% for 2 turn(s)."},{formItem:"switch",id:"e1TargetFrozen",name:"e1TargetFrozen",text:"E1 target frozen",title:"E1 target frozen",content:"When Yanqing attacks a Frozen enemy, he deals Additional Ice DMG equal to 60% of his ATK.",disabled:e<1},{formItem:"switch",id:"e4CurrentHp80",name:"e4CurrentHp80",text:"E4 self HP ≥ 80% RES PEN buff",title:"E4 self HP ≥ 80% RES PEN buff",content:"When the current HP percentage is 80% or higher, Ice RES PEN increases by 12%.",disabled:e<4}];return{content:()=>m,teammateContent:()=>[],defaults:()=>({ultBuffActive:!0,soulsteelBuffActive:!0,critSpdBuff:!0,e1TargetFrozen:!0,e4CurrentHp80:!0}),teammateDefaults:()=>({}),precomputeEffects:(f,p)=>{const I=p.characterConditionals;return f[t.CR]+=I.ultBuffActive?.6:0,f[t.CD]+=I.ultBuffActive&&I.soulsteelBuffActive?o:0,f[t.CR]+=I.soulsteelBuffActive?c:0,f[t.CD]+=I.soulsteelBuffActive?r:0,f[t.RES]+=I.soulsteelBuffActive?.2:0,f[t.SPD_P]+=I.critSpdBuff?.1:0,f[t.ERR]+=e>=2&&I.soulsteelBuffActive?.1:0,f.BASIC_SCALING+=h,f.SKILL_SCALING+=b,f.ULT_SCALING+=R,f.FUA_SCALING+=S,f.BASIC_SCALING+=p.enemyElementalWeak?.3:0,f.SKILL_SCALING+=p.enemyElementalWeak?.3:0,f.ULT_SCALING+=p.enemyElementalWeak?.3:0,f.FUA_SCALING+=p.enemyElementalWeak?.3:0,f.BASIC_SCALING+=e>=1&&I.e1TargetFrozen?.6:0,f.SKILL_SCALING+=e>=1&&I.e1TargetFrozen?.6:0,f.ULT_SCALING+=e>=1&&I.e1TargetFrozen?.6:0,f.FUA_SCALING+=e>=1&&I.e1TargetFrozen?.6:0,f.ICE_RES_PEN+=e>=4&&I.e4CurrentHp80?.12:0,f.BASIC_TOUGHNESS_DMG+=30,f.SKILL_TOUGHNESS_DMG+=60,f.ULT_TOUGHNESS_DMG+=90,f.FUA_TOUGHNESS_DMG+=30,f},precomputeMutualEffects:(f,p)=>{},finalizeCalculations:(f,p)=>{Ft(f,p,u)},gpuFinalizeCalculations:f=>xt(u)}},Mu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=i(e,.8,.88),r=i(e,.65,.702),c=i(e,.28,.294),h=l(e,.8,.88),b=a(e,1,1.1),R=i(e,0,0),S=n(e,3.8,4.104),u=[{formItem:"switch",id:"teamImaginaryDmgBoost",name:"teamImaginaryDmgBoost",text:"Team Imaginary DMG boost",title:"Trace: Bowmaster",content:"When Yukong is on the field, Imaginary DMG dealt by all allies increases by 12%."},{formItem:"switch",id:"roaringBowstringsActive",name:"roaringBowstringsActive",text:"Roaring Bowstrings",title:"Roaring Bowstrings",content:`When "Roaring Bowstrings" is active, the ATK of all allies increases by ${x(o*100)}%.
    ::BR::
    E4: When "Roaring Bowstrings" is active, Yukong deals 30% more DMG to enemies.`},{formItem:"switch",id:"ultBuff",name:"ultBuff",text:"Ult CR/CD buffs",title:"Ult: Diving Kestrel",content:`If "Roaring Bowstrings" is active on Yukong when her Ultimate is used, additionally increases all allies' CRIT Rate by ${x(c*100)}% and CRIT DMG by ${x(r*100)}%. At the same time, deals Imaginary DMG equal to ${x(S*100)}% of Yukong's ATK to a single enemy.`},{formItem:"switch",id:"initialSpeedBuff",name:"initialSpeedBuff",text:"E1 Initial SPD buff",title:"E1 Initial SPD buff",content:"E1: At the start of battle, increases the SPD of all allies by 10% for 2 turn(s).",disabled:e<1}],m=[O(u,"teamImaginaryDmgBoost"),O(u,"roaringBowstringsActive"),O(u,"ultBuff"),O(u,"initialSpeedBuff")];return{content:()=>u,teammateContent:()=>m,defaults:()=>({teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0}),teammateDefaults:()=>({teamImaginaryDmgBoost:!0,roaringBowstringsActive:!0,ultBuff:!0,initialSpeedBuff:!0}),precomputeEffects:(f,p)=>{const I=p.characterConditionals;return f.BASIC_SCALING+=b,f.BASIC_SCALING+=h,f.SKILL_SCALING+=R,f.ULT_SCALING+=S,f.ELEMENTAL_DMG+=e>=4&&I.roaringBowstringsActive?.3:0,f.BASIC_TOUGHNESS_DMG+=30,f.ULT_TOUGHNESS_DMG+=90,f},precomputeMutualEffects:(f,p)=>{const I=p.characterConditionals;f[t.ATK_P]+=I.roaringBowstringsActive?o:0,f[t.CR]+=I.ultBuff&&I.roaringBowstringsActive?c:0,f[t.CD]+=I.ultBuff&&I.roaringBowstringsActive?r:0,f[t.SPD_P]+=e>=1&&I.initialSpeedBuff?.1:0,f[t.Imaginary_DMG]+=I.teamImaginaryDmgBoost?.12:0},finalizeCalculations:f=>ke(f),gpuFinalizeCalculations:()=>He()}},Vu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=a(e,1,1.1),r=i(e,1.6,1.76),c=n(e,.24,.2592),h=n(e,.15,.162),b=n(e,1.2,1.296),R=.25,S=l(e,.2,.22),u=9,m=e>=2?1:2,f={0:0,1:e>=2?.6:.15,2:.6},p=[{formItem:"slider",id:"crimsonKnotStacks",name:"crimsonKnotStacks",text:"Crimson Knot stacks",title:"Slashed Dream Cries in Red",content:`
      Rainblade: Deals Lightning DMG equal to ${x(c*100)}% of Acheron's ATK to a single target enemy and removes up to 3 stacks of Crimson Knot from the target. When Crimson Knot is removed, immediately deals Lightning DMG equal to ${x(h*100)}% of Acheron's ATK to all enemies. For every stack of Crimson Knot removed, the DMG Multiplier for this is additionally increased.
      ::BR::
      When the Rainblade from Acheron's Ultimate hits enemy targets with Crimson Knot, her DMG increases by 30%, stacking up to 3 time(s).
      `,min:0,max:u},{formItem:"slider",id:"nihilityTeammates",name:"nihilityTeammates",text:"Nihility teammates",title:"The Abyss",content:`When there are 1 or 2 Nihility characters other than Acheron in the team, the DMG dealt by Acheron's Basic ATK, Skill, and Ultimate increases to 115% or 160% of the original DMG respectively.
      ::BR::
      E2: The number of Nihility characters required for the Trace "The Abyss" to achieve its highest possible effect is reduced by 1. When this unit's turn starts, gains 1 point of Slashed Dream and inflicts 1 stack of Crimson Knot on the enemy with the most Crimson Knot stacks.
      `,min:0,max:m},{formItem:"slider",id:"thunderCoreStacks",name:"thunderCoreStacks",text:"Thunder Core stacks",title:"Thunder Core",content:"When the Rainblade from Acheron's Ultimate hits enemy targets with Crimson Knot, her DMG increases by 30%, stacking up to 3 time(s) and lasting for 3 turn(s).",min:0,max:3},{formItem:"slider",id:"stygianResurgeHitsOnTarget",name:"stygianResurgeHitsOnTarget",text:"Stygian Resurge hits",title:"Thunder Core",content:"When Stygian Resurge triggers, additionally deals DMG for 6 times. Each time deals Lightning DMG equal to 25% of Acheron's ATK to a single random enemy and is viewed as part of the Ultimate DMG.",min:0,max:6},{formItem:"switch",id:"e1EnemyDebuffed",name:"e1EnemyDebuffed",text:"E1 CR boost",title:"E1: Silenced Sky Spake Sooth",content:"When dealing DMG to debuffed enemies, increases the CRIT Rate by 18%.",disabled:e<1},{formItem:"switch",id:"e4UltVulnerability",name:"e4UltVulnerability",text:"E4 ult vulnerability",title:"E4: Shrined Fire for Mirrored Soul",content:`
      When enemy targets enter combat, inflicts them with the Ultimate DMG Vulnerability, increasing the amount of Ultimate DMG they take by 8%.
      `,disabled:e<4},{formItem:"switch",id:"e6UltBuffs",name:"e6UltBuffs",text:"E6 ult buffs",title:"E6: Apocalypse, the Emancipator",content:`
      Increases the All-Type RES PEN for the Ultimate DMG dealt by Acheron by 20%. The DMG dealt by Basic ATK and Skill will also be considered as Ultimate DMG and can reduce enemy toughness regardless of Weakness Types. When breaking Weaknesses, triggers the Lightning Weakness Break effect.
      `,disabled:e<6}],I=[O(p,"e4UltVulnerability")];return{content:()=>p,teammateContent:()=>I,defaults:()=>({crimsonKnotStacks:u,nihilityTeammates:m,e1EnemyDebuffed:!0,thunderCoreStacks:3,stygianResurgeHitsOnTarget:6,e4UltVulnerability:!0,e6UltBuffs:!0}),teammateDefaults:()=>({e4UltVulnerability:!0}),initializeConfigurations:(E,T)=>{const D=T.characterConditionals;e>=6&&D.e6UltBuffs&&(E.BASIC_DMG_TYPE=We|ht,E.SKILL_DMG_TYPE=We|_e)},precomputeEffects:(E,T)=>{const D=T.characterConditionals;E[t.CR]+=e>=1&&D.e1EnemyDebuffed?.18:0,E.ELEMENTAL_DMG+=D.thunderCoreStacks*.3,Fs(E,We,S),Fs(E,We,.2,e>=6&&D.e6UltBuffs);const W=f[D.nihilityTeammates];return E.BASIC_ORIGINAL_DMG_BOOST+=W,E.SKILL_ORIGINAL_DMG_BOOST+=W,E.ULT_ORIGINAL_DMG_BOOST+=W,E.BASIC_SCALING=o,E.SKILL_SCALING=r,E.ULT_SCALING+=3*c,E.ULT_SCALING+=3*h,E.ULT_SCALING+=h*D.crimsonKnotStacks,E.ULT_SCALING+=b,E.ULT_SCALING+=D.stygianResurgeHitsOnTarget*R,E.BASIC_TOUGHNESS_DMG+=30,E.SKILL_TOUGHNESS_DMG+=60,E.ULT_TOUGHNESS_DMG+=105,E},precomputeMutualEffects:(E,T)=>{const D=T.characterConditionals;la(E,We,.08,e>=4&&D.e4UltVulnerability)},finalizeCalculations:E=>ke(E),gpuFinalizeCalculations:()=>He()}},Fu=e=>{const{basic:a,ult:i,talent:n}=te.ULT_BASIC_3_SKILL_TALENT_5,l=a(e,1,1.1),o=i(e,2.7,2.916),r=i(e,.15,.162),c=n(e,.25,.275),h=n(e,.5,.55),b=e>=4?10:7,R=[{formItem:"switch",id:"defToCrBoost",name:"defToCrBoost",text:"DEF to CR boost",title:"Leverage",content:"For every 100 of Aventurine's DEF that exceeds 1600, increases his own CRIT Rate by 2%, up to a maximum increase of 48%."},{formItem:"switch",id:"fortifiedWagerBuff",name:"fortifiedWagerBuff",text:"Fortified Wager buff",title:"Cornerstone Deluxe",content:`For any single ally with Fortified Wager, their Effect RES increases by ${x(h*100)}%, and when they get attacked, Aventurine gains 1 point of Blind Bet.
      ::BR::
      E1: Increases CRIT DMG by 20% for allies with Fortified Wager. After using the Ultimate, provides all allies with a Fortified Wager shield, whose Shield effect is equal to 100% of the one provided by the Skill, lasting for 3 turn(s).`},{formItem:"switch",id:"enemyUnnervedDebuff",name:"enemyUnnervedDebuff",text:"Enemy Unnerved",title:"Roulette Shark",content:`When an ally hits an Unnerved enemy target, the CRIT DMG dealt increases by ${x(r*100)}%.`},{formItem:"slider",id:"fuaHitsOnTarget",name:"fuaHitsOnTarget",text:"FUA hits on target",title:"Bingo!",content:`Upon reaching 7 points of Blind Bet, Aventurine consumes the 7 points to launch a 7-hit follow-up attack, with each hit dealing Imaginary DMG equal to ${x(c*100)}% of Aventurine's DEF to a single random enemy. Blind Bet is capped at 10 points.
      ::BR::
      E4: When triggering his Talent's follow-up attack, first increases Aventurine's DEF by 40% for 2 turn(s), and additionally increases the Hits Per Action for his talent's follow-up attack by 3.`,min:0,max:b},{formItem:"switch",id:"e2ResShred",name:"e2ResShred",text:"E2 RES shred",title:"E2: Bounded Rationality",content:"E2: When using the Basic ATK, reduces the target's All-Type RES by 12% for 3 turn(s).",disabled:e<2},{formItem:"switch",id:"e4DefBuff",name:"e4DefBuff",text:"E4 DEF buff",title:"E4: Unexpected Hanging Paradox",content:"E4: When triggering his Talent's follow-up attack, first increases Aventurine's DEF by 40% for 2 turn(s)",disabled:e<4},{formItem:"slider",id:"e6ShieldStacks",name:"e6ShieldStacks",text:"E6 shield stacks",title:"E6: Stag Hunt Game",content:"E6: For every ally that holds a Shield, the DMG dealt by Aventurine increases by 50%, up to a maximum of 150%.",min:0,max:3,disabled:e<6}],S=[O(R,"fortifiedWagerBuff"),O(R,"enemyUnnervedDebuff"),O(R,"e2ResShred")];return{content:()=>R,teammateContent:()=>S,defaults:()=>({defToCrBoost:!0,fuaHitsOnTarget:b,fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0,e4DefBuff:!0,e6ShieldStacks:3}),teammateDefaults:()=>({fortifiedWagerBuff:!0,enemyUnnervedDebuff:!0,e2ResShred:!0}),precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.DEF_P]+=e>=4&&f.e4DefBuff?.4:0,u.ELEMENTAL_DMG+=e>=6?Math.min(1.5,.5*f.e6ShieldStacks):0,u.BASIC_SCALING+=l,u.ULT_SCALING+=o,u.FUA_SCALING+=c*f.fuaHitsOnTarget,u.BASIC_TOUGHNESS_DMG+=30,u.ULT_TOUGHNESS_DMG+=90,u.FUA_TOUGHNESS_DMG+=10*f.fuaHitsOnTarget,u},precomputeMutualEffects:(u,m)=>{const f=m.characterConditionals;u[t.RES]+=f.fortifiedWagerBuff?h:0,u[t.CD]+=f.enemyUnnervedDebuff?r:0,u[t.CD]+=e>=1&&f.fortifiedWagerBuff?.2:0,u.RES_PEN+=e>=2&&f.e2ResShred?.12:0},finalizeCalculations:(u,m)=>{u.BASIC_DMG+=u.BASIC_SCALING*u[t.DEF],u.ULT_DMG+=u.ULT_SCALING*u[t.DEF],u.FUA_DMG+=u.FUA_SCALING*u[t.DEF]},gpuFinalizeCalculations:()=>`
x.BASIC_DMG += x.BASIC_SCALING * x.DEF;
x.ULT_DMG += x.ULT_SCALING * x.DEF;
x.FUA_DMG += x.FUA_SCALING * x.DEF;
      `,dynamicConditionals:[kd]}},xu=e=>{const{basic:a,talent:i}=te.SKILL_BASIC_3_ULT_TALENT_5,n=a(e,1,1.1),l=a(e,2.5,2.75),o=a(e,1.5,1.65),r=i(e,.12,.132),c=[{formItem:"switch",id:"basicEnhanced",name:"basicEnhanced",text:"Enhanced basic",title:"Nectar Blitz",content:"Ultimate enhances his next Basic ATK to Nectar Blitz."},{formItem:"switch",id:"breakEffectToOhbBoost",name:"breakEffectToOhbBoost",text:"BE to OHB boost",title:"Novel Concoction",content:"Increases this unit's Outgoing Healing by an amount equal to 50% of Break Effect, up to a maximum Outgoing Healing increase of 75%."},{formItem:"switch",id:"targetBesotted",name:"targetBesotted",text:"Target Besotted",title:"Target Besotted",content:`The Besotted state makes targets receive ${x(100*r)}% more Break DMG.`},{formItem:"switch",id:"e1ResBuff",name:"e1ResBuff",text:"E1 RES buff",title:"E1: Salty Dog",content:"When entering the battle, Gallagher regenerates 20 Energy and increases Effect RES by 50%.",disabled:e<1},{formItem:"switch",id:"e2ResBuff",name:"e2ResBuff",text:"E2 RES buff",title:"E2: Lion's Tail",content:"When using the Skill, removes 1 debuff(s) from the target ally. At the same time, increases their Effect RES by 30%, lasting for 2 turn(s).",disabled:e<2},{formItem:"switch",id:"e6BeBuff",name:"e6BeBuff",text:"E6 BE buff",title:"E6: Blood and Sand",content:"Increases Gallagher's Break Effect by 20% and Weakness Break Efficiency by 20%.",disabled:e<6}],h=[O(c,"targetBesotted")];return{content:()=>c,teammateContent:()=>h,defaults:()=>({basicEnhanced:!0,breakEffectToOhbBoost:!0,e1ResBuff:!0,e2ResBuff:!0,e6BeBuff:!0,targetBesotted:!0}),teammateDefaults:()=>({targetBesotted:!0}),precomputeEffects:(b,R)=>{const S=R.characterConditionals;return b[t.RES]+=e>=1&&S.e1ResBuff?.5:0,b[t.RES]+=e>=2&&S.e2ResBuff?.3:0,b[t.BE]+=e>=6?.2:0,b.BREAK_EFFICIENCY_BOOST+=e>=6?.2:0,b.BASIC_SCALING+=S.basicEnhanced?l:n,b.ULT_SCALING+=o,b.BASIC_TOUGHNESS_DMG+=S.basicEnhanced?90:30,b.ULT_TOUGHNESS_DMG+=60,b},precomputeMutualEffects:(b,R)=>{const S=R.characterConditionals;la(b,Ys,r,S.targetBesotted)},finalizeCalculations:b=>ke(b),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[Xd]}},Lu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_ULT_3_BASIC_TALENT_5,o=i(e,.5,.55),r=l(e,.2,.23),c=n(e,.228,.2432),h=n(e,200,230),b=a(e,1,1.1),R=n(e,1.2,1.296),S=[{formItem:"switch",id:"concertoActive",name:"concertoActive",text:"Concerto active",title:"Concerto active",content:`While in the Concerto state, increases all allies' ATK by ${x(c*100)}% of Robin's ATK plus ${h}. Moreover, after every attack by allies, Robin deals Additional Physical DMG equal to ${x(R*100)}% of her ATK for 1 time, with a fixed CRIT Rate for this damage set at 100% and fixed CRIT DMG set at 150%.`},{formItem:"switch",id:"skillDmgBuff",name:"skillDmgBuff",text:"Skill DMG buff",title:"Skill DMG buff",content:`Increase DMG dealt by all allies by ${x(o*100)}%, lasting for 3 turn(s).`},{formItem:"switch",id:"talentCdBuff",name:"talentCdBuff",text:"Talent CD buff",title:"Talent CD buff",content:`Increase all allies' CRIT DMG by ${x(r*100)}%.`},{formItem:"switch",id:"e1UltResPen",name:"e1UltResPen",text:"E1 Ult RES PEN",title:"E1 Ult RES PEN",content:"While the Concerto state is active, all allies' All-Type RES PEN increases by 24%.",disabled:e<1},{formItem:"switch",id:"e4TeamResBuff",name:"e4TeamResBuff",text:"E4 RES team buff",title:"E4 RES team buff",content:"When using the Ultimate, dispels Crowd Control debuffs from all allies. While Robin is in the Concerto state, increases the Effect RES of all allies by 50%.",disabled:e<4},{formItem:"switch",id:"e6UltCDBoost",name:"e6UltCDBoost",text:"E6 Ult DMG CD boost",title:"E6 Ult DMG CD boost",content:"While the Concerto state is active, the CRIT DMG for the Additional Physical DMG caused by the Ultimate increases by 450%. The effect of Moonless Midnight can trigger up to 8 time(s). And the trigger count resets each time the Ultimate is used.",disabled:e<6}],u=[O(S,"concertoActive"),O(S,"skillDmgBuff"),{formItem:"slider",id:"teammateATKValue",name:"teammateATKValue",text:"Robin's Combat ATK",title:"Robin's Combat ATK",content:`While in the Concerto state, increases all allies' ATK by ${x(c*100)}% of Robin's ATK plus ${h}
      ::BR::
      Set this to the Robin's self ATK stat that she uses to buff teammates. 
      `,min:0,max:7e3},O(S,"talentCdBuff"),{formItem:"switch",id:"traceFuaCdBoost",name:"traceFuaCdBoost",text:"FUA CD boost",title:"FUA CD boost",content:"While the Concerto state is active, the CRIT DMG dealt when all allies launch follow-up attacks increases by 25%."},O(S,"e1UltResPen"),{formItem:"switch",id:"e2UltSpdBuff",name:"e2UltSpdBuff",text:"E2 Ult SPD buff",title:"E2 Ult SPD buff",content:"While the Concerto state is active, all allies' SPD increases by 16%.",disabled:e<2}],m={concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,e1UltResPen:!0,e4TeamResBuff:!1,e6UltCDBoost:!0};return{content:()=>S,teammateContent:()=>u,defaults:()=>m,teammateDefaults:()=>({concertoActive:!0,skillDmgBuff:!0,talentCdBuff:!0,teammateATKValue:5e3,traceFuaCdBoost:!0,e1UltResPen:!0,e2UltSpdBuff:!1,e4TeamResBuff:!0}),precomputeEffects:(f,p)=>{const I=p.characterConditionals;return f.BASIC_SCALING+=b,f.ULT_SCALING+=I.concertoActive?R:0,f.ULT_BOOSTS_MULTI=0,f.BASIC_TOUGHNESS_DMG+=30,f},precomputeMutualEffects:(f,p)=>{const I=p.characterConditionals;f[t.CD]+=I.talentCdBuff?r:0,f[t.RES]+=e>=4&&I.concertoActive&&I.e4TeamResBuff?.5:0,f.ELEMENTAL_DMG+=I.skillDmgBuff?o:0,f.RES_PEN+=e>=1&&I.concertoActive&&I.e1UltResPen?.24:0},precomputeTeammateEffects:(f,p)=>{const I=p.characterConditionals;f[t.ATK]+=I.concertoActive?I.teammateATKValue*c+h:0,f.RATIO_BASED_ATK_BUFF+=I.concertoActive?I.teammateATKValue*c:0,f[t.SPD_P]+=e>=2&&I.concertoActive&&I.e2UltSpdBuff?.16:0,Ba(f,Te,.25,I.traceFuaCdBoost&&I.concertoActive)},finalizeCalculations:(f,p)=>{const I=p.characterConditionals;f[t.ATK]+=I.concertoActive?f[t.ATK]*c+h:0,fl(f,We,1),f.ULT_CD_OVERRIDE=e>=6&&I.concertoActive&&I.e6UltCDBoost?6:1.5,f.BASIC_DMG+=f.BASIC_SCALING*f[t.ATK],f.ULT_DMG+=f.ULT_SCALING*f[t.ATK]},gpuFinalizeCalculations:(f,p)=>{const I=f.characterConditionals;return`
if (${pt(I.concertoActive)}) {
  buffDynamicATK(x.ATK * ${c} + ${h}, p_x, p_state);
}

buffAbilityCr(p_x, ULT_TYPE, 1.00, 1);

if (${pt(e>=6&&I.concertoActive&&I.e6UltCDBoost)}) {
  x.ULT_CD_OVERRIDE = 6.00;
} else {
  x.ULT_CD_OVERRIDE = 1.50;
}

x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * x.ATK;
      `}}},Uu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=i(e,.3,.33),r=a(e,1,1.1),c=a(e,2.2,2.42),h=n(e,4,4.32),b={0:0,1:l(e,.7,.77),2:l(e,1.2,1.32),3:l(e,1.7,1.87)},R=[{formItem:"switch",id:"standoffActive",name:"standoffActive",text:"Standoff Active",title:"Standoff Active",content:`Forces Boothill and a single target enemy into the Standoff state. Boothill's Basic ATK gets Enhanced, and he cannot use his Skill, lasting for 2 turn(s). This duration reduces by 1 at the start of Boothill's every turn.
The enemy target in the Standoff becomes Taunted. When this enemy target/Boothill gets attacked by the other party in the Standoff, the DMG they receive increases by ${x(o*100)}%/15%.`},{formItem:"slider",id:"pocketTrickshotStacks",name:"pocketTrickshotStacks",text:"Pocket Trickshots",title:"Pocket Trickshots",content:`Each stack of Pocket Trickshot increases the Enhanced Basic Attack's Toughness Reduction by 50%, stacking up to 3 time(s).
If the target is Weakness Broken while the Enhanced Basic ATK is being used, based on the number of Pocket Trickshot stacks`,min:0,max:3},{formItem:"switch",id:"beToCritBoost",name:"beToCritBoost",text:"BE to CR / CD boost",title:"BE to CR / CD boost",content:"Increase this character's CRIT Rate/CRIT DMG, by an amount equal to 10%/50% of Break Effect, up to a max increase of 30%/150%."},{formItem:"switch",id:"talentBreakDmgScaling",name:"talentBreakDmgScaling",text:"Talent Break DMG (force weakness break)",title:"Talent Break DMG",content:`If the target is Weakness Broken while the Enhanced Basic ATK is being used, based on the number of Pocket Trickshot stacks, deals Break DMG to this target based on Boothill's Physical Break DMG. The max Toughness taken into account for this DMG cannot exceed 16 times the base Toughness Reduction of the Basic Attack "Skullcrush Spurs."`},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:"E1 DEF shred",title:"E1 DEF shred",content:"When the battle starts, obtains 1 stack of Pocket Trickshot. When Boothill deals DMG, ignores 16% of the enemy target's DEF.",disabled:e<1},{formItem:"switch",id:"e2BeBuff",name:"e2BeBuff",text:"E2 BE buff",title:"E2 BE buff",content:"When in Standoff and gaining Pocket Trickshot, recovers 1 Skill Point(s) and increases Break Effect by 30%, lasting for 2 turn(s). Can also trigger this effect when gaining Pocket Trickshot stacks that exceed the max limit. But cannot trigger repeatedly within one turn.",disabled:e<2},{formItem:"switch",id:"e4TargetStandoffVulnerability",name:"e4TargetStandoffVulnerability",text:"E4 Skill vulnerability",title:"E4 Skill vulnerability",content:"When the enemy target in the Standoff is attacked by Boothill, the DMG they receive additionally increases by 12%. When Boothill is attacked by the enemy target in the Standoff, the effect of him receiving increased DMG is offset by 12%.",disabled:e<4},{formItem:"switch",id:"e6AdditionalBreakDmg",name:"e6AdditionalBreakDmg",text:"E6 Break DMG boost",title:"E6 Break DMG boost",content:"When triggering the Talent's Break DMG, additionally deals Break DMG to the target equal to 40% of the original DMG multiplier and additionally deals Break DMG to adjacent targets equal to 70% of the original DMG multiplier.",disabled:e<6}],S=[],u={standoffActive:!0,pocketTrickshotStacks:3,beToCritBoost:!0,talentBreakDmgScaling:!0,e1DefShred:!0,e2BeBuff:!0,e4TargetStandoffVulnerability:!0,e6AdditionalBreakDmg:!0};return{content:()=>R,teammateContent:()=>S,defaults:()=>u,teammateDefaults:()=>({}),initializeConfigurations:(m,f)=>{f.characterConditionals.talentBreakDmgScaling&&(m.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(m,f)=>{const p=f.characterConditionals;m[t.BE]+=e>=2&&p.e2BeBuff?.3:0,m.VULNERABILITY+=p.standoffActive?o:0,m.DEF_PEN+=e>=1&&p.e1DefShred?.16:0,m.VULNERABILITY+=e>=4&&p.standoffActive&&p.e4TargetStandoffVulnerability?.12:0,m.BASIC_SCALING+=p.standoffActive?c:r,m.BASIC_BREAK_EFFICIENCY_BOOST+=p.standoffActive?p.pocketTrickshotStacks*.5:0,m.ULT_SCALING+=h,m.BASIC_TOUGHNESS_DMG+=p.standoffActive?60:30,m.ULT_TOUGHNESS_DMG+=90;const I=Math.min(16*30,f.enemyMaxToughness),E=1/(.5+f.enemyMaxToughness/120),T=.5+I/120;let D=b[p.pocketTrickshotStacks];return D+=e>=6&&p.e6AdditionalBreakDmg?.4:0,m.BASIC_BREAK_DMG_MODIFIER+=p.talentBreakDmgScaling&&p.standoffActive?E*T*D:0,m},precomputeMutualEffects:(m,f)=>{},precomputeTeammateEffects:(m,f)=>{},finalizeCalculations:m=>ke(m),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[Nd]}},ku=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=i(e,.5,.55),r=n(e,1.5,1.65),c=n(e,.25,.275),h=a(e,1,1.1),b=i(e,1.5,1.65),R=l(e,1.5,1.65),S=le*(1*1/1),u=le*(1*1/7+2*1/7+3*1/7+4*1/7+5*1/7+6*1/7+7*1/7),m=le*(1*1/10+2*1/10+3*1/10+4*1/10+5*1/10+6*1/10+7*1/10+8*3/10),f=[{formItem:"switch",id:"enemyProofOfDebtDebuff",name:"enemyProofOfDebtDebuff",text:"Proof of Debt debuff",title:"Proof of Debt",content:`Inflicts a single target enemy with a Proof of Debt status, increasing the DMG it takes from follow-up attacks by ${x(o*100)}%.`},{formItem:"switch",id:"numbyEnhancedState",name:"numbyEnhancedState",text:"Numby enhanced state",title:"Turn a Profit!: Ult Enhanced State",content:`Numby enters the Windfall Bonanza! state and its DMG multiplier increases by ${x(r*100)}% and CRIT DMG increases by ${x(c*100)}%.`},{formItem:"slider",id:"e1DebtorStacks",name:"e1DebtorStacks",text:"E1 Debtor stacks",title:"E1 Increases Crit DMG",content:"E1: When enemies afflicted with Proof of Debt receive follow-up attacks, they will enter the Debtor state. This can take effect only once within a single action. The Debtor state increases the CRIT DMG of follow-up attacks inflicted on the target enemies by 25%, stacking up to 2 time(s). When Proof of Debt is removed, the Debtor state is also removed.",min:0,max:2,disabled:e<1}],p=[O(f,"enemyProofOfDebtDebuff"),O(f,"e1DebtorStacks")];return{content:()=>f,teammateContent:()=>p,defaults:()=>({enemyProofOfDebtDebuff:!0,numbyEnhancedState:!0,e1DebtorStacks:2}),teammateDefaults:()=>({enemyProofOfDebtDebuff:!0,e1DebtorStacks:2}),initializeConfigurations:(I,E)=>{I.BASIC_DMG_TYPE=ht|Te,I.SKILL_DMG_TYPE=_e|Te},precomputeEffects:(I,E)=>{const T=E.characterConditionals;return Ba(I,_e|Te,c,T.numbyEnhancedState),Fs(I,_e|Te,.1,e>=6),Ba(I,ht,-c,T.numbyEnhancedState),Fs(I,ht,-.1,e>=6),I.BASIC_SCALING+=h,I.SKILL_SCALING+=b,I.SKILL_SCALING+=T.numbyEnhancedState?r:0,I.FUA_SCALING+=R,I.FUA_SCALING+=T.numbyEnhancedState?r:0,I.ELEMENTAL_DMG+=E.enemyElementalWeak?.15:0,I.BASIC_TOUGHNESS_DMG+=30,I.SKILL_TOUGHNESS_DMG+=60,I.FUA_TOUGHNESS_DMG+=60,I},precomputeMutualEffects:(I,E)=>{const T=E.characterConditionals;la(I,Te,o,T.enemyProofOfDebtDebuff),Ba(I,Te,.25*T.e1DebtorStacks,e>=1&&T.enemyProofOfDebtDebuff)},finalizeCalculations:(I,E)=>{const D=E.characterConditionals.numbyEnhancedState?m:u,W=us(I,E,S),B=us(I,E,D);I.BASIC_DMG+=I.BASIC_SCALING*(I[t.ATK]+W),I.FUA_DMG+=I.FUA_SCALING*(I[t.ATK]+B),I.SKILL_DMG=I.FUA_DMG},gpuFinalizeCalculations:I=>{const T=I.characterConditionals.numbyEnhancedState?m:u;return`
x.BASIC_DMG += x.BASIC_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${S}));
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${T}));
x.SKILL_DMG = x.FUA_DMG;
    `}}},Hu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=a(e,1,1.1),r=a(e,2,2.2),c=i(e,2,2.2),h=i(e,2,2.2),b=n(e,60,66),R=n(e,.2,.22),S=l(e,.3,.34),u=l(e,.4,.44),m=[{formItem:"switch",id:"enhancedStateActive",name:"enhancedStateActive",text:"Enhanced state",title:"Enhanced state",content:`Enters the Complete Combustion state, advances this unit's Action by 100%, and gains Enhanced Basic ATK 
      and Enhanced Skill.`},{formItem:"switch",id:"enhancedStateSpdBuff",name:"enhancedStateSpdBuff",text:"Enhanced SPD buff",title:"Enhanced SPD buff",content:`While in Complete Combustion, increases SPD by ${b}.`},{formItem:"switch",id:"superBreakDmg",name:"superBreakDmg",text:"Super Break enabled",title:"Super Break enabled",content:`When SAM is in Complete Combustion with a Break Effect that is equal to or greater than 200%/360%, 
      attacking a Weakness-Broken enemy target will convert the Toughness Reduction of this attack into 1 instance of 
      35%/50% Super Break DMG.`},{formItem:"switch",id:"atkToBeConversion",name:"atkToBeConversion",text:"ATK to BE conversion",title:"ATK to BE conversion",content:"For every 10 point(s) of SAM's ATK that exceeds 1800, increases this unit's Break Effect by 0.8%."},{formItem:"switch",id:"talentDmgReductionBuff",name:"talentDmgReductionBuff",text:"Max EHP buff",title:"Max EHP buff",content:`The lower the HP, the less DMG received. When HP is 20% or lower, the DMG Reduction reaches its maximum 
      effect, reducing up to ${x(u*100)}%. During the Complete Combustion, the DMG 
      Reduction remains at its maximum effect, and the Effect RES increases by ${x(S*100)}%.`},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:"E1 DEF shred",title:"E1 DEF shred",content:`When using the Enhanced Skill, ignores 15% of the target's DEF. The Enhanced Skill does not consume 
      Skill Points.`,disabled:e<1},{formItem:"switch",id:"e4ResBuff",name:"e4ResBuff",text:"E4 RES buff",title:"E4 RES buff",content:"While in Complete Combustion, increases SAM's Effect RES by 50%.",disabled:e<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:"E6 buffs",title:"E6 buffs",content:`While in Complete Combustion, increases SAM's Fire RES PEN by 20%. When using the Enhanced Basic ATK or 
      Enhanced Skill, increases the Weakness Break efficiency by 50%.`,disabled:e<6}],f=[],p={enhancedStateActive:!0,enhancedStateSpdBuff:!0,superBreakDmg:!0,atkToBeConversion:!0,talentDmgReductionBuff:!0,e1DefShred:!0,e4ResBuff:!0,e6Buffs:!0};return{content:()=>m,teammateContent:()=>f,defaults:()=>p,teammateDefaults:()=>({}),initializeConfigurations:(I,E)=>{E.characterConditionals.superBreakDmg&&(I.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(I,E)=>{const T=E.characterConditionals;return I[t.RES]+=T.enhancedStateActive?S:0,I[t.SPD]+=T.enhancedStateActive&&T.enhancedStateSpdBuff?b:0,I.BREAK_EFFICIENCY_BOOST+=T.enhancedStateActive?.5:0,I.DMG_RED_MULTI*=T.enhancedStateActive&&T.talentDmgReductionBuff?1-u:1,I.DEF_PEN+=e>=1&&T.e1DefShred&&T.enhancedStateActive?.15:0,I[t.RES]+=e>=4&&T.e4ResBuff&&T.enhancedStateActive?.5:0,I.FIRE_RES_PEN+=e>=6&&T.e6Buffs&&T.enhancedStateActive?.2:0,I.BREAK_EFFICIENCY_BOOST+=e>=6&&T.e6Buffs&&T.enhancedStateActive?.5:0,I.BASIC_SCALING+=T.enhancedStateActive?r:o,I.BASIC_TOUGHNESS_DMG+=T.enhancedStateActive?45:30,I.SKILL_TOUGHNESS_DMG+=T.enhancedStateActive?90:60,I},precomputeMutualEffects:(I,E)=>{},precomputeTeammateEffects:(I,E)=>{},finalizeCalculations:(I,E)=>{const T=E.characterConditionals;la(I,Ys,R,T.enhancedStateActive&&I.ENEMY_WEAKNESS_BROKEN),I.SUPER_BREAK_MODIFIER+=T.superBreakDmg&&T.enhancedStateActive&&I[t.BE]>=2?.35:0,I.SUPER_BREAK_MODIFIER+=T.superBreakDmg&&T.enhancedStateActive&&I[t.BE]>=3.6?.15:0,I.SKILL_SCALING+=T.enhancedStateActive?.2*Math.min(3.6,I[t.BE])+h:c,I.BASIC_DMG+=I.BASIC_SCALING*I[t.ATK],I.SKILL_DMG+=I.SKILL_SCALING*I[t.ATK]},gpuFinalizeCalculations:(I,E)=>{const T=I.characterConditionals;return`
buffAbilityVulnerability(p_x, BREAK_TYPE, ${R}, select(0, 1, ${pt(T.enhancedStateActive)} && x.ENEMY_WEAKNESS_BROKEN >= 1));

if (x.BE >= 2.00 && ${pt(T.superBreakDmg&&T.enhancedStateActive)}) {
  x.SUPER_BREAK_MODIFIER += 0.35;
}
if (x.BE >= 3.60 && ${pt(T.superBreakDmg&&T.enhancedStateActive)}) {
  x.SUPER_BREAK_MODIFIER += 0.15;
}

if (${pt(T.enhancedStateActive)}) {
  x.SKILL_SCALING += 0.2 * min(3.60, x.BE) + ${h};
} else {
  x.SKILL_SCALING += ${c};
}

x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
      `},dynamicConditionals:[Pd]}},Pu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=a(e,.9,.99);i(e,.25,.27);const r=n(e,2.4,2.64),c=n(e,.8,.88),h=l(e,1.2,1.32),b=l(e,.024,.0264),R={1:le*(1*.25+2*.25+3*.25+4*.25),3:le*(2*.25+5*.25+8*.25+8*.25),5:le*(3*.25+8*.25+8*.25+8*.25)},S={1:le*(1*.1+2*.1+3*.1+4*.1+5*.6),3:le*(2*.1+5*.1+8*.1+8*.1+8*.6),5:le*(3*.1+8*.1+8*.1+8*.1+8*.6)};function u(E){return E.characterConditionals.enhancedFollowUp?S[E.enemyCount]:R[E.enemyCount]}const m=[{formItem:"switch",id:"enhancedFollowUp",name:"enhancedFollowUp",text:"Enhanced Followup",title:"Enhanced Followup",content:`Jade enhances her Talent's follow-up attack, increasing its DMG multiplier 
      by ${x(c*100)}%.`},{formItem:"slider",id:"pawnedAssetStacks",name:"pawnedAssetStacks",text:"Pawned Asset stacks",title:"Pawned Asset stacks",content:`When launching her Talent's follow-up attack, Jade immediately gains 5 stack(s) of Pawned Asset, 
      with each stack increasing CRIT DMG by ${x(b*100)}%, stacking up to 50 times. 
      Each Pawned Asset stack from the Talent additionally increases Jade's ATK by 0.5%.`,min:0,max:50},{formItem:"switch",id:"e1FuaDmgBoost",name:"e1FuaDmgBoost",text:"E1 FUA DMG boost",title:"E1 FUA DMG boost",content:`The follow-up attack DMG from Jade's Talent increases by 32%. After the Debt Collector character 
      attacks and the number of the enemy target(s) hit is either 2 or 1, Jade additionally gains 1 or 2 point(s) of 
      Charge respectively.`,disabled:e<1},{formItem:"switch",id:"e2CrBuff",name:"e2CrBuff",text:"E2 CR buff",title:"E2 CR buff",content:"When there are 15 stacks of Pawned Asset, Jade's CRIT Rate increases by 18%.",disabled:e<2},{formItem:"switch",id:"e4DefShredBuff",name:"e4DefShredBuff",text:"E4 DEF shred buff",title:"E4 DEF shred buff",content:`When using Ultimate, enables the DMG dealt by Jade to ignore 12% of enemy targets' DEF, lasting 
      for 3 turn(s).`,disabled:e<4},{formItem:"switch",id:"e6ResShredBuff",name:"e6ResShredBuff",text:"E6 RES shred buff",title:"E6 RES shred buff",content:`When the Debt Collector character exists on the field, Jade's Quantum RES PEN increases by 20%, 
      and Jade gains the Debt Collector state.`,disabled:e<6}],f=[{formItem:"switch",id:"debtCollectorSpdBuff",name:"debtCollectorSpdBuff",text:"Debt Collector SPD buff",title:"Debt Collector SPD buff",content:"Makes a single target ally become the Debt Collector and increases their SPD by 30, lasting for 3 turn(s)."}],p={enhancedFollowUp:!0,pawnedAssetStacks:50,e1FuaDmgBoost:!0,e2CrBuff:!0,e4DefShredBuff:!0,e6ResShredBuff:!0},I={debtCollectorSpdBuff:!0};return{content:()=>m,teammateContent:()=>f,defaults:()=>p,teammateDefaults:()=>I,precomputeEffects:(E,T)=>{const D=T.characterConditionals;return E[t.CD]+=D.pawnedAssetStacks*b,E[t.ATK_P]+=D.pawnedAssetStacks*.005,E[t.CR]+=e>=2&&D.e2CrBuff&&D.pawnedAssetStacks>=15?.18:0,E.BASIC_SCALING+=o,E.ULT_SCALING+=r,E.FUA_SCALING+=h,E.FUA_SCALING+=D.enhancedFollowUp?c:0,ne(E,Te,.32,e>=1&&D.e1FuaDmgBoost),E.DEF_PEN+=e>=4&&D.e4DefShredBuff?.12:0,E.QUANTUM_RES_PEN+=e>=6&&D.e6ResShredBuff?.2:0,E.BASIC_TOUGHNESS_DMG+=30,E.ULT_TOUGHNESS_DMG+=60,E.FUA_TOUGHNESS_DMG+=30,E},precomputeMutualEffects:(E,T)=>{},precomputeTeammateEffects:(E,T)=>{const D=T.characterConditionals;E[t.SPD]+=D.debtCollectorSpdBuff?30:0},finalizeCalculations:(E,T)=>{Ft(E,T,u(T))},gpuFinalizeCalculations:E=>xt(u(E))}},Nu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=a(e,1,1.1),r=a(e,.8,.88),c=a(e,.2,.22),h=n(e,2.4,2.592),b=l(e,.8,.88),R=i(e,.1,.108),S=le*(1*.4+2*.6),u=[{formItem:"switch",id:"enhancedBasic",name:"enhancedBasic",text:"Enhanced Basic",title:"Enhanced Basic",content:se},{formItem:"slider",id:"basicAttackHits",name:"basicAttackHits",text:"Enhanced Basic hits",title:"Enhanced Basic hits",content:se,min:3,max:6},{formItem:"switch",id:"masterAdditionalDmgBuff",name:"masterAdditionalDmgBuff",text:"DPS Shifu buff",title:"DPS Shifu buff",content:se},{formItem:"switch",id:"masterToughnessRedBuff",name:"masterToughnessRedBuff",text:"Support Shifu buff",title:"Shifu support buff",content:se},{formItem:"switch",id:"talentDmgBuff",name:"talentDmgBuff",text:"Talent Basic DMG buff",title:"Talent Basic DMG buff",content:se},{formItem:"switch",id:"selfSpdBuff",name:"selfSpdBuff",text:"E1 self SPD buff",title:"E1 self SPD buff",content:se,disabled:e<1},{formItem:"switch",id:"e6CdBuff",name:"e6CdBuff",text:"E6 Basic CD buff",title:"E6 Basic CD buff",content:se,disabled:e<6}],m=[{formItem:"switch",id:"masterBuff",name:"masterBuff",text:"Shifu buff",title:"Shifu buff",content:se},{formItem:"switch",id:"masterCdBeBuffs",name:"masterCdBeBuffs",text:"Shifu CD / BE buffs",title:"Shifu CD / BE buffs",content:se}],f={enhancedBasic:!0,basicAttackHits:6,talentDmgBuff:!0,selfSpdBuff:!0,masterAdditionalDmgBuff:!0,masterToughnessRedBuff:!0,e6CdBuff:!0},p={masterBuff:!0,masterCdBeBuffs:!0};return{content:()=>u,teammateContent:()=>m,defaults:()=>f,teammateDefaults:()=>p,precomputeEffects:(I,E)=>{const T=E.characterConditionals;I[t.SPD_P]+=e>=1&&T.selfSpdBuff?.1:0,ne(I,ht,b,T.talentDmgBuff),Ba(I,ht,.5,e>=6&&T.e6CdBuff&&T.enhancedBasic);const D=T.masterAdditionalDmgBuff?c*T.basicAttackHits:0;I.BASIC_SCALING+=T.enhancedBasic?r*T.basicAttackHits:o,I.BASIC_SCALING+=T.enhancedBasic?D:c,I.ULT_SCALING+=h,I.FUA_SCALING+=e>=2?.6:0;const W=T.masterToughnessRedBuff?2:1;return I.BASIC_TOUGHNESS_DMG+=W*(T.enhancedBasic?15*T.basicAttackHits:30),I.ULT_TOUGHNESS_DMG+=90,I.FUA_TOUGHNESS_DMG+=e>=2?30:0,I},precomputeMutualEffects:(I,E)=>{},precomputeTeammateEffects:(I,E)=>{const T=E.characterConditionals;I[t.SPD_P]+=T.masterBuff?R:0,I[t.CD]+=T.masterBuff&&T.masterCdBeBuffs?.6:0,I[t.BE]+=T.masterBuff&&T.masterCdBeBuffs?.36:0},finalizeCalculations:(I,E)=>{Ft(I,E,S)},gpuFinalizeCalculations:I=>xt(S)}},Yu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=a(e,1,1.1),r=i(e,1.2,1.32),c=n(e,2.2,2.376),h=n(e,2.2,2.376),b=n(e,.72,.7776),R=n(e,1,1.08),S=l(e,1.2,1.32),u=e>=1?9:6,m={1:le*(1*1/1),3:le*(2*1/1),5:le*(3*1/1)},f={1:le*(1*.12+2*.12+3*.12+4*.12+5*.12+6*.12+7*.12+8*.16),3:le*(2*.12+5*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16),5:le*(3*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.12+8*.16)};function p(D){const W=D.characterConditionals;return W.blockActive&&W.ultCull?f[D.enemyCount]:m[D.enemyCount]}const I=[{formItem:"switch",id:"blockActive",name:"blockActive",text:"Parry active",title:"Parry active",content:se},{formItem:"switch",id:"ultCull",name:"ultCull",text:"Intuit: Cull enabled",title:"Intuit: Cull enabled",content:se},{formItem:"slider",id:"ultCullHits",name:"ultCullHits",text:"Intuit: Cull hits",title:"Intuit: Cull hits",content:se,min:0,max:u},{formItem:"switch",id:"counterAtkBuff",name:"counterAtkBuff",text:"Counter ATK buff",title:"Counter ATK buff",content:se},{formItem:"switch",id:"e1UltBuff",name:"e1UltBuff",text:"E1 Ult buff",title:"E1 Ult buff",content:se,disabled:e<1},{formItem:"switch",id:"e2DefShred",name:"e2DefShred",text:"E2 FUA DEF shred",title:"E2 FUA DEF shred",content:se,disabled:e<2},{formItem:"switch",id:"e4ResBuff",name:"e4ResBuff",text:"E4 RES buff",title:"E4 RES buff",content:se,disabled:e<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:"E6 buffs",title:"E6 buffs",content:se,disabled:e<6}],E=[],T={blockActive:!0,ultCull:!0,ultCullHits:u,counterAtkBuff:!0,e1UltBuff:!0,e2DefShred:!0,e4ResBuff:!0,e6Buffs:!0};return{content:()=>I,teammateContent:()=>E,defaults:()=>T,teammateDefaults:()=>({}),initializeConfigurations:(D,W)=>{const B=W.characterConditionals;B.blockActive&&B.ultCull&&(D.FUA_DMG_TYPE=We|Te)},precomputeEffects:(D,W)=>{const B=W.characterConditionals;return B.blockActive?B.ultCull?D.FUA_SCALING+=h+B.ultCullHits*b:D.FUA_SCALING+=c:D.FUA_SCALING+=S,Ba(D,Te,R,B.blockActive),D[t.ATK_P]+=B.counterAtkBuff?.3:0,D.DMG_RED_MULTI*=B.blockActive?1-.2:1,ne(D,Te,.2,e>=1&&B.e1UltBuff&&B.blockActive),fa(D,Te,.2,e>=2&&B.e2DefShred),D[t.RES]+=e>=4&&B.e4ResBuff?.5:0,fl(D,Te,.15,e>=6&&B.e6Buffs&&B.blockActive),Fs(D,Te,.2,e>=6&&B.e6Buffs&&B.blockActive),D.BASIC_TOUGHNESS_DMG+=30,D.SKILL_TOUGHNESS_DMG+=60,D.FUA_TOUGHNESS_DMG+=B.blockActive?60:30,D.FUA_TOUGHNESS_DMG+=B.blockActive&&B.ultCull?B.ultCullHits*15:0,D.BASIC_SCALING+=o,D.SKILL_SCALING+=r,D},precomputeMutualEffects:(D,W)=>{},precomputeTeammateEffects:(D,W)=>{},finalizeCalculations:(D,W)=>{Ft(D,W,p(W))},gpuFinalizeCalculations:D=>xt(p(D))}},Au=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_BASIC_3_ULT_TALENT_5,o=a(e,1,1.1),r=i(e,1.5,1.65),c=n(e,1,1.08),h=n(e,.15,.162),b=l(e,.15,.165),R=l(e,.05,.055),S=l(e,1.8,1.98),u=e>=6?9:5,m=[{formItem:"slider",id:"ashenRoastStacks",name:"ashenRoastStacks",text:"Ashen Roast stacks",title:"Ashen Roast stacks",content:se,min:0,max:u},{formItem:"switch",id:"ultFieldActive",name:"ultFieldActive",text:"Ult field active",title:"Ult field active",content:se},{formItem:"switch",id:"ehrToAtkBoost",name:"ehrToAtkBoost",text:"EHR to ATK boost",title:"EHR to ATK boost",content:se},{formItem:"switch",id:"e1DmgBoost",name:"e1DmgBoost",text:"E1 DMG boost",title:"E1 DMG boost",content:se,disabled:e<1},{formItem:"switch",id:"e2Dot",name:"e2Dot",text:"E2 DOT scaling",title:"E2 DOT scaling",content:se,disabled:e<2},{formItem:"switch",id:"e6ResShred",name:"e6ResShred",text:"E6 RES shred",title:"E6 RES shred",content:se,disabled:e<6}],f=[O(m,"ashenRoastStacks"),O(m,"ultFieldActive"),O(m,"e1DmgBoost"),O(m,"e6ResShred")],p={ashenRoastStacks:u,ultFieldActive:!0,ehrToAtkBoost:!0,e1DmgBoost:!0,e2Dot:!0,e6ResShred:!0},I={ashenRoastStacks:u,ultFieldActive:!0,e1DmgBoost:!0,e6ResShred:!0};return{content:()=>m,teammateContent:()=>f,defaults:()=>p,teammateDefaults:()=>I,precomputeEffects:(E,T)=>{const D=T.characterConditionals;return E.BASIC_SCALING+=o,E.SKILL_SCALING+=r,E.ULT_SCALING+=c,E.DOT_SCALING+=D.ashenRoastStacks>0?S:0,E.DOT_SCALING+=e>=2&&D.e2Dot&&D.ashenRoastStacks>0?3:0,E.DOT_CHANCE=100,E.BASIC_TOUGHNESS_DMG+=30,E.SKILL_TOUGHNESS_DMG+=60,E.ULT_TOUGHNESS_DMG+=60,E},precomputeMutualEffects:(E,T)=>{const D=T.characterConditionals;la(E,We,h,D.ultFieldActive),E.VULNERABILITY+=D.ashenRoastStacks>0?b:0,E.VULNERABILITY+=Math.max(0,D.ashenRoastStacks-1)*R,E.ELEMENTAL_DMG+=e>=1&&D.e1DmgBoost&&D.ashenRoastStacks>0?.4:0,E.RES_PEN+=e>=6&&D.e6ResShred?D.ashenRoastStacks*.03:0},precomputeTeammateEffects:(E,T)=>{},finalizeCalculations:E=>ke(E),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[vd]}},wu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_BASIC_3_SKILL_TALENT_5,o=a(e,1,1.1),r=i(e,2,2.2),c=n(e,.6,.648),h=n(e,.3,.33),b=n(e,1.6,1.728),R=l(e,1.1,1.21),S=l(e,.6,.66),u=1*.1285+2*.1285+3*.1285+4*.1285+5*.1285+6*.1285+7*.2285,m=1*.1285*.1+2*.1285*.9+3*.1285*.1+4*.1285*.9+5*.1285*.1+6*.1285*.9+7*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.1285*.1+8*.1285*.9+8*.2285;function f(T){return T.characterConditionals.weaknessBrokenUlt?le*m:le*u}const p=[{formItem:"switch",id:"weaknessBrokenUlt",name:"weaknessBrokenUlt",text:"Weakness broken ult (force weakness break)",title:"Weakness broken ult (force weakness break)",content:`Overrides weakness break to be enabled. ${se}`},{formItem:"switch",id:"talentDmgBuff",name:"talentDmgBuff",text:"Talent DMG buff",title:"Talent DMG buff",content:se},{formItem:"switch",id:"skillAtkBuff",name:"skillAtkBuff",text:"Skill ATK buff",title:"Skill ATK buff",content:se},{formItem:"switch",id:"e1OriginalDmgBoost",name:"e1OriginalDmgBoost",text:"E1 original DMG boost",title:"E1 original DMG boost",content:se,disabled:e<1},{formItem:"switch",id:"e4Buffs",name:"e4Buffs",text:"E4 buffs",title:"E4 buffs",content:se,disabled:e<4},{formItem:"switch",id:"e6Buffs",name:"e6Buffs",text:"E6 buffs",title:"E6 buffs",content:se,disabled:e<6}],I=[],E={ultStacks:6,weaknessBrokenUlt:!0,talentDmgBuff:!0,skillAtkBuff:!0,e1OriginalDmgBoost:!0,e4Buffs:!0,e6Buffs:!0};return{content:()=>p,teammateContent:()=>I,defaults:()=>E,teammateDefaults:()=>({}),initializeConfigurations:(T,D)=>{const W=D.characterConditionals;T.ULT_DMG_TYPE=We|Te,W.weaknessBrokenUlt&&(T.ENEMY_WEAKNESS_BROKEN=1),e>=6&&W.e6Buffs&&(T.FUA_DMG_TYPE=We|Te)},precomputeEffects:(T,D)=>{const W=D.characterConditionals;return W.weaknessBrokenUlt||(T.ULT_BREAK_EFFICIENCY_BOOST+=1),Ba(T,Te,.36),T[t.ATK_P]+=W.skillAtkBuff?.48:0,T.ELEMENTAL_DMG+=W.talentDmgBuff?S:0,T.BASIC_SCALING+=o,T.SKILL_SCALING+=r,T.FUA_SCALING+=R,T.ULT_SCALING+=6*(c+h)+b,T.ULT_ORIGINAL_DMG_BOOST+=e>=1&&W.e1OriginalDmgBoost?.3071:0,e>=4&&(T[t.SPD_P]+=.08,T.FUA_TOUGHNESS_DMG+=15),e>=6&&W.e6Buffs&&(T.RES_PEN+=.2,T.FUA_SCALING+=1.4),T.BASIC_TOUGHNESS_DMG+=30,T.SKILL_TOUGHNESS_DMG+=60,T.ULT_TOUGHNESS_DMG+=90,T.FUA_TOUGHNESS_DMG+=15,T},precomputeMutualEffects:(T,D)=>{},precomputeTeammateEffects:(T,D)=>{},finalizeCalculations:(T,D)=>{T.BASIC_DMG+=T.BASIC_SCALING*T[t.ATK],T.SKILL_DMG+=T.SKILL_SCALING*T[t.ATK],T.ULT_DMG+=T.ULT_SCALING*(T[t.ATK]+us(T,D,f(D))),T.FUA_DMG+=T.FUA_SCALING*(T[t.ATK]+us(T,D,le*(1*1))),T.DOT_DMG+=T.DOT_SCALING*T[t.ATK]},gpuFinalizeCalculations:T=>`
x.BASIC_DMG += x.BASIC_SCALING * x.ATK;
x.SKILL_DMG += x.SKILL_SCALING * x.ATK;
x.ULT_DMG += x.ULT_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${f(T)}));
x.FUA_DMG += x.FUA_SCALING * (x.ATK + calculateAshblazingSet(p_x, p_state, ${le*(1*1)}));
x.DOT_DMG += x.DOT_SCALING * x.ATK;
    `}},Xu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_TALENT_3_SKILL_BASIC_5,o=a(e,1,1.1),r=i(e,.8,.88),c=n(e,1.5,1.65),h=n(e,.25,.27),b=l(e,.75,.825),R={1:le*(1*1/2+2*1/2),3:le*(2*1/2+3*1/2),5:le*(3*1/2+4*1/2)},S=[{formItem:"switch",id:"beConversion",name:"beConversion",text:"BE to ATK/OHB",title:"BE to ATK/OHB",content:se},{formItem:"switch",id:"befogState",name:"befogState",text:"Befog state",title:"Befog state",content:se},{formItem:"switch",id:"e1DefShred",name:"e1DefShred",text:"E1 weakness break buffs",title:"E1 weakness break buffs",content:se,disabled:e<1},{formItem:"switch",id:"e2BeBuff",name:"e2BeBuff",text:"E2 BE buff",title:"E2 BE buff",content:se,disabled:e<2},{formItem:"switch",id:"e6ResShred",name:"e6ResShred",text:"E6 RES shred",title:"E6 RES shred",content:se,disabled:e<6}],u=[O(S,"befogState"),O(S,"e1DefShred"),O(S,"e2BeBuff"),O(S,"e6ResShred")],m={beConversion:!0,befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0},f={befogState:!0,e1DefShred:!0,e2BeBuff:!0,e6ResShred:!0};return{content:()=>S,teammateContent:()=>u,defaults:()=>m,teammateDefaults:()=>f,precomputeEffects:(p,I)=>{const E=I.characterConditionals;return p.BASIC_SCALING+=o,p.SKILL_SCALING+=r,p.FUA_SCALING+=b*2,p.ULT_SCALING+=c,p.BREAK_EFFICIENCY_BOOST+=e>=1?.5:0,p.FUA_SCALING+=e>=6&&E.e6ResShred?.5:0,p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=30,p.ULT_TOUGHNESS_DMG+=60,p.FUA_TOUGHNESS_DMG+=30*2,p.FUA_TOUGHNESS_DMG+=e>=6?15:0,p},precomputeMutualEffects:(p,I)=>{const E=I.characterConditionals;p.ENEMY_WEAKNESS_BROKEN&&(p.DEF_PEN+=e>=1&&E.e1DefShred?.2:0),la(p,Ys,h,E.befogState),p[t.BE]+=e>=2&&E.e2BeBuff?.4:0,p.RES_PEN+=e>=6&&E.e6ResShred?.2:0},precomputeTeammateEffects:(p,I)=>{},finalizeCalculations:(p,I)=>{Ft(p,I,R[I.enemyCount])},gpuFinalizeCalculations:p=>xt(R[p.enemyCount]),dynamicConditionals:[Od]}},ju=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.ULT_TALENT_3_SKILL_BASIC_5,o=a(e,1,1.1),r=i(e,1.5,1.65),c=n(e,2.7,2.916),h=l(e,1.6,1.76),b=l(e,.3,.33),R=le*(1*.08+2*.08+3*.08+4*.08+5*.08+6*.6),S=[{formItem:"switch",id:"preyMark",name:"preyMark",text:"Prey marked",title:"Prey marked",content:se},{formItem:"switch",id:"e2CdBoost",name:"e2CdBoost",text:"E2 CD boost",title:"E2 CD boost",content:se,disabled:e<2},{formItem:"switch",id:"e4DmgBuff",name:"e4DmgBuff",text:"E4 DMG buff",title:"E4 DMG buff",content:se,disabled:e<4},{formItem:"switch",id:"e6MultiplierIncrease",name:"e6MultiplierIncrease",text:"E6 FUA multiplier buff",title:"E6 FUA multiplier buff",content:se,disabled:e<6}],u=[O(S,"preyMark"),O(S,"e2CdBoost")],m={preyMark:!0,e2CdBoost:!0,e4DmgBuff:!0,e6MultiplierIncrease:!0},f={preyMark:!0,e2CdBoost:!0};return{content:()=>S,teammateContent:()=>u,defaults:()=>m,teammateDefaults:()=>f,initializeConfigurations:(p,I)=>{p.ULT_DMG_TYPE=We|Te},precomputeEffects:(p,I)=>{const E=I.characterConditionals;return p.ELEMENTAL_DMG+=e>=4&&E.e4DmgBuff?.3:0,p.BASIC_SCALING+=o+(E.preyMark?b:0),p.SKILL_SCALING+=r+(E.preyMark?b:0),p.FUA_SCALING+=h+(E.preyMark?b:0),p.FUA_SCALING+=e>=6&&E.e6MultiplierIncrease?.25:0,p.ULT_SCALING+=c+(E.preyMark?b:0),p.BASIC_TOUGHNESS_DMG+=30,p.SKILL_TOUGHNESS_DMG+=60,p.ULT_TOUGHNESS_DMG+=90,p.FUA_TOUGHNESS_DMG+=30,p},precomputeMutualEffects:(p,I)=>{const E=I.characterConditionals;la(p,Te,.25,E.preyMark),p[t.CD]+=e>=2&&E.preyMark&&E.e2CdBoost?.4:0},precomputeTeammateEffects:(p,I)=>{},finalizeCalculations:(p,I)=>{Ft(p,I,R)},gpuFinalizeCalculations:p=>xt(R)}},vu=e=>{const{basic:a,skill:i,ult:n,talent:l}=te.SKILL_TALENT_3_ULT_BASIC_5,o=a(e,1,1.1),r=a(e,2,2.32),c=i(e,1.2,1.32),h=n(e,.3,.34),b=[{formItem:"switch",id:"sealformActive",name:"sealformActive",text:"Sealform state (force weakness break)",title:"Sealform state (force weakness break)",content:se},{formItem:"switch",id:"atkToBreakVulnerability",name:"atkToBreakVulnerability",text:"ATK to Break vulnerability",title:"ATK to Break vulnerability",content:se},{formItem:"switch",id:"e1DefPen",name:"e1DefPen",text:"E1 DEF pen",title:"E1 DEF pen",content:se,disabled:e<1},{formItem:"switch",id:"e2Buffs",name:"e2Buffs",text:"E2 break buffs",title:"E2 break buffs",content:se,disabled:e<2},{formItem:"switch",id:"e4SpdBuff",name:"e4SpdBuff",text:"E4 SPD buff",title:"E4 SPD buff",content:se,disabled:e<4}],R=[{formItem:"slider",id:"teammateBreakVulnerability",name:"teammateBreakVulnerability",text:"Break vulnerability",title:"Break vulnerability",content:se,min:0,max:.15,percent:!0},{formItem:"switch",id:"e4SpdBuff",name:"e4SpdBuff",text:"E4 SPD buff",title:"E4 SPD buff",content:se,disabled:e<4}],S={sealformActive:!0,atkToBreakVulnerability:!0,e1DefPen:!0,e2Buffs:!0,e4SpdBuff:!0};return{content:()=>b,teammateContent:()=>R,defaults:()=>S,teammateDefaults:()=>({teammateBreakVulnerability:.15,e4SpdBuff:!0}),initializeConfigurations:(u,m)=>{m.characterConditionals.sealformActive&&(u.ENEMY_WEAKNESS_BROKEN=1)},precomputeEffects:(u,m)=>{const f=m.characterConditionals;return u[t.BE]+=f.sealformActive?h:0,u.BREAK_EFFICIENCY_BOOST+=f.sealformActive?.5:0,u.DEF_PEN+=e>=1&&f.sealformActive&&f.e1DefPen?.15:0,u[t.SPD_P]+=e>=4&&f.sealformActive&&f.e4SpdBuff?.12:0,u.BASIC_SUPER_BREAK_MODIFIER+=f.sealformActive?.6:0,u.BASIC_SCALING+=f.sealformActive?r:o,u.SKILL_SCALING+=c,u.BASIC_TOUGHNESS_DMG+=f.sealformActive?75:30,u.SKILL_TOUGHNESS_DMG+=30,u},precomputeMutualEffects:(u,m)=>{},precomputeTeammateEffects:(u,m)=>{const f=m.characterConditionals;u.BREAK_VULNERABILITY+=f.teammateBreakVulnerability,u[t.SPD_P]+=e>=4&&f.e4SpdBuff?.12:0},finalizeCalculations:u=>ke(u),gpuFinalizeCalculations:()=>He(),dynamicConditionals:[wd]}},qn={1001:bu,1002:Qd,1003:iu,1004:Bu,1005:du,1006:Tu,1008:Fd,1009:xd,1013:su,1101:Jd,1102:Iu,1103:Eu,1104:eu,1105:Ru,1106:fu,1107:zd,1108:Gu,1109:nu,1110:hu,1111:uu,1112:ku,1201:gu,1202:Cu,1203:mu,1204:cu,1205:_d,1206:Zu,1207:Mu,1208:qd,1209:Wu,1210:tu,1211:Ld,1212:ru,1213:ou,1214:yu,1215:au,1217:lu,1218:Au,1220:wu,1221:Yu,1222:Xu,1223:ju,1224:Nu,1301:xu,1302:Vd,1303:pu,1304:Fu,1305:$d,1306:Du,1307:Kd,1308:Vu,1309:Lu,1310:Hu,1312:Su,1314:Pu,1315:Uu,1317:vu,8001:so,8002:so,8003:no,8004:no,8005:io,8006:io},Ma={get:e=>{const a=qn[e.characterId];return a(e.characterEidolon)}},v=(e,a)=>{var l;const i=a.params[e];let n=a.desc;return i&&((l=a.desc.match(/#(\d+)\[\w+\]/g))==null||l.forEach(o=>{var r;(r=o.match(/#(\d+)/))==null||r.forEach((c,h)=>{if(h>0){let b=i[parseInt(c)-1];b<1&&(b=x(b*100)),n=n.replace(o,b.toString())}})})),n},Ou=e=>{const a=[.1,.12,.14,.16,.18],i={id:"20014",skill:"Alliance",desc:"When the wearer defeats an enemy, increases SPD by #1[i]% for #2[i] turn(s).",params:[[.1,2],[.12,2],[.14,2],[.16,2],[.18,2]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"defeatedEnemySpdBuff",name:"defeatedEnemySpdBuff",formItem:"switch",text:"Defeated enemy SPD buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({defeatedEnemySpdBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.SPD_P]+=r.defeatedEnemySpdBuff?a[e]:0},finalizeCalculations:()=>{}}},Ku=e=>{const a=[.16,.2,.24,.28,.32],i={id:"20003",skill:"Stasis",desc:"If the wearer's current HP is lower than #2[i]%, increases their DEF by a further #3[i]%.",params:[[.16,.5,.16],[.2,.5,.2],[.24,.5,.24],[.28,.5,.28],[.32,.5,.32]],properties:[[{type:"DefenceAddedRatio",value:.16}],[{type:"DefenceAddedRatio",value:.2}],[{type:"DefenceAddedRatio",value:.24}],[{type:"DefenceAddedRatio",value:.28}],[{type:"DefenceAddedRatio",value:.32}]]},n=[{lc:!0,id:"hp50DefBuff",name:"hp50DefBuff",formItem:"switch",text:"HP < 50% DEF buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({hp50DefBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.DEF_P]+=r.hp50DefBuff?a[e]:0},finalizeCalculations:()=>{}}},_u=e=>{const a=[.0036,.0042,.0048,.0054,.006],i={id:"23018",skill:"A Knight's Pilgrimage",desc:"When the wearer uses Ultimate, increases the wearer's Ultimate DMG based on their Max Energy. Each point of Energy increases the Ultimate DMG by #2[f2]%, up to #3[i] points of Energy.",params:[[.36,.0036,180],[.42,.0042,180],[.48,.0048,180],[.54,.0054,180],[.6,.006,180]],properties:[[{type:"CriticalDamageBase",value:.36}],[{type:"CriticalDamageBase",value:.42}],[{type:"CriticalDamageBase",value:.48}],[{type:"CriticalDamageBase",value:.54}],[{type:"CriticalDamageBase",value:.6}]]},n=[{lc:!0,id:"maxEnergyUltDmgStacks",name:"maxEnergyUltDmgStacks",formItem:"slider",text:"Max Energy",title:i.skill,content:v(e,i),min:0,max:180}];return{content:()=>n,defaults:()=>({maxEnergyUltDmgStacks:180}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,We,r.maxEnergyUltDmgStacks*a[e])},finalizeCalculations:()=>{}}},Ju=e=>{const a=[.12,.15,.18,.21,.24],i={id:"20000",skill:"Crisis",desc:"At the start of the battle, the wearer's CRIT Rate increases by #1[i]% for #2[i] turn(s).",params:[[.12,3],[.15,3],[.18,3],[.21,3],[.24,3]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"critBuff",name:"critBuff",formItem:"switch",text:"Initial CR buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({critBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CR]+=r.critBuff?a[e]:0},finalizeCalculations:()=>{}}},zu=e=>{const a=[.2,.25,.3,.35,.4],i={id:"21012",skill:"Spare No Effort",desc:"The wearer also deals an extra #2[i]% of DMG to enemies whose current HP percentage is equal to or higher than the wearer's current HP percentage.",params:[[.2,.2],[.25,.25],[.3,.3],[.35,.35],[.4,.4]],properties:[[{type:"AllDamageTypeAddedRatio",value:.2}],[{type:"AllDamageTypeAddedRatio",value:.25}],[{type:"AllDamageTypeAddedRatio",value:.3}],[{type:"AllDamageTypeAddedRatio",value:.35}],[{type:"AllDamageTypeAddedRatio",value:.4}]]},n=[{lc:!0,id:"enemyHpHigherDmgBoost",name:"enemyHpHigherDmgBoost",formItem:"switch",text:"Enemy HP % higher DMG boost",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>[],defaults:()=>({enemyHpHigherDmgBoost:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=a[e],l.ELEMENTAL_DMG+=r.enemyHpHigherDmgBoost?a[e]:0},finalizeCalculations:()=>{}}},el={id:"23020",skill:"Mental Training",desc:"For every debuff on the enemy target, the wearer's CRIT DMG dealt against this target increases by #2[i]%, stacking up to #3[i] times.",params:[[.2,.08,3,.36,.24,2],[.23,.09,3,.42,.28,2],[.26,.1,3,.48,.32,2],[.29,.11,3,.54,.36,2],[.32,.12,3,.6,.4,2]],properties:[[{type:"CriticalDamageBase",value:.2}],[{type:"CriticalDamageBase",value:.23}],[{type:"CriticalDamageBase",value:.26}],[{type:"CriticalDamageBase",value:.29}],[{type:"CriticalDamageBase",value:.32}]]},lo={...el,desc:"When using Ultimate to attack the enemy target, the wearer receives the Disputation effect, which increases DMG dealt by #4[i]% and enables their follow-up attacks to ignore #5[i]% of the target's DEF. This effect lasts for #6[i] turns."},Qu=e=>{const a=[.08,.09,.1,.11,.12],i=[.36,.42,.48,.54,.6],n=[.24,.28,.32,.36,.4],l=[{lc:!0,formItem:"slider",id:"debuffCdStacks",name:"debuffCdStacks",text:"Debuff crit dmg stacks",title:el.skill,content:v(e,el),min:0,max:3},{lc:!0,formItem:"switch",id:"postUltBuff",name:"postUltBuff",text:"Disputation ult CD / FUA DEF PEN buff",title:lo.skill,content:v(e,lo)}];return{content:()=>l,defaults:()=>({debuffCdStacks:3,postUltBuff:!0}),precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o[t.CD]+=c.debuffCdStacks*a[e],o.ELEMENTAL_DMG+=c.postUltBuff?i[e]:0,fa(o,Te,n[e],c.postUltBuff)},finalizeCalculations:()=>{}}},$u=e=>{const a=[.18,.21,.24,.27,.3],i=[.48,.56,.64,.72,.8],n={id:"23010",skill:"Long Night",desc:"Increases the wearer's CRIT DMG by #1[i]%. Increases the wearer's Skill and Ultimate DMG by #2[i]%.",params:[[.36,.18,.48],[.42,.21,.56],[.48,.24,.64],[.54,.27,.72],[.6,.3,.8]],properties:[[{type:"CriticalDamageBase",value:.36}],[{type:"CriticalDamageBase",value:.42}],[{type:"CriticalDamageBase",value:.48}],[{type:"CriticalDamageBase",value:.54}],[{type:"CriticalDamageBase",value:.6}]]},l={...n,desc:"After the wearer uses their Skill or Ultimate, they gain Somnus Corpus. Upon triggering a follow-up attack, Somnus Corpus will be consumed and the follow-up attack DMG increases by #3[i]%."},o=[{lc:!0,id:"fuaDmgBoost",name:"fuaDmgBoost",formItem:"switch",text:"FUA DMG boost",title:n.skill,content:v(e,l)}];return{content:()=>o,defaults:()=>({fuaDmgBoost:!0}),precomputeEffects:(r,c)=>{const h=c.lightConeConditionals;ne(r,_e|We,a[e]),ne(r,Te,i[e],h.fuaDmgBoost)},finalizeCalculations:()=>{}}},qu=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),em=e=>{const a=[.18,.21,.24,.27,.3],i=[.06,.07,.08,.09,.1],n={id:"23015",skill:"Defiant Till Death",desc:"When the wearer uses their Basic ATK, they will gain 1 stack of Dragon's Call, lasting for #2[i] turns. Each stack of Dragon's Call increases the wearer's ATK by #4[i]% and Energy Regeneration Rate by #5[f1]%. Dragon's Call can be stacked up to #3[i] times.",params:[[.18,2,2,.18,.06],[.21,2,2,.21,.07],[.24,2,2,.24,.08],[.27,2,2,.27,.09],[.3,2,2,.3,.1]],properties:[[{type:"CriticalChanceBase",value:.18}],[{type:"CriticalChanceBase",value:.21}],[{type:"CriticalChanceBase",value:.24}],[{type:"CriticalChanceBase",value:.27}],[{type:"CriticalChanceBase",value:.3}]]},l=[{lc:!0,id:"dragonsCallStacks",name:"dragonsCallStacks",formItem:"slider",text:"Dragon's Call stacks",title:n.skill,content:v(e,n),min:0,max:2}];return{content:()=>l,defaults:()=>({dragonsCallStacks:2}),precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o[t.ATK_P]+=c.dragonsCallStacks*a[e],o[t.ERR]+=c.dragonsCallStacks*i[e]},finalizeCalculations:()=>{}}},tm=e=>{const a=[.3,.35,.4,.45,.5],i={id:"23003",skill:"Heir",desc:"When the wearer uses their Skill, the next ally taking action (except the wearer) deals #2[i]% more DMG for #3[i] turn(s).",params:[[.1,.3,1],[.12,.35,1],[.14,.4,1],[.16,.45,1],[.18,.5,1]],properties:[[{type:"SPRatioBase",value:.1}],[{type:"SPRatioBase",value:.12}],[{type:"SPRatioBase",value:.14}],[{type:"SPRatioBase",value:.16}],[{type:"SPRatioBase",value:.18}]]},n=[{lc:!0,id:"postSkillDmgBuff",name:"postSkillDmgBuff",formItem:"switch",text:"Post skill DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>[],teammateContent:()=>n,defaults:()=>({}),teammateDefaults:()=>({postSkillDmgBuff:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.postSkillDmgBuff?a[e]:0},finalizeCalculations:()=>{}}},am=e=>{const a=[.1,.125,.15,.175,.2],i=[.12,.15,.18,.21,.24],n=[.06,.075,.09,.105,.12],l={id:"21032",skill:"Secret",desc:`
      At the start of the battle and whenever the wearer's turn begins, one of the following effects is applied randomly:
      ::BR::
      All allies' ATK increases by #1[i]%
      ::BR::
      All allies' CRIT DMG increases by #2[i]%
      ::BR::
      All allies' Energy Regeneration Rate increases by #3[i]%.
      ::BR::
      The applied effect cannot be identical to the last effect applied, and will replace the previous effect. The applied effect will be removed when the wearer has been knocked down. Effects of the similar type cannot be stacked.`,params:[[.1,.12,.06],[.125,.15,.075],[.15,.18,.09],[.175,.21,.105],[.2,.24,.12]],properties:[[],[],[],[],[]]},o=[{lc:!0,id:"atkBuffActive",name:"atkBuffActive",formItem:"switch",text:"ATK buff active",title:l.skill,content:v(e,l)},{lc:!0,id:"cdBuffActive",name:"cdBuffActive",formItem:"switch",text:"CD buff active",title:l.skill,content:v(e,l)},{lc:!0,id:"errBuffActive",name:"errBuffActive",formItem:"switch",text:"ERR buff active",title:l.skill,content:v(e,l)}];return{content:()=>o,teammateContent:()=>o,defaults:()=>({atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1}),teammateDefaults:()=>({atkBuffActive:!0,cdBuffActive:!1,errBuffActive:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(r,c)=>{const h=c.lightConeConditionals;r[t.ATK_P]+=h.atkBuffActive?a[e]:0,r[t.CD]+=h.cdBuffActive?i[e]:0,r[t.ERR]+=h.errBuffActive?n[e]:0},finalizeCalculations:()=>{}}},sm=e=>{const a=[.08,.09,.1,.11,.12],i={id:"20005",skill:"Concerted",desc:"After entering battle, increases the ATK of all allies by #1[i]%. Effects of the same type cannot stack.",params:[[.08],[.09],[.1],[.11],[.12]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"inBattleAtkBuff",name:"inBattleAtkBuff",formItem:"switch",text:"Initial ATK buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({inBattleAtkBuff:!0}),teammateDefaults:()=>({inBattleAtkBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.ATK_P]+=r.inBattleAtkBuff?a[e]:0},finalizeCalculations:()=>{}}},im=e=>{const a=[.2,.25,.3,.35,.4],i={id:"20002",skill:"Havoc",desc:"Increases the wearer's Basic ATK and Skill DMG by #1[i]%.",params:[[.2],[.25],[.3],[.35],[.4]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"basicSkillDmgBuff",name:"basicSkillDmgBuff",formItem:"switch",text:"Basic/Skill DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({basicSkillDmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,ht|_e,a[e],r.basicSkillDmgBuff)},finalizeCalculations:()=>{}}},nm=e=>{const a=[.12,.15,.18,.21,.24],i={id:"20001",skill:"Prosperity",desc:"When the wearer uses their Skill or Ultimate, their Outgoing Healing increases by #1[i]%.",params:[[.12],[.15],[.18],[.21],[.24]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"healingBuff",name:"healingBuff",formItem:"switch",text:"Healing buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({healingBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.OHB]+=r.healingBuff?a[e]:0},finalizeCalculations:()=>{}}},lm=e=>{const a=[.08,.1,.12,.14,.16],i=[.2,.25,.3,.35,.4],n={id:"24001",skill:"Chase",desc:"Increases the wearer's CRIT rate against enemies with HP less than or equal to #2[i]% by an extra #3[i]%.",params:[[.08,.5,.08,.2,2],[.1,.5,.1,.25,2],[.12,.5,.12,.3,2],[.14,.5,.14,.35,2],[.16,.5,.16,.4,2]],properties:[[{type:"CriticalChanceBase",value:.08}],[{type:"CriticalChanceBase",value:.1}],[{type:"CriticalChanceBase",value:.12}],[{type:"CriticalChanceBase",value:.14}],[{type:"CriticalChanceBase",value:.16}]]},l={...n,desc:"When the wearer defeats an enemy, their ATK is increased by #4[i]% for #5[i] turn(s)."},o=[{lc:!0,id:"enemyHp50CrBoost",name:"enemyHp50CrBoost",formItem:"switch",text:"Enemy HP ≤ 50% CR buff",title:n.skill,content:v(e,n)},{lc:!0,id:"enemyDefeatedAtkBuff",name:"enemyDefeatedAtkBuff",formItem:"switch",text:"Enemy defeated ATK buff",title:n.skill,content:v(e,l)}];return{content:()=>o,defaults:()=>({enemyHp50CrBoost:!1,enemyDefeatedAtkBuff:!0}),precomputeEffects:(r,c)=>{const h=c.lightConeConditionals;r[t.CR]+=h.enemyHp50CrBoost?a[e]:0,r[t.ATK_P]+=h.enemyDefeatedAtkBuff?i[e]:0},finalizeCalculations:()=>{}}},om=()=>({content:()=>[],teammateContent:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),rm=e=>{const a=[.24,.3,.36,.42,.48],i={id:"20007",skill:"War Cry",desc:"When the wearer defeats an enemy, increases ATK by #1[i]% for #2[i] turn(s).",params:[[.24,3],[.3,3],[.36,3],[.42,3],[.48,3]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"defeatedEnemyAtkBuff",name:"defeatedEnemyAtkBuff",formItem:"switch",text:"Defeated enemy ATK buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({defeatedEnemyAtkBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.ATK_P]+=r.defeatedEnemyAtkBuff?a[e]:0},finalizeCalculations:()=>{}}},cm=e=>{const a=[.28,.35,.42,.49,.56],i={id:"20006",skill:"Learned",desc:"Increases the wearer's Ultimate DMG by #1[i]%.",params:[[.28],[.35],[.42],[.49],[.56]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:"Ult DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,We,a[e],r.ultDmgBuff)},finalizeCalculations:()=>{}}},dm=e=>{const a=[.08,.09,.1,.11,.12],i={id:"21002",skill:"At This Very Moment",desc:"After entering battle, increases All-Type RES of all allies by #2[i]%. Effects of the same type cannot stack.",params:[[.16,.08],[.18,.09],[.2,.1],[.22,.11],[.24,.12]],properties:[[{type:"DefenceAddedRatio",value:.16}],[{type:"DefenceAddedRatio",value:.18}],[{type:"DefenceAddedRatio",value:.2}],[{type:"DefenceAddedRatio",value:.22}],[{type:"DefenceAddedRatio",value:.24}]]},n=[{lc:!0,id:"dmgResBuff",name:"dmgResBuff",formItem:"switch",text:"Dmg RES buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({dmgResBuff:!0}),teammateDefaults:()=>({dmgResBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l.DMG_RED_MULTI*=r.dmgResBuff?1-a[e]:1},finalizeCalculations:()=>{}}},um=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),mm=e=>{const a=[.1,.11,.12,.13,.14],i=[.28,.35,.42,.49,.56],n={id:"23021",skill:"Capriciousness",desc:"At the start of the battle, the wearer gains Mask, lasting for #6[i] turn(s). While the wearer has Mask, the wearer's allies have their CRIT Rate increased by #5[i]% and their CRIT DMG increased by #2[i]%. For every 1 Skill Point the wearer recovers (including Skill Points that exceed the limit), they gain 1 stack of Radiant Flame. And when the wearer has #4[i] stacks of Radiant Flame, all the stacks are removed, and they gain Mask for #3[i] turn(s).",params:[[.32,.28,4,4,.1,3],[.39,.35,4,4,.11,3],[.46,.42,4,4,.12,3],[.53,.49,4,4,.13,3],[.6,.56,4,4,.14,3]],properties:[[{type:"CriticalDamageBase",value:.32}],[{type:"CriticalDamageBase",value:.39}],[{type:"CriticalDamageBase",value:.46}],[{type:"CriticalDamageBase",value:.53}],[{type:"CriticalDamageBase",value:.6}]]},l=[{lc:!0,id:"maskActive",name:"maskActive",formItem:"switch",text:"Mask active",title:n.skill,content:v(e,n)}];return{content:()=>l,teammateContent:()=>l,defaults:()=>({maskActive:!1}),teammateDefaults:()=>({maskActive:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(o,r)=>{const c=r.lightConeConditionals;o[t.CR]+=c.maskActive?a[e]:0,o[t.CD]+=c.maskActive?i[e]:0},finalizeCalculations:()=>{}}},hm=e=>{const a=[12,14,16,18,20],i={id:"23008",skill:"Thorns",desc:"After the wearer uses an attack, for each different enemy target the wearer hits, regenerates #3[f1] Energy. Each attack can regenerate Energy up to #4[i] time(s) this way. After the wearer uses their Ultimate, all allies gain #2[i] SPD for 1 turn.",params:[[.24,12,3,3],[.28,14,3.5,3],[.32,16,4,3],[.36,18,4.5,3],[.4,20,5,3]],properties:[[{type:"AttackAddedRatio",value:.24}],[{type:"AttackAddedRatio",value:.28}],[{type:"AttackAddedRatio",value:.32}],[{type:"AttackAddedRatio",value:.36}],[{type:"AttackAddedRatio",value:.4}]]},n=[{lc:!0,id:"postUltSpdBuff",name:"postUltSpdBuff",formItem:"switch",text:"Post ult SPD buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({postUltSpdBuff:!1}),teammateDefaults:()=>({postUltSpdBuff:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.SPD]+=r.postUltSpdBuff?a[e]:0},finalizeCalculations:()=>{}}},bm=e=>{const a=[.24,.3,.36,.42,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:i=>{ne(i,Wa,a[e])},finalizeCalculations:()=>{}}},Sm=e=>{const a=[.16,.2,.24,.28,.32],i={id:"21022",skill:"Semibreve Rest",desc:"Increases the wearer's DMG to enemies afflicted with Shock or Wind Shear by #2[i]%. This also applies to DoT.",params:[[.16,.16],[.2,.2],[.24,.24],[.28,.28],[.32,.32]],properties:[[{type:"BreakDamageAddedRatioBase",value:.16}],[{type:"BreakDamageAddedRatioBase",value:.2}],[{type:"BreakDamageAddedRatioBase",value:.24}],[{type:"BreakDamageAddedRatioBase",value:.28}],[{type:"BreakDamageAddedRatioBase",value:.32}]]},n=[{lc:!0,id:"enemyShockWindShear",name:"enemyShockWindShear",formItem:"switch",text:"Enemy shocked / wind sheared",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({enemyShockWindShear:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.enemyShockWindShear?a[e]:0},finalizeCalculations:()=>{}}},Rm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),fm=e=>{const a=[.24,.3,.36,.42,.48],i={id:"21020",skill:"Each Now Has a Role to Play",desc:"When the wearer defeats an enemy, the wearer's CRIT DMG increases by #2[i]% for #3[i] turn(s).",params:[[.16,.24,3],[.2,.3,3],[.24,.36,3],[.28,.42,3],[.32,.48,3]],properties:[[{type:"AttackAddedRatio",value:.16}],[{type:"AttackAddedRatio",value:.2}],[{type:"AttackAddedRatio",value:.24}],[{type:"AttackAddedRatio",value:.28}],[{type:"AttackAddedRatio",value:.32}]]},n=[{lc:!0,id:"defeatedEnemyCdBuff",name:"defeatedEnemyCdBuff",formItem:"switch",text:"Defeated enemy CD buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({defeatedEnemyCdBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CD]+=r.defeatedEnemyCdBuff?a[e]:0},finalizeCalculations:()=>{}}},gm=e=>{const a=[.12,.15,.18,.21,.24],i={id:"21001",skill:"Toiler",desc:"For every debuff the target enemy has, the DMG dealt by the wearer increases by #1[i]%, stacking up to #2[i] time(s). This effect also applies to DoT.",params:[[.12,3],[.15,3],[.18,3],[.21,3],[.24,3]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"debuffStacksDmgIncrease",name:"debuffStacksDmgIncrease",formItem:"slider",text:"Debuff stacks DMG increase",title:i.skill,content:v(e,i),min:0,max:3}];return{content:()=>n,defaults:()=>({debuffStacksDmgIncrease:3}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.debuffStacksDmgIncrease*a[e]},finalizeCalculations:()=>{}}},pm=e=>{const a=[.16,.19,.22,.25,.28],i={id:"22001",skill:"I'm Not Afraid!",desc:"When the wearer uses their Skill, increases Outgoing Healing by #2[i]%, lasting for #3[i] turn(s).",params:[[.08,.16,2],[.09,.19,2],[.1,.22,2],[.11,.25,2],[.12,.28,2]],properties:[[{type:"HPAddedRatio",value:.08}],[{type:"HPAddedRatio",value:.09}],[{type:"HPAddedRatio",value:.1}],[{type:"HPAddedRatio",value:.11}],[{type:"HPAddedRatio",value:.12}]]},n=[{lc:!0,id:"postSkillHealBuff",name:"postSkillHealBuff",formItem:"switch",text:"Post skill heal buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({postSkillHealBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.OHB]+=r.postSkillHealBuff?a[e]:0},finalizeCalculations:()=>{}}},Gm=e=>{const a=[.6,.75,.9,1.05,1.2],i={id:"20018",skill:"Mechanism",desc:"After using Skill, the wearer's next Basic ATK deals Additional DMG equal to #1[i]% of ATK to the target enemy.",params:[[.6],[.75],[.9],[1.05],[1.2]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"basicAtkBuff",name:"basicAtkBuff",formItem:"switch",text:"Basic ATK Additional DMG",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({basicAtkBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.BASIC_SCALING+=r.basicAtkBuff?a[e]:0},finalizeCalculations:()=>{}}},Im=e=>{const a=[.12,.14,.16,.18,.2],i=[.12,.14,.16,.18,.2],n={id:"23007",skill:"Mirage of Reality",desc:"When the wearer deals DMG to an enemy that currently has #4[i] or more debuffs, increases the wearer's CRIT Rate by #5[i]%.",params:[[.24,1,.12,3,.12],[.28,1,.14,3,.14],[.32,1,.16,3,.16],[.36,1,.18,3,.18],[.4,1,.2,3,.2]],properties:[[{type:"StatusProbabilityBase",value:.24}],[{type:"StatusProbabilityBase",value:.28}],[{type:"StatusProbabilityBase",value:.32}],[{type:"StatusProbabilityBase",value:.36}],[{type:"StatusProbabilityBase",value:.4}]]},l={...n,desc:"After the wearer uses their Basic ATK, Skill, or Ultimate, there is a chance to implant Aether Code on a random hit target that does not yet have it. Targets with Aether Code receive #3[i]% increased DMG for 1 turn."},o=[{lc:!0,id:"enemy3DebuffsCrBoost",name:"enemy3DebuffsCrBoost",formItem:"switch",text:"Enemy ≤ 3 debuffs CR buff",title:n.skill,content:v(e,n)},{lc:!0,id:"targetCodeDebuff",name:"targetCodeDebuff",formItem:"switch",text:"Target Aether Code debuff",title:n.skill,content:v(e,l)}],r=[O(o,"targetCodeDebuff")];return{content:()=>o,teammateContent:()=>r,defaults:()=>({enemy3DebuffsCrBoost:!0,targetCodeDebuff:!0}),teammateDefaults:()=>({targetCodeDebuff:!0}),precomputeEffects:(c,h)=>{const b=h.lightConeConditionals;c[t.CR]+=b.enemy3DebuffsCrBoost?a[e]:0},precomputeMutualEffects:(c,h)=>{const b=h.lightConeConditionals;c.VULNERABILITY+=b.targetCodeDebuff?i[e]:0},finalizeCalculations:()=>{}}},Em=e=>{const a=[.24,.28,.32,.36,.4],i={id:"23004",skill:"Inheritor",desc:"Increases the wearer's DMG to debuffed enemies by #1[i]%.",params:[[.24,.18,.24],[.28,.21,.28],[.32,.24,.32],[.36,.27,.36],[.4,.3,.4]],properties:[[],[],[],[],[]]},n={...i,desc:"When the wearer uses their Skill, the Effect Hit Rate for this attack increases by #2[i]%, and ATK increases by #3[i]%."},l=[{lc:!0,id:"enemyDebuffedDmgBoost",name:"enemyDebuffedDmgBoost",formItem:"switch",text:"Enemy debuffed DMG boost",title:i.skill,content:v(e,i)},{lc:!0,id:"skillAtkBoost",name:"skillAtkBoost",formItem:"switch",text:"Skill ATK boost (not implemented)",title:i.skill,content:v(e,n)}];return{content:()=>l,defaults:()=>({enemyDebuffedDmgBoost:!0,skillAtkBoost:!1}),precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o.ELEMENTAL_DMG+=c.enemyDebuffedDmgBoost?a[e]:0},finalizeCalculations:()=>{}}},Tm=e=>{const a=[.06,.07,.08,.09,.1],i=[.12,.14,.16,.18,.2],n={id:"23001",skill:"Flowers and Butterflies",desc:"While the wearer is in battle, for every #2[i] SPD that exceeds 100, the DMG of the wearer's Basic ATK and Skill is increased by #3[i]% and the CRIT DMG of their Ultimate is increased by #4[i]%. This effect can stack up to #5[i] time(s).",params:[[.18,10,.06,.12,6],[.21,10,.07,.14,6],[.24,10,.08,.16,6],[.27,10,.09,.18,6],[.3,10,.1,.2,6]],properties:[[{type:"CriticalChanceBase",value:.18}],[{type:"CriticalChanceBase",value:.21}],[{type:"CriticalChanceBase",value:.24}],[{type:"CriticalChanceBase",value:.27}],[{type:"CriticalChanceBase",value:.3}]]},l=[{lc:!0,id:"spdScalingBuffs",name:"spdScalingBuffs",formItem:"switch",text:"Speed scaling buffs enabled",title:n.skill,content:v(e,n)}];return{content:()=>l,defaults:()=>({spdScalingBuffs:!0}),precomputeEffects:()=>{},finalizeCalculations:(o,r)=>{const c=r.lightConeConditionals,h=Math.max(0,Math.min(6,Math.floor((o[t.SPD]-100)/10)));ne(o,ht|_e,h*a[e],c.spdScalingBuffs),Ba(o,We,h*i[e],c.spdScalingBuffs)},gpuFinalizeCalculations:o=>{const r=o.lightConeConditionals;return`
if (${pt(r.spdScalingBuffs)}) {
  let stacks = max(0, min(6, floor((x.SPD - 100) / 10)));

  buffAbilityDmg(p_x, BASIC_TYPE | SKILL_TYPE, stacks * ${a[e]}, 1);
  buffAbilityCd(p_x, ULT_TYPE, stacks * ${i[e]}, 1);
}
    `}}},Dm=e=>{const a=[.14,.165,.19,.215,.24],i=[.12,.14,.16,.18,.2],n={id:"23014",skill:"With This Evening Jade",desc:"When an ally (excluding the wearer) gets attacked or loses HP, the wearer gains 1 stack of Eclipse, up to a max of #2[i] stack(s). Each stack of Eclipse increases the DMG of the wearer's next attack by #3[f1]%.",params:[[.2,3,.14,.12],[.23,3,.165,.14],[.26,3,.19,.16],[.29,3,.215,.18],[.32,3,.24,.2]],properties:[[{type:"CriticalDamageBase",value:.2}],[{type:"CriticalDamageBase",value:.23}],[{type:"CriticalDamageBase",value:.26}],[{type:"CriticalDamageBase",value:.29}],[{type:"CriticalDamageBase",value:.32}]]},l={...n,desc:"When #2[i] stack(s) are reached, additionally enables that attack to ignore #4[i]% of the enemy's DEF. This effect will be removed after the wearer uses an attack."},o=[{lc:!0,id:"eclipseStacks",name:"eclipseStacks",formItem:"slider",text:"Eclipse stacks",title:n.skill,content:v(e,n),min:0,max:3},{lc:!0,id:"maxStackDefPen",name:"maxStackDefPen",formItem:"switch",text:"Max stack DEF pen",title:n.skill,content:v(e,l)}];return{content:()=>o,defaults:()=>({eclipseStacks:3,maxStackDefPen:!0}),precomputeEffects:(r,c)=>{const h=c.lightConeConditionals;r.ELEMENTAL_DMG+=h.eclipseStacks*a[e],r.DEF_PEN+=h.maxStackDefPen&&h.eclipseStacks==3?i[e]:0},finalizeCalculations:()=>{}}},Zm=e=>{const a=[.16,.18,.2,.22,.24];return{content:()=>[],defaults:()=>({}),precomputeEffects:i=>{i.DMG_RED_MULTI*=1-a[e]},finalizeCalculations:()=>{}}},Cm=e=>{const a=[.24,.3,.36,.42,.48],i={id:"20011",skill:"Pursuit",desc:"Increases DMG dealt from its wearer to Slowed enemies by #1[i]%.",params:[[.24],[.3],[.36],[.42],[.48]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"enemySlowedDmgBuff",name:"enemySlowedDmgBuff",formItem:"switch",text:"Enemy slowed DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({enemySlowedDmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.enemySlowedDmgBuff?a[e]:0},finalizeCalculations:()=>{}}},Bm=e=>{const a=[.32,.4,.48,.56,.64],i={id:"21013",skill:"The Power of Sound",desc:"The wearer regenerates #2[i] Energy immediately upon entering battle, and increases Ultimate DMG by #1[i]%.",params:[[.32,20],[.4,23],[.48,26],[.56,29],[.64,32]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:"Ult DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,We,a[e],r.ultDmgBuff)},finalizeCalculations:()=>{}}},ym=e=>{const a=[12,14,16,18,20],i={id:"20019",skill:"Family",desc:"Upon entering battle, increases SPD of all allies by #1[i] points for #2[i] turn(s).",params:[[12,1],[14,1],[16,1],[18,1],[20,1]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"initialSpdBuff",name:"initialSpdBuff",formItem:"switch",text:"Initial SPD buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({initialSpdBuff:!0}),teammateDefaults:()=>({initialSpdBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.SPD]+=r.initialSpdBuff?a[e]:0},finalizeCalculations:()=>{}}},Wm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Mm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Vm=e=>{const a=[.24,.28,.32,.36,.4],i={id:"23005",skill:"Verdict",desc:"Increases the chance for the wearer to be attacked by enemies. When the wearer is attacked, increase their DEF by an extra #3[i]% until the end of the wearer's turn.",params:[[2,.24,.24,.24],[2,.28,.28,.28],[2,.32,.32,.32],[2,.36,.36,.36],[2,.4,.4,.4]],properties:[[{type:"DefenceAddedRatio",value:.24},{type:"StatusProbabilityBase",value:.24}],[{type:"DefenceAddedRatio",value:.28},{type:"StatusProbabilityBase",value:.28}],[{type:"DefenceAddedRatio",value:.32},{type:"StatusProbabilityBase",value:.32}],[{type:"DefenceAddedRatio",value:.36},{type:"StatusProbabilityBase",value:.36}],[{type:"DefenceAddedRatio",value:.4},{type:"StatusProbabilityBase",value:.4}]]},n=[{lc:!0,id:"selfAttackedDefBuff",name:"selfAttackedDefBuff",formItem:"switch",text:"Self attacked DEF buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({selfAttackedDefBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.DEF_P]+=r.selfAttackedDefBuff?a[e]:0},finalizeCalculations:()=>{}}},Fm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),xm=e=>{const a=[.12,.15,.18,.21,.24],i={id:"20016",skill:"Legion",desc:"If the wearer's current HP is lower than #1[i]%, CRIT Rate increases by #2[i]%.",params:[[.8,.12],[.8,.15],[.8,.18],[.8,.21],[.8,.24]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"selfHp80CrBuff",name:"selfHp80CrBuff",formItem:"switch",text:"Self HP < 80% CR buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({selfHp80CrBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CR]+=r.selfHp80CrBuff?a[e]:0},finalizeCalculations:()=>{}}},Lm=e=>{const a=[.024,.028,.032,.036,.04],i={id:"23017",skill:"Deep, Deep Breaths",desc:"When the wearer provides healing for an ally, increases the healed ally's ATK by #3[f1]%. This effect can stack up to #4[i] times and lasts for #5[i] turn(s).",params:[[.12,.1,.024,5,2],[.14,.11,.028,5,2],[.16,.12,.032,5,2],[.18,.13,.036,5,2],[.2,.14,.04,5,2]],properties:[[{type:"SPRatioBase",value:.12}],[{type:"SPRatioBase",value:.14}],[{type:"SPRatioBase",value:.16}],[{type:"SPRatioBase",value:.18}],[{type:"SPRatioBase",value:.2}]]},n=[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:"ATK buff stacks",title:i.skill,content:v(e,i),min:0,max:5}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({atkBuffStacks:5}),teammateDefaults:()=>({atkBuffStacks:5}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.ATK_P]+=r.atkBuffStacks*a[e]},finalizeCalculations:()=>{}}},Um=e=>{const a=[.09,.105,.12,.135,.15],i=[.3,.35,.4,.45,.5],n={id:"23000",skill:"Meteor Swarm",desc:"For every enemy on the field, increases the wearer's ATK by #2[f1]%, up to 5 stacks.",params:[[.3,.09],[.35,.105],[.4,.12],[.45,.135],[.5,.15]],properties:[[],[],[],[],[]]},l={...n,desc:"When an enemy is inflicted with Weakness Break, the DMG dealt by the wearer increases by #1[i]% for 1 turn."},o=[{lc:!0,id:"enemyCountAtkBuff",name:"enemyCountAtkBuff",formItem:"switch",text:"Enemy count atk buff",title:n.skill,content:v(e,n)},{lc:!0,id:"enemyWeaknessBreakDmgBuff",name:"enemyWeaknessBreakDmgBuff",formItem:"switch",text:"Enemy weakness break dmg buff",title:n.skill,content:v(e,l)}];return{content:()=>o,defaults:()=>({enemyCountAtkBuff:!0,enemyWeaknessBreakDmgBuff:!0}),precomputeEffects:(r,c)=>{const h=c.lightConeConditionals;r[t.ATK_P]+=h.enemyCountAtkBuff?c.enemyCount*a[e]:0,r.ELEMENTAL_DMG+=h.enemyWeaknessBreakDmgBuff?i[e]:0},finalizeCalculations:()=>{}}},km=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Hm=e=>{const a=[.12,.15,.18,.21,.24],i={id:"21003",skill:"Record",desc:"If there are 2 or fewer enemies on the field, increases wearer's CRIT Rate by #2[i]%.",params:[[.16,.12],[.2,.15],[.24,.18],[.28,.21],[.32,.24]],properties:[[{type:"AttackAddedRatio",value:.16}],[{type:"AttackAddedRatio",value:.2}],[{type:"AttackAddedRatio",value:.24}],[{type:"AttackAddedRatio",value:.28}],[{type:"AttackAddedRatio",value:.32}]]},n=[{lc:!0,id:"enemies2CrBuff",name:"enemies2CrBuff",formItem:"switch",text:"≤ 2 enemies CR buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({enemies2CrBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CR]+=r.enemies2CrBuff&&o.enemyCount<=2?a[e]:0},finalizeCalculations:()=>{}}},Pm=e=>{const a=[.08,.1,.12,.14,.16],i=[.12,.15,.18,.21,.24],n={id:"24000",skill:"Moth to Flames",desc:"Whenever the wearer attacks, their ATK is increased by #1[i]% in this battle. This effect can stack up to #2[i] time(s).",params:[[.08,4,.12,2],[.1,4,.15,2],[.12,4,.18,2],[.14,4,.21,2],[.16,4,.24,2]],properties:[[],[],[],[],[]]},l={...n,desc:"After a character inflicts Weakness Break on an enemy, the wearer's DMG increases by #3[i]% for #4[i] turn(s)."},o=[{lc:!0,id:"atkBoostStacks",name:"atkBoostStacks",formItem:"slider",text:"ATK boost stacks",title:n.skill,content:v(e,n),min:0,max:4},{lc:!0,id:"weaknessBreakDmgBuff",name:"weaknessBreakDmgBuff",formItem:"switch",text:"Weakness break DMG buff",title:n.skill,content:v(e,l)}];return{content:()=>o,defaults:()=>({atkBoostStacks:4,weaknessBreakDmgBuff:!0}),precomputeEffects:(r,c)=>{const h=c.lightConeConditionals;r[t.ATK_P]+=h.atkBoostStacks*a[e],r.ELEMENTAL_DMG+=h.weaknessBreakDmgBuff?i[e]:0},finalizeCalculations:()=>{}}},Nm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Ym=e=>{const a=[.16,.2,.24,.28,.32],n=[{lc:!0,id:"postSkillDmgBuff",name:"postSkillDmgBuff",formItem:"switch",text:"Post skill DMG buff",title:"Post skill DMG buff",content:v(e,{id:"21025",skill:"Kites From the Past",desc:"When the wearer uses their Skill, the next ally taking action (except the wearer) deals #1[i]% increased DMG for #2[i] turn(s).",params:[[.16,1],[.2,1],[.24,1],[.28,1],[.32,1]],properties:[[],[],[],[],[]]})}];return{content:()=>[],teammateContent:()=>n,defaults:()=>({}),teammateDefaults:()=>({postSkillDmgBuff:!0}),precomputeEffects:()=>{},precomputeTeammateEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.postSkillDmgBuff?a[e]:0},finalizeCalculations:()=>{}}},Am=e=>{const a=[.24,.28,.32,.36,.4],i={id:"23019",skill:"The Plum Fragrance In My Bones",desc:"When the wearer uses their Ultimate, increases all allies' DMG by #2[i]%, lasting for #3[i] turn(s).",params:[[.6,.24,3,1.5,10],[.7,.28,3,1.5,12.5],[.8,.32,3,1.5,15],[.9,.36,3,1.5,17.5],[1,.4,3,1.5,20]],properties:[[{type:"BreakDamageAddedRatioBase",value:.6}],[{type:"BreakDamageAddedRatioBase",value:.7}],[{type:"BreakDamageAddedRatioBase",value:.8}],[{type:"BreakDamageAddedRatioBase",value:.9}],[{type:"BreakDamageAddedRatioBase",value:1}]]},n=[{lc:!0,id:"postUltDmgBuff",name:"postUltDmgBuff",formItem:"switch",text:"Post Ult DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({postUltDmgBuff:!0}),teammateDefaults:()=>({postUltDmgBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.postUltDmgBuff?a[e]:0},finalizeCalculations:()=>{}}},wm=e=>{const a=[.24,.28,.32,.36,.4],i=[.048,.056,.064,.072,.08],n={id:"23006",skill:"Spider Web",desc:"Increases DMG dealt by the wearer by #2[i]%.",params:[[.6,.24,.048,3,1],[.7,.28,.056,3,1],[.8,.32,.064,3,1],[.9,.36,.072,3,1],[1,.4,.08,3,1]],properties:[[{type:"AllDamageTypeAddedRatio",value:.24}],[{type:"AllDamageTypeAddedRatio",value:.28}],[{type:"AllDamageTypeAddedRatio",value:.32}],[{type:"AllDamageTypeAddedRatio",value:.36}],[{type:"AllDamageTypeAddedRatio",value:.4}]]},l={...n,desc:"After every attack launched by wearer, their SPD increases by #3[f1]%, stacking up to #4[i] times."},o={...n,desc:"If the wearer hits an enemy target that is not afflicted by Erode, there is a 100% base chance to inflict Erode to the target. Enemies afflicted with Erode are also considered to be Shocked and will receive Lightning DoT at the start of each turn equal to #1[i]% of the wearer's ATK, lasting for #5[i] turn(s)."},r=[{lc:!0,id:"spdStacks",name:"spdStacks",formItem:"slider",text:"SPD Stacks",title:n.skill,content:v(e,l),min:0,max:3},{lc:!0,id:"dotEffect",name:"dotEffect",formItem:"switch",text:"DoT Effect (not implemented)",title:n.skill,content:v(e,o)}];return{content:()=>r,defaults:()=>({spdStacks:3,dotEffect:!1}),precomputeEffects:(c,h)=>{const b=h.lightConeConditionals;c[t.SPD_P]+=b.spdStacks*i[e],c.ELEMENTAL_DMG+=a[e]},finalizeCalculations:()=>{}}},Xm=e=>{const a=[.33,.36,.39,.42,.45],i=[.15,.18,.21,.24,.27],n={id:"21014",skill:"Refraction of Sightline",desc:"Increases the wearer's Outgoing Healing by an amount that is equal to #2[i]% of Effect RES. Outgoing Healing can be increased this way by up to #3[i]%.",params:[[.16,.33,.15],[.2,.36,.18],[.24,.39,.21],[.28,.42,.24],[.32,.45,.27]],properties:[[{type:"StatusResistanceBase",value:.16}],[{type:"StatusResistanceBase",value:.2}],[{type:"StatusResistanceBase",value:.24}],[{type:"StatusResistanceBase",value:.28}],[{type:"StatusResistanceBase",value:.32}]]},l=[{lc:!0,id:"resToHealingBoost",name:"resToHealingBoost",formItem:"switch",text:"RES to healing boost",title:n.skill,content:v(e,n)}];return{content:()=>l,defaults:()=>({resToHealingBoost:!0}),precomputeEffects:()=>{},finalizeCalculations:(o,r)=>{},dynamicConditionals:[{id:"PerfectTimingConditional",type:Me.ABILITY,activation:Be.SINGLE,dependsOn:[t.RES],condition:function(o,r,c){return r.lightConeConditionals.resToHealingBoost},effect:(o,r,c)=>{const h=Math.min(i[e],a[e]*o[t.RES]);je(o,r,c,t.OHB,h)},gpu:function(){return Ve(this,`
if (
  (*p_state).PerfectTimingConditional == 0.0
) {
  (*p_state).PerfectTimingConditional = 1.0;
  
  let boost = min(${i[e]}, ${a[e]} * x.RES);
  buffDynamicOHB(boost, p_x, p_state);
}
    `)}}]}},jm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),vm=e=>{const a=[.12,.15,.18,.21,.24],i={id:"21011",skill:"Departure",desc:"After entering battle, if an ally deals the same DMG Type as the wearer, DMG dealt increases by #1[i]%.",params:[[.12],[.15],[.18],[.21],[.24]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"alliesSameElement",name:"alliesSameElement",formItem:"switch",text:"Same element ally DMG boost",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({alliesSameElement:!0}),teammateDefaults:()=>({alliesSameElement:!0}),precomputeTeammateEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.alliesSameElement?a[e]:0},precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.alliesSameElement?a[e]:0},finalizeCalculations:()=>{}}},Om=e=>{const a=[.12,.15,.18,.21,.24],i={id:"21000",skill:"Mutual Healing",desc:"Increases the wearer's Outgoing Healing when they use their Ultimate by #2[i]%.",params:[[.08,.12],[.1,.15],[.12,.18],[.14,.21],[.16,.24]],properties:[[{type:"SPRatioBase",value:.08}],[{type:"SPRatioBase",value:.1}],[{type:"SPRatioBase",value:.12}],[{type:"SPRatioBase",value:.14}],[{type:"SPRatioBase",value:.16}]]},n=[{lc:!0,id:"postUltHealingBoost",name:"postUltHealingBoost",formItem:"switch",text:"Ult healing boost",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({postUltHealingBoost:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.OHB]+=r.postUltHealingBoost?a[e]:0},finalizeCalculations:()=>{}}},Km=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),_m=e=>{const a=[.05,.06,.07,.08,.09],i=[.072,.079,.086,.093,.1],n={id:"23022",skill:"Crystallize",desc:"When the wearer deals DMG to an enemy inflicted with Wind Shear, Burn, Shock, or Bleed, each respectively grants 1 stack of Prophet, stacking up to #4[i] time(s). In a single battle, only 1 stack of Prophet can be granted for each type of DoT. Every stack of Prophet increases wearer's ATK by #2[i]% and enables the DoT dealt to ignore #3[f1]% of the target's DEF.",params:[[.4,.05,.072,4],[.45,.06,.079,4],[.5,.07,.086,4],[.55,.08,.093,4],[.6,.09,.1,4]],properties:[[{type:"StatusProbabilityBase",value:.4}],[{type:"StatusProbabilityBase",value:.45}],[{type:"StatusProbabilityBase",value:.5}],[{type:"StatusProbabilityBase",value:.55}],[{type:"StatusProbabilityBase",value:.6}]]},l=[{lc:!0,id:"prophetStacks",name:"prophetStacks",formItem:"slider",text:"Prophet stacks",title:n.skill,content:v(e,n),min:0,max:4}];return{content:()=>l,defaults:()=>({prophetStacks:4}),precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o[t.ATK_P]+=c.prophetStacks*a[e],fa(o,Wa,c.prophetStacks*i[e])},finalizeCalculations:()=>{}}},Jm=e=>{const a=[.12,.13,.14,.15,.16],i={id:"21015",skill:"Glance Back",desc:"When the wearer hits an enemy and if the hit enemy is not already Ensnared, then there is a chance to Ensnare the hit enemy. Ensnared enemies' DEF decreases by #2[i]% for #3[i] turn(s).",params:[[.6,.12,1],[.7,.13,1],[.8,.14,1],[.9,.15,1],[1,.16,1]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"targetEnsnared",name:"targetEnsnared",formItem:"switch",text:"Target ensnared",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({targetEnsnared:!0}),teammateDefaults:()=>({targetEnsnared:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l.DEF_PEN+=r.targetEnsnared?a[e]:0},finalizeCalculations:()=>{}}},zm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Qm=e=>{const a=[.08,.09,.1,.11,.12],i=[.12,.15,.18,.21,.24],n={id:"21024",skill:"Stave Off the Lingering Cold",desc:"After entering battle, increases the wearer's SPD by #1[i]% and DMG by #2[i]%. When the wearer takes DMG, this effect will disappear. This effect will resume after the end of the wearer's next turn.",params:[[.08,.12],[.09,.15],[.1,.18],[.11,.21],[.12,.24]],properties:[[],[],[],[],[]]},l=[{lc:!0,id:"spdDmgBuff",name:"spdDmgBuff",formItem:"switch",text:"SPD / DMG buff active",title:n.skill,content:v(e,n)}];return{content:()=>l,defaults:()=>({spdDmgBuff:!0}),precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o[t.SPD_P]+=c.spdDmgBuff?a[e]:0,o.ELEMENTAL_DMG+=c.spdDmgBuff?i[e]:0},finalizeCalculations:()=>{}}},$m=e=>{const a=[.24,.3,.36,.42,.48],i={id:"20020",skill:"Genius",desc:"When the wearer uses their Ultimate, increases ATK by #1[i]% for #2[i] turn(s).",params:[[.24,2],[.3,2],[.36,2],[.42,2],[.48,2]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"postUltAtkBuff",name:"postUltAtkBuff",formItem:"switch",text:"Post ult ATK buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({postUltAtkBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.ATK_P]+=r.postUltAtkBuff?a[e]:0},finalizeCalculations:()=>{}}},qm=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),eh=e=>{const a=[.2,.25,.3,.35,.4],i={id:"20009",skill:"Eradication",desc:"The wearer deals #2[i]% more DMG to enemy targets whose HP percentage is greater than #1[i]%.",params:[[.5,.2],[.5,.25],[.5,.3],[.5,.35],[.5,.4]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"enemyHp50Buff",name:"enemyHp50Buff",formItem:"switch",text:"Enemy HP > 50% DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({enemyHp50Buff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.enemyHp50Buff?a[e]:0},finalizeCalculations:()=>{}}},th=e=>{const a=[.09,.105,.12,.135,.15],i={id:"23011",skill:"Visioscape",desc:"When the wearer's HP is reduced, all allies' DMG dealt increases by #2[f1]%, lasting for #5[i] turn(s).",params:[[.24,.09,.8,.12,2],[.28,.105,.85,.14,2],[.32,.12,.9,.16,2],[.36,.135,.95,.18,2],[.4,.15,1,.2,2]],properties:[[{type:"HPAddedRatio",value:.24},{type:"SPRatioBase",value:.12}],[{type:"HPAddedRatio",value:.28},{type:"SPRatioBase",value:.14}],[{type:"HPAddedRatio",value:.32},{type:"SPRatioBase",value:.16}],[{type:"HPAddedRatio",value:.36},{type:"SPRatioBase",value:.18}],[{type:"HPAddedRatio",value:.4},{type:"SPRatioBase",value:.2}]]},n=[{lc:!0,id:"hpLostDmgBuff",name:"hpLostDmgBuff",formItem:"switch",text:"HP lost DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({hpLostDmgBuff:!0}),teammateDefaults:()=>({hpLostDmgBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.hpLostDmgBuff?a[e]:0},finalizeCalculations:()=>{}}},ah=e=>{const a=[.36,.42,.48,.54,.6],i={id:"23012",skill:"Sweet Dreams",desc:"When the wearer's Basic ATK or Skill does not result in a CRIT Hit, increases their CRIT Rate by #2[i]% for #3[i] turn(s). This effect can only trigger once every #4[i] turn(s).",params:[[.3,.36,1,3],[.35,.42,1,3],[.4,.48,1,3],[.45,.54,1,3],[.5,.6,1,3]],properties:[[{type:"CriticalDamageBase",value:.3}],[{type:"CriticalDamageBase",value:.35}],[{type:"CriticalDamageBase",value:.4}],[{type:"CriticalDamageBase",value:.45}],[{type:"CriticalDamageBase",value:.5}]]},n=[{lc:!0,id:"missedCritCrBuff",name:"missedCritCrBuff",formItem:"switch",text:"Missed crit CR buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({missedCritCrBuff:!1}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CR]+=r.missedCritCrBuff?a[e]:0},finalizeCalculations:()=>{}}},sh=e=>{const a=[.24,.3,.36,.42,.48],i={id:"24003",skill:"Chaos Elixir",desc:"When the wearer uses their Ultimate, increases DoT dealt by the wearer by #2[i]%, lasting for #3[i] turn(s).",params:[[.2,.24,2,4],[.25,.3,2,4.5],[.3,.36,2,5],[.35,.42,2,5.5],[.4,.48,2,6]],properties:[[{type:"BreakDamageAddedRatioBase",value:.2}],[{type:"BreakDamageAddedRatioBase",value:.25}],[{type:"BreakDamageAddedRatioBase",value:.3}],[{type:"BreakDamageAddedRatioBase",value:.35}],[{type:"BreakDamageAddedRatioBase",value:.4}]]},n=[{lc:!0,id:"postUltDotDmgBuff",name:"postUltDotDmgBuff",formItem:"switch",text:"Post ult DoT DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({postUltDotDmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,Wa,a[e],r.postUltDotDmgBuff)},finalizeCalculations:()=>{}}},ih=e=>{const a=[.24,.28,.32,.36,.4],i={id:"23002",skill:"Kinship",desc:"When the wearer defeats an enemy or is hit, immediately restores HP equal to #2[i]% of the wearer's ATK. At the same time, the wearer's DMG is increased by #3[i]% until the end of their next turn. This effect cannot stack and can only trigger 1 time per turn.",params:[[.24,.08,.24],[.28,.09,.28],[.32,.1,.32],[.36,.11,.36],[.4,.12,.4]],properties:[[{type:"AttackAddedRatio",value:.24}],[{type:"AttackAddedRatio",value:.28}],[{type:"AttackAddedRatio",value:.32}],[{type:"AttackAddedRatio",value:.36}],[{type:"AttackAddedRatio",value:.4}]]},n=[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:"Enemy defeated or self hit DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({dmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.dmgBuff?a[e]:0},finalizeCalculations:()=>{}}},nh=e=>{const a=[.24,.3,.36,.42,.48],i={id:"21017",skill:"Like Before You Leave!",desc:"Increases the DMG of the wearer's Basic ATK and Skill by #1[i]%. This effect increases by an extra #2[i]% when the wearer's current Energy reaches its max level.",params:[[.24,.24],[.3,.3],[.36,.36],[.42,.42],[.48,.48]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"maxEnergyDmgBoost",name:"maxEnergyDmgBoost",formItem:"switch",text:"Max energy DMG boost",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({maxEnergyDmgBoost:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,ht|_e,a[e]),ne(l,ht|_e,a[e],r.maxEnergyDmgBoost)},finalizeCalculations:()=>{}}},lh=e=>{const a=[.08,.1,.12,.14,.16],i={id:"21010",skill:"Answers of Their Own",desc:"For each time the wearer hits the same target, DMG dealt increases by #1[i]%, stacking up to #2[i] time(s). This effect will be dispelled when the wearer changes targets.",params:[[.08,5],[.1,5],[.12,5],[.14,5],[.16,5]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"sameTargetHitStacks",name:"sameTargetHitStacks",formItem:"slider",text:"Same target hit stacks",title:i.skill,content:v(e,i),min:0,max:5}];return{content:()=>n,defaults:()=>({sameTargetHitStacks:5}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.sameTargetHitStacks*a[e]},finalizeCalculations:()=>{}}},oh=e=>{const a=[.12,.15,.18,.21,.24],i={id:"24002",skill:"Treasure",desc:"If the wearer is attacked and has no Shield, they gain a Shield equal to #2[i]% of their Max HP for #3[i] turn(s). This effect can only be triggered once every #4[i] turn(s). If the wearer has a Shield when attacked, the DMG they receive decreases by #5[i]%.",params:[[.08,.16,2,3,.12],[.1,.2,2,3,.15],[.12,.24,2,3,.18],[.14,.28,2,3,.21],[.16,.32,2,3,.24]],properties:[[{type:"StatusResistanceBase",value:.08}],[{type:"StatusResistanceBase",value:.1}],[{type:"StatusResistanceBase",value:.12}],[{type:"StatusResistanceBase",value:.14}],[{type:"StatusResistanceBase",value:.16}]]},n=[{lc:!0,id:"activeShieldDmgDecrease",name:"activeShieldDmgDecrease",formItem:"switch",text:"Active shield DMG taken decrease",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({activeShieldDmgDecrease:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.DMG_RED_MULTI*=r.activeShieldDmgDecrease?1-a[e]:1},finalizeCalculations:()=>{}}},rh=e=>{const a=[.24,.3,.36,.42,.48],i={id:"21006",skill:"The Maiden in the Painting",desc:"If the current HP of the target enemy is below or equal to #2[i]%, increases DMG dealt by follow-up attacks by an extra #3[i]%.",params:[[.24,.5,.24],[.3,.5,.3],[.36,.5,.36],[.42,.5,.42],[.48,.5,.48]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"enemyHp50FuaBuff",name:"enemyHp50FuaBuff",formItem:"switch",text:"Enemy HP < 50% fua buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({enemyHp50FuaBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,Te,a[e]),ne(l,Te,a[e],r.enemyHp50FuaBuff)},finalizeCalculations:()=>{}}},ch=e=>{const a=[.12,.15,.18,.21,.24],i={id:"21005",skill:"Fantastic Adventure",desc:"When the wearer uses Basic ATK, Skill, or Ultimate to attack enemies, the wearer gains one stack of Mischievous. Each stack increases the wearer's ATK by #1[i]%.",params:[[.12],[.15],[.18],[.21],[.24]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:"ATK buff stacks",title:i.skill,content:v(e,i),min:0,max:3}];return{content:()=>n,defaults:()=>({atkBuffStacks:3}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.ATK_P]+=r.atkBuffStacks*a[e]},finalizeCalculations:()=>{}}},dh=e=>{const a=[.12,.15,.18,.21,.24],i=[.04,.05,.06,.07,.08],n={id:"21027",skill:"Get Ready",desc:"Increases the wearer's DMG by #1[i]%.",params:[[.12,.04,3],[.15,.05,3],[.18,.06,3],[.21,.07,3],[.24,.08,3]],properties:[[{type:"AllDamageTypeAddedRatio",value:.12}],[{type:"AllDamageTypeAddedRatio",value:.15}],[{type:"AllDamageTypeAddedRatio",value:.18}],[{type:"AllDamageTypeAddedRatio",value:.21}],[{type:"AllDamageTypeAddedRatio",value:.24}]]},l={...n,desc:"For every enemy defeated by the wearer, the wearer's ATK increases by #2[i]%, stacking up to #3[i] time(s)."},o=[{lc:!0,id:"dmgBoost",name:"dmgBoost",formItem:"switch",text:"DMG boost",title:n.skill,content:v(e,n)},{lc:!0,id:"defeatedEnemyAtkStacks",name:"defeatedEnemyAtkStacks",formItem:"slider",text:"Defeated enemy ATK stacks",title:n.skill,content:v(e,l),min:0,max:3}];return{content:()=>o,defaults:()=>({dmgBoost:!0,defeatedEnemyAtkStacks:3}),precomputeEffects:(r,c)=>{const h=c.lightConeConditionals;r[t.ATK_P]+=h.defeatedEnemyAtkStacks*i[e],r.ELEMENTAL_DMG+=h.dmgBoost?a[e]:0},finalizeCalculations:()=>{}}},uh=e=>{const a=[.24,.28,.32,.36,.4],i={id:"23009",skill:"Unfulfilled Yearning",desc:"When the wearer is attacked or consumes their own HP, their DMG increases by #3[i]%. This effect is removed after the wearer uses an attack.",params:[[.18,.18,.24],[.21,.21,.28],[.24,.24,.32],[.27,.27,.36],[.3,.3,.4]],properties:[[{type:"CriticalChanceBase",value:.18},{type:"HPAddedRatio",value:.18}],[{type:"CriticalChanceBase",value:.21},{type:"HPAddedRatio",value:.21}],[{type:"CriticalChanceBase",value:.24},{type:"HPAddedRatio",value:.24}],[{type:"CriticalChanceBase",value:.27},{type:"HPAddedRatio",value:.27}],[{type:"CriticalChanceBase",value:.3},{type:"HPAddedRatio",value:.3}]]},n=[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:"HP consumed or attacked DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({dmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.dmgBuff?a[e]:0},finalizeCalculations:()=>{}}},mh=e=>{const a={id:"21030",skill:"New Chapter",desc:"Increases the DMG of the wearer when they use their Ultimate by #2[i]% of the wearer's DEF. This effect only applies 1 time per enemy target during each use of the wearer's Ultimate.",params:[[.16,.6],[.2,.75],[.24,.9],[.28,1.05],[.32,1.2]],properties:[[{type:"DefenceAddedRatio",value:.16}],[{type:"DefenceAddedRatio",value:.2}],[{type:"DefenceAddedRatio",value:.24}],[{type:"DefenceAddedRatio",value:.28}],[{type:"DefenceAddedRatio",value:.32}]]},i=[{lc:!0,id:"defScalingUltDmg",name:"defScalingUltDmg",formItem:"switch",text:"DEF scaling ult DMG (Not implemented)",title:a.skill,content:v(e,a)}];return{content:()=>i,defaults:()=>({defScalingUltDmg:!1}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}},hh=e=>{const a={id:"23013",skill:"Morn, Noon, Dusk, and Night",desc:"When the wearer heals allies, record the amount of Outgoing Healing. When any ally launches an attack, a random attacked enemy takes Additional DMG equal to #3[i]% of the recorded Outgoing Healing value. The type of this Additional DMG is of the same Type as the wearer's. This Additional DMG is not affected by other buffs, and can only occur 1 time per turn.",params:[[.18,.12,.36],[.21,.14,.42],[.24,.16,.48],[.27,.18,.54],[.3,.2,.6]],properties:[[{type:"HPAddedRatio",value:.18},{type:"HealRatioBase",value:.12}],[{type:"HPAddedRatio",value:.21},{type:"HealRatioBase",value:.14}],[{type:"HPAddedRatio",value:.24},{type:"HealRatioBase",value:.16}],[{type:"HPAddedRatio",value:.27},{type:"HealRatioBase",value:.18}],[{type:"HPAddedRatio",value:.3},{type:"HealRatioBase",value:.2}]]},i=[{lc:!0,id:"healingBasedDmgProc",name:"healingBasedDmgProc",formItem:"switch",text:"Healing based dmg proc (Not implemented)",title:a.skill,content:v(e,a)}];return{content:()=>i,defaults:()=>({healingBasedDmgProc:!1}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}},bh=e=>{const a=[.002,.0025,.003,.0035,.004],i={id:"21034",skill:"A Storm Is Coming",desc:"After entering battle, increases the wearer's DMG based on their Max Energy. DMG increases by #1[i]% per point of Energy, up to #2[i] Energy.",params:[[.002,160],[.0025,160],[.003,160],[.0035,160],[.004,160]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"maxEnergyStacks",name:"maxEnergyStacks",formItem:"slider",text:"Max energy",title:i.skill,content:v(e,i),min:0,max:160}];return{content:()=>n,defaults:()=>({maxEnergyStacks:160}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.maxEnergyStacks*a[e]},finalizeCalculations:()=>{}}},Sh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Rh=e=>{const a=[.12,.15,.18,.21,.24],i={id:"21019",skill:"Rye Under the Sun",desc:"When the wearer defeats an enemy, the wearer's CRIT Rate increases by #2[i]% for #3[i] turn(s).",params:[[.16,.12,3],[.2,.15,3],[.24,.18,3],[.28,.21,3],[.32,.24,3]],properties:[[{type:"AttackAddedRatio",value:.16}],[{type:"AttackAddedRatio",value:.2}],[{type:"AttackAddedRatio",value:.24}],[{type:"AttackAddedRatio",value:.28}],[{type:"AttackAddedRatio",value:.32}]]},n=[{lc:!0,id:"defeatedEnemyCrBuff",name:"defeatedEnemyCrBuff",formItem:"switch",text:"Defeated enemy CR buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({defeatedEnemyCrBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CR]+=r.defeatedEnemyCrBuff?a[e]:0},finalizeCalculations:()=>{}}},fh=e=>{const a=[.2,.25,0,30,.35,.4],i={id:"20004",skill:"Fallen",desc:"At the start of the battle, the wearer's Effect Hit Rate increases by #1[i]% for #2[i] turn(s).",params:[[.2,3],[.25,3],[.3,3],[.35,3],[.4,3]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"initialEhrBuff",name:"initialEhrBuff",formItem:"switch",text:"Initial EHR buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({initialEhrBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.EHR]+=r.initialEhrBuff?a[e]:0},finalizeCalculations:()=>{}}},gh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),ph=e=>{const a=[.08,.1,.12,.14,.16],i={id:"21023",skill:"Teary-Eyed",desc:"At the start of the battle, the DMG dealt to all allies decreases by #2[i]% for #3[i] turn(s). At the same time, immediately restores HP to all allies equal to #1[i]% of the respective HP difference between the characters' Max HP and current HP.",params:[[.3,.08,5],[.35,.1,5],[.4,.12,5],[.45,.14,5],[.5,.16,5]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"initialDmgReductionBuff",name:"initialDmgReductionBuff",formItem:"switch",text:"Initial DMG reduction buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({initialDmgReductionBuff:!0}),teammateDefaults:()=>({initialDmgReductionBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l.DMG_RED_MULTI*=r.initialDmgReductionBuff?1-a[e]:1},finalizeCalculations:()=>{}}},Gh=e=>{const a=[.48,.6,.72,.84,.96],i={id:"21029",skill:"A Discourse in Arms",desc:"After the wearer uses Basic ATK or Skill, deals Additional DMG equal to #1[i]% of the wearer's ATK to a random enemy that has been attacked.",params:[[.48],[.6],[.72],[.84],[.96]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"extraDmgProc",name:"extraDmgProc",formItem:"switch",text:"Additional DMG proc",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({extraDmgProc:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.BASIC_SCALING+=r.extraDmgProc?a[e]:0,l.SKILL_SCALING+=r.extraDmgProc?a[e]:0},finalizeCalculations:()=>{}}},Ih=e=>{const a=[.16,.2,.24,.28,.32],i={id:"21026",skill:"Run!",desc:"Increases the wearer's DMG to enemies afflicted with Burn or Bleed by #2[i]%. This also applies to DoT.",params:[[.1,.16],[.125,.2],[.15,.24],[.175,.28],[.2,.32]],properties:[[{type:"AttackAddedRatio",value:.1}],[{type:"AttackAddedRatio",value:.125}],[{type:"AttackAddedRatio",value:.15}],[{type:"AttackAddedRatio",value:.175}],[{type:"AttackAddedRatio",value:.2}]]},n=[{lc:!0,id:"atkBoost",name:"atkBoost",formItem:"switch",text:"Enemy Burn/Bleed ATK boost",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({enemyBurnedBleeding:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.enemyBurnedBleeding?a[e]:0},finalizeCalculations:()=>{}}},Eh=e=>{const a=[.3,.35,.4,.45,.5],i=[.12,.14,.16,.18,.2],n={id:"23016",skill:"One At A Time",desc:"Increase the wearer's CRIT Rate by #1[i]% and their follow-up attacks' DMG by #2[i]%.",params:[[.18,.3,.12,2],[.21,.35,.14,2],[.24,.4,.16,2],[.27,.45,.18,2],[.3,.5,.2,2]],properties:[[{type:"CriticalChanceBase",value:.18}],[{type:"CriticalChanceBase",value:.21}],[{type:"CriticalChanceBase",value:.24}],[{type:"CriticalChanceBase",value:.27}],[{type:"CriticalChanceBase",value:.3}]]},l={...n,desc:"After the wearer uses a follow-up attack, apply the Tame state to the target, stacking up to #4[i] stacks. When allies hit enemy targets under the Tame state, every Tame stack increases the CRIT DMG dealt by #3[i]%."},o=[{lc:!0,id:"targetTameStacks",name:"targetTameStacks",formItem:"slider",text:"Target Tame stacks",title:n.skill,content:v(e,l),min:0,max:2}];return{content:()=>o,teammateContent:()=>o,defaults:()=>({targetTameStacks:2}),teammateDefaults:()=>({targetTameStacks:2}),precomputeEffects:(r,c)=>{ne(r,Te,a[e])},precomputeMutualEffects:(r,c)=>{const h=c.lightConeConditionals;r[t.CD]+=h.targetTameStacks*i[e]},finalizeCalculations:()=>{}}},Th=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Dh=e=>{const a=[.12,.14,.16,.18,.2],i={id:"21036",skill:"Solidarity",desc:"After the wearer uses a certain type of ability such as Basic ATK, Skill, or Ultimate, all allies gain Childishness, which increases allies' DMG for the same type of ability as used by the wearer by #1[i]%. Childishness only takes effect for the most recent type of ability the wearer used and cannot be stacked.",params:[[.12],[.14],[.16],[.18],[.2]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:"Ult DMG buff",title:i.skill,content:v(e,i)},{lc:!0,id:"skillDmgBuff",name:"skillDmgBuff",formItem:"switch",text:"Skill DMG buff",title:i.skill,content:v(e,i)},{lc:!0,id:"basicDmgBuff",name:"basicDmgBuff",formItem:"switch",text:"Basic DMG buff",title:i.skill,content:v(e,i)}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({ultDmgBuff:!0,skillDmgBuff:!1,basicDmgBuff:!1}),teammateDefaults:()=>({ultDmgBuff:!0,skillDmgBuff:!1,basicDmgBuff:!1}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;ne(l,ht,a[e],r.basicDmgBuff),ne(l,_e,a[e],r.skillDmgBuff),ne(l,We,a[e],r.ultDmgBuff)},finalizeCalculations:()=>{}}},Zh=e=>{const a=[.08,.09,.1,.11,.12],i={id:"21037",skill:"All In",desc:"When the wearer lands a CRIT hit on enemies, gains a stack of Good Fortune, stacking up to #3[i] time(s). Every stack of Good Fortune the wearer has will increase their CRIT DMG by #2[i]%. Good Fortune will be removed at the end of the wearer's turn.",params:[[.12,.08,4],[.14,.09,4],[.16,.1,4],[.18,.11,4],[.2,.12,4]],properties:[[{type:"AttackAddedRatio",value:.12}],[{type:"AttackAddedRatio",value:.14}],[{type:"AttackAddedRatio",value:.16}],[{type:"AttackAddedRatio",value:.18}],[{type:"AttackAddedRatio",value:.2}]]},n=[{lc:!0,id:"goodFortuneStacks",name:"goodFortuneStacks",formItem:"slider",text:"Good Fortune stacks",title:i.skill,content:v(e,i),min:0,max:4}];return{content:()=>n,defaults:()=>({goodFortuneStacks:4}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CD]+=r.goodFortuneStacks*a[e]},finalizeCalculations:()=>{}}},Ch=e=>{const a=[.25,.3125,.375,.4375,.5],i={id:"21038",skill:"Deflagration",desc:"When the cumulative HP loss of the wearer during a single attack exceeds #1[i]% of their Max HP, or if the amount of their own HP they consume at one time is greater than #1[i]% of their Max HP, immediately heals the wearer for #3[i]% of their Max HP, and at the same time, increases the DMG they deal by #2[i]% for #4[i] turn(s). This effect can only be triggered once every #5[i] turn(s).",params:[[.25,.25,.15,2,3],[.25,.3125,.15,2,3],[.25,.375,.15,2,3],[.25,.4375,.15,2,3],[.25,.5,.15,2,3]],properties:[[],[],[],[],[]]},n=[{lc:!0,id:"dmgBuff",name:"dmgBuff",formItem:"switch",text:"DMG increased buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({dmgBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.dmgBuff?a[e]:0},finalizeCalculations:()=>{}}},Bh=e=>{const a=[.008,.009,.01,.011,.012],i=[.32,.36,.4,.44,.48];return{content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:(n,l)=>{n.ELEMENTAL_DMG+=Math.min(i[e],Math.floor(n[t.DEF]/100)*a[e])},gpuFinalizeCalculations:()=>`
x.ELEMENTAL_DMG += min(${i[e]}, floor(x.DEF / 100) * ${a[e]});
      `}},yh=e=>{const a=[.2,.25,.3,.35,.4],i={id:"21040",skill:"Stratagem",desc:"When the wearer uses an attack and at least 2 attacked enemies have the corresponding Weakness, the wearer's CRIT DMG increases by #2[i]% for #3[i] turn(s).",params:[[.16,.2,2],[.18,.25,2],[.2,.3,2],[.22,.35,2],[.24,.4,2]],properties:[[{type:"AttackAddedRatio",value:.16}],[{type:"AttackAddedRatio",value:.18}],[{type:"AttackAddedRatio",value:.2}],[{type:"AttackAddedRatio",value:.22}],[{type:"AttackAddedRatio",value:.24}]]},n=[{lc:!0,id:"cdBuffActive",name:"cdBuffActive",formItem:"switch",text:"≥ 2 weakness targets CD buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({cdBuffActive:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CD]+=r.cdBuffActive?a[e]:0},finalizeCalculations:()=>{}}},Wh=e=>{const a=[.06,.07,.08,.09,.1],i=[.2,.24,.28,.32,.36],n={id:"21041",skill:"Self-Amusement",desc:"When the wearer inflicts a debuff on an enemy, gains a stack of Trick. Every stack of Trick increases the wearer's DMG dealt by #1[i]%, stacking up to #2[i] time(s). This effect lasts for #3[i] turn(s). When the wearer's Effect Hit Rate is #4[i]% or higher, increases ATK by #5[i]%.",params:[[.06,3,1,.8,.2],[.07,3,1,.8,.24],[.08,3,1,.8,.28],[.09,3,1,.8,.32],[.1,3,1,.8,.36]],properties:[[],[],[],[],[]]},l=[{lc:!0,id:"trickStacks",name:"trickStacks",formItem:"slider",text:"Trick stacks",title:n.skill,content:v(e,n),min:0,max:3}];return{content:()=>l,defaults:()=>({trickStacks:3}),precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o.ELEMENTAL_DMG+=c.trickStacks*a[e]},finalizeCalculations:()=>{},dynamicConditionals:[{id:"ItsShowtimeConversionConditional",type:Me.ABILITY,activation:Be.CONTINUOUS,dependsOn:[t.EHR],condition:function(o,r,c){return o[t.EHR]>=.8},effect:function(o,r,c){r.characterConditionals;const h=c.conditionalState[this.id]||0,b=i[e]*r.baseAtk;c.conditionalState[this.id]=b,je(o,r,c,t.ATK,b-h)},gpu:function(o,r){return Ve(this,`
if (x.EHR < 0.80) {
  return;
}

let stateValue: f32 = (*p_state).ItsShowtimeConversionConditional;
let buffValue: f32 = ${i[e]};

(*p_state).ItsShowtimeConversionConditional = buffValue;
buffDynamicATK_P(buffValue - stateValue, p_x, p_state);
    `)}}]}},Mh=e=>{const a=[.15,.1875,.225,.2625,.3],i={id:"21042",skill:"Inheritance",desc:"Increases the wearer's Break Effect by #1[i]%. When the wearer uses their Ultimate, increases CRIT Rate by #2[i]%, lasting for #3[i] turn(s).",params:[[.28,.15,2],[.35,.1875,2],[.42,.225,2],[.49,.2625,2],[.56,.3,2]],properties:[[{type:"BreakDamageAddedRatioBase",value:.28}],[{type:"BreakDamageAddedRatioBase",value:.35}],[{type:"BreakDamageAddedRatioBase",value:.42}],[{type:"BreakDamageAddedRatioBase",value:.49}],[{type:"BreakDamageAddedRatioBase",value:.56}]]},n=[{lc:!0,id:"crBuff",name:"crBuff",formItem:"switch",text:"Ult CR buff",title:i.skill,content:v(e,i)}];return{content:()=>n,defaults:()=>({crBuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.CR]+=r.crBuff?a[e]:0},finalizeCalculations:()=>{}}},Vh=e=>{const a=[.4,.46,.52,.58,.64],i=[.1,.115,.13,.145,.16],n=[{lc:!0,id:"shieldCdBuff",name:"shieldCdBuff",formItem:"switch",text:"Shield CD buff",title:"All-In",content:`When the wearer provides a Shield to an ally, the wearer's CRIT DMG increases by ${x(a[e]*100)}%, lasting for 2 turn(s).`},{lc:!0,id:"targetVulnerability",name:"targetVulnerability",formItem:"switch",text:"Target vulnerability debuff",title:"All-In",content:`When the wearer's follow-up attack hits an enemy target, there is a 100% base chance to increase the DMG taken by the attacked enemy target by ${x(i[e]*100)}%, lasting for 2 turn(s).`}],l=[O(n,"targetVulnerability")];return{content:()=>n,teammateContent:()=>l,defaults:()=>({shieldCdBuff:!0,targetVulnerability:!0}),teammateDefaults:()=>({targetVulnerability:!0}),precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o[t.CD]+=c.shieldCdBuff?a[e]:0},precomputeMutualEffects:(o,r)=>{const c=r.lightConeConditionals;o.VULNERABILITY+=c.targetVulnerability?i[e]:0},finalizeCalculations:()=>{}}},Fh=e=>{const a=[.24,.28,.32,.36,.4],i=[.24,.28,.32,.36,.4],n=[{lc:!0,id:"emptyBubblesDebuff",name:"emptyBubblesDebuff",formItem:"switch",text:"Mirage Fizzle debuff",title:"Steerer",content:`When the wearer hits an enemy target, inflicts Mirage Fizzle on the enemy, lasting for 1 turn. Each time the wearer attacks, this effect can only trigger 1 time on each target. The wearer deals ${x(a[e]*100)}% increased DMG to targets afflicted with Mirage Fizzle, and the DMG dealt by the wearer's Ultimate additionally increases by ${x(i[e]*100)}%.`}];return{content:()=>n,defaults:()=>({emptyBubblesDebuff:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l.ELEMENTAL_DMG+=r.emptyBubblesDebuff?a[e]:0,ne(l,We,i[e],r.emptyBubblesDebuff)},finalizeCalculations:()=>{}}},xh=e=>{const a=[.04,.05,.06,.07,.08],i=[{lc:!0,id:"teammateShieldStacks",name:"teammateShieldStacks",formItem:"slider",text:"Teammate shield DMG stacks",title:"Inspire",content:`For every on-field character that has a Shield, the DMG dealt by the wearer increases by ${x(a[e]*100)}%.`,min:0,max:4}];return{content:()=>i,defaults:()=>({teammateShieldStacks:4}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;n.ELEMENTAL_DMG+=o.teammateShieldStacks*a[e]},finalizeCalculations:()=>{}}},Lh=e=>{const a=[.24,.3,.36,.42,.48],i=[{lc:!0,id:"enemyDefReducedSlowed",name:"enemyDefReducedSlowed",formItem:"switch",text:"Enemy DEF reduced / slowed",title:"Enemy DEF reduced / slowed",content:`The wearer deals ${x(a[e]*100)}% more CRIT DMG to enemies that are currently Slowed or have reduced DEF.`}];return{content:()=>i,defaults:()=>({enemyDefReducedSlowed:!0}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;n[t.CD]+=o.enemyDefReducedSlowed?a[e]:0},finalizeCalculations:()=>{}}},Uh=e=>{const a=[.18,.21,.24,.27,.3],i=[{lc:!0,id:"ultDmgBuff",name:"ultDmgBuff",formItem:"switch",text:"Ult usage DMG buff",title:"Ult usage DMG buff",content:`After the wearer uses their Ultimate, increases their DMG dealt by ${x(a[e]*100)}%, lasting for 1 turn(s).`}];return{content:()=>i,defaults:()=>({ultDmgBuff:!0}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;n.ELEMENTAL_DMG+=o.ultDmgBuff?a[e]:0},finalizeCalculations:()=>{}}},kh=e=>{const a=[.03,.035,.04,.045,.05],i=[.48,.6,.72,.84,.96],n=[.24,.28,.32,.36,.4],l=[{lc:!0,id:"cadenzaActive",name:"cadenzaActive",formItem:"switch",text:"Cadenza active",title:"Cadenza active",content:`Every time an ally attacks, the wearer gains 1 stack of Cantillation. Each stack of Cantillation increases the wearer's Energy Regeneration Rate by ${x(a[e]*100)}%, stacking up to 5 time(s). When the wearer uses their Ultimate, removes Cantillation and gains Cadenza. Cadenza increases the Wearer's ATK by ${x(i[e]*100)}% and increases all allies' DMG dealt by ${x(n[e]*100)}%, lasting for 1 turn(s).`},{lc:!0,id:"cantillationStacks",name:"cantillationStacks",formItem:"slider",text:"Cantillation stacks",title:"Cantillation stacks",content:`Every time an ally attacks, the wearer gains 1 stack of Cantillation. Each stack of Cantillation increases the wearer's Energy Regeneration Rate by ${x(a[e]*100)}%, stacking up to 5 time(s). When the wearer uses their Ultimate, removes Cantillation and gains Cadenza. Cadenza increases the Wearer's ATK by ${x(i[e]*100)}% and increases all allies' DMG dealt by ${x(n[e]*100)}%, lasting for 1 turn(s).`,min:0,max:5}];return{content:()=>l,teammateContent:()=>[O(l,"cadenzaActive")],defaults:()=>({cantillationStacks:5,cadenzaActive:!0}),teammateDefaults:()=>({cadenzaActive:!0}),precomputeTeammateEffects:(o,r)=>{const c=r.lightConeConditionals;o.ELEMENTAL_DMG+=c.cadenzaActive?n[e]:0},precomputeEffects:(o,r)=>{const c=r.lightConeConditionals;o[t.ERR]+=c.cantillationStacks*a[e],o[t.ATK_P]+=c.cadenzaActive?i[e]:0},finalizeCalculations:()=>{}}},Hh=e=>{const a=[.12,.14,.16,.18,.2],i=[.2,.23,.26,.29,.32],n=[{lc:!0,id:"breakDmgDefShred",name:"breakDmgDefShred",formItem:"switch",text:"Break DMG DEF shred",title:"Break DMG DEF shred",content:`The Break DMG dealt by the wearer ignores ${x(i[e]*100)}% of the target's DEF.`},{lc:!0,id:"spdBuffConditional",name:"spdBuffConditional",formItem:"switch",text:"BE ≥ 150 SPD buff",title:"BE ≥ 150 SPD buff",content:`When the wearer's Break Effect in battle is at 150% or greater, increases their SPD by ${x(a[e]*100)}%.`}];return{content:()=>n,defaults:()=>({breakDmgDefShred:!0,spdBuffConditional:!0}),precomputeEffects:(l,o)=>{const r=o.characterConditionals;fa(l,Ys,i[e],r.breakDmgDefShred)},finalizeCalculations:(l,o)=>{},dynamicConditionals:[{id:"SailingTowardsASecondLifeConditional",type:Me.ABILITY,activation:Be.SINGLE,dependsOn:[t.BE],condition:function(l,o,r){return o.lightConeConditionals.spdBuffConditional&&l[t.BE]>=1.5},effect:(l,o,r)=>{je(l,o,r,t.SPD,a[e]*o.baseSpd)},gpu:function(){return Ve(this,`
if (
  (*p_state).SailingTowardsASecondLifeConditional == 0.0 &&
  (*p_x).BE >= 1.50
) {
  (*p_state).SailingTowardsASecondLifeConditional = 1.0;
  buffDynamicSPD_P(${a[e]}, p_x, p_state);
}
    `)}}]}},Ph=e=>{const a=[.08,.1,.12,.14,.16],i=[{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:"SPD buff",title:"SPD buff",content:`After the wearer uses Ultimate, increases SPD by ${a[e]*100}%, lasting for 2 turn(s).`}];return{content:()=>i,defaults:()=>({spdBuff:!0}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;n[t.SPD_P]+=o.spdBuff?a[e]:0},finalizeCalculations:()=>{}}},Nh=e=>{const a=[.24,.28,.32,.36,.4],i=[{lc:!0,id:"routedVulnerability",name:"routedVulnerability",formItem:"switch",text:"Routed vulnerability",title:"Routed vulnerability",content:`When the wearer deals Break DMG to an enemy target, inflicts Routed on the enemy, lasting for 2 turn(s). 
      Targets afflicted with Routed receive ${a[e]*100}% increased Break DMG from the wearer, and their SPD is lowered by 20%. 
      Effects of the similar type cannot be stacked.`}];return{content:()=>i,defaults:()=>({routedVulnerability:!0}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;n.VULNERABILITY+=o.routedVulnerability?a[e]:0},finalizeCalculations:()=>{}}},Yh=e=>{const a=[.12,.14,.16,.18,.2],i=[.2,.24,.28,.32,.36],n=[{lc:!0,id:"fuaDmgBoost",name:"fuaDmgBoost",formItem:"switch",text:"CD to FUA DMG boost",title:"CD to FUA DMG boost",content:`While the wearer is in battle, for every 20% CRIT DMG that exceeds 120%, the DMG dealt by follow-up 
      attack increases by ${x(a[e]*100)}%. This effect can stack up to 4 time(s).`},{lc:!0,id:"ultFuaDefShred",name:"ultFuaDefShred",formItem:"switch",text:"Ult / FUA DEF shred",title:"Ult / FUA DEF shred",content:`When the battle starts or after the wearer uses their Basic ATK, enables Ultimate or the DMG dealt by 
      follow-up attack to ignore ${i[e]*100}% of the target's DEF, lasting for 2 turn(s).`}];return{content:()=>n,defaults:()=>({fuaDmgBoost:!0,ultFuaDefShred:!0}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;fa(l,We|Te,i[e],r.ultFuaDefShred)},finalizeCalculations:(l,o)=>{const r=o.lightConeConditionals;ne(l,Te,a[e]*Math.min(4,Math.floor(l[t.CD]-1.2)/.2),r.fuaDmgBoost)},gpuFinalizeCalculations:l=>{const o=l.lightConeConditionals;return`
if (${pt(o.fuaDmgBoost)}) {
  buffAbilityDmg(p_x, FUA_TYPE, ${a[e]} * min(4, floor(x.CD - 1.20) / 0.20), 1);
}
    `}}},Ah=e=>{const a=[.04,.05,.06,.07,.08],i=[.08,.1,.12,.14,.16],n=[{lc:!0,id:"atkBuffStacks",name:"atkBuffStacks",formItem:"slider",text:"ATK buff stacks",title:"ATK buff stacks",content:`After using an attack, for each enemy target hit, additionally increases ATK by ${x(a[e]*100)}%. 
      This effect can stack up to 5 times and last until the next attack.`,min:0,max:5},{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:"3 targets hit SPD buff",title:"3 targets hit SPD buff",content:`If there are 3 or more enemy targets hit, this unit's SPD increases by ${i[e]*100}%, lasting for 1 turn(s).`}];return{content:()=>n,defaults:()=>({atkBuffStacks:5,spdBuff:!1}),precomputeEffects:(l,o)=>{const r=o.lightConeConditionals;l[t.ATK_P]+=r.atkBuffStacks*a[e],l[t.SPD_P]+=r.spdBuff?i[e]:0},finalizeCalculations:()=>{}}},wh=e=>{const a=[.16,.2,.24,.28,.32],i=[{lc:!0,id:"cdBuff",name:"cdBuff",formItem:"switch",text:"Double path CD buff",title:"Double path CD buff",content:se}];return{content:()=>i,teammateContent:()=>i,defaults:()=>({cdBuff:!0}),teammateDefaults:()=>({cdBuff:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(n,l)=>{const o=l.lightConeConditionals;n[t.CD]+=o.cdBuff?a[e]:0},finalizeCalculations:()=>{}}},Xh=e=>{const a=[.1,.12,.14,.16,.18],i=[.14,.16,.18,.2,.22],n=[{lc:!0,id:"unarmoredVulnerability",name:"unarmoredVulnerability",formItem:"switch",text:"Unarmored vulnerability",title:"Unarmored vulnerability",content:se},{lc:!0,id:"corneredVulnerability",name:"corneredVulnerability",formItem:"switch",text:"Cornered vulnerability",title:"Cornered vulnerability",content:se}];return{content:()=>n,teammateContent:()=>n,defaults:()=>({unarmoredVulnerability:!0,corneredVulnerability:!0}),teammateDefaults:()=>({unarmoredVulnerability:!0,corneredVulnerability:!0}),precomputeEffects:()=>{},precomputeMutualEffects:(l,o)=>{const r=o.lightConeConditionals;l.VULNERABILITY+=r.unarmoredVulnerability||r.corneredVulnerability?a[e]:0,l.VULNERABILITY+=r.corneredVulnerability?i[e]:0},finalizeCalculations:()=>{}}},jh=e=>{const a=[.36,.42,.48,.54,.6],i=[{lc:!0,id:"fuaDmgStacks",name:"fuaDmgStacks",formItem:"slider",text:"FUA DMG stacks",title:"FUA DMG stacks",content:se,min:0,max:2}];return{content:()=>i,defaults:()=>({fuaDmgStacks:2}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;ne(n,Te,o.fuaDmgStacks*a[e])},finalizeCalculations:()=>{}}},vh=e=>{const a=[.1,.12,.14,.16,.18],i=[.08,.1,.12,.14,.16],n=[{lc:!0,id:"woefreeState",name:"woefreeState",formItem:"switch",text:"Woefree vulnerability",title:"Woefree vulnerability",content:se}],l=[O(n,"woefreeState"),{lc:!0,id:"additionalVulnerability",name:"additionalVulnerability",formItem:"switch",text:"Additional vulnerability",title:"Additional vulnerability",content:se}];return{content:()=>n,teammateContent:()=>l,defaults:()=>({woefreeState:!0}),teammateDefaults:()=>({woefreeState:!0,additionalVulnerability:!0}),precomputeEffects:(o,r)=>{},precomputeMutualEffects:(o,r)=>{const c=r.lightConeConditionals;o.VULNERABILITY+=c.woefreeState?a[e]:0},precomputeTeammateEffects:(o,r)=>{const c=r.lightConeConditionals;o.VULNERABILITY+=c.woefreeState&&c.additionalVulnerability?i[e]:0},finalizeCalculations:(o,r)=>{const c=r.lightConeConditionals;o.VULNERABILITY+=c.woefreeState&&o[t.BE]>=1.5?i[e]:0},gpuFinalizeCalculations:o=>{const r=o.lightConeConditionals;return`
if (${pt(r.woefreeState)} && x.BE >= 1.50) {
  x.VULNERABILITY += ${i[e]};
}
      `}}},Oh=e=>{const a=[.27,.3,.33,.36,.39],i=[{lc:!0,formItem:"slider",id:"luminfluxUltStacks",name:"luminfluxUltStacks",text:"Luminflux stacks",title:"Luminflux stacks",content:se,min:0,max:2}];return{content:()=>i,defaults:()=>({luminfluxUltStacks:2}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;fa(n,We,o.luminfluxUltStacks*a[e])},finalizeCalculations:()=>{}}},Kh=e=>{const a=[.08,.09,.1,.11,.12],i=[{lc:!0,id:"spdBuff",name:"spdBuff",formItem:"switch",text:"SPD buff",title:"SPD buff",content:se}];return{content:()=>i,defaults:()=>({spdBuff:!1}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;n[t.SPD_P]+=o.spdBuff?a[e]:0},finalizeCalculations:()=>{}}},_h=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Jh=e=>{const a=[.18,.225,.27,.315,.36],i=[{lc:!0,id:"cdBuff",name:"cdBuff",formItem:"switch",text:"CD buff",title:"CD buff",content:se}];return{content:()=>i,defaults:()=>({cdBuff:!0}),precomputeEffects:(n,l)=>{const o=l.lightConeConditionals;n[t.CD]+=o.cdBuff?a[e]:0},finalizeCalculations:()=>{}}},zh=()=>({content:()=>[],defaults:()=>({}),precomputeEffects:()=>{},finalizeCalculations:()=>{}}),Qh={23e3:Um,23001:Tm,23002:ih,23003:tm,23004:Em,23005:Vm,23006:wm,23007:Im,23008:hm,23009:uh,23010:$u,23011:th,23012:ah,23013:hh,23014:Dm,23015:em,23016:Eh,23017:Lm,23018:_u,23019:Am,23020:Qu,23021:mm,23022:_m,23023:Vh,23024:Fh,23025:Nh,23026:kh,23027:Hh,23028:Yh,23029:Xh,23030:jh,23031:Oh,23032:vh,23033:_h,24e3:Pm,24001:lm,24002:oh,24003:sh,24004:Ah},$h={21e3:Om,21001:gm,21002:dm,21003:Hm,21004:Wm,21005:ch,21006:rh,21007:qm,21008:bm,21009:Zm,21010:lh,21011:vm,21012:zu,21013:Bm,21014:Xm,21015:Jm,21016:Sh,21017:nh,21018:om,21019:Rh,21020:fm,21021:Km,21022:Sm,21023:ph,21024:Qm,21025:Ym,21026:Ih,21027:dh,21028:gh,21029:Gh,21030:mh,21031:zm,21032:am,21033:km,21034:bh,21035:Th,21036:Dh,21037:Zh,21038:Ch,21039:Bh,21040:yh,21041:Wh,21042:Mh,21043:xh,21044:Lh,21045:Ph,21046:wh,21047:Kh,21048:zh,22e3:qu,22001:pm,22002:Uh,22003:Jh},qh={2e4:Ju,20001:nm,20002:im,20003:Ku,20004:fh,20005:sm,20006:cm,20007:rm,20008:Rm,20009:eh,20010:um,20011:Cm,20012:Mm,20013:Nm,20014:Ou,20015:Fm,20016:xm,20017:jm,20018:Gm,20019:ym,20020:$m},tl={...Qh,...$h,...qh},Sa={get:e=>{const a=tl[e.lightCone];return a?a(e.lightConeSuperimposition-1):{content:()=>[],teammateContent:()=>[],defaults:()=>({}),teammateDefaults:()=>({})}}};function sn(e,a){var r,c,h,b,R,S,u,m;const i=Ma.get(e),n=Sa.get(e);e.characterConditionals||(e.characterConditionals=i.defaults()),e.lightConeConditionals||(e.lightConeConditionals=n.defaults());const l=Object.assign({},Wd);(r=n.initializeConfigurations)==null||r.call(n,l,e),(c=i.initializeConfigurations)==null||c.call(i,l,e);const o=[e.teammate0,e.teammate1,e.teammate2].filter(f=>!!f&&!!f.characterId);for(let f=0;f<o.length;f++){const p=Object.assign({},e,o[f]),I=Ma.get(p),E=Sa.get(p);(h=I.initializeTeammateConfigurations)==null||h.call(I,l,p),(b=E.initializeTeammateConfigurations)==null||b.call(E,l,p)}return(R=n.precomputeEffects)==null||R.call(n,l,e),(S=i.precomputeEffects)==null||S.call(i,l,e),(u=n.precomputeMutualEffects)==null||u.call(n,l,e),(m=i.precomputeMutualEffects)==null||m.call(i,l,e),l.ENEMY_WEAKNESS_BROKEN=l.ENEMY_WEAKNESS_BROKEN||(e.enemyWeaknessBroken?1:0),a.precomputedX=l,l}function gl(e,a){const i=Ma.get(e),n=Sa.get(e),l=e1();Zn(l,n.dynamicConditionals??[]),Zn(l,i.dynamicConditionals??[]),Zn(l,Ud||[]),a.conditionalRegistry=l,a.conditionalState={}}function e1(){return{[t.HP]:[],[t.ATK]:[],[t.DEF]:[],[t.SPD]:[],[t.CR]:[],[t.CD]:[],[t.EHR]:[],[t.RES]:[],[t.BE]:[],[t.OHB]:[],[t.ERR]:[]}}function Zn(e,a){for(const i of a)for(const n of i.dependsOn)e[n].push(i)}function nn(e){const a={};return t1(e,a),a1(e,a),s1(e,a),i1(e,a),sn(e,a),a}function t1(e,a){const i=Z.getMetadata().lightCones[e.lightCone],n=(i==null?void 0:i.stats)||yd(),l=(i==null?void 0:i.superimpositions[e.lightConeSuperimposition])||1,o=Z.getMetadata().characters[e.characterId],r=o.stats;a.element=o.element;const c={base:{...Zs.getZeroes(),...r},traces:{...Zs.getZeroes(),...o.traces},lightCone:{...Zs.getZeroes(),...n,...l}};a.character=c;const h=gi(t.HP,c.base,c.lightCone),b=gi(t.ATK,c.base,c.lightCone),R=gi(t.DEF,c.base,c.lightCone),S=gi(t.SPD,c.base,c.lightCone);e.baseHp=h,e.baseAtk=b,e.baseDef=R,e.baseSpd=S,a.baseHP=h,a.baseATK=b,a.baseDEF=R,a.baseSPD=S}function a1(e,a){const i=e.setConditionals??xs;for(const n of Object.values(d.Sets))i[n]||(i[n]=xs[n]);a.enabledHunterOfGlacialForest=i[d.Sets.HunterOfGlacialForest][1]==!0?1:0,a.enabledFiresmithOfLavaForging=i[d.Sets.FiresmithOfLavaForging][1]==!0?1:0,a.enabledGeniusOfBrilliantStars=i[d.Sets.GeniusOfBrilliantStars][1]==!0?1:0,a.enabledBandOfSizzlingThunder=i[d.Sets.BandOfSizzlingThunder][1]==!0?1:0,a.enabledMessengerTraversingHackerspace=i[d.Sets.MessengerTraversingHackerspace][1]==!0?1:0,a.enabledCelestialDifferentiator=i[d.Sets.CelestialDifferentiator][1]==!0?1:0,a.enabledWatchmakerMasterOfDreamMachinations=i[d.Sets.WatchmakerMasterOfDreamMachinations][1]==!0?1:0,a.enabledIzumoGenseiAndTakamaDivineRealm=i[d.Sets.IzumoGenseiAndTakamaDivineRealm][1]==!0?1:0,a.enabledForgeOfTheKalpagniLantern=i[d.Sets.ForgeOfTheKalpagniLantern][1]==!0?1:0,a.enabledTheWindSoaringValorous=i[d.Sets.TheWindSoaringValorous][1]==!0?1:0,a.enabledTheWondrousBananAmusementPark=i[d.Sets.TheWondrousBananAmusementPark][1]==!0?1:0,a.enabledScholarLostInErudition=i[d.Sets.ScholarLostInErudition][1]==!0?1:0,a.valueChampionOfStreetwiseBoxing=i[d.Sets.ChampionOfStreetwiseBoxing][1]||0,a.valueWastelanderOfBanditryDesert=i[d.Sets.WastelanderOfBanditryDesert][1]||0,a.valueLongevousDisciple=i[d.Sets.LongevousDisciple][1]||0,a.valueTheAshblazingGrandDuke=i[d.Sets.TheAshblazingGrandDuke][1]||0,a.valuePrisonerInDeepConfinement=i[d.Sets.PrisonerInDeepConfinement][1]||0,a.valuePioneerDiverOfDeadWaters=i[d.Sets.PioneerDiverOfDeadWaters][1]||0,a.valueSigoniaTheUnclaimedDesolation=i[d.Sets.SigoniaTheUnclaimedDesolation][1]||0,a.valueDuranDynastyOfRunningWolves=i[d.Sets.DuranDynastyOfRunningWolves][1]||0}function s1(e,a){a.brokenMultiplier=e.enemyWeaknessBroken?1:.9,a.resistance=(e.enemyElementalWeak?0:e.enemyResistance)-e.combatBuffs.RES_PEN}function i1(e,a){const i=Ns[a.element];a.ELEMENTAL_DMG_TYPE=i,a.RES_PEN_TYPE=ed[a.element],a.ELEMENTAL_BREAK_SCALING={[t.Physical_DMG]:2,[t.Fire_DMG]:2,[t.Ice_DMG]:1,[t.Lightning_DMG]:1,[t.Wind_DMG]:1.5,[t.Quantum_DMG]:.5,[t.Imaginary_DMG]:.5}[i],e.PRIMARY_ELEMENTAL_DMG_TYPE=i}function gi(e,a,i){return a[e]+i[e]}function pl(e,a){const i=a.precomputedX,n={},l=[e.teammate0,e.teammate1,e.teammate2].filter(o=>!!o&&!!o.characterId);for(let o=0;o<l.length;o++){l[o].lightCone=l[o].lightCone||null;const r=Object.assign({},e,l[o]),c=Ma.get(r),h=Sa.get(r);switch(c.precomputeMutualEffects&&c.precomputeMutualEffects(i,r),c.precomputeTeammateEffects&&c.precomputeTeammateEffects(i,r),h.precomputeMutualEffects&&h.precomputeMutualEffects(i,r),h.precomputeTeammateEffects&&h.precomputeTeammateEffects(i,r),r.teamOrnamentSet){case y.BrokenKeel:i[t.CD]+=.1;break;case y.FleetOfTheAgeless:i[t.ATK_P]+=.08;break;case y.PenaconyLandOfTheDreams:if(r.ELEMENTAL_DMG_TYPE!=a.ELEMENTAL_DMG_TYPE)break;i.ELEMENTAL_DMG+=.1;break;case y.LushakaTheSunkenSeas:i[t.ATK_P]+=.12;break}switch(r.teamRelicSet){case y.MessengerTraversingHackerspace:if(n[y.MessengerTraversingHackerspace])break;i[t.SPD_P]+=.12;break;case y.WatchmakerMasterOfDreamMachinations:if(n[y.WatchmakerMasterOfDreamMachinations])break;i[t.BE]+=.3;break;case bl:i[t.CD]+=.18;break;case Sl:i[t.CD]+=.36;break}n[r.teamOrnamentSet]=!0,n[r.teamRelicSet]=!0}}function n1(e,a,i,n,l,o,r){return e.x.sets={PasserbyOfWanderingCloud:(1>>(a^0))+(1>>(i^0))+(1>>(n^0))+(1>>(l^0)),MusketeerOfWildWheat:(1>>(a^1))+(1>>(i^1))+(1>>(n^1))+(1>>(l^1)),KnightOfPurityPalace:(1>>(a^2))+(1>>(i^2))+(1>>(n^2))+(1>>(l^2)),HunterOfGlacialForest:(1>>(a^3))+(1>>(i^3))+(1>>(n^3))+(1>>(l^3)),ChampionOfStreetwiseBoxing:(1>>(a^4))+(1>>(i^4))+(1>>(n^4))+(1>>(l^4)),GuardOfWutheringSnow:(1>>(a^5))+(1>>(i^5))+(1>>(n^5))+(1>>(l^5)),FiresmithOfLavaForging:(1>>(a^6))+(1>>(i^6))+(1>>(n^6))+(1>>(l^6)),GeniusOfBrilliantStars:(1>>(a^7))+(1>>(i^7))+(1>>(n^7))+(1>>(l^7)),BandOfSizzlingThunder:(1>>(a^8))+(1>>(i^8))+(1>>(n^8))+(1>>(l^8)),EagleOfTwilightLine:(1>>(a^9))+(1>>(i^9))+(1>>(n^9))+(1>>(l^9)),ThiefOfShootingMeteor:(1>>(a^10))+(1>>(i^10))+(1>>(n^10))+(1>>(l^10)),WastelanderOfBanditryDesert:(1>>(a^11))+(1>>(i^11))+(1>>(n^11))+(1>>(l^11)),LongevousDisciple:(1>>(a^12))+(1>>(i^12))+(1>>(n^12))+(1>>(l^12)),MessengerTraversingHackerspace:(1>>(a^13))+(1>>(i^13))+(1>>(n^13))+(1>>(l^13)),TheAshblazingGrandDuke:(1>>(a^14))+(1>>(i^14))+(1>>(n^14))+(1>>(l^14)),PrisonerInDeepConfinement:(1>>(a^15))+(1>>(i^15))+(1>>(n^15))+(1>>(l^15)),PioneerDiverOfDeadWaters:(1>>(a^16))+(1>>(i^16))+(1>>(n^16))+(1>>(l^16)),WatchmakerMasterOfDreamMachinations:(1>>(a^17))+(1>>(i^17))+(1>>(n^17))+(1>>(l^17)),IronCavalryAgainstTheScourge:(1>>(a^18))+(1>>(i^18))+(1>>(n^18))+(1>>(l^18)),TheWindSoaringValorous:(1>>(a^19))+(1>>(i^19))+(1>>(n^19))+(1>>(l^19)),SacerdosRelivedOrdeal:(1>>(a^20))+(1>>(i^20))+(1>>(n^20))+(1>>(l^20)),ScholarLostInErudition:(1>>(a^21))+(1>>(i^21))+(1>>(n^21))+(1>>(l^21)),SpaceSealingStation:(1>>(o^0))+(1>>(r^0)),FleetOfTheAgeless:(1>>(o^1))+(1>>(r^1)),PanCosmicCommercialEnterprise:(1>>(o^2))+(1>>(r^2)),BelobogOfTheArchitects:(1>>(o^3))+(1>>(r^3)),CelestialDifferentiator:(1>>(o^4))+(1>>(r^4)),InertSalsotto:(1>>(o^5))+(1>>(r^5)),TaliaKingdomOfBanditry:(1>>(o^6))+(1>>(r^6)),SprightlyVonwacq:(1>>(o^7))+(1>>(r^7)),RutilantArena:(1>>(o^8))+(1>>(r^8)),BrokenKeel:(1>>(o^9))+(1>>(r^9)),FirmamentFrontlineGlamoth:(1>>(o^10))+(1>>(r^10)),PenaconyLandOfTheDreams:(1>>(o^11))+(1>>(r^11)),SigoniaTheUnclaimedDesolation:(1>>(o^12))+(1>>(r^12)),IzumoGenseiAndTakamaDivineRealm:(1>>(o^13))+(1>>(r^13)),DuranDynastyOfRunningWolves:(1>>(o^14))+(1>>(r^14)),ForgeOfTheKalpagniLantern:(1>>(o^15))+(1>>(r^15)),LushakaTheSunkenSeas:(1>>(o^16))+(1>>(r^16)),TheWondrousBananAmusementPark:(1>>(o^17))+(1>>(r^17))},e.x.sets}function l1(e,a,i){const n=i.character.base,l=i.character.traces,o=i.character.lightCone,r=e.x.sets;switch(e.ELEMENTAL_DMG=0,i.ELEMENTAL_DMG_TYPE){case t.Physical_DMG:e.ELEMENTAL_DMG=kt(t.Physical_DMG,n,o,l,e,.1*Q(r.ChampionOfStreetwiseBoxing));break;case t.Fire_DMG:e.ELEMENTAL_DMG=kt(t.Fire_DMG,n,o,l,e,.1*Q(r.FiresmithOfLavaForging));break;case t.Ice_DMG:e.ELEMENTAL_DMG=kt(t.Ice_DMG,n,o,l,e,.1*Q(r.HunterOfGlacialForest));break;case t.Lightning_DMG:e.ELEMENTAL_DMG=kt(t.Lightning_DMG,n,o,l,e,.1*Q(r.BandOfSizzlingThunder));break;case t.Wind_DMG:e.ELEMENTAL_DMG=kt(t.Wind_DMG,n,o,l,e,.1*Q(r.EagleOfTwilightLine));break;case t.Quantum_DMG:e.ELEMENTAL_DMG=kt(t.Quantum_DMG,n,o,l,e,.1*Q(r.GeniusOfBrilliantStars));break;case t.Imaginary_DMG:e.ELEMENTAL_DMG=kt(t.Imaginary_DMG,n,o,l,e,.1*Q(r.WastelanderOfBanditryDesert));break}}function o1(e,a,i){const n=i.character.base,l=i.character.lightCone,o=i.character.traces,r=e.x.sets;e[t.SPD]=pi(t.SPD,t.SPD_P,a.baseSpd,l,o,e,.06*Q(r.MessengerTraversingHackerspace)+.06*Q(r.ForgeOfTheKalpagniLantern)+.06*Ae(r.MusketeerOfWildWheat)+.06*Q(r.SacerdosRelivedOrdeal)),e[t.HP]=pi(t.HP,t.HP_P,a.baseHp,l,o,e,.12*Q(r.FleetOfTheAgeless)+.12*Q(r.LongevousDisciple)),e[t.ATK]=pi(t.ATK,t.ATK_P,a.baseAtk,l,o,e,.12*Q(r.SpaceSealingStation)+.12*Q(r.FirmamentFrontlineGlamoth)+.12*Q(r.MusketeerOfWildWheat)+.12*Q(r.PrisonerInDeepConfinement)+.12*Q(r.IzumoGenseiAndTakamaDivineRealm)+.12*Q(r.TheWindSoaringValorous)),e[t.DEF]=pi(t.DEF,t.DEF_P,a.baseDef,l,o,e,.15*Q(r.BelobogOfTheArchitects)+.15*Q(r.KnightOfPurityPalace)),e[t.CR]=kt(t.CR,n,l,o,e,.08*Q(r.InertSalsotto)+.08*Q(r.RutilantArena)+.04*Ae(r.PioneerDiverOfDeadWaters)+.04*Q(r.SigoniaTheUnclaimedDesolation)+.06*Ae(r.TheWindSoaringValorous)+.06*Q(r.ScholarLostInErudition)),e[t.CD]=kt(t.CD,n,l,o,e,.16*Q(r.CelestialDifferentiator)+.16*Q(r.TheWondrousBananAmusementPark)),e[t.EHR]=kt(t.EHR,n,l,o,e,.1*Q(r.PanCosmicCommercialEnterprise)),e[t.RES]=kt(t.RES,n,l,o,e,.1*Q(r.BrokenKeel)),e[t.BE]=kt(t.BE,n,l,o,e,.16*Q(r.TaliaKingdomOfBanditry)+.16*Q(r.ThiefOfShootingMeteor)+.16*Ae(r.ThiefOfShootingMeteor)+.16*Q(r.WatchmakerMasterOfDreamMachinations)+.16*Q(r.IronCavalryAgainstTheScourge)),e[t.ERR]=kt(t.ERR,n,l,o,e,.05*Q(r.SprightlyVonwacq)+.05*Q(r.PenaconyLandOfTheDreams)+.05*Q(r.LushakaTheSunkenSeas)),e[t.OHB]=kt(t.OHB,n,l,o,e,.1*Q(r.PasserbyOfWanderingCloud))}function r1(e,a,i){i.characterConditionals=Ma.get(a),i.lightConeConditionals=Sa.get(a);const n=e.x,l=n.sets;n[t.ATK]+=e[t.ATK],n[t.DEF]+=e[t.DEF],n[t.HP]+=e[t.HP],n[t.SPD]+=e[t.SPD],n[t.CD]+=e[t.CD],n[t.CR]+=e[t.CR],n[t.EHR]+=e[t.EHR],n[t.RES]+=e[t.RES],n[t.BE]+=e[t.BE],n[t.ERR]+=e[t.ERR],n[t.OHB]+=e[t.OHB],n[i.ELEMENTAL_DMG_TYPE]+=e.ELEMENTAL_DMG,n[t.ATK]+=a.combatBuffs.ATK+a.combatBuffs.ATK_P*a.baseAtk,n[t.DEF]+=a.combatBuffs.DEF+a.combatBuffs.DEF_P*a.baseDef,n[t.HP]+=a.combatBuffs.HP+a.combatBuffs.HP_P*a.baseHp,n[t.CD]+=a.combatBuffs.CD,n[t.CR]+=a.combatBuffs.CR,n[t.SPD]+=a.combatBuffs.SPD_P*a.baseSpd+a.combatBuffs.SPD,n[t.BE]+=a.combatBuffs.BE,n.ELEMENTAL_DMG+=a.combatBuffs.DMG_BOOST,n.EFFECT_RES_PEN+=a.combatBuffs.EFFECT_RES_PEN,n.VULNERABILITY+=a.combatBuffs.VULNERABILITY,n.BREAK_EFFICIENCY_BOOST+=a.combatBuffs.BREAK_EFFICIENCY,Ae(l.MessengerTraversingHackerspace)&&i.enabledMessengerTraversingHackerspace&&(n[t.SPD_P]+=.12),n[t.SPD]+=n[t.SPD_P]*a.baseSpd,Ae(l.ChampionOfStreetwiseBoxing)&&(n[t.ATK_P]+=.05*i.valueChampionOfStreetwiseBoxing),Ae(l.BandOfSizzlingThunder)&&i.enabledBandOfSizzlingThunder&&(n[t.ATK_P]+=.2),Ae(l.TheAshblazingGrandDuke)&&(n[t.ATK_P]+=.06*i.valueTheAshblazingGrandDuke),n[t.ATK]+=n[t.ATK_P]*a.baseAtk,n[t.DEF]+=n[t.DEF_P]*a.baseDef,n[t.HP]+=n[t.HP_P]*a.baseHp,Ae(l.HunterOfGlacialForest)&&i.enabledHunterOfGlacialForest&&(n[t.CD]+=.25),Ae(l.WastelanderOfBanditryDesert)&&(n[t.CD]+=.1*(i.valueWastelanderOfBanditryDesert==2?1:0)),Ae(l.PioneerDiverOfDeadWaters)&&(n[t.CD]+=d1[i.valuePioneerDiverOfDeadWaters]),Q(l.SigoniaTheUnclaimedDesolation)&&(n[t.CD]+=.04*i.valueSigoniaTheUnclaimedDesolation),Q(l.DuranDynastyOfRunningWolves)&&i.valueDuranDynastyOfRunningWolves>=5&&(n[t.CD]+=.25),Q(l.TheWondrousBananAmusementPark)&&i.enabledTheWondrousBananAmusementPark&&(n[t.CD]+=.32),Ae(l.WastelanderOfBanditryDesert)&&i.valueWastelanderOfBanditryDesert>0&&(n[t.CR]+=.1),Ae(l.LongevousDisciple)&&(n[t.CR]+=.08*i.valueLongevousDisciple),Ae(l.PioneerDiverOfDeadWaters)&&i.valuePioneerDiverOfDeadWaters>2&&(n[t.CR]+=.04),Q(l.IzumoGenseiAndTakamaDivineRealm)&&i.enabledIzumoGenseiAndTakamaDivineRealm&&(n[t.CR]+=.12),Ae(l.WatchmakerMasterOfDreamMachinations)&&i.enabledWatchmakerMasterOfDreamMachinations&&(n[t.BE]+=.3),Q(l.ForgeOfTheKalpagniLantern)&&i.enabledForgeOfTheKalpagniLantern&&(n[t.BE]+=.4),Ae(l.MusketeerOfWildWheat)&&ne(n,ht,.1),Ae(l.FiresmithOfLavaForging)&&ne(n,_e,.12),Q(l.TheAshblazingGrandDuke)&&ne(n,Te,.2),Q(l.DuranDynastyOfRunningWolves)&&ne(n,Te,.05*i.valueDuranDynastyOfRunningWolves),Ae(l.TheWindSoaringValorous)&&ne(n,We,.36*i.enabledTheWindSoaringValorous),Ae(l.ScholarLostInErudition)&&ne(n,We|_e,.2),Ae(l.GeniusOfBrilliantStars)&&(n.DEF_PEN+=i.enabledGeniusOfBrilliantStars?.2:.1),Ae(l.PrisonerInDeepConfinement)&&(n.DEF_PEN+=.06*i.valuePrisonerInDeepConfinement),Q(l.PioneerDiverOfDeadWaters)&&i.valuePioneerDiverOfDeadWaters>=0&&(n.ELEMENTAL_DMG+=.12),Q(l.FiresmithOfLavaForging)&&i.enabledFiresmithOfLavaForging&&(n[t.Fire_DMG]+=.12),Ae(l.ScholarLostInErudition)&&i.enabledScholarLostInErudition&&ne(n,_e,.25),Q(l.SpaceSealingStation)&&Tt(Hr,n,a,i),Q(l.RutilantArena)&&Tt(Ur,n,a,i),Q(l.InertSalsotto)&&Tt(kr,n,a,i),Q(l.FleetOfTheAgeless)&&Tt(Pr,n,a,i),Q(l.BelobogOfTheArchitects)&&Tt(Nr,n,a,i),Ae(l.IronCavalryAgainstTheScourge)&&Tt(Yr,n,a,i),Ae(l.IronCavalryAgainstTheScourge)&&Tt(Ar,n,a,i),Q(l.PanCosmicCommercialEnterprise)&&Tt(wr,n,a,i),Q(l.BrokenKeel)&&Tt(Xr,n,a,i),Q(l.CelestialDifferentiator)&&Tt(jr,n,a,i),Q(l.TaliaKingdomOfBanditry)&&Tt(vr,n,a,i),Q(l.FirmamentFrontlineGlamoth)&&Tt(Or,n,a,i),Q(l.FirmamentFrontlineGlamoth)&&Tt(Kr,n,a,i);const o=i.characterConditionals,r=i.lightConeConditionals;for(const c of o.dynamicConditionals||[])Tt(c,n,a,i);for(const c of r.dynamicConditionals||[])Tt(c,n,a,i);return n}function c1(e,a,i,n,l,o,r){for(const c of[a,i,n,l,o,r])if(c.part)for(const h of c.condensedStats)e[h[0]]+=h[1];e.x.WEIGHT=a.weightScore+i.weightScore+n.weightScore+l.weightScore+o.weightScore+r.weightScore}function kt(e,a,i,n,l,o){return a[e]+i[e]+l[e]+n[e]+o}function pi(e,a,i,n,l,o,r){return i*(1+r+o[a]+l[a]+n[a])+o[e]+l[e]}const d1={[-1]:0,0:0,1:.08,2:.12,3:.16,4:.24},u1={[t.HP_P]:0,[t.ATK_P]:0,[t.DEF_P]:0,[t.HP]:1e-6,[t.ATK]:1e-6,[t.DEF]:1e-6,[t.SPD]:1e-6,[t.SPD_P]:0,[t.CR]:1e-6,[t.CD]:1e-6,[t.EHR]:1e-6,[t.RES]:1e-6,[t.BE]:1e-6,[t.ERR]:1e-6,[t.OHB]:1e-6,[t.Physical_DMG]:1e-6,[t.Fire_DMG]:1e-6,[t.Ice_DMG]:1e-6,[t.Lightning_DMG]:1e-6,[t.Wind_DMG]:1e-6,[t.Quantum_DMG]:1e-6,[t.Imaginary_DMG]:1e-6};function m1(e,a,i){const n=i.lightConeConditionals,l=i.characterConditionals;n.finalizeCalculations&&n.finalizeCalculations(e,a),l.finalizeCalculations&&l.finalizeCalculations(e,a)}function h1(e,a,i){const n=e.sets,l=80,o=a.enemyLevel,r=e.DEF_PEN+a.combatBuffs.DEF_PEN,c=0;e.ELEMENTAL_DMG+=e[i.ELEMENTAL_DMG_TYPE];const h=1+e.ELEMENTAL_DMG,b=1;let R=e[t.HP]/(1-e[t.DEF]/(e[t.DEF]+200+10*a.enemyLevel));R*=1/((1-.08*Q(n.GuardOfWutheringSnow))*e.DMG_RED_MULTI),e.EHP=R,i.brokenMultiplier=e.ENEMY_WEAKNESS_BROKEN?1:.9;const S=b*i.brokenMultiplier,u=i.resistance-e.RES_PEN-e[i.RES_PEN_TYPE],m=e.ULT_CD_OVERRIDE||e[t.CD]+e.ULT_CD_BOOST,f=1+e.VULNERABILITY+e.BREAK_VULNERABILITY,p=1+e.VULNERABILITY+e.BASIC_VULNERABILITY,I=1+e.VULNERABILITY+e.SKILL_VULNERABILITY,E=1+e.VULNERABILITY+e.ULT_VULNERABILITY*e.ULT_BOOSTS_MULTI,T=1+e.VULNERABILITY+e.FUA_VULNERABILITY,D=1+e.VULNERABILITY+e.DOT_VULNERABILITY,W=a.enemyEffectResistance,B=Math.min(1,e.DOT_CHANCE*(1+e[t.EHR])*(1-W+e.EFFECT_RES_PEN)),F=e.DOT_SPLIT?(1+e.DOT_SPLIT*B*(e.DOT_STACKS-1))/(1+.05*(e.DOT_STACKS-1)):B,L=a.enemyMaxToughness;e.BREAK_DMG=S*3767.5533*i.ELEMENTAL_BREAK_SCALING*Ua(l,o,r,c,e.BREAK_DEF_PEN)*(.5+L/120)*f*(1-u)*(1+e[t.BE]),e.SUPER_BREAK_DMG=S*3767.5533*Ua(l,o,r,c,e.BREAK_DEF_PEN+e.SUPER_BREAK_DEF_PEN)*f*(1-u)*(1+e[t.BE])*(e.SUPER_BREAK_MODIFIER+e.SUPER_BREAK_HMC_MODIFIER)*(1/30)*(1+e.BREAK_EFFICIENCY_BOOST);const M=S*3767.5533*Ua(l,o,r,c,e.BREAK_DEF_PEN+e.SUPER_BREAK_DEF_PEN)*f*(1-u)*(1+e[t.BE])*(e.BASIC_SUPER_BREAK_MODIFIER+e.SUPER_BREAK_HMC_MODIFIER)*(1/30)*(1+e.BREAK_EFFICIENCY_BOOST);e.BASIC_DMG=e.BASIC_DMG*S*(h+e.BASIC_BOOST)*Ua(l,o,r,c,e.BASIC_DEF_PEN)*(p*Math.min(1,e[t.CR]+e.BASIC_CR_BOOST)*(1+e[t.CD]+e.BASIC_CD_BOOST)+p*(1-Math.min(1,e[t.CR]+e.BASIC_CR_BOOST)))*(1-(u-e.BASIC_RES_PEN))*(1+e.BASIC_ORIGINAL_DMG_BOOST)+e.BASIC_BREAK_DMG_MODIFIER*e.BREAK_DMG+(M||e.SUPER_BREAK_DMG)*e.BASIC_TOUGHNESS_DMG*(1+e.BASIC_BREAK_EFFICIENCY_BOOST),e.SKILL_DMG=e.SKILL_DMG*S*(h+e.SKILL_BOOST)*Ua(l,o,r,c,e.SKILL_DEF_PEN)*(I*Math.min(1,e[t.CR]+e.SKILL_CR_BOOST)*(1+e[t.CD]+e.SKILL_CD_BOOST)+I*(1-Math.min(1,e[t.CR]+e.SKILL_CR_BOOST)))*(1-(u-e.SKILL_RES_PEN))*(1+e.SKILL_ORIGINAL_DMG_BOOST)+e.SUPER_BREAK_DMG*e.SKILL_TOUGHNESS_DMG,e.ULT_DMG=e.ULT_DMG*S*(h+e.ULT_BOOST*e.ULT_BOOSTS_MULTI)*Ua(l,o,r,c,e.ULT_DEF_PEN*e.ULT_BOOSTS_MULTI)*(E*Math.min(1,e[t.CR]+e.ULT_CR_BOOST)*(1+m)+E*(1-Math.min(1,e[t.CR]+e.ULT_CR_BOOST)))*(1-(u-e.ULT_RES_PEN*e.ULT_BOOSTS_MULTI))*(1+e.ULT_ORIGINAL_DMG_BOOST)+e.SUPER_BREAK_DMG*e.ULT_TOUGHNESS_DMG*(1+e.ULT_BREAK_EFFICIENCY_BOOST),e.FUA_DMG=e.FUA_DMG*S*(h+e.FUA_BOOST)*Ua(l,o,r,c,e.FUA_DEF_PEN)*(T*Math.min(1,e[t.CR]+e.FUA_CR_BOOST)*(1+e[t.CD]+e.FUA_CD_BOOST)+T*(1-Math.min(1,e[t.CR]+e.FUA_CR_BOOST)))*(1-(u-e.FUA_RES_PEN))+e.SUPER_BREAK_DMG*e.FUA_TOUGHNESS_DMG,e.DOT_DMG=e.DOT_DMG*S*(h+e.DOT_BOOST)*Ua(l,o,r,c,e.DOT_DEF_PEN)*D*(1-(u-e.DOT_RES_PEN))*F,e.COMBO_DMG=a.combo.BASIC*e.BASIC_DMG+a.combo.SKILL*e.SKILL_DMG+a.combo.ULT*e.ULT_DMG+a.combo.FUA*e.FUA_DMG+a.combo.DOT*e.DOT_DMG+a.combo.BREAK*e.BREAK_DMG}function Ua(e,a,i,n,l){return(e+20)/((a+20)*Math.max(0,1-i-n-l)+e+20)}function b1(e){const a=new Set([na[e.Head.set],na[e.Hands.set],na[e.Body.set],na[e.Feet.set],cs[e.PlanarSphere.set],cs[e.LinkRope.set]]);return[0,1,2,3,4,5].filter(i=>!a.has(i))}function As(e,a,i=null,n=!1){n||(e=C.clone(e));const l=i??nn(e);gl(e,l),i||(sn(e,l),pl(e,l));const{Head:o,Hands:r,Body:c,Feet:h,PlanarSphere:b,LinkRope:R}=S1(a);st.calculateWeightScore(e,[o,r,c,h,b,R]);const S=b1(a);let u=0;const m=na[a.Head.set]??S[u++],f=na[a.Hands.set]??S[u++],p=na[a.Body.set]??S[u++],I=na[a.Feet.set]??S[u++],E=cs[a.PlanarSphere.set]??S[u++],T=cs[a.LinkRope.set]??S[u++],D=m+p*Ss+f*Ss*Ss+I*Ss*Ss*Ss,W=E+T*$c,B=Object.assign({},l.precomputedX),F={...u1,x:B,relicSetIndex:D,ornamentSetIndex:W};return c1(F,o,r,c,h,b,R),n1(F,m,f,p,I,E,T),o1(F,e,l),l1(F,e,l),r1(F,e,l),m1(B,e,l),h1(B,e,l),F}function S1(e){for(const a of Object.keys(d.Parts))e[a]=e[a]||Ta();return e}const Y={success:(e,a)=>{const i=C.randomId();console.log("Success message:",e),window.messageApi.open({key:i,type:"success",content:e||"",duration:a||3,onClick:()=>window.messageApi.destroy(i)})},error:(e,a)=>{const i=C.randomId();console.warn("Error message:",e),window.messageApi.open({key:i,type:"error",content:e||"",duration:a||3,onClick:()=>window.messageApi.destroy(i)})},warning:(e,a)=>{const i=C.randomId();console.warn("Warning message:",e),window.messageApi.open({key:i,type:"warning",content:e||"",duration:a||3,onClick:()=>window.messageApi.destroy(i)})}},al={SPD0:{key:"SPD0",label:"No minimum speed",value:void 0},SPD111:{key:"SPD111",label:"111.112 SPD - 5 actions in first four cycles",value:111.112},SPD114:{key:"SPD114",label:"114.286 SPD - 4 actions in first three cycles",value:114.286},SPD120:{key:"SPD120",label:"120.000 SPD - 3 actions in first two cycles",value:120},SPD133:{key:"SPD133",label:s.jsx("b",{children:"133.334 SPD - 2 actions in first cycle, 6 actions in first four cycles"}),value:133.334},SPD142:{key:"SPD142",label:"142.858 SPD - 5 actions in first three cycles",value:142.858},SPD155:{key:"SPD155",label:"155.556 SPD - 7 actions in first four cycles",value:155.556},SPD160:{key:"SPD160",label:"160.000 SPD - 4 actions in first two cycles",value:160},SPD171:{key:"SPD171",label:"171.429 SPD - 6 actions in first three cycles",value:171.429},SPD177:{key:"SPD177",label:"177.778 SPD - 8 actions in first four cycles",value:177.778},SPD200:{key:"SPD200",label:"200.000 SPD - 3 actions in first cycle",value:200}},_r=Object.values(al);_r.map(e=>e.label=s.jsx("div",{style:{minWidth:450},children:e.label}));function R1(e){return{key:e,label:e,children:_r}}const ee={fnAshblazingSet:e=>a=>{a.setConditionals[y.TheAshblazingGrandDuke][1]=e},fnPioneerSet:e=>a=>{a.setConditionals[y.PioneerDiverOfDeadWaters][1]=e},PRISONER_SET:e=>{e.setConditionals[y.PrisonerInDeepConfinement][1]=3},WASTELANDER_SET:e=>{e.setConditionals[y.PrisonerInDeepConfinement][1]=2},VALOROUS_SET:e=>{e.setConditionals[y.TheWindSoaringValorous][1]=!0},BANANA_SET:e=>{e.setConditionals[y.TheWondrousBananAmusementPark][1]=!0}};function ln(e){var i;const a={state:[{colId:e,sort:"desc"}],defaultState:{sort:null}};(i=window.optimizerGrid.current)==null||i.api.applyColumnState(a)}const f1=()=>{const e=window.store(n=>n.optimizerTabFocusCharacter),i={items:V.useMemo(function(){if(!e)return[];const n=Z.getMetadata().characters[e];return n?[R1(`Standard ${n.displayName}`)]:[]},[e]),onClick:n=>{al[n.key]?Jr(al[n.key].value,e):Y.warning("Preset not available, please select another option")}};return s.jsx(ui,{menu:i,trigger:["click"],overlayStyle:{width:"max-content"},children:s.jsx("a",{onClick:n=>n.preventDefault(),children:s.jsxs(j,{type:"primary",style:{width:"100%"},children:["Recommended presets",s.jsx(en,{})]})})})};function Jr(e,a){if(!a)return;const i=Z.getMetadata().characters[a];let n=C.clone(i.scoringMetadata);const l=$.getDisplayFormValues($.getForm()),o=$.getDisplayFormValues(ms(i));l.setConditionals=o.setConditionals;const r=window.store.getState().scoringMetadataOverrides[a];r&&(n=C.mergeDefinedValues(n,r)),l.minSpd=e,zr(l,n);const c=i.scoringMetadata.presets||[],h=n.sortOption;l.resultSort=h.key,ln(h.combatGridColumn);for(const b of c)b(l);window.optimizerForm.setFieldsValue(l),window.onOptimizerFormValuesChange({},l)}function zr(e,a){var l;C.mergeUndefinedValues(e,ms()),C.mergeUndefinedValues(e.setConditionals,xs);const i=((l=a==null?void 0:a.simulation)==null?void 0:l.formula)||{};C.mergeUndefinedValues(e.combo,i),Object.keys(e.combo).map(o=>e.combo[o]=e.combo[o]||null),e.maxSpd=void 0,e.mainBody=a.parts[d.Parts.Body],e.mainFeet=a.parts[d.Parts.Feet],e.mainPlanarSphere=a.parts[d.Parts.PlanarSphere],e.mainLinkRope=a.parts[d.Parts.LinkRope],e.weights=a.stats,e.weights.headHands=e.weights.headHands||0,e.weights.bodyFeet=e.weights.bodyFeet||0,e.weights.sphereRope=e.weights.sphereRope||0;const n=Z.getMetadata().characters[e.characterId].element;e.setConditionals[y.GeniusOfBrilliantStars][1]=n=="Quantum",e.setConditionals[y.ForgeOfTheKalpagniLantern][1]=n=="Fire"}const w={ATK:{key:"ATK",gpuProperty:"ATK",basicProperty:"ATK",combatProperty:"ATK",basicGridColumn:"ATK",combatGridColumn:"xATK"},DEF:{key:"DEF",gpuProperty:"DEF",basicProperty:"DEF",combatProperty:"DEF",basicGridColumn:"DEF",combatGridColumn:"xDEF"},HP:{key:"HP",gpuProperty:"HP",basicProperty:"HP",combatProperty:"HP",basicGridColumn:"HP",combatGridColumn:"xHP"},SPD:{key:"SPD",gpuProperty:"SPD",basicProperty:"SPD",combatProperty:"SPD",basicGridColumn:"SPD",combatGridColumn:"xSPD"},CR:{key:"CR",gpuProperty:"CR",basicProperty:"CRIT Rate",combatProperty:"CRIT Rate",basicGridColumn:"CRIT Rate",combatGridColumn:"xCR"},CD:{key:"CD",gpuProperty:"CD",basicProperty:"CRIT DMG",combatProperty:"CRIT DMG",basicGridColumn:"CRIT DMG",combatGridColumn:"xCD"},EHR:{key:"EHR",gpuProperty:"EHR",basicProperty:"Effect Hit Rate",combatProperty:"Effect Hit Rate",basicGridColumn:"Effect Hit Rate",combatGridColumn:"xEHR"},RES:{key:"RES",gpuProperty:"RES",basicProperty:"Effect RES",combatProperty:"Effect RES",basicGridColumn:"Effect RES",combatGridColumn:"xRES"},BE:{key:"BE",gpuProperty:"BE",basicProperty:"Break Effect",combatProperty:"Break Effect",basicGridColumn:"Break Effect",combatGridColumn:"xBE"},OHB:{key:"OHB",gpuProperty:"OHB",basicProperty:"Outgoing Healing Boost",combatProperty:"Outgoing Healing Boost",basicGridColumn:"Outgoing Healing Boost",combatGridColumn:"xOHB"},ERR:{key:"ERR",gpuProperty:"ERR",basicProperty:"Energy Regeneration Rate",combatProperty:"Energy Regeneration Rate",basicGridColumn:"Energy Regeneration Rate",combatGridColumn:"xERR"},ELEMENTAL_DMG:{key:"ELEMENTAL_DMG",gpuProperty:"ELEMENTAL_DMG",basicProperty:"ELEMENTAL_DMG",combatProperty:"ELEMENTAL_DMG",basicGridColumn:"ED",combatGridColumn:"xELEMENTAL_DMG",isComputedRating:!0},WEIGHT:{key:"WEIGHT",gpuProperty:"WEIGHT",basicProperty:"WEIGHT",combatProperty:"WEIGHT",basicGridColumn:"WEIGHT",combatGridColumn:"WEIGHT",isComputedRating:!0},EHP:{key:"EHP",gpuProperty:"EHP",basicProperty:"EHP",combatProperty:"EHP",basicGridColumn:"EHP",combatGridColumn:"EHP",isComputedRating:!0},BASIC:{key:"BASIC",gpuProperty:"BASIC_DMG",basicProperty:"BASIC_DMG",combatProperty:"BASIC_DMG",basicGridColumn:"BASIC",combatGridColumn:"BASIC",isComputedRating:!0},SKILL:{key:"SKILL",gpuProperty:"SKILL_DMG",basicProperty:"SKILL_DMG",combatProperty:"SKILL_DMG",basicGridColumn:"SKILL",combatGridColumn:"SKILL",isComputedRating:!0},ULT:{key:"ULT",gpuProperty:"ULT_DMG",basicProperty:"ULT_DMG",combatProperty:"ULT_DMG",basicGridColumn:"ULT",combatGridColumn:"ULT",isComputedRating:!0},FUA:{key:"FUA",gpuProperty:"FUA_DMG",basicProperty:"FUA_DMG",combatProperty:"FUA_DMG",basicGridColumn:"FUA",combatGridColumn:"FUA",isComputedRating:!0},DOT:{key:"DOT",gpuProperty:"DOT_DMG",basicProperty:"DOT_DMG",combatProperty:"DOT_DMG",basicGridColumn:"DOT",combatGridColumn:"DOT",isComputedRating:!0},BREAK:{key:"BREAK",gpuProperty:"BREAK_DMG",basicProperty:"BREAK_DMG",combatProperty:"BREAK_DMG",basicGridColumn:"BREAK",combatGridColumn:"BREAK",isComputedRating:!0},COMBO:{key:"COMBO",gpuProperty:"COMBO_DMG",basicProperty:"COMBO_DMG",combatProperty:"COMBO_DMG",basicGridColumn:"COMBO",combatGridColumn:"COMBO",isComputedRating:!0}},Ie={save:()=>{const e={relics:Z.getRelics(),characters:Z.getCharacters(),scorerId:window.store.getState().scorerId,scoringMetadataOverrides:window.store.getState().scoringMetadataOverrides,optimizerMenuState:window.store.getState().optimizerMenuState,excludedRelicPotentialCharacters:window.store.getState().excludedRelicPotentialCharacters,savedSession:window.store.getState().savedSession,settings:window.store.getState().settings,version:_i,relicLocator:{inventoryWidth:window.store.getState().inventoryWidth,rowLimit:window.store.getState().rowLimit}};console.log("Saved state");const a=JSON.stringify(e);return localStorage.state=a,a},load:(e=!0)=>{try{const a=localStorage.state;if(a){const i=JSON.parse(a);return console.log("Loaded SaveState"),Z.setStore(i,e),!0}return console.log("No SaveState found"),!1}catch(a){return console.error("Error loading state",a),!1}}};function g1(){var n;const e=window.optimizerForm.getFieldsValue();console.log("Save statSim",e.statSim);const a=window.store.getState().statSimulationDisplay;if(a==Va.Disabled||!((n=e.statSim)!=null&&n[a])){console.warn("Invalid sim",e,a);return}const i=e.statSim[a];if(!p1(i)){console.warn("Invalid sim",e,a);return}Qr(i,a,!0)}function Qr(e,a,i=!1){const n=window.store.getState().statSimulations||[],l=C.randomId(),r={name:e.name||void 0,key:l,simType:a,request:e},c=oo(r);for(const h of n){const b=oo(h);if(c==b){Y.error("Identical stat simulation already exists");return}}n.push(r),window.store.getState().setStatSimulations(n),Gl(n),i&&$r(),on()}function oo(e){const a={};for(const i of Object.entries(e.request))i[1]!=null&&(a[i[0]]=i[1]);return C.objectHash({simType:e.simType,request:a})}function p1(e){return!e.simBody||!e.simFeet||!e.simLinkRope||!e.simPlanarSphere?(Y.error("Missing simulation main stats"),!1):!0}function G1(e){return s.jsxs(g,{gap:5,children:[s.jsx(I1,{sim:e}),"|",s.jsx(E1,{sim:e}),"|",s.jsx(g,{children:e.name?`${e.name}`:null}),s.jsx(g,{children:e.name?"|":null}),s.jsx(T1,{sim:e})]})}function I1(e){const a=e.sim.request,i=22,n=U.getSetImage(a.simRelicSet1),l=U.getSetImage(a.simRelicSet2),o=a.simOrnamentSet?U.getSetImage(a.simOrnamentSet):U.getBlank();return s.jsxs(g,{gap:5,children:[s.jsxs(g,{style:{width:i*2+5},justify:"center",children:[s.jsx("img",{style:{width:a.simRelicSet1?i:0},src:n}),s.jsx("img",{style:{width:a.simRelicSet2?i:0},src:l})]}),s.jsx("img",{style:{width:i},src:o})]})}function E1(e){const a=e.sim.request,i=22;return s.jsxs(g,{children:[s.jsx("img",{style:{width:i},src:U.getStatIcon(a.simBody,!0)}),s.jsx("img",{style:{width:i},src:U.getStatIcon(a.simFeet,!0)}),s.jsx("img",{style:{width:i},src:U.getStatIcon(a.simPlanarSphere,!0)}),s.jsx("img",{style:{width:i},src:U.getStatIcon(a.simLinkRope,!0)})]})}const ro={[t.ATK_P]:0,[t.ATK]:1,[t.CR]:2,[t.CD]:3,[t.SPD]:4,[t.BE]:5,[t.HP_P]:6,[t.HP]:7,[t.DEF_P]:8,[t.DEF]:9,[t.EHR]:10,[t.RES]:11};function T1(e){const a=[],i=e.sim.request.stats;for(const l of d.SubStats){const o=i[l];o&&a.push({stat:l,value:o})}a.sort((l,o)=>ro[l.stat]-ro[o.stat]);function n(l){return e.sim.simType==Va.SubstatRolls?`${zn[l.stat]} x ${l.value}`:`${zn[l.stat]} ${l.value}${C.isFlat(l.stat)?"":"%"}`}return s.jsx(g,{gap:0,children:a.map(l=>s.jsx(g,{children:s.jsx(li,{style:{paddingInline:"5px",marginInlineEnd:"5px"},children:n(l)})},l.stat))})}function D1(e){console.log("Delete sim",e);const a=window.store.getState().statSimulations,i=C.clone(a.filter(n=>n.key!=e.key));window.store.getState().setStatSimulations(i),Gl(i),on()}function Z1(){window.store.getState().setStatSimulations([]),Gl([]),on()}function Gl(e){window.optimizerForm.setFieldValue(["statSim","simulations"],e)}function Aa(e,a,i,n={}){const o={...{quality:1,speedRollValue:2.6,mainStatMultiplier:1,substatRollsModifier:c=>c},...n},r=[];for(const c of i){const h=c.request,b=Ta(),R=Ta(),S=Ta(),u=Ta(),m=Ta(),f=Ta();b.augmentedStats.mainStat=d.Stats.HP,R.augmentedStats.mainStat=d.Stats.ATK,S.augmentedStats.mainStat=h.simBody,u.augmentedStats.mainStat=h.simFeet,m.augmentedStats.mainStat=h.simLinkRope,f.augmentedStats.mainStat=h.simPlanarSphere,b.augmentedStats.mainValue=705.6,R.augmentedStats.mainValue=352.8,S.augmentedStats.mainValue=$t.getMaxedStatValue(h.simBody)*o.mainStatMultiplier,u.augmentedStats.mainValue=$t.getMaxedStatValue(h.simFeet)*o.mainStatMultiplier,m.augmentedStats.mainValue=$t.getMaxedStatValue(h.simLinkRope)*o.mainStatMultiplier,f.augmentedStats.mainValue=$t.getMaxedStatValue(h.simPlanarSphere)*o.mainStatMultiplier;const p=ys.filter(W=>W!=h.simRelicSet1&&W!=h.simRelicSet2);b.set=h.simRelicSet1||p[0],R.set=h.simRelicSet1||p[1],S.set=h.simRelicSet2||p[2],u.set=h.simRelicSet2||p[3],m.set=h.simOrnamentSet||Ws[0],f.set=h.simOrnamentSet||Ws[1],b.part=G.Head,R.part=G.Hands,S.part=G.Body,u.part=G.Feet,m.part=G.LinkRope,f.part=G.PlanarSphere;const I={[G.Head]:[b],[G.Hands]:[R],[G.Body]:[S],[G.Feet]:[u],[G.LinkRope]:[m],[G.PlanarSphere]:[f]},E={[G.Head]:b,[G.Hands]:R,[G.Body]:S,[G.Feet]:u,[G.LinkRope]:m,[G.PlanarSphere]:f},T=[];for(const W of wt){let B=c.request.stats[W];if(c.simType==Va.SubstatRolls){const F=W==t.SPD?o.speedRollValue:$t.getMaxedSubstatValue(W,o.quality);let L=C.precisionRound(c.request.stats[W]||0);L=o.substatRollsModifier(L,W,E),B=L*F}B&&T.push({stat:W,value:B})}b.substats=T,st.condenseRelicSubstatsForOptimizer(I);const D=As(e,E,a,!0);Tl(D),D.statSim={key:c.key},r.push(D)}return r}function $r(){const e=$.getForm(),a=window.store.getState().statSimulations||[];if(a.length==0||!$.validateForm(e))return;console.log("Starting sims",a);const i=Aa(e,null,a);$.setRows(i),E0(e),window.optimizerGrid.current.api.updateGridOptions({datasource:$.getDataSource()});const n=w[e.resultSort],l=e.statDisplay=="combat"?n.combatGridColumn:n.basicGridColumn;ln(l),on()}function on(){const e=$.getForm();Z.addFromForm(e),Ie.save()}function C1(){const e=window.optimizerGrid.current.api.getSelectedRows()[0];if(!e){Y.warning("Run the optimizer first, then select a row from the optimizer results to import");return}if(e.statSim){Y.warning("The selected optimizer build is already a simulation");return}const a=$.calculateRelicsFromId(e.id,!0),i=e.relicSetIndex,n=Object.values(d.SetsRelics).length,l=i%n,o=(i-l)/n%n,r=(i-o*n-l)/(n*n)%n,c=(i-r*n*n-o*n-l)/(n*n*n)%n,b=e0([l,o,r,c]),R=e.ornamentSetIndex,S=Object.values(d.SetsOrnaments).length,u=R%S,m=(R-u)/S%S,f=t0([u,m],!1),p=qr(a,b[0],b[1],f,1);Qr(p,Va.SubstatRolls,!1)}function qr(e,a,i,n,l=1,o=2.6){const r=Object.values(e),c={};wt.map(h=>c[h]=0);for(const h of r)for(const b of h.substats)c[b.stat]+=b.value/(b.stat==t.SPD?o:$t.getMaxedSubstatValue(b.stat,l));return wt.map(h=>c[h]=C.precisionRound(c[h],4)),{name:"",simRelicSet1:a,simRelicSet2:i,simOrnamentSet:n,simBody:e[G.Body].main.stat,simFeet:e[G.Feet].main.stat,simPlanarSphere:e[G.PlanarSphere].main.stat,simLinkRope:e[G.LinkRope].main.stat,stats:{[t.HP]:c[t.HP]||null,[t.ATK]:c[t.ATK]||null,[t.DEF]:c[t.DEF]||null,[t.HP_P]:c[t.HP_P]||null,[t.ATK_P]:c[t.ATK_P]||null,[t.DEF_P]:c[t.DEF_P]||null,[t.CR]:c[t.CR]||null,[t.CD]:c[t.CD]||null,[t.SPD]:c[t.SPD]||null,[t.EHR]:c[t.EHR]||null,[t.RES]:c[t.RES]||null,[t.BE]:c[t.BE]||null}}}function e0(e,a=!1){const i=[];for(;e.length>0;){const n=e[0];if(e.lastIndexOf(n)){const l=a?n:Object.entries(d.RelicSetToIndex).find(r=>r[1]==n)[0];i.push(l);const o=e.lastIndexOf(n);e.splice(o,1)}e.splice(0,1)}return i}function t0(e,a=!0){if(e[0]!=null&&e[0]==e[1])return a?e[1]:Object.entries(d.OrnamentSetToIndex).find(i=>i[1]==e[1])[0]}const B1=[{title:s.jsx(g,{style:{marginLeft:5},children:"Simulation details"}),dataIndex:"name",fixed:"left",width:"560",render:(e,a)=>G1(a),key:"y",ellipsis:!0},{title:"",dataIndex:"",key:"x",render:(e,a)=>s.jsx("a",{onClick:()=>{D1(a)},style:{display:"flex",justifyContent:"center"},children:s.jsx(Na,{})}),width:36,fixed:"right"}];function y1(e){for(const a of Object.entries(e))a[1]==0&&(e[a[0]]=null);return e}function W1(){const e=window.store(l=>l.statSimulations),a=window.store(l=>l.selectedStatSimulations),i=window.store(l=>l.setSelectedStatSimulations);function n(l){a[0]!=l&&i(l!=null?[l]:[]);const o=e.find(h=>h.key===l);if(console.log("Syncing matching statSim",o),!o)return;let r;window.optimizerGrid.current.api.forEachNode(h=>{var b;((b=h.data.statSim)==null?void 0:b.key)==o.key&&(r=h)}),r&&r.setSelected(!0,!0);const c=C.clone(o.request);y1(c.stats),window.optimizerForm.setFieldValue(["statSim",o.simType],c),window.store.getState().setStatSimulationDisplay(o.simType)}return V.useEffect(()=>{a.length&&n(a[0])},[a]),s.jsx(dr,{showHeader:!1,locale:{emptyText:s.jsx(Xl,{image:Xl.PRESENTED_IMAGE_SIMPLE,description:"No custom stat simulations selected"})},rowSelection:{selectedRowKeys:a,type:"radio",columnWidth:0,renderCell:()=>""},columns:B1,dataSource:e,onRow:l=>({onClick:()=>{i(l.key!=null?[l.key]:[])}}),pagination:!1,size:"small",style:{flex:1,width:n0,height:"100%",backgroundColor:"#0000001a",border:"1px solid rgba(255, 255, 255, 0.15)"},scroll:{y:300}})}const{Text:M1}=be,q=yt(M1)`
    text-decoration: underline;
    text-decoration-color: #6d97ffb3;
    text-underline-offset: 2px;
    white-space: nowrap;
`,V1={1001:{id:"1001",name:"March 7th",rarity:4,path:"Preservation",element:"Ice",max_sp:120,stats:{HP:1058.4,ATK:511.56,DEF:573.3,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1002:{id:"1002",name:"Dan Heng",rarity:4,path:"Hunt",element:"Wind",max_sp:100,stats:{HP:882,ATK:546.84,DEF:396.9,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1003:{id:"1003",name:"Himeko",rarity:5,path:"Erudition",element:"Fire",max_sp:120,stats:{HP:1047.816,ATK:756.756,DEF:436.59,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1004:{id:"1004",name:"Welt",rarity:5,path:"Nihility",element:"Imaginary",max_sp:120,stats:{HP:1125.432,ATK:620.928,DEF:509.355,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1005:{id:"1005",name:"Kafka",rarity:5,path:"Nihility",element:"Lightning",max_sp:120,stats:{HP:1086.624,ATK:679.14,DEF:485.1,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1006:{id:"1006",name:"Silver Wolf",rarity:5,path:"Nihility",element:"Quantum",max_sp:110,stats:{HP:1047.816,ATK:640.332,DEF:460.845,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1008:{id:"1008",name:"Arlan",rarity:4,path:"Destruction",element:"Lightning",max_sp:110,stats:{HP:1199.52,ATK:599.76,DEF:330.75,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1009:{id:"1009",name:"Asta",rarity:4,path:"Harmony",element:"Fire",max_sp:120,stats:{HP:1023.12,ATK:511.56,DEF:463.05,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1013:{id:"1013",name:"Herta",rarity:4,path:"Erudition",element:"Ice",max_sp:110,stats:{HP:952.56,ATK:582.12,DEF:396.9,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1101:{id:"1101",name:"Bronya",rarity:5,path:"Harmony",element:"Wind",max_sp:120,stats:{HP:1241.856,ATK:582.12,DEF:533.61,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1102:{id:"1102",name:"Seele",rarity:5,path:"Hunt",element:"Quantum",max_sp:120,stats:{HP:931.392,ATK:640.332,DEF:363.825,SPD:115,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1103:{id:"1103",name:"Serval",rarity:4,path:"Erudition",element:"Lightning",max_sp:100,stats:{HP:917.28,ATK:652.68,DEF:374.85,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1104:{id:"1104",name:"Gepard",rarity:5,path:"Preservation",element:"Ice",max_sp:100,stats:{HP:1397.088,ATK:543.312,DEF:654.885,SPD:92,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1105:{id:"1105",name:"Natasha",rarity:4,path:"Abundance",element:"Physical",max_sp:90,stats:{HP:1164.24,ATK:476.28,DEF:507.15,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1106:{id:"1106",name:"Pela",rarity:4,path:"Nihility",element:"Ice",max_sp:110,stats:{HP:987.84,ATK:546.84,DEF:463.05,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1107:{id:"1107",name:"Clara",rarity:5,path:"Destruction",element:"Physical",max_sp:110,stats:{HP:1241.856,ATK:737.352,DEF:485.1,SPD:90,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1108:{id:"1108",name:"Sampo",rarity:4,path:"Nihility",element:"Wind",max_sp:120,stats:{HP:1023.12,ATK:617.4,DEF:396.9,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1109:{id:"1109",name:"Hook",rarity:4,path:"Destruction",element:"Fire",max_sp:120,stats:{HP:1340.64,ATK:617.4,DEF:352.8,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1110:{id:"1110",name:"Lynx",rarity:4,path:"Abundance",element:"Quantum",max_sp:100,stats:{HP:1058.4,ATK:493.92,DEF:551.25,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1111:{id:"1111",name:"Luka",rarity:4,path:"Nihility",element:"Physical",max_sp:130,stats:{HP:917.28,ATK:582.12,DEF:485.1,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1112:{id:"1112",name:"Topaz & Numby",rarity:5,path:"Hunt",element:"Fire",max_sp:130,stats:{HP:931.392,ATK:620.928,DEF:412.335,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1201:{id:"1201",name:"Qingque",rarity:4,path:"Erudition",element:"Quantum",max_sp:140,stats:{HP:1023.12,ATK:652.68,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1202:{id:"1202",name:"Tingyun",rarity:4,path:"Harmony",element:"Lightning",max_sp:130,stats:{HP:846.72,ATK:529.2,DEF:396.9,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1203:{id:"1203",name:"Luocha",rarity:5,path:"Abundance",element:"Imaginary",max_sp:100,stats:{HP:1280.664,ATK:756.756,DEF:363.825,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1204:{id:"1204",name:"Jing Yuan",rarity:5,path:"Erudition",element:"Lightning",max_sp:130,stats:{HP:1164.24,ATK:698.544,DEF:485.1,SPD:99,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1205:{id:"1205",name:"Blade",rarity:5,path:"Destruction",element:"Wind",max_sp:130,stats:{HP:1358.28,ATK:543.312,DEF:485.1,SPD:97,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1206:{id:"1206",name:"Sushang",rarity:4,path:"Hunt",element:"Physical",max_sp:120,stats:{HP:917.28,ATK:564.48,DEF:418.95,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1207:{id:"1207",name:"Yukong",rarity:4,path:"Harmony",element:"Imaginary",max_sp:130,stats:{HP:917.28,ATK:599.76,DEF:374.85,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1208:{id:"1208",name:"Fu Xuan",rarity:5,path:"Preservation",element:"Quantum",max_sp:135,stats:{HP:1474.704,ATK:465.696,DEF:606.375,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1209:{id:"1209",name:"Yanqing",rarity:5,path:"Hunt",element:"Ice",max_sp:140,stats:{HP:892.584,ATK:679.14,DEF:412.335,SPD:109,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1210:{id:"1210",name:"Guinaifen",rarity:4,path:"Nihility",element:"Fire",max_sp:120,stats:{HP:882,ATK:582.12,DEF:441,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1211:{id:"1211",name:"Bailu",rarity:5,path:"Abundance",element:"Lightning",max_sp:100,stats:{HP:1319.472,ATK:562.716,DEF:485.1,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1212:{id:"1212",name:"Jingliu",rarity:5,path:"Destruction",element:"Ice",max_sp:140,stats:{HP:1435.896,ATK:679.14,DEF:485.1,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1213:{id:"1213",name:"Dan Heng • Imbibitor Lunae",rarity:5,path:"Destruction",element:"Imaginary",max_sp:140,stats:{HP:1241.856,ATK:698.544,DEF:363.825,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1214:{id:"1214",name:"Xueyi",rarity:4,path:"Destruction",element:"Quantum",max_sp:120,stats:{HP:1058.4,ATK:599.76,DEF:396.9,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1215:{id:"1215",name:"Hanya",rarity:4,path:"Harmony",element:"Physical",max_sp:140,stats:{HP:917.28,ATK:564.48,DEF:352.8,SPD:110,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1217:{id:"1217",name:"Huohuo",rarity:5,path:"Abundance",element:"Wind",max_sp:140,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1218:{id:"1218",name:"Jiaoqiu",rarity:5,path:"Nihility",element:"Fire",max_sp:100,stats:{HP:1358.28,ATK:601.524,DEF:509.355,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1220:{id:"1220",name:"Feixiao",rarity:5,path:"Hunt",element:"Wind",max_sp:12,stats:{HP:1047.816,ATK:601.524,DEF:388.08,SPD:112,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1221:{id:"1221",name:"Yunli",rarity:5,path:"Destruction",element:"Physical",max_sp:240,stats:{HP:1358.28,ATK:679.14,DEF:460.845,SPD:94,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1222:{id:"1222",name:"Lingsha",rarity:5,path:"Abundance",element:"Fire",max_sp:110,stats:{HP:1358.28,ATK:679.14,DEF:436.59,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1223:{id:"1223",name:"Moze",rarity:4,path:"Hunt",element:"Lightning",max_sp:120,stats:{HP:811.44,ATK:599.76,DEF:352.8,SPD:111,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1224:{id:"1224",name:"March 7th",rarity:4,path:"Hunt",element:"Imaginary",max_sp:110,stats:{HP:1058.4,ATK:564.48,DEF:441,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1301:{id:"1301",name:"Gallagher",rarity:4,path:"Abundance",element:"Fire",max_sp:110,stats:{HP:1305.36,ATK:529.2,DEF:441,SPD:98,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1302:{id:"1302",name:"Argenti",rarity:5,path:"Erudition",element:"Physical",max_sp:180,stats:{HP:1047.816,ATK:737.352,DEF:363.825,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1303:{id:"1303",name:"Ruan Mei",rarity:5,path:"Harmony",element:"Ice",max_sp:130,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1304:{id:"1304",name:"Aventurine",rarity:5,path:"Preservation",element:"Imaginary",max_sp:110,stats:{HP:1203.048,ATK:446.292,DEF:654.885,SPD:106,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1305:{id:"1305",name:"Dr. Ratio",rarity:5,path:"Hunt",element:"Imaginary",max_sp:140,stats:{HP:1047.816,ATK:776.16,DEF:460.845,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1306:{id:"1306",name:"Sparkle",rarity:5,path:"Harmony",element:"Quantum",max_sp:110,stats:{HP:1397.088,ATK:523.908,DEF:485.1,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1307:{id:"1307",name:"Black Swan",rarity:5,path:"Nihility",element:"Wind",max_sp:120,stats:{HP:1086.624,ATK:659.736,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1308:{id:"1308",name:"Acheron",rarity:5,path:"Nihility",element:"Lightning",max_sp:9,stats:{HP:1125.432,ATK:698.544,DEF:436.59,SPD:101,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1309:{id:"1309",name:"Robin",rarity:5,path:"Harmony",element:"Physical",max_sp:160,stats:{HP:1280.664,ATK:640.332,DEF:485.1,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1310:{id:"1310",name:"Firefly",rarity:5,path:"Destruction",element:"Fire",max_sp:240,stats:{HP:814.968,ATK:523.908,DEF:776.16,SPD:104,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1312:{id:"1312",name:"Misha",rarity:4,path:"Destruction",element:"Ice",max_sp:100,stats:{HP:1270.08,ATK:599.76,DEF:396.9,SPD:96,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1314:{id:"1314",name:"Jade",rarity:5,path:"Erudition",element:"Quantum",max_sp:140,stats:{HP:1086.624,ATK:659.736,DEF:509.355,SPD:103,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1315:{id:"1315",name:"Boothill",rarity:5,path:"Hunt",element:"Physical",max_sp:115,stats:{HP:1203.048,ATK:620.928,DEF:436.59,SPD:107,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},1317:{id:"1317",name:"Rappa",rarity:5,path:"Erudition",element:"Imaginary",max_sp:160,stats:{HP:1086.624,ATK:640.332,DEF:460.845,SPD:102,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!0},8001:{id:"8001",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8002:{id:"8002",name:"Trailblazer",rarity:5,path:"Destruction",element:"Physical",max_sp:120,stats:{HP:1203.048,ATK:620.928,DEF:460.845,SPD:100,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8003:{id:"8003",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8004:{id:"8004",name:"Trailblazer",rarity:5,path:"Preservation",element:"Fire",max_sp:120,stats:{HP:1241.856,ATK:601.524,DEF:606.375,SPD:95,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8005:{id:"8005",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1},8006:{id:"8006",name:"Trailblazer",rarity:5,path:"Harmony",element:"Imaginary",max_sp:140,stats:{HP:1086.624,ATK:446.292,DEF:679.14,SPD:105,"CRIT Rate":.05,"CRIT DMG":.5},unreleased:!1}},F1={2e4:{id:"20000",name:"Arrows",rarity:3,path:"Hunt",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20001:{id:"20001",name:"Cornucopia",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20002:{id:"20002",name:"Collapsing Sky",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20003:{id:"20003",name:"Amber",rarity:3,path:"Preservation",stats:{HP:846.72,ATK:264.6,DEF:330.75},unreleased:!1},20004:{id:"20004",name:"Void",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20005:{id:"20005",name:"Chorus",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20006:{id:"20006",name:"Data Bank",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20007:{id:"20007",name:"Darting Arrow",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20008:{id:"20008",name:"Fine Fruit",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20009:{id:"20009",name:"Shattered Home",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20010:{id:"20010",name:"Defense",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20011:{id:"20011",name:"Loop",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20012:{id:"20012",name:"Meshing Cogs",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20013:{id:"20013",name:"Passkey",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20014:{id:"20014",name:"Adversarial",rarity:3,path:"Hunt",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},20015:{id:"20015",name:"Multiplication",rarity:3,path:"Abundance",stats:{HP:952.56,ATK:317.52,DEF:198.45},unreleased:!1},20016:{id:"20016",name:"Mutual Demise",rarity:3,path:"Destruction",stats:{HP:846.72,ATK:370.44,DEF:198.45},unreleased:!1},20017:{id:"20017",name:"Pioneering",rarity:3,path:"Preservation",stats:{HP:952.56,ATK:264.6,DEF:264.6},unreleased:!1},20018:{id:"20018",name:"Hidden Shadow",rarity:3,path:"Nihility",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20019:{id:"20019",name:"Mediation",rarity:3,path:"Harmony",stats:{HP:846.72,ATK:317.52,DEF:264.6},unreleased:!1},20020:{id:"20020",name:"Sagacity",rarity:3,path:"Erudition",stats:{HP:740.88,ATK:370.44,DEF:264.6},unreleased:!1},21e3:{id:"21000",name:"Post-Op Conversation",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21001:{id:"21001",name:"Good Night and Sleep Well",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21002:{id:"21002",name:"Day One of My New Life",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21003:{id:"21003",name:"Only Silence Remains",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21004:{id:"21004",name:"Memories of the Past",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21005:{id:"21005",name:"The Moles Welcome You",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21006:{id:"21006",name:"The Birth of the Self",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21007:{id:"21007",name:"Shared Feeling",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21008:{id:"21008",name:"Eyes of the Prey",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21009:{id:"21009",name:"Landau's Choice",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21010:{id:"21010",name:"Swordplay",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21011:{id:"21011",name:"Planetary Rendezvous",rarity:4,path:"Harmony",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21012:{id:"21012",name:"A Secret Vow",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21013:{id:"21013",name:"Make the World Clamor",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21014:{id:"21014",name:"Perfect Timing",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21015:{id:"21015",name:"Resolution Shines As Pearls of Sweat",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21016:{id:"21016",name:"Trend of the Universal Market",rarity:4,path:"Preservation",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21017:{id:"21017",name:"Subscribe for More!",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21018:{id:"21018",name:"Dance! Dance! Dance!",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21019:{id:"21019",name:"Under the Blue Sky",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21020:{id:"21020",name:"Geniuses' Repose",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21021:{id:"21021",name:"Quid Pro Quo",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21022:{id:"21022",name:"Fermata",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21023:{id:"21023",name:"We Are Wildfire",rarity:4,path:"Preservation",stats:{HP:740.88,ATK:476.28,DEF:463.05},unreleased:!1},21024:{id:"21024",name:"River Flows in Spring",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21025:{id:"21025",name:"Past and Future",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21026:{id:"21026",name:"Woof! Walk Time!",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21027:{id:"21027",name:"The Seriousness of Breakfast",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21028:{id:"21028",name:"Warmth Shortens Cold Nights",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:370.44,DEF:396.9},unreleased:!1},21029:{id:"21029",name:"We Will Meet Again",rarity:4,path:"Nihility",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21030:{id:"21030",name:"This Is Me!",rarity:4,path:"Preservation",stats:{HP:846.72,ATK:370.44,DEF:529.2},unreleased:!1},21031:{id:"21031",name:"Return to Darkness",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21032:{id:"21032",name:"Carve the Moon, Weave the Clouds",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21033:{id:"21033",name:"Nowhere to Run",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:529.2,DEF:264.6},unreleased:!1},21034:{id:"21034",name:"Today Is Another Peaceful Day",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:529.2,DEF:330.75},unreleased:!1},21035:{id:"21035",name:"What Is Real?",rarity:4,path:"Abundance",stats:{HP:1058.4,ATK:423.36,DEF:330.75},unreleased:!1},21036:{id:"21036",name:"Dreamville Adventure",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21037:{id:"21037",name:"Final Victor",rarity:4,path:"Hunt",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21038:{id:"21038",name:"Flames Afar",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21039:{id:"21039",name:"Destiny's Threads Forewoven",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21040:{id:"21040",name:"The Day The Cosmos Fell",rarity:4,path:"Erudition",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21041:{id:"21041",name:"It's Showtime",rarity:4,path:"Nihility",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!1},21042:{id:"21042",name:"Indelible Promise",rarity:4,path:"Destruction",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21043:{id:"21043",name:"Concert for Two",rarity:4,path:"Preservation",stats:{HP:952.56,ATK:370.44,DEF:463.05},unreleased:!1},21044:{id:"21044",name:"Boundless Choreo",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},21045:{id:"21045",name:"After the Charmony Fall",rarity:4,path:"Erudition",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21046:{id:"21046",name:"Poised to Bloom",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},21047:{id:"21047",name:"Shadowed by Night",rarity:4,path:"Hunt",stats:{HP:846.72,ATK:476.28,DEF:396.9},unreleased:!1},21048:{id:"21048",name:"Dream's Montage",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!0},22e3:{id:"22000",name:"Before the Tutorial Mission Starts",rarity:4,path:"Nihility",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22001:{id:"22001",name:"Hey, Over Here",rarity:4,path:"Abundance",stats:{HP:952.56,ATK:423.36,DEF:396.9},unreleased:!1},22002:{id:"22002",name:"For Tomorrow's Journey",rarity:4,path:"Harmony",stats:{HP:952.56,ATK:476.28,DEF:330.75},unreleased:!1},22003:{id:"22003",name:"Ninja Record: Sound Hunt",rarity:4,path:"Destruction",stats:{HP:1058.4,ATK:476.28,DEF:264.6},unreleased:!0},23e3:{id:"23000",name:"Night on the Milky Way",rarity:5,path:"Erudition",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23001:{id:"23001",name:"In the Night",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23002:{id:"23002",name:"Something Irreplaceable",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23003:{id:"23003",name:"But the Battle Isn't Over",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23004:{id:"23004",name:"In the Name of the World",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23005:{id:"23005",name:"Moment of Victory",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:476.28,DEF:595.35},unreleased:!1},23006:{id:"23006",name:"Patience Is All You Need",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23007:{id:"23007",name:"Incessant Rain",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23008:{id:"23008",name:"Echoes of the Coffin",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23009:{id:"23009",name:"The Unreachable Side",rarity:5,path:"Destruction",stats:{HP:1270.08,ATK:582.12,DEF:330.75},unreleased:!1},23010:{id:"23010",name:"Before Dawn",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23011:{id:"23011",name:"She Already Shut Her Eyes",rarity:5,path:"Preservation",stats:{HP:1270.08,ATK:423.36,DEF:529.2},unreleased:!1},23012:{id:"23012",name:"Sleep Like the Dead",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23013:{id:"23013",name:"Time Waits for No One",rarity:5,path:"Abundance",stats:{HP:1270.08,ATK:476.28,DEF:463.05},unreleased:!1},23014:{id:"23014",name:"I Shall Be My Own Sword",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:582.12,DEF:396.9},unreleased:!1},23015:{id:"23015",name:"Brighter Than the Sun",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23016:{id:"23016",name:"Worrisome, Blissful",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23017:{id:"23017",name:"Night of Fright",rarity:5,path:"Abundance",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23018:{id:"23018",name:"An Instant Before A Gaze",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23019:{id:"23019",name:"Past Self in Mirror",rarity:5,path:"Harmony",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23020:{id:"23020",name:"Baptism of Pure Thought",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23021:{id:"23021",name:"Earthly Escapade",rarity:5,path:"Harmony",stats:{HP:1164.24,ATK:529.2,DEF:463.05},unreleased:!1},23022:{id:"23022",name:"Reforged Remembrance",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23023:{id:"23023",name:"Inherently Unjust Destiny",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:661.5},unreleased:!1},23024:{id:"23024",name:"Along the Passing Shore",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:635.04,DEF:396.9},unreleased:!1},23025:{id:"23025",name:"Whereabouts Should Dreams Rest",rarity:5,path:"Destruction",stats:{HP:1164.24,ATK:476.28,DEF:529.2},unreleased:!1},23026:{id:"23026",name:"Flowing Nightglow",rarity:5,path:"Harmony",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23027:{id:"23027",name:"Sailing Towards a Second Life",rarity:5,path:"Hunt",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23028:{id:"23028",name:"Yet Hope Is Priceless",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23029:{id:"23029",name:"Those Many Springs",rarity:5,path:"Nihility",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!1},23030:{id:"23030",name:"Dance at Sunset",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:582.12,DEF:463.05},unreleased:!1},23031:{id:"23031",name:"I Venture Forth to Hunt",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:635.04,DEF:463.05},unreleased:!1},23032:{id:"23032",name:"Scent Alone Stays True",rarity:5,path:"Abundance",stats:{HP:1058.4,ATK:529.2,DEF:529.2},unreleased:!1},23033:{id:"23033",name:"Ninjutsu Inscription: Dazzling Evilbreaker",rarity:5,path:"Erudition",stats:{HP:952.56,ATK:582.12,DEF:529.2},unreleased:!0},24e3:{id:"24000",name:"On the Fall of an Aeon",rarity:5,path:"Destruction",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24001:{id:"24001",name:"Cruising in the Stellar Sea",rarity:5,path:"Hunt",stats:{HP:952.56,ATK:529.2,DEF:463.05},unreleased:!1},24002:{id:"24002",name:"Texture of Memories",rarity:5,path:"Preservation",stats:{HP:1058.4,ATK:423.36,DEF:529.2},unreleased:!1},24003:{id:"24003",name:"Solitary Healing",rarity:5,path:"Nihility",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1},24004:{id:"24004",name:"Eternal Calculus",rarity:5,path:"Erudition",stats:{HP:1058.4,ATK:529.2,DEF:396.9},unreleased:!1}},x1=[{id:"318",name:"The Wondrous BananAmusement Park",skills:"Increases the wearer's CRIT DMG by <b>16.0%</b>. When a target summoned by the wearer is on the field, CRIT DMG additionally increases by <b>32.0%</b>."},{id:"317",name:"Lushaka, the Sunken Seas",skills:"Increases the wearer's Energy Regeneration Rate by <b>5.0%</b>. If the wearer is not the first character in the team lineup, then increases the ATK of the first character in the team lineup by <b>12.0%</b>."},{id:"316",name:"Forge of the Kalpagni Lantern",skills:"Increases the wearer's SPD by <b>6.0%</b>. When the wearer hits an enemy target that has Fire Weakness, the wearer's Break Effect increases by <b>40.0%</b>, lasting for <b>1.0</b> turn(s)."},{id:"315",name:"Duran, Dynasty of Running Wolves",skills:`When a Party target uses a follow-up attack, the wearer gains 1 stack of "Merit," stacking up to <b>5.0</b> time(s). Each stack of "Merit" increases the DMG dealt by the wearer's follow-up attacks by <b>5.0%</b>. When there are <b>5.0</b> stacks, additionally increases the wearer's CRIT DMG by <b>25.0%</b>.`},{id:"314",name:"Izumo Gensei and Takama Divine Realm",skills:"Increases the wearer's ATK by <b>12.0%</b>. When entering battle, if at least one other ally follows the same Path as the wearer, then the wearer's CRIT Rate increases by <b>12.0%</b>."},{id:"313",name:"Sigonia, the Unclaimed Desolation",skills:"Increases the wearer's CRIT Rate by <b>4.0%</b>. When an enemy target gets defeated, the wearer's CRIT DMG increases by <b>4.0%</b>, stacking up to <b>10.0</b> time(s)."},{id:"312",name:"Penacony, Land of the Dreams",skills:"Increases wearer's Energy Regeneration Rate by <b>5.0%</b>. Increases DMG by <b>10.0%</b> for all other Party targets that are of the same Type as the wearer."},{id:"311",name:"Firmament Frontline: Glamoth",skills:"Increases the wearer's ATK by <b>12.0%</b>. When the wearer's SPD is equal to or higher than <b>135.0</b>/<b>160.0</b>, the wearer deals <b>12.0%</b>/<b>18.0%</b> more DMG."},{id:"310",name:"Broken Keel",skills:"Increases the wearer's Effect RES by <b>10.0%</b>. When the wearer's Effect RES is at <b>30.0%</b> or higher, all Party targets' CRIT DMG increases by <b>10.0%</b>."},{id:"309",name:"Rutilant Arena",skills:"Increases the wearer's CRIT Rate by <b>8.0%</b>. When the wearer's current CRIT Rate reaches <b>70.0%</b> or higher, DMG dealt by Basic ATK and Skill increases by <b>20.0%</b>."},{id:"308",name:"Sprightly Vonwacq",skills:"Increases the wearer's Energy Regeneration Rate by <b>5.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, the wearer's action is Advanced Forward by <b>40.0%</b> immediately upon entering battle."},{id:"307",name:"Talia: Kingdom of Banditry",skills:"Increases the wearer's Break Effect by <b>16.0%</b>. When the wearer's SPD reaches <b>145.0</b> or higher, the wearer's Break Effect increases by an extra <b>20.0%</b>."},{id:"306",name:"Inert Salsotto",skills:"Increases the wearer's CRIT Rate by <b>8.0%</b>. When the wearer's current CRIT Rate reaches <b>50.0%</b> or higher, the DMG dealt by the wearer's Ultimate and follow-up attack increases by <b>15.0%</b>."},{id:"305",name:"Celestial Differentiator",skills:"Increases the wearer's CRIT DMG by <b>16.0%</b>. When the wearer's current CRIT DMG reaches <b>120.0%</b> or higher, after entering battle, the wearer's CRIT Rate increases by <b>60.0%</b> until the end of their first attack."},{id:"304",name:"Belobog of the Architects",skills:"Increases the wearer's DEF by <b>15.0%</b>. When the wearer's Effect Hit Rate is <b>50.0%</b> or higher, the wearer gains an extra <b>15.0%</b> DEF."},{id:"303",name:"Pan-Cosmic Commercial Enterprise",skills:"Increases the wearer's Effect Hit Rate by <b>10.0%</b>. Meanwhile, the wearer's ATK increases by an amount that is equal to <b>25.0%</b> of the current Effect Hit Rate, up to a maximum of <b>25.0%</b>."},{id:"302",name:"Fleet of the Ageless",skills:"Increases the wearer's Max HP by <b>12.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, all Party targets' ATK increases by <b>8.0%</b>."},{id:"301",name:"Space Sealing Station",skills:"Increases the wearer's ATK by <b>12.0%</b>. When the wearer's SPD reaches <b>120.0</b> or higher, the wearer's ATK increases by an extra <b>12.0%</b>."},{id:"122",name:"Scholar Lost in Erudition",skills:"Increases CRIT Rate by <b>6.0%</b>.,Increases DMG dealt by Ultimate and Skill by <b>20.0%</b>. After using Ultimate, additionally increases the DMG dealt by the next Skill by <b>20.0%</b>."},{id:"121",name:"Sacerdos' Relived Ordeal",skills:"Increases SPD by <b>6.0%</b>.,When using Skill or Ultimate on one Party target, increases the target's CRIT DMG by <b>20.0%</b>, lasting for <b>2.0</b> turn(s). This effect can stack up to <b>2.0</b> time(s)."},{id:"120",name:"The Wind-Soaring Valorous",skills:"Increases ATK by <b>12.0%</b>.,Increases the wearer's CRIT Rate by <b>6.0%</b>. After the wearer uses a follow-up attack, increases DMG dealt by Ultimate by <b>36.0%</b>, lasting for <b>1.0</b> turn(s)."},{id:"119",name:"Iron Cavalry Against the Scourge",skills:"Increases Break Effect by <b>16.0%</b>.,If the wearer's Break Effect is <b>150.0%</b> or higher, the Break DMG dealt to the enemy target ignores <b>10.0%</b> of their DEF. If the wearer's Break Effect is <b>250.0%</b> or higher, the Super Break DMG dealt to the enemy target additionally ignores <b>15.0%</b> of their DEF."},{id:"118",name:"Watchmaker, Master of Dream Machinations",skills:"Increases Break Effect by <b>16.0%</b>.,When the wearer uses Ultimate on any Party character, increases all Party characters' Break Effect by <b>30.0%</b> for <b>2.0</b> turn(s). This effect cannot be stacked."},{id:"117",name:"Pioneer Diver of Dead Waters",skills:"Increases DMG dealt to enemies with debuffs by <b>12.0%</b>.,Increases CRIT Rate by <b>4.0%</b>. The wearer deals <b>8.0%</b>/<b>12.0%</b> increased CRIT DMG to enemies with at least <b>2.0</b>/<b>3.0</b> debuffs. After the wearer inflicts a debuff on enemy targets, the aforementioned effects increase by <b>100%</b>, lasting for <b>1.0</b> turn(s)."},{id:"116",name:"Prisoner in Deep Confinement",skills:"Increases ATK by <b>12.0%</b>.,For every DoT the enemy target is afflicted with, the wearer will ignore <b>6.0%</b> of its DEF when dealing DMG to it. This effect is valid for a max of <b>3.0</b> DoTs."},{id:"115",name:"The Ashblazing Grand Duke",skills:"Increases the DMG dealt by follow-up attack by <b>20.0%</b>.,When the wearer uses a follow-up attack, increases the wearer's ATK by <b>6.0%</b> for every time the follow-up attack deals DMG. This effect can stack up to <b>8.0</b> time(s) and lasts for <b>3.0</b> turn(s). This effect is removed the next time the wearer uses a follow-up attack."},{id:"114",name:"Messenger Traversing Hackerspace",skills:"Increases SPD by <b>6.0%</b>.,When the wearer uses Ultimate on any Party character, increases all Party characters' SPD by <b>12.0%</b> for <b>1.0</b> turn(s). This effect cannot be stacked."},{id:"113",name:"Longevous Disciple",skills:"Increases Max HP by <b>12.0%</b>.,When the wearer is hit or has their HP consumed by an ally or themselves, their CRIT Rate increases by <b>8.0%</b> for <b>2.0</b> turn(s) and up to <b>2.0</b> stacks."},{id:"112",name:"Wastelander of Banditry Desert",skills:"Increases Imaginary DMG by <b>10.0%</b>.,When attacking debuffed enemies, the wearer's CRIT Rate increases by <b>10.0%</b>, and their CRIT DMG increases by <b>20.0%</b> against Imprisoned enemies."},{id:"111",name:"Thief of Shooting Meteor",skills:"Increases Break Effect by <b>16.0%</b>.,Increases the wearer's Break Effect by <b>16.0%</b>. After the wearer inflicts Weakness Break on an enemy, regenerates <b>3.0</b> Energy."},{id:"110",name:"Eagle of Twilight Line",skills:"Increases Wind DMG by <b>10.0%</b>.,After the wearer uses their Ultimate, their action is Advanced Forward by <b>25.0%</b>."},{id:"109",name:"Band of Sizzling Thunder",skills:"Increases Lightning DMG by <b>10.0%</b>.,When the wearer uses their Skill, increases the wearer's ATK by <b>20.0%</b> for <b>1.0</b> turn(s)."},{id:"108",name:"Genius of Brilliant Stars",skills:"Increases Quantum DMG by <b>10.0%</b>.,When the wearer deals DMG to the target enemy, ignores <b>10.0%</b> DEF. If the target enemy has Quantum Weakness, the wearer additionally ignores <b>10.0%</b> DEF."},{id:"107",name:"Firesmith of Lava-Forging",skills:"Increases Fire DMG by <b>10.0%</b>.,Increases DMG by the wearer's Skill by <b>12.0%</b>. After unleashing Ultimate, increases the wearer's Fire DMG by <b>12.0%</b> for the next attack."},{id:"106",name:"Guard of Wuthering Snow",skills:"Reduces DMG taken by <b>8.0%</b>.,At the beginning of the turn, if the wearer's HP percentage is equal to or less than <b>50.0%</b>, restores HP equal to <b>8.0%</b> of their Max HP and regenerates <b>5.0</b> Energy."},{id:"105",name:"Champion of Streetwise Boxing",skills:"Increases Physical DMG by <b>10.0%</b>.,After the wearer attacks or is hit, their ATK increases by <b>5.0%</b> for the rest of the battle. This effect can stack up to <b>5.0</b> time(s)."},{id:"104",name:"Hunter of Glacial Forest",skills:"Increases Ice DMG by <b>10.0%</b>.,After the wearer uses their Ultimate, their CRIT DMG increases by <b>25.0%</b> for <b>2.0</b> turn(s)."},{id:"103",name:"Knight of Purity Palace",skills:"Increases DEF by <b>15.0%</b>.,Increases the max DMG that can be absorbed by the Shield created by the wearer by <b>20.0%</b>."},{id:"102",name:"Musketeer of Wild Wheat",skills:"Increases ATK by <b>12.0%</b>.,The wearer's SPD increases by <b>6.0%</b> and DMG dealt by Basic ATK increases by <b>10.0%</b>."},{id:"101",name:"Passerby of Wandering Cloud",skills:"Increases Outgoing Healing by <b>10.0%</b>.,At the start of the battle, immediately regenerates 1 Skill Point."}],ws={characters:V1,lightCones:F1,relics:x1},L1={21:{id:"21",affixes:{1:{affix_id:"1",property:"HPDelta",base:45.1584,step:15.80544}}},22:{id:"22",affixes:{1:{affix_id:"1",property:"AttackDelta",base:22.5792,step:7.90272}}},23:{id:"23",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"CriticalChanceBase",base:.020736001,step:.007258},5:{affix_id:"5",property:"CriticalDamageBase",base:.041472,step:.014515},6:{affix_id:"6",property:"HealRatioBase",base:.022118,step:.0077410005},7:{affix_id:"7",property:"StatusProbabilityBase",base:.027648,step:.009677}}},24:{id:"24",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"SpeedDelta",base:1.6128,step:1}}},25:{id:"25",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.027648,step:.009677},2:{affix_id:"2",property:"AttackAddedRatio",base:.027648,step:.009677},3:{affix_id:"3",property:"DefenceAddedRatio",base:.034560002,step:.012096001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.024883,step:.008709},5:{affix_id:"5",property:"FireAddedRatio",base:.024883,step:.008709},6:{affix_id:"6",property:"IceAddedRatio",base:.024883,step:.008709},7:{affix_id:"7",property:"ThunderAddedRatio",base:.024883,step:.008709},8:{affix_id:"8",property:"WindAddedRatio",base:.024883,step:.008709},9:{affix_id:"9",property:"QuantumAddedRatio",base:.024883,step:.008709},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.024883,step:.008709}}},26:{id:"26",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.041472,step:.014515},2:{affix_id:"2",property:"SPRatioBase",base:.012442,step:.0043550003},3:{affix_id:"3",property:"HPAddedRatio",base:.027648,step:.009677},4:{affix_id:"4",property:"AttackAddedRatio",base:.027648,step:.009677},5:{affix_id:"5",property:"DefenceAddedRatio",base:.034560002,step:.012096001}}},31:{id:"31",affixes:{1:{affix_id:"1",property:"HPDelta",base:67.7376,step:23.70816}}},32:{id:"32",affixes:{1:{affix_id:"1",property:"AttackDelta",base:33.8688,step:11.85408}}},33:{id:"33",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"CriticalChanceBase",base:.031104,step:.010886001},5:{affix_id:"5",property:"CriticalDamageBase",base:.062208,step:.021773001},6:{affix_id:"6",property:"HealRatioBase",base:.033178,step:.011612},7:{affix_id:"7",property:"StatusProbabilityBase",base:.041472,step:.014515}}},34:{id:"34",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"SpeedDelta",base:2.4192,step:1}}},35:{id:"35",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.041472,step:.014515},2:{affix_id:"2",property:"AttackAddedRatio",base:.041472,step:.014515},3:{affix_id:"3",property:"DefenceAddedRatio",base:.05184,step:.018144},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.037325,step:.013064001},5:{affix_id:"5",property:"FireAddedRatio",base:.037325,step:.013064001},6:{affix_id:"6",property:"IceAddedRatio",base:.037325,step:.013064001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.037325,step:.013064001},8:{affix_id:"8",property:"WindAddedRatio",base:.037325,step:.013064001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.037325,step:.013064001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.037325,step:.013064001}}},36:{id:"36",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.062208,step:.021773001},2:{affix_id:"2",property:"SPRatioBase",base:.018662,step:.0065320004},3:{affix_id:"3",property:"HPAddedRatio",base:.041472,step:.014515},4:{affix_id:"4",property:"AttackAddedRatio",base:.041472,step:.014515},5:{affix_id:"5",property:"DefenceAddedRatio",base:.05184,step:.018144}}},41:{id:"41",affixes:{1:{affix_id:"1",property:"HPDelta",base:90.3168,step:31.61088}}},42:{id:"42",affixes:{1:{affix_id:"1",property:"AttackDelta",base:45.1584,step:15.80544}}},43:{id:"43",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"CriticalChanceBase",base:.041472,step:.014515},5:{affix_id:"5",property:"CriticalDamageBase",base:.082944,step:.029029999},6:{affix_id:"6",property:"HealRatioBase",base:.044237,step:.015483},7:{affix_id:"7",property:"StatusProbabilityBase",base:.055296,step:.019354}}},44:{id:"44",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"SpeedDelta",base:3.2256,step:1.1}}},45:{id:"45",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354},2:{affix_id:"2",property:"AttackAddedRatio",base:.055296,step:.019354},3:{affix_id:"3",property:"DefenceAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.049766,step:.017418},5:{affix_id:"5",property:"FireAddedRatio",base:.049766,step:.017418},6:{affix_id:"6",property:"IceAddedRatio",base:.049766,step:.017418},7:{affix_id:"7",property:"ThunderAddedRatio",base:.049766,step:.017418},8:{affix_id:"8",property:"WindAddedRatio",base:.049766,step:.017418},9:{affix_id:"9",property:"QuantumAddedRatio",base:.049766,step:.017418},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.049766,step:.017418}}},46:{id:"46",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.082944,step:.029029999},2:{affix_id:"2",property:"SPRatioBase",base:.024883,step:.008709},3:{affix_id:"3",property:"HPAddedRatio",base:.055296,step:.019354},4:{affix_id:"4",property:"AttackAddedRatio",base:.055296,step:.019354},5:{affix_id:"5",property:"DefenceAddedRatio",base:.06912,step:.024192}}},51:{id:"51",affixes:{1:{affix_id:"1",property:"HPDelta",base:112.896,step:39.5136}}},52:{id:"52",affixes:{1:{affix_id:"1",property:"AttackDelta",base:56.448,step:19.7568}}},53:{id:"53",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"CriticalChanceBase",base:.05184,step:.018144},5:{affix_id:"5",property:"CriticalDamageBase",base:.10368,step:.036288},6:{affix_id:"6",property:"HealRatioBase",base:.055296,step:.019354},7:{affix_id:"7",property:"StatusProbabilityBase",base:.06912,step:.024192}}},54:{id:"54",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"SpeedDelta",base:4.032,step:1.4}}},55:{id:"55",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.06912,step:.024192},2:{affix_id:"2",property:"AttackAddedRatio",base:.06912,step:.024192},3:{affix_id:"3",property:"DefenceAddedRatio",base:.0864,step:.030240001},4:{affix_id:"4",property:"PhysicalAddedRatio",base:.062208,step:.021773001},5:{affix_id:"5",property:"FireAddedRatio",base:.062208,step:.021773001},6:{affix_id:"6",property:"IceAddedRatio",base:.062208,step:.021773001},7:{affix_id:"7",property:"ThunderAddedRatio",base:.062208,step:.021773001},8:{affix_id:"8",property:"WindAddedRatio",base:.062208,step:.021773001},9:{affix_id:"9",property:"QuantumAddedRatio",base:.062208,step:.021773001},10:{affix_id:"10",property:"ImaginaryAddedRatio",base:.062208,step:.021773001}}},56:{id:"56",affixes:{1:{affix_id:"1",property:"BreakDamageAddedRatioBase",base:.10368,step:.036288},2:{affix_id:"2",property:"SPRatioBase",base:.031104,step:.010886001},3:{affix_id:"3",property:"HPAddedRatio",base:.06912,step:.024192},4:{affix_id:"4",property:"AttackAddedRatio",base:.06912,step:.024192},5:{affix_id:"5",property:"DefenceAddedRatio",base:.0864,step:.030240001}}},433:{id:"433",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}},434:{id:"434",affixes:{1:{affix_id:"1",property:"CriticalChanceBase",base:.041472,step:.014515}}},436:{id:"436",affixes:{1:{affix_id:"1",property:"HealRatioBase",base:.044237,step:.015483}}},441:{id:"441",affixes:{1:{affix_id:"1",property:"HPAddedRatio",base:.055296,step:.019354}}},443:{id:"443",affixes:{1:{affix_id:"1",property:"DefenceAddedRatio",base:.06912,step:.024192}}}},U1={2:{id:"2",affixes:{1:{affix_id:"1",property:"HPDelta",base:13.548016,step:1.693502,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:6.774008,step:.846751,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:6.774008,step:.846751,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.013824001,step:.0017280006,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.013824001,step:.0017280006,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.017280001,step:.0021600004,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.010368001,step:.0012960008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.020736001,step:.0025920009,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.013824001,step:.0017280006,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.013824001,step:.0017280006,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.020736001,step:.0025920009,step_num:2}}},3:{id:"3",affixes:{1:{affix_id:"1",property:"HPDelta",base:20.322023,step:2.540253,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:10.161012,step:1.270126,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:10.161012,step:1.270126,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.020736001,step:.0025920009,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.020736001,step:.0025920009,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.02592,step:.0032400002,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.2,step:.1,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.015552,step:.0019440008,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.031104,step:.003888001,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.020736001,step:.0025920009,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.020736001,step:.0025920009,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.031104,step:.003888001,step_num:2}}},4:{id:"4",affixes:{1:{affix_id:"1",property:"HPDelta",base:27.096031,step:3.387004,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:13.548016,step:1.693502,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:13.548016,step:1.693502,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.027648,step:.0034560005,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.027648,step:.0034560005,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.034560002,step:.0043200003,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:1.6,step:.2,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.020736001,step:.0025920009,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.041472,step:.0051840004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.027648,step:.0034560005,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.027648,step:.0034560005,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.041472,step:.0051840004,step_num:2}}},5:{id:"5",affixes:{1:{affix_id:"1",property:"HPDelta",base:33.87004,step:4.233755,step_num:2},2:{affix_id:"2",property:"AttackDelta",base:16.935019,step:2.116877,step_num:2},3:{affix_id:"3",property:"DefenceDelta",base:16.935019,step:2.116877,step_num:2},4:{affix_id:"4",property:"HPAddedRatio",base:.034560002,step:.0043200003,step_num:2},5:{affix_id:"5",property:"AttackAddedRatio",base:.034560002,step:.0043200003,step_num:2},6:{affix_id:"6",property:"DefenceAddedRatio",base:.0432,step:.0054,step_num:2},7:{affix_id:"7",property:"SpeedDelta",base:2,step:.3,step_num:2},8:{affix_id:"8",property:"CriticalChanceBase",base:.02592,step:.0032400002,step_num:2},9:{affix_id:"9",property:"CriticalDamageBase",base:.05184,step:.0064800004,step_num:2},10:{affix_id:"10",property:"StatusProbabilityBase",base:.034560002,step:.0043200003,step_num:2},11:{affix_id:"11",property:"StatusResistanceBase",base:.034560002,step:.0043200003,step_num:2},12:{affix_id:"12",property:"BreakDamageAddedRatioBase",base:.05184,step:.0064800004,step_num:2}}}},oa=ws.characters,Gi=ws.lightCones,Ra={},co=[y.MessengerTraversingHackerspace,y.ThiefOfShootingMeteor,y.WatchmakerMasterOfDreamMachinations,y.IronCavalryAgainstTheScourge],xe=[[y.GeniusOfBrilliantStars,y.GeniusOfBrilliantStars],[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters]],Pt=[y.DuranDynastyOfRunningWolves,y.SigoniaTheUnclaimedDesolation,y.InertSalsotto],Ue=[y.FirmamentFrontlineGlamoth,y.SigoniaTheUnclaimedDesolation],a0={parse:e=>{if(e){Ra[Constants.SetsRelics.SacerdosRelivedOrdeal]=!0,Ra[Constants.SetsRelics.ScholarLostInErudition]=!0,delete Constants.SetsRelics.SacerdosRelivedOrdeal,delete Constants.SetsRelics.ScholarLostInErudition,delete Constants.SetsRelicsNames.SacerdosRelivedOrdeal,delete Constants.SetsRelicsNames.ScholarLostInErudition;for(const b of Object.values(oa))b.unreleased&&delete oa[b.id];for(const b of Object.values(Gi))b.unreleased&&delete Gi[b.id]}const a=H1(),i=P1();for(const b of Object.values(Gi)){const R=b.id;a[R]?b.superimpositions=a[R]:b.superimpositions={};let S=200;i[R]!=null&&i[R]!={}&&(S=i[R]),b.displayName=b.name,b.imageCenter=S}const n=N1(),l=Y1(),o=A1();for(const b of Object.values(o))for(const R of[G.Body,G.Feet,G.PlanarSphere,G.LinkRope])b.parts[R].length===0&&(b.parts[R]=ti[R]);for(const[b,R]of Object.entries(n)){if(!oa[b])continue;let S={x:1024,y:1024};l[b]!=null&&(S=l[b]),oa[b].traces=R,oa[b].imageCenter=S,oa[b].displayName=k1(oa[b]),oa[b].scoringMetadata=o[b],oa[b].scoringMetadata.characterId=b}const r=ws.relics.reduce((b,R)=>(b[R.id]=R,b),{}),h={characters:oa,lightCones:Gi,relics:{relicMainAffixes:L1,relicSubAffixes:U1,relicSets:r}};return Z.setMetadata(h),h}},uo={8001:"Caelus (Destruction)",8002:"Stelle (Destruction)",8003:"Caelus (Preservation)",8004:"Stelle (Preservation)",8005:"Caelus (Harmony)",8006:"Stelle (Harmony)",1213:"Imbibitor Lunae",1224:"March 7th (Hunt)"};function k1(e){return e.id in uo?uo[e.id]:e.name}function H1(){return{2e4:{},20001:{},20002:{},20003:{1:{[t.DEF_P]:.16},2:{[t.DEF_P]:.2},3:{[t.DEF_P]:.24},4:{[t.DEF_P]:.28},5:{[t.DEF_P]:.32}},20004:{},20005:{},20006:{},20007:{},20008:{},20009:{},20010:{},20011:{},20012:{},20013:{},20014:{},20015:{},20016:{},20017:{},20018:{},20019:{},20020:{},21e3:{1:{[t.ERR]:.08},2:{[t.ERR]:.1},3:{[t.ERR]:.12},4:{[t.ERR]:.14},5:{[t.ERR]:.16}},21001:{},21002:{1:{[t.DEF_P]:.16},2:{[t.DEF_P]:.18},3:{[t.DEF_P]:.2},4:{[t.DEF_P]:.22},5:{[t.DEF_P]:.24}},21003:{1:{[t.ATK_P]:.16},2:{[t.ATK_P]:.2},3:{[t.ATK_P]:.24},4:{[t.ATK_P]:.28},5:{[t.ATK_P]:.32}},21004:{1:{[t.BE]:.28},2:{[t.BE]:.35},3:{[t.BE]:.42},4:{[t.BE]:.49},5:{[t.BE]:.56}},21005:{},21006:{},21007:{},21008:{1:{[t.EHR]:.2},2:{[t.EHR]:.25},3:{[t.EHR]:.3},4:{[t.EHR]:.35},5:{[t.EHR]:.4}},21009:{},21010:{},21011:{},21012:{},21013:{},21014:{1:{[t.RES]:.16},2:{[t.RES]:.2},3:{[t.RES]:.24},4:{[t.RES]:.28},5:{[t.RES]:.32}},21015:{},21016:{1:{[t.DEF_P]:.16},2:{[t.DEF_P]:.2},3:{[t.DEF_P]:.24},4:{[t.DEF_P]:.28},5:{[t.DEF_P]:.32}},21017:{},21018:{},21019:{1:{[t.ATK_P]:.16},2:{[t.ATK_P]:.2},3:{[t.ATK_P]:.24},4:{[t.ATK_P]:.28},5:{[t.ATK_P]:.32}},21020:{1:{[t.ATK_P]:.16},2:{[t.ATK_P]:.2},3:{[t.ATK_P]:.24},4:{[t.ATK_P]:.28},5:{[t.ATK_P]:.32}},21021:{},21022:{1:{[t.BE]:.16},2:{[t.BE]:.2},3:{[t.BE]:.24},4:{[t.BE]:.28},5:{[t.BE]:.32}},21023:{},21024:{},21025:{},21026:{1:{[t.ATK_P]:.1},2:{[t.ATK_P]:.125},3:{[t.ATK_P]:.15},4:{[t.ATK_P]:.175},5:{[t.ATK_P]:.2}},21027:{},21028:{1:{[t.HP_P]:.16},2:{[t.HP_P]:.2},3:{[t.HP_P]:.24},4:{[t.HP_P]:.28},5:{[t.HP_P]:.32}},21029:{},21030:{1:{[t.DEF_P]:.16},2:{[t.DEF_P]:.2},3:{[t.DEF_P]:.24},4:{[t.DEF_P]:.28},5:{[t.DEF_P]:.32}},21031:{1:{[t.CR]:.12},2:{[t.CR]:.15},3:{[t.CR]:.18},4:{[t.CR]:.21},5:{[t.CR]:.24}},21032:{},21033:{1:{[t.ATK_P]:.24},2:{[t.ATK_P]:.3},3:{[t.ATK_P]:.36},4:{[t.ATK_P]:.42},5:{[t.ATK_P]:.48}},21034:{},21035:{1:{[t.BE]:.24},2:{[t.BE]:.3},3:{[t.BE]:.36},4:{[t.BE]:.42},5:{[t.BE]:.48}},21036:{},21037:{1:{[t.ATK_P]:.12},2:{[t.ATK_P]:.14},3:{[t.ATK_P]:.16},4:{[t.ATK_P]:.18},5:{[t.ATK_P]:.2}},21038:{},21039:{1:{[t.RES]:.12},2:{[t.RES]:.14},3:{[t.RES]:.16},4:{[t.RES]:.18},5:{[t.RES]:.2}},21040:{1:{[t.ATK_P]:.16},2:{[t.ATK_P]:.18},3:{[t.ATK_P]:.2},4:{[t.ATK_P]:.22},5:{[t.ATK_P]:.24}},21041:{},21042:{1:{[t.BE]:.28},2:{[t.BE]:.35},3:{[t.BE]:.42},4:{[t.BE]:.49},5:{[t.BE]:.56}},21043:{1:{[t.DEF_P]:.16},2:{[t.DEF_P]:.2},3:{[t.DEF_P]:.24},4:{[t.DEF_P]:.28},5:{[t.DEF_P]:.32}},21044:{1:{[t.CR]:.08},2:{[t.CR]:.1},3:{[t.CR]:.12},4:{[t.CR]:.14},5:{[t.CR]:.16}},21045:{1:{[Constants.Stats.BE]:.28},2:{[Constants.Stats.BE]:.35},3:{[Constants.Stats.BE]:.42},4:{[Constants.Stats.BE]:.49},5:{[Constants.Stats.BE]:.56}},21046:{1:{[Constants.Stats.ATK_P]:.16},2:{[Constants.Stats.ATK_P]:.2},3:{[Constants.Stats.ATK_P]:.24},4:{[Constants.Stats.ATK_P]:.28},5:{[Constants.Stats.ATK_P]:.32}},21047:{1:{[Constants.Stats.BE]:.28},2:{[Constants.Stats.BE]:.35},3:{[Constants.Stats.BE]:.42},4:{[Constants.Stats.BE]:.49},5:{[Constants.Stats.BE]:.56}},21048:{1:{[Constants.Stats.SPD_P]:.08},2:{[Constants.Stats.SPD_P]:.09},3:{[Constants.Stats.SPD_P]:.1},4:{[Constants.Stats.SPD_P]:.11},5:{[Constants.Stats.SPD_P]:.12}},22e3:{1:{[t.EHR]:.2},2:{[t.EHR]:.25},3:{[t.EHR]:.3},4:{[t.EHR]:.35},5:{[t.EHR]:.4}},22001:{1:{[t.HP_P]:.08},2:{[t.HP_P]:.09},3:{[t.HP_P]:.1},4:{[t.HP_P]:.11},5:{[t.HP_P]:.12}},22002:{1:{[t.ATK_P]:.16},2:{[t.ATK_P]:.2},3:{[t.ATK_P]:.24},4:{[t.ATK_P]:.28},5:{[t.ATK_P]:.32}},22003:{1:{[t.HP_P]:.12},2:{[t.HP_P]:.15},3:{[t.HP_P]:.18},4:{[t.HP_P]:.21},5:{[t.HP_P]:.24}},23e3:{},23001:{1:{[t.CR]:.18},2:{[t.CR]:.21},3:{[t.CR]:.24},4:{[t.CR]:.27},5:{[t.CR]:.3}},23002:{1:{[t.ATK_P]:.24},2:{[t.ATK_P]:.28},3:{[t.ATK_P]:.32},4:{[t.ATK_P]:.36},5:{[t.ATK_P]:.4}},23003:{1:{[t.ERR]:.1},2:{[t.ERR]:.12},3:{[t.ERR]:.14},4:{[t.ERR]:.16},5:{[t.ERR]:.18}},23004:{},23005:{1:{[t.DEF_P]:.24,[t.EHR]:.24},2:{[t.DEF_P]:.28,[t.EHR]:.28},3:{[t.DEF_P]:.32,[t.EHR]:.32},4:{[t.DEF_P]:.36,[t.EHR]:.36},5:{[t.DEF_P]:.4,[t.EHR]:.4}},23006:{},23007:{1:{[t.EHR]:.24},2:{[t.EHR]:.28},3:{[t.EHR]:.32},4:{[t.EHR]:.36},5:{[t.EHR]:.4}},23008:{1:{[t.ATK_P]:.24},2:{[t.ATK_P]:.28},3:{[t.ATK_P]:.32},4:{[t.ATK_P]:.36},5:{[t.ATK_P]:.4}},23009:{1:{[t.CR]:.18,[t.HP_P]:.18},2:{[t.CR]:.21,[t.HP_P]:.21},3:{[t.CR]:.24,[t.HP_P]:.24},4:{[t.CR]:.27,[t.HP_P]:.27},5:{[t.CR]:.3,[t.HP_P]:.3}},23010:{1:{[t.CD]:.36},2:{[t.CD]:.42},3:{[t.CD]:.48},4:{[t.CD]:.54},5:{[t.CD]:.6}},23011:{1:{[t.HP_P]:.24,[t.ERR]:.12},2:{[t.HP_P]:.28,[t.ERR]:.14},3:{[t.HP_P]:.32,[t.ERR]:.16},4:{[t.HP_P]:.36,[t.ERR]:.18},5:{[t.HP_P]:.4,[t.ERR]:.2}},23012:{1:{[t.CD]:.3},2:{[t.CD]:.35},3:{[t.CD]:.4},4:{[t.CD]:.45},5:{[t.CD]:.5}},23013:{1:{[t.HP_P]:.18,[t.OHB]:.12},2:{[t.HP_P]:.21,[t.OHB]:.14},3:{[t.HP_P]:.24,[t.OHB]:.16},4:{[t.HP_P]:.27,[t.OHB]:.18},5:{[t.HP_P]:.3,[t.OHB]:.2}},23014:{1:{[t.CD]:.2},2:{[t.CD]:.23},3:{[t.CD]:.26},4:{[t.CD]:.29},5:{[t.CD]:.32}},23015:{1:{[t.CR]:.18},2:{[t.CR]:.21},3:{[t.CR]:.24},4:{[t.CR]:.27},5:{[t.CR]:.3}},23016:{1:{[t.CR]:.18},2:{[t.CR]:.21},3:{[t.CR]:.24},4:{[t.CR]:.27},5:{[t.CR]:.3}},23017:{1:{[t.ERR]:.12},2:{[t.ERR]:.14},3:{[t.ERR]:.16},4:{[t.ERR]:.18},5:{[t.ERR]:.2}},23018:{1:{[t.CD]:.36},2:{[t.CD]:.42},3:{[t.CD]:.48},4:{[t.CD]:.54},5:{[t.CD]:.6}},23019:{1:{[t.BE]:.6},2:{[t.BE]:.7},3:{[t.BE]:.8},4:{[t.BE]:.9},5:{[t.BE]:1}},23020:{1:{[t.CD]:.2},2:{[t.CD]:.23},3:{[t.CD]:.26},4:{[t.CD]:.29},5:{[t.CD]:.32}},23021:{1:{[t.CD]:.32},2:{[t.CD]:.39},3:{[t.CD]:.46},4:{[t.CD]:.53},5:{[t.CD]:.6}},23022:{1:{[t.EHR]:.4},2:{[t.EHR]:.45},3:{[t.EHR]:.5},4:{[t.EHR]:.55},5:{[t.EHR]:.6}},23023:{1:{[t.DEF_P]:.4},2:{[t.DEF_P]:.46},3:{[t.DEF_P]:.52},4:{[t.DEF_P]:.58},5:{[t.DEF_P]:.64}},23024:{1:{[t.CD]:.36},2:{[t.CD]:.42},3:{[t.CD]:.48},4:{[t.CD]:.54},5:{[t.CD]:.6}},23025:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},23026:{},23027:{1:{[t.BE]:.6},2:{[t.BE]:.7},3:{[t.BE]:.8},4:{[t.BE]:.9},5:{[t.BE]:1}},23028:{1:{[Constants.Stats.CR]:.16},2:{[Constants.Stats.CR]:.19},3:{[Constants.Stats.CR]:.22},4:{[Constants.Stats.CR]:.25},5:{[Constants.Stats.CR]:.28}},23029:{1:{[Constants.Stats.EHR]:.6},2:{[Constants.Stats.EHR]:.7},3:{[Constants.Stats.EHR]:.8},4:{[Constants.Stats.EHR]:.9},5:{[Constants.Stats.EHR]:1}},23030:{1:{[Constants.Stats.CD]:.36},2:{[Constants.Stats.CD]:.42},3:{[Constants.Stats.CD]:.48},4:{[Constants.Stats.CD]:.54},5:{[Constants.Stats.CD]:.6}},23031:{1:{[Constants.Stats.CR]:.15},2:{[Constants.Stats.CR]:.175},3:{[Constants.Stats.CR]:.2},4:{[Constants.Stats.CR]:.225},5:{[Constants.Stats.CR]:.25}},23032:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},23033:{1:{[Constants.Stats.BE]:.6},2:{[Constants.Stats.BE]:.7},3:{[Constants.Stats.BE]:.8},4:{[Constants.Stats.BE]:.9},5:{[Constants.Stats.BE]:1}},24e3:{},24001:{1:{[t.CR]:.08},2:{[t.CR]:.1},3:{[t.CR]:.12},4:{[t.CR]:.14},5:{[t.CR]:.16}},24002:{1:{[t.RES]:.08},2:{[t.RES]:.1},3:{[t.RES]:.12},4:{[t.RES]:.14},5:{[t.RES]:.16}},24003:{1:{[t.BE]:.2},2:{[t.BE]:.25},3:{[t.BE]:.3},4:{[t.BE]:.35},5:{[t.BE]:.4}},24004:{1:{[Constants.Stats.ATK_P]:.08},2:{[Constants.Stats.ATK_P]:.09},3:{[Constants.Stats.ATK_P]:.1},4:{[Constants.Stats.ATK_P]:.11},5:{[Constants.Stats.ATK_P]:.12}}}}function P1(){return{2e4:270,20001:220,20002:160,20003:310,20004:180,20005:210,20006:390,20007:180,20008:220,20009:230,20010:250,20011:390,20012:300,20013:220,20014:210,20015:270,20016:270,20017:410,20018:190,20019:230,20020:250,21e3:150,21001:290,21002:160,21003:195,21004:150,21005:250,21006:170,21007:240,21008:140,21009:140,21010:160,21011:115,21012:160,21013:200,21014:140,21015:125,21016:180,21017:140,21018:210,21019:180,21020:230,21021:180,21022:300,21023:240,21024:140,21025:125,21026:160,21027:200,21028:250,21029:160,21030:305,21031:190,21032:245,21033:140,21034:220,21035:300,21036:220,21037:210,21038:130,21039:220,21040:150,21041:160,21042:200,21043:220,21044:150,21045:160,21046:145,21047:145,21048:250,22e3:275,22001:220,22002:160,22003:185,23e3:140,23001:150,23002:160,23003:250,23004:140,23005:150,23006:200,23007:210,23008:160,23009:130,23010:180,23011:180,23012:300,23013:180,23014:120,23015:190,23016:130,23017:190,23018:170,23019:270,23020:220,23021:150,23022:190,23023:140,23024:80,23025:125,23026:180,23027:140,23028:150,23029:140,23031:145,23032:180,23033:175,24e3:170,24001:270,24002:170,24003:250,24004:270}}function N1(){return{1001:{[t.Ice_DMG]:.224,[t.DEF_P]:.225,[t.RES]:.1},1002:{[t.Wind_DMG]:.224,[t.ATK_P]:.18,[t.DEF_P]:.125},1003:{[t.Fire_DMG]:.224,[t.ATK_P]:.18,[t.RES]:.1},1004:{[t.ATK_P]:.28,[t.Imaginary_DMG]:.144,[t.RES]:.1},1005:{[t.ATK_P]:.28,[t.EHR]:.18,[t.HP_P]:.1},1006:{[t.ATK_P]:.28,[t.EHR]:.18,[t.Quantum_DMG]:.08},1008:{[t.ATK_P]:.28,[t.RES]:.12,[t.HP_P]:.1},1009:{[t.Fire_DMG]:.224,[t.DEF_P]:.225,[t.CR]:.067},1013:{[t.Ice_DMG]:.224,[t.DEF_P]:.225,[t.CR]:.067},1101:{[t.Wind_DMG]:.224,[t.CD]:.24,[t.RES]:.1},1102:{[t.ATK_P]:.28,[t.CD]:.24,[t.DEF_P]:.125},1103:{[t.CR]:.187,[t.EHR]:.18,[t.RES]:.1},1104:{[t.Ice_DMG]:.224,[t.RES]:.18,[t.DEF_P]:.125},1105:{[t.HP_P]:.28,[t.DEF_P]:.125,[t.RES]:.18},1106:{[t.Ice_DMG]:.224,[t.ATK_P]:.18,[t.EHR]:.1},1107:{[t.ATK_P]:.28,[t.Physical_DMG]:.144,[t.HP_P]:.1},1108:{[t.ATK_P]:.28,[t.EHR]:.18,[t.RES]:.1},1109:{[t.ATK_P]:.28,[t.HP_P]:.18,[t.CD]:.133},1110:{[t.HP_P]:.28,[t.DEF_P]:.225,[t.RES]:.1},1111:{[t.ATK_P]:.28,[t.EHR]:.18,[t.DEF_P]:.125},1112:{[t.Fire_DMG]:.224,[t.CR]:.12,[t.HP_P]:.1},1201:{[t.ATK_P]:.28,[t.Quantum_DMG]:.144,[t.DEF_P]:.125},1202:{[t.ATK_P]:.28,[t.DEF_P]:.225,[t.Lightning_DMG]:.08},1203:{[t.ATK_P]:.28,[t.HP_P]:.18,[t.DEF_P]:.125},1204:{[t.ATK_P]:.28,[t.DEF_P]:.125,[t.CR]:.12},1205:{[t.HP_P]:.28,[t.CR]:.12,[t.RES]:.1},1206:{[t.ATK_P]:.28,[t.HP_P]:.18,[t.DEF_P]:.125},1207:{[t.Imaginary_DMG]:.224,[t.HP_P]:.18,[t.ATK_P]:.1},1208:{[t.CR]:.187,[t.HP_P]:.18,[t.RES]:.1},1209:{[t.ATK_P]:.28,[t.Ice_DMG]:.144,[t.HP_P]:.1},1210:{[t.Fire_DMG]:.224,[t.EHR]:.1,[t.BE]:.24},1211:{[t.HP_P]:.28,[t.DEF_P]:.225,[t.RES]:.1},1212:{[t.HP_P]:.1,[t.SPD]:9,[t.CD]:.373},1213:{[t.Imaginary_DMG]:.224,[t.CR]:.12,[t.HP_P]:.1},1214:{[t.Quantum_DMG]:.08,[t.HP_P]:.18,[t.BE]:.373},1215:{[t.ATK_P]:.28,[t.HP_P]:.1,[t.SPD]:9},1217:{[t.HP_P]:.28,[t.RES]:.18,[t.SPD]:5},1218:{[t.EHR]:.28,[t.Fire_DMG]:.144,[t.SPD]:5},1220:{[t.ATK_P]:.28,[t.CR]:.12,[t.DEF_P]:.125},1221:{[t.ATK_P]:.28,[t.HP_P]:.18,[t.CR]:.067},1222:{[t.BE]:.373,[t.HP_P]:.18,[t.ATK_P]:.1},1223:{[t.CD]:.373,[t.ATK_P]:.18,[t.HP_P]:.1},1224:{[t.ATK_P]:.28,[t.CD]:.24,[t.DEF_P]:.125},1301:{[t.BE]:.133,[t.HP_P]:.18,[t.RES]:.28},1302:{[t.ATK_P]:.28,[t.Physical_DMG]:.144,[t.HP_P]:.1},1303:{[t.BE]:.373,[t.DEF_P]:.225,[t.SPD]:5},1304:{[t.DEF_P]:.35,[t.Imaginary_DMG]:.144,[t.RES]:.1},1305:{[t.ATK_P]:.28,[t.CR]:.12,[t.DEF_P]:.125},1306:{[t.HP_P]:.28,[t.CD]:.24,[t.RES]:.1},1307:{[t.ATK_P]:.28,[t.Wind_DMG]:.144,[t.EHR]:.1},1308:{[t.ATK_P]:.28,[t.Lightning_DMG]:.08,[t.CD]:.24},1309:{[t.ATK_P]:.28,[t.HP_P]:.18,[t.SPD]:5},1310:{[Constants.Stats.BE]:.373,[Constants.Stats.RES]:.18,[Constants.Stats.SPD]:5},1312:{[t.Ice_DMG]:.224,[t.DEF_P]:.225,[t.CR]:.067},1314:{[Constants.Stats.Quantum_DMG]:.224,[Constants.Stats.ATK_P]:.18,[Constants.Stats.RES]:.1},1315:{[t.BE]:.373,[t.ATK_P]:.18,[t.HP_P]:.1},1317:{[t.ATK_P]:.28,[t.SPD]:9,[t.BE]:.133},8001:{[t.ATK_P]:.28,[t.HP_P]:.18,[t.DEF_P]:.125},8002:{[t.ATK_P]:.28,[t.HP_P]:.18,[t.DEF_P]:.125},8003:{[t.DEF_P]:.35,[t.ATK_P]:.18,[t.HP_P]:.1},8004:{[t.DEF_P]:.35,[t.ATK_P]:.18,[t.HP_P]:.1},8005:{[t.BE]:.373,[t.Imaginary_DMG]:.144,[t.RES]:.1},8006:{[t.BE]:.373,[t.Imaginary_DMG]:.144,[t.RES]:.1}}}function Y1(){return{1001:{x:985,y:1075,z:1.05},1002:{x:1024,y:1e3,z:1},1003:{x:1015,y:1215,z:1.05},1004:{x:885,y:950,z:1},1005:{x:1e3,y:950,z:1.1},1006:{x:1050,y:950,z:1},1008:{x:1240,y:1e3,z:1},1009:{x:1024,y:975,z:1},1013:{x:970,y:910,z:1.1},1101:{x:950,y:1200,z:1.1},1102:{x:820,y:1075,z:1.1},1103:{x:1060,y:1030,z:1.3},1104:{x:1150,y:1110,z:1},1105:{x:1040,y:1024,z:1},1106:{x:780,y:1100,z:1},1107:{x:880,y:900,z:1.15},1108:{x:1e3,y:950,z:1},1109:{x:975,y:1025,z:1.1},1110:{x:1180,y:1050,z:1.05},1111:{x:930,y:1e3,z:1},1112:{x:1120,y:875,z:1},1201:{x:1e3,y:1024,z:1},1202:{x:1024,y:950,z:1},1203:{x:1024,y:975,z:1.05},1204:{x:1024,y:1024,z:1.1},1205:{x:990,y:800,z:1},1206:{x:1075,y:1015,z:1.2},1207:{x:900,y:1055,z:1.1},1208:{x:920,y:950,z:1},1209:{x:1e3,y:1e3,z:1},1210:{x:1e3,y:1024,z:1},1211:{x:1e3,y:950,z:1},1212:{x:1024,y:930,z:1},1213:{x:1050,y:1e3,z:1.05},1214:{x:1e3,y:900,z:1},1215:{x:1e3,y:1024,z:1.1},1217:{x:950,y:975,z:1.075},1218:{x:950,y:900,z:1.1},1220:{x:1024,y:1050,z:1},1221:{x:1024,y:1075,z:1.1},1222:{x:1110,y:1e3,z:1.1},1223:{x:960,y:1024,z:1.05},1224:{x:825,y:950,z:1.1},1301:{x:1200,y:975,z:1},1302:{x:680,y:1e3,z:1.15},1303:{x:1060,y:1050,z:1},1304:{x:1150,y:1e3,z:1.05},1305:{x:965,y:840,z:1.15},1306:{x:1050,y:1050,z:1},1307:{x:950,y:925,z:1.25},1308:{x:1e3,y:900,z:1},1309:{x:1024,y:925,z:1},1310:{x:930,y:1075,z:1.25},1312:{x:1050,y:1075,z:1},1314:{x:1024,y:850,z:1.15},1315:{x:1e3,y:1100,z:1},1317:{x:1125,y:1175,z:1},8001:{x:1024,y:1100,z:1},8002:{x:1024,y:1024,z:1},8003:{x:980,y:1024,z:1.05},8004:{x:1050,y:1024,z:1.05},8005:{x:1040,y:1e3,z:1.1},8006:{x:1040,y:1e3,z:1.1}}}function A1(){return{1001:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:1,[t.DEF_P]:1,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:1,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.DEF_P,t.EHR],[G.Feet]:[t.DEF_P,t.SPD],[G.PlanarSphere]:[t.DEF_P],[G.LinkRope]:[t.DEF_P,t.ERR]},presets:[ee.VALOROUS_SET],sortOption:w.DEF},1002:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:1,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Wind_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnPioneerSet(4)],sortOption:w.ULT,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Wind_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1003:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:.5,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:1,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CD,t.CR],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Fire_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnAshblazingSet(8),ee.fnPioneerSet(4),ee.VALOROUS_SET],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Fire_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:0},relicSets:[[y.TheAshblazingGrandDuke,y.TheAshblazingGrandDuke],...xe],ornamentSets:[y.DuranDynastyOfRunningWolves,...Pt,...Ue],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1004:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:1,[t.RES]:0,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:1},parts:{[G.Body]:[t.CD,t.CR,t.EHR],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ATK_P,t.ERR]},presets:[ee.WASTELANDER_SET,ee.fnPioneerSet(4)],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1308",lightCone:"23024",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1005:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:.5,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:1,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.ATK_P],[G.Feet]:[t.SPD,t.ATK_P],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.PRISONER_SET,ee.fnAshblazingSet(6),ee.VALOROUS_SET],sortOption:w.DOT,simulation:{parts:{[G.Body]:[t.ATK_P],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.ATK_P,t.ATK,t.EHR,t.CR,t.CD],breakpoints:{[t.EHR]:.282},formula:{BASIC:0,SKILL:2,ULT:1,FUA:2,DOT:16,BREAK:0},relicSets:[[y.PrisonerInDeepConfinement,y.PrisonerInDeepConfinement]],ornamentSets:[y.FirmamentFrontlineGlamoth],teammates:[{characterId:"1307",lightCone:"23022",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1006:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:1,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:1,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CD,t.CR,t.EHR],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.Quantum_DMG,t.ATK_P,t.HP_P,t.DEF_P],[G.LinkRope]:[t.ERR,t.ATK_P,t.BE]},presets:[ee.fnPioneerSet(4)],sortOption:w.ULT},1008:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:1,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},presets:[],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.BandOfSizzlingThunder,y.BandOfSizzlingThunder],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1009:{stats:{[t.ATK]:.5,[t.ATK_P]:.5,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:1,[t.HP_P]:1,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:.5,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:1,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.ATK_P,t.ERR]},presets:[],sortOption:w.SPD},1013:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:1,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnAshblazingSet(8),ee.VALOROUS_SET],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:0},relicSets:[[y.TheAshblazingGrandDuke,y.TheAshblazingGrandDuke],[y.HunterOfGlacialForest,y.HunterOfGlacialForest],...xe],ornamentSets:[y.InertSalsotto,...Pt,...Ue],teammates:[{characterId:"1003",lightCone:"23000",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1101:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:1,[t.EHR]:0,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:1,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CD],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.ERR]},presets:[],sortOption:w.CD},1102:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:1,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Quantum_DMG],[G.LinkRope]:[t.ATK_P]},presets:[],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Quantum_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[ja.GeniusOfBrilliantStars,ja.GeniusOfBrilliantStars],...xe],ornamentSets:[y.FirmamentFrontlineGlamoth,y.RutilantArena,...Ue],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1103:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:1,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CD,t.CR],[G.Feet]:[t.SPD,t.ATK_P],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnPioneerSet(4)],sortOption:w.ULT,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.BandOfSizzlingThunder,y.BandOfSizzlingThunder],...xe],ornamentSets:[y.FirmamentFrontlineGlamoth,y.RutilantArena,...Ue],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1104:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:1,[t.DEF_P]:1,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:.75,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.DEF_P],[G.Feet]:[t.DEF_P,t.SPD],[G.PlanarSphere]:[t.DEF_P],[G.LinkRope]:[t.DEF_P,t.ERR]},presets:[],sortOption:w.DEF},1105:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:1,[t.HP_P]:1,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:1,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.HP_P,t.OHB],[G.Feet]:[t.HP_P,t.SPD],[G.PlanarSphere]:[t.HP_P],[G.LinkRope]:[t.HP_P,t.ERR]},presets:[],sortOption:w.EHP},1106:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:.75,[t.HP_P]:.75,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:1,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:1,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.EHR,t.HP_P,t.DEF_P],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.HP_P,t.DEF_P,t.Ice_DMG],[G.LinkRope]:[t.ERR]},presets:[ee.fnPioneerSet(4)],sortOption:w.SPD},1107:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnAshblazingSet(2)],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:3,DOT:0,BREAK:0},relicSets:[[y.ChampionOfStreetwiseBoxing,y.ChampionOfStreetwiseBoxing],...xe],ornamentSets:[y.InertSalsotto,...Pt,...Ue],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1108:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:1,[t.RES]:0,[t.BE]:1,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:1,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.ATK_P,t.EHR],[G.Feet]:[t.SPD,t.ATK_P],[G.PlanarSphere]:[t.ATK_P,t.Wind_DMG],[G.LinkRope]:[t.ERR,t.ATK_P,t.BE]},presets:[ee.PRISONER_SET],sortOption:w.DOT,simulation:{parts:{[G.Body]:[t.ATK_P],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Wind_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.ATK_P,t.EHR,t.ATK,t.CR,t.CD],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:60,BREAK:0},relicSets:[[y.PrisonerInDeepConfinement,y.PrisonerInDeepConfinement]],ornamentSets:[y.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1109:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:1,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Fire_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnPioneerSet(4)],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Fire_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1110:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:1,[t.HP_P]:1,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:1,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.HP_P,t.OHB],[G.Feet]:[t.HP_P,t.SPD],[G.PlanarSphere]:[t.HP_P],[G.LinkRope]:[t.HP_P,t.ERR]},presets:[],sortOption:w.EHP},1111:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:1,[t.RES]:0,[t.BE]:.75,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.ATK_P,t.EHR],[G.Feet]:[t.SPD,t.ATK_P],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},presets:[ee.PRISONER_SET],sortOption:w.DOT,simulation:{parts:{[G.Body]:[t.ATK_P],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},substats:[t.BE,t.ATK_P,t.ATK,t.EHR,t.CR],breakpoints:{},formula:{BASIC:2,SKILL:1,ULT:1,FUA:0,DOT:5,BREAK:1},relicSets:[[y.PrisonerInDeepConfinement,y.PrisonerInDeepConfinement],...xe,co],ornamentSets:[y.TaliaKingdomOfBanditry,y.FirmamentFrontlineGlamoth],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1112:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:1,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.Fire_DMG,t.ATK_P],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnAshblazingSet(0),ee.BANANA_SET,ee.fnPioneerSet(4)],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Fire_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:2,DOT:0,BREAK:0},relicSets:[[y.TheAshblazingGrandDuke,y.TheAshblazingGrandDuke],...xe],ornamentSets:[y.InertSalsotto,...Pt,...Ue],teammates:[{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1201:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:1,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Quantum_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.VALOROUS_SET],sortOption:w.BASIC,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Quantum_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[y.GeniusOfBrilliantStars,y.GeniusOfBrilliantStars],...xe],ornamentSets:[y.RutilantArena,...Pt,...Ue],teammates:[{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1202:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:.75,[t.HP_P]:.75,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.ATK_P,t.HP_P,t.DEF_P],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.HP_P,t.DEF_P,t.ATK_P],[G.LinkRope]:[t.ERR]},presets:[],sortOption:w.SPD},1203:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:.75,[t.HP_P]:.75,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:1,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.OHB,t.HP_P,t.DEF_P,t.ATK_P],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.ATK_P,t.HP_P,t.DEF_P],[G.LinkRope]:[t.ERR]},presets:[ee.WASTELANDER_SET],sortOption:w.SPD},1204:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:1,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnAshblazingSet(8),ee.VALOROUS_SET,ee.BANANA_SET],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[y.TheAshblazingGrandDuke,y.TheAshblazingGrandDuke],...xe],ornamentSets:[y.InertSalsotto,...Pt,...Ue,y.RutilantArena],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1205:{stats:{[t.ATK]:.25,[t.ATK_P]:.25,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:1,[t.HP_P]:1,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:1,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CD,t.CR],[G.Feet]:[t.SPD,t.HP_P],[G.PlanarSphere]:[t.Wind_DMG,t.HP_P],[G.LinkRope]:[t.HP_P]},presets:[ee.VALOROUS_SET],sortOption:w.BASIC,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.HP_P,t.SPD],[G.PlanarSphere]:[t.HP_P,t.Wind_DMG],[G.LinkRope]:[t.HP_P]},substats:[t.CD,t.CR,t.HP_P,t.HP,t.ATK_P],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[y.LongevousDisciple,y.LongevousDisciple]],ornamentSets:[y.RutilantArena,y.InertSalsotto,...Ue],teammates:[{characterId:"1212",lightCone:"23014",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1203",lightCone:"20015",characterEidolon:0,lightConeSuperimposition:5}]}},1206:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:.5,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},presets:[],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},substats:[t.CR,t.CD,t.ATK_P,t.BE],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[y.ChampionOfStreetwiseBoxing,y.ChampionOfStreetwiseBoxing],[y.IronCavalryAgainstTheScourge,y.IronCavalryAgainstTheScourge],...xe],ornamentSets:[y.FirmamentFrontlineGlamoth,...Ue,y.RutilantArena],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1207:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:1},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ERR,t.ATK_P]},presets:[ee.WASTELANDER_SET],sortOption:w.ULT},1208:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:1,[t.DEF_P]:1,[t.HP]:1,[t.HP_P]:1,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.HP_P,t.DEF_P],[G.Feet]:[t.HP_P,t.DEF_P,t.SPD],[G.PlanarSphere]:[t.HP_P,t.DEF_P],[G.LinkRope]:[t.HP_P,t.DEF_P,t.ERR]},presets:[],sortOption:w.EHP},1209:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:1,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.VALOROUS_SET,ee.fnAshblazingSet(2)],sortOption:w.ULT,simulation:{parts:{[G.Body]:[t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CR,t.CD,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],[y.HunterOfGlacialForest,y.HunterOfGlacialForest],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1210:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:1,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:1,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.ATK_P,t.EHR],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Fire_DMG],[G.LinkRope]:[t.ERR,t.ATK_P]},presets:[ee.PRISONER_SET],sortOption:w.DOT},1211:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:1,[t.HP_P]:1,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:1,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.OHB],[G.Feet]:[t.SPD,t.HP_P],[G.PlanarSphere]:[t.HP_P],[G.LinkRope]:[t.HP_P,t.ERR]},presets:[],sortOption:w.EHP},1212:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:1,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},presets:[],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.HunterOfGlacialForest,y.HunterOfGlacialForest],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1213:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:1},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.WASTELANDER_SET],sortOption:w.BASIC,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.MusketeerOfWildWheat,y.MusketeerOfWildWheat],[y.WastelanderOfBanditryDesert,y.WastelanderOfBanditryDesert],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1306",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1214:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:1,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:1,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.Quantum_DMG,t.ATK_P],[G.LinkRope]:[t.ATK_P,t.BE]},presets:[ee.fnAshblazingSet(3),ee.VALOROUS_SET],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Quantum_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},substats:[t.BE,t.ATK_P,t.CR,t.CD,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:3,DOT:0,BREAK:1},relicSets:[[y.GeniusOfBrilliantStars,y.GeniusOfBrilliantStars],...xe],ornamentSets:[y.TaliaKingdomOfBanditry,y.InertSalsotto,...Pt,...Ue],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1215:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:.75,[t.HP_P]:.75,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.ERR]},presets:[],sortOption:w.SPD},1217:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:1,[t.HP_P]:1,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:1,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.HP_P,t.OHB],[G.Feet]:[t.SPD,t.HP_P],[G.PlanarSphere]:[t.HP_P],[G.LinkRope]:[t.HP_P,t.ERR]},presets:[],sortOption:w.EHP},1218:{stats:{[Constants.Stats.ATK]:.5,[Constants.Stats.ATK_P]:.5,[Constants.Stats.DEF]:.5,[Constants.Stats.DEF_P]:.5,[Constants.Stats.HP]:.5,[Constants.Stats.HP_P]:.5,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:1,[Constants.Stats.RES]:.5,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:1,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.EHR],[Constants.Parts.Feet]:[Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[],[Constants.Parts.LinkRope]:[]},presets:[ee.PRISONER_SET],sortOption:w.EHR},1220:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:1,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Wind_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[ee.fnAshblazingSet(1),ee.VALOROUS_SET],sortOption:w.ULT,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Wind_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.ATK_P,t.CR,t.CD,t.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:2,ULT:2,FUA:4,DOT:0,BREAK:0},relicSets:[[y.TheWindSoaringValorous,y.TheWindSoaringValorous],...xe],ornamentSets:[y.DuranDynastyOfRunningWolves,...Pt,...Ue],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1221:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:1,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Physical_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[ee.VALOROUS_SET,ee.fnPioneerSet(4),ee.fnAshblazingSet(8)],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:1,ULT:0,FUA:1,DOT:0,BREAK:0},relicSets:[[y.TheWindSoaringValorous,y.TheWindSoaringValorous],[y.ChampionOfStreetwiseBoxing,y.ChampionOfStreetwiseBoxing],...xe],ornamentSets:[y.DuranDynastyOfRunningWolves,...Pt,...Ue],teammates:[{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1222:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:.5,[Constants.Stats.DEF_P]:.5,[Constants.Stats.HP]:.5,[Constants.Stats.HP_P]:.5,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:.75,[Constants.Stats.BE]:1,[Constants.Stats.ERR]:1,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:1,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.ATK_P,Constants.Stats.OHB,Constants.Stats.DEF_P,Constants.Stats.HP_P],[Constants.Parts.Feet]:[Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.DEF_P,Constants.Stats.HP_P],[Constants.Parts.LinkRope]:[Constants.Stats.BE,Constants.Stats.ERR,Constants.Stats.ATK_P]},presets:[ee.BANANA_SET,ee.fnAshblazingSet(6),ee.VALOROUS_SET],sortOption:w.BE},1223:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:1,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Lightning_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[ee.fnPioneerSet(4),ee.fnAshblazingSet(6),ee.VALOROUS_SET],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.ATK_P,t.CR,t.CD,t.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:1,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],[y.TheAshblazingGrandDuke,y.TheAshblazingGrandDuke],...xe],ornamentSets:[y.DuranDynastyOfRunningWolves,y.IzumoGenseiAndTakamaDivineRealm,...Pt,...Ue],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1224:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:1},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Imaginary_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[ee.fnAshblazingSet(2),ee.VALOROUS_SET],sortOption:w.BASIC,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.ATK_P,t.CR,t.CD,t.ATK],breakpoints:{},maxBonusRolls:{},formula:{BASIC:1,SKILL:0,ULT:1,FUA:1,DOT:0,BREAK:0},relicSets:[[y.MusketeerOfWildWheat,y.MusketeerOfWildWheat],[y.WastelanderOfBanditryDesert,y.WastelanderOfBanditryDesert],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1301:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.75,[t.DEF_P]:.75,[t.HP]:.75,[t.HP_P]:.75,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.75,[t.BE]:1,[t.ERR]:1,[t.OHB]:1,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.OHB],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.ERR,t.BE]},presets:[],sortOption:w.BE},1302:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.Physical_DMG,t.ATK_P],[G.LinkRope]:[t.ATK_P]},presets:[],sortOption:w.ULT,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.ChampionOfStreetwiseBoxing,y.ChampionOfStreetwiseBoxing],...xe],ornamentSets:[y.InertSalsotto,...Ue,y.RutilantArena],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1202",lightCone:"21018",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1303:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:1,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.ERR,t.BE]},presets:[],sortOption:w.BE},1304:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:1,[t.DEF_P]:1,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:1},parts:{[G.Body]:[t.DEF_P,t.CR,t.CD],[G.Feet]:[t.DEF_P,t.SPD],[G.PlanarSphere]:[t.Imaginary_DMG,t.DEF_P],[G.LinkRope]:[t.DEF_P,t.ERR]},presets:[ee.VALOROUS_SET,ee.fnPioneerSet(4)],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD,t.DEF_P],[G.Feet]:[t.DEF_P,t.SPD],[G.PlanarSphere]:[t.DEF_P,t.Imaginary_DMG],[G.LinkRope]:[t.DEF_P]},substats:[t.CD,t.CR,t.DEF_P,t.DEF],breakpoints:{[t.DEF]:4e3},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],[y.KnightOfPurityPalace,y.KnightOfPurityPalace],[y.TheAshblazingGrandDuke,y.KnightOfPurityPalace,y.PioneerDiverOfDeadWaters],...xe],ornamentSets:[y.InertSalsotto,...Pt,...Ue,y.BrokenKeel,y.PenaconyLandOfTheDreams,y.FleetOfTheAgeless],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1305",lightCone:"23020",characterEidolon:0,lightConeSuperimposition:1}]}},1305:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:1},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnAshblazingSet(1),ee.fnPioneerSet(4),ee.VALOROUS_SET,ee.WASTELANDER_SET],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Imaginary_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:4,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],...xe],ornamentSets:[y.DuranDynastyOfRunningWolves,...Pt,...Ue],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1306:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:1,[t.EHR]:0,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CD],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.ERR]},presets:[],sortOption:w.CD},1307:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:1,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:1,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.ATK_P,t.EHR],[G.Feet]:[t.SPD,t.ATK_P],[G.PlanarSphere]:[t.Wind_DMG,t.ATK_P],[G.LinkRope]:[t.ATK_P]},presets:[ee.PRISONER_SET],sortOption:w.DOT,simulation:{parts:{[G.Body]:[t.EHR,t.ATK_P],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Wind_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.ATK_P,t.EHR,t.ATK,t.CR,t.CD],breakpoints:{[t.EHR]:1.2},formula:{BASIC:2,SKILL:1,ULT:1,FUA:0,DOT:16,BREAK:0},relicSets:[[y.PrisonerInDeepConfinement,y.PrisonerInDeepConfinement]],ornamentSets:[y.FirmamentFrontlineGlamoth,y.PanCosmicCommercialEnterprise],teammates:[{characterId:"1005",lightCone:"23006",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1308:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:1,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.Lightning_DMG,t.ATK_P],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnPioneerSet(4)],sortOption:w.ULT,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Lightning_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:2,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],...xe],ornamentSets:[y.IzumoGenseiAndTakamaDivineRealm,...Ue],teammates:[{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1006",lightCone:"23007",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"21016",characterEidolon:0,lightConeSuperimposition:5}]}},1309:{stats:{[t.ATK]:1,[t.ATK_P]:1,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.ATK_P],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[Constants.Parts.LinkRope]:[t.ERR]},presets:[],sortOption:w.ATK},1310:{stats:{[Constants.Stats.ATK]:.5,[Constants.Stats.ATK_P]:.5,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:0,[Constants.Stats.CD]:0,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:1,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:0,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.ATK_P],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P],[Constants.Parts.LinkRope]:[Constants.Stats.BE]},presets:[],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.ATK_P],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P],[G.LinkRope]:[t.BE]},substats:[t.BE,t.ATK_P,t.ATK,t.CR,t.CD],breakpoints:{},maxBonusRolls:{},formula:{BASIC:0,SKILL:3,ULT:0,FUA:0,DOT:0,BREAK:1},relicSets:[[y.IronCavalryAgainstTheScourge,y.IronCavalryAgainstTheScourge]],ornamentSets:[y.ForgeOfTheKalpagniLantern],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1312:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:0,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:1,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},presets:[ee.fnPioneerSet(4)],sortOption:w.ULT,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Ice_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:0},relicSets:[[y.PioneerDiverOfDeadWaters,y.PioneerDiverOfDeadWaters],[y.HunterOfGlacialForest,y.HunterOfGlacialForest],...xe],ornamentSets:[y.InertSalsotto,y.RutilantArena,...Ue],teammates:[{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1106",lightCone:"21015",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},1314:{stats:{[Constants.Stats.ATK]:.75,[Constants.Stats.ATK_P]:.75,[Constants.Stats.DEF]:0,[Constants.Stats.DEF_P]:0,[Constants.Stats.HP]:0,[Constants.Stats.HP_P]:0,[Constants.Stats.SPD]:1,[Constants.Stats.CR]:1,[Constants.Stats.CD]:1,[Constants.Stats.EHR]:0,[Constants.Stats.RES]:0,[Constants.Stats.BE]:0,[Constants.Stats.ERR]:0,[Constants.Stats.OHB]:0,[Constants.Stats.Physical_DMG]:0,[Constants.Stats.Fire_DMG]:0,[Constants.Stats.Ice_DMG]:0,[Constants.Stats.Lightning_DMG]:0,[Constants.Stats.Wind_DMG]:0,[Constants.Stats.Quantum_DMG]:1,[Constants.Stats.Imaginary_DMG]:0},parts:{[Constants.Parts.Body]:[Constants.Stats.CR,Constants.Stats.CD],[Constants.Parts.Feet]:[Constants.Stats.ATK_P,Constants.Stats.SPD],[Constants.Parts.PlanarSphere]:[Constants.Stats.ATK_P,Constants.Stats.Quantum_DMG],[Constants.Parts.LinkRope]:[Constants.Stats.ATK_P]},presets:[ee.VALOROUS_SET,ee.fnAshblazingSet(8)],sortOption:w.FUA,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Quantum_DMG],[G.LinkRope]:[t.ATK_P]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:2,SKILL:0,ULT:1,FUA:2,DOT:0,BREAK:0},relicSets:[[y.GeniusOfBrilliantStars,y.GeniusOfBrilliantStars],...xe],ornamentSets:[y.InertSalsotto,...Pt,...Ue,y.RutilantArena],teammates:[{characterId:"1112",lightCone:"23016",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1309",lightCone:"23026",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1304",lightCone:"23023",characterEidolon:0,lightConeSuperimposition:1}]}},1315:{stats:{[t.ATK]:.25,[t.ATK_P]:.25,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:.25,[t.CD]:.25,[t.EHR]:0,[t.RES]:0,[t.BE]:1,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.BE]},presets:[],sortOption:w.BASIC,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.Physical_DMG,t.ATK_P],[G.LinkRope]:[t.BE]},substats:[t.BE,t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:3,SKILL:0,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[y.ThiefOfShootingMeteor,y.WatchmakerMasterOfDreamMachinations],co,[y.IronCavalryAgainstTheScourge,y.IronCavalryAgainstTheScourge],...xe],ornamentSets:[y.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1301",lightCone:"20015",characterEidolon:6,lightConeSuperimposition:5}]}},1317:{stats:{[t.ATK]:.5,[t.ATK_P]:.5,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:0,[t.BE]:1,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:1},parts:{[G.Body]:[],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.BE]},presets:[ee.WASTELANDER_SET],sortOption:w.BASIC,simulation:{parts:{[G.Body]:[t.ATK_P],[G.Feet]:[t.SPD],[G.PlanarSphere]:[t.Imaginary_DMG,t.ATK_P],[G.LinkRope]:[t.BE]},substats:[t.BE,t.ATK_P,t.ATK,t.CD,t.CR],breakpoints:{[t.ATK]:3200},formula:{BASIC:3,SKILL:1,ULT:0,FUA:0,DOT:0,BREAK:1},relicSets:[[y.IronCavalryAgainstTheScourge,y.IronCavalryAgainstTheScourge]],ornamentSets:[y.TaliaKingdomOfBanditry],teammates:[{characterId:"8006",lightCone:"21004",characterEidolon:6,lightConeSuperimposition:5},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1222",lightCone:"23032",characterEidolon:0,lightConeSuperimposition:1}]}},8001:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:.5,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},presets:[],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[y.ChampionOfStreetwiseBoxing,y.ChampionOfStreetwiseBoxing],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8002:{stats:{[t.ATK]:.75,[t.ATK_P]:.75,[t.DEF]:0,[t.DEF_P]:0,[t.HP]:0,[t.HP_P]:0,[t.SPD]:1,[t.CR]:1,[t.CD]:1,[t.EHR]:0,[t.RES]:0,[t.BE]:.5,[t.ERR]:0,[t.OHB]:0,[t.Physical_DMG]:1,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},presets:[],sortOption:w.SKILL,simulation:{parts:{[G.Body]:[t.CR,t.CD],[G.Feet]:[t.ATK_P,t.SPD],[G.PlanarSphere]:[t.ATK_P,t.Physical_DMG],[G.LinkRope]:[t.ATK_P,t.BE]},substats:[t.CD,t.CR,t.ATK_P,t.ATK],breakpoints:{},formula:{BASIC:0,SKILL:3,ULT:1,FUA:0,DOT:0,BREAK:1},relicSets:[[y.ChampionOfStreetwiseBoxing,y.ChampionOfStreetwiseBoxing],...xe],ornamentSets:[y.RutilantArena,...Ue],teammates:[{characterId:"1101",lightCone:"23003",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1303",lightCone:"23019",characterEidolon:0,lightConeSuperimposition:1},{characterId:"1217",lightCone:"23017",characterEidolon:0,lightConeSuperimposition:1}]}},8003:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:1,[t.DEF_P]:1,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:.75,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.DEF_P],[G.Feet]:[t.DEF_P,t.SPD],[G.PlanarSphere]:[t.DEF_P],[G.LinkRope]:[t.DEF_P,t.ERR]},presets:[],sortOption:w.DEF},8004:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:1,[t.DEF_P]:1,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:.75,[t.RES]:.75,[t.BE]:0,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[t.DEF_P],[G.Feet]:[t.DEF_P,t.SPD],[G.PlanarSphere]:[t.DEF_P],[G.LinkRope]:[t.DEF_P,t.ERR]},presets:[],sortOption:w.DEF},8005:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:1,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.BE,t.ERR]},presets:[],sortOption:w.BE},8006:{stats:{[t.ATK]:0,[t.ATK_P]:0,[t.DEF]:.5,[t.DEF_P]:.5,[t.HP]:.5,[t.HP_P]:.5,[t.SPD]:1,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:.5,[t.BE]:1,[t.ERR]:1,[t.OHB]:0,[t.Physical_DMG]:0,[t.Fire_DMG]:0,[t.Ice_DMG]:0,[t.Lightning_DMG]:0,[t.Wind_DMG]:0,[t.Quantum_DMG]:0,[t.Imaginary_DMG]:0},parts:{[G.Body]:[],[G.Feet]:[t.SPD],[G.PlanarSphere]:[],[G.LinkRope]:[t.BE,t.ERR]},presets:[],sortOption:w.BE}}}const s0=()=>Object.values(d.SetsOrnaments).filter(e=>!Ra[e]).map(e=>({value:e,label:s.jsxs(g,{gap:5,align:"center",children:[s.jsx("img",{src:U.getSetImage(e,d.Parts.PlanarSphere),style:{width:21,height:21}}),s.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:e})]})})),w1=()=>{const e=[{value:Ct.relic4Piece,label:Ct.relic4Piece,children:[]},{value:Ct.relic2Plus2Piece,label:Ct.relic2Plus2Piece,children:[]},{value:Ct.relic2PlusAny,label:Ct.relic2PlusAny,children:[]}],a=Object.entries(d.SetsRelics).filter(n=>!Ra[n[1]]).map(n=>({value:n[1],label:n[1]})),i=(n,l,o)=>{const r=n=="Any"?U.getBlank():U.getSetImage(n,d.Parts.Head);return s.jsxs(g,{gap:5,align:"center",children:[s.jsx("img",{src:r,style:{width:26,height:26}}),s.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:l+o})]})};for(const n of Object.entries(d.SetsRelics).filter(l=>!Ra[l[1]]))e[0].children.push({value:n[1],label:i(n[1],"(4) ",n[1])}),e[1].children.push({value:n[1],label:i(n[1],"(2) ",n[1]),children:a.map(l=>{const o=l.value=="Any"?"(0) ":"(2) ";return{value:l.value,label:i(l.value,o,l.label)}})}),e[2].children.push({value:n[1],label:i(n[1],"(2) ",n[1])});return e},mo=()=>Object.values(d.SetsRelics).filter(e=>!Ra[e]).map(e=>({value:e,label:s.jsxs(g,{gap:5,align:"center",children:[s.jsx("img",{src:U.getSetImage(e,d.Parts.Head),style:{width:21,height:21}}),s.jsx("div",{style:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",width:250,whiteSpace:"nowrap"},children:e})]})}));function si(e){const{value:a,closable:i,onClose:n}=e;return a?s.jsx(li,{closable:i,onClose:n,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:21,alignItems:"center",overflow:"hidden"},children:s.jsx(g,{children:s.jsx("img",{title:a,src:U.getSetImage(a,d.Parts.PlanarSphere),style:{width:24,height:24}})})}):s.jsx(li,{closable:i,onClose:n,children:s.jsx(g,{children:(e.label||"").replace(/[^0-9+]/g,"")})})}si.propTypes={value:z.string,closable:z.bool,onClose:z.func};const{Text:i0}=be;var Va=(e=>(e.Disabled="disabled",e.CharacterStats="characterStats",e.SubstatTotals="substatTotals",e.SubstatRolls="substatRolls",e))(Va||{});const X1=425,n0=680,ii=215,l0=190;function j1(){const e=window.store(l=>l.statSimulationDisplay),a=window.store(l=>l.setStatSimulationDisplay),i=window.store(l=>l.setConditionalSetEffectsDrawerOpen);function n(){return e=="disabled"||!e}return s.jsx(Nt,{style:{overflow:"hidden"},size:"large",height:X1,children:s.jsxs(g,{gap:15,style:{height:"100%"},children:[s.jsxs(g,{vertical:!0,gap:15,align:"center",children:[s.jsxs(gt.Group,{onChange:l=>{const{target:{value:o}}=l;a(o)},optionType:"button",buttonStyle:"solid",value:e,style:{width:`${n0}px`,display:"flex"},children:[s.jsx(gt,{style:{display:"flex",flex:.3,justifyContent:"center",paddingInline:0},value:"disabled",children:"Off"}),s.jsx(gt,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatRolls",children:"Simulate custom substat rolls"}),s.jsx(gt,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"substatTotals",children:"Simulate custom substat totals"})]}),s.jsx(g,{style:{minHeight:302},children:s.jsx(W1,{})}),s.jsxs(g,{gap:10,children:[s.jsx(j,{style:{width:200},disabled:n(),onClick:$r,icon:s.jsx(en,{}),children:"Simulate builds"}),s.jsx(j,{style:{width:200},disabled:n(),onClick:C1,icon:s.jsx(Gc,{}),children:"Import optimizer build"}),s.jsx(j,{style:{width:200},disabled:n(),onClick:()=>i(!0),icon:s.jsx(Xa,{}),children:"Conditional set effects"})]})]}),s.jsx(g,{vertical:!0,justify:"space-around",children:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(j,{type:"primary",style:{width:35,height:100,padding:0},onClick:g1,disabled:n(),children:s.jsx(Ic,{})}),s.jsx(Oa,{title:"Erase stat simulations",description:"Are you sure you want to clear all of this character's saved simulations?",onConfirm:Z1,placement:"bottom",okText:"Yes",cancelText:"Cancel",children:s.jsx(j,{type:"dashed",style:{width:35,height:35,padding:0},disabled:n(),children:s.jsx(cl,{})})})]})}),s.jsx(v1,{})]})})}function v1(){const e=window.store(l=>l.statSimulationDisplay),a=P.useWatch(l=>l.statSim,window.optimizerForm),i=V.useMemo(()=>{if(!a)return 0;let l=0;for(const o of wt){const r=a.substatRolls;r!=null&&r.stats[o]&&(l+=r.stats[o])}return l},[a]),n=V.useMemo(()=>s.jsxs(s.Fragment,{children:[s.jsx(P.Item,{name:wa("simulations"),children:s.jsx(qt,{placeholder:"This is a fake hidden input to save simulations into the form",style:{display:"none"}})}),s.jsxs(g,{gap:5,style:{display:e=="substatTotals"?"flex":"none"},children:[s.jsxs(g,{vertical:!0,gap:5,style:{width:ii},children:[s.jsx(ho,{simType:"substatTotals"}),s.jsx(bo,{simType:"substatTotals"}),s.jsx(q,{children:"Options"}),s.jsx(P.Item,{name:wa("substatTotals","name"),children:s.jsx(qt,{placeholder:"Simulation name (Optional)",autoComplete:"off"})})]}),s.jsx(os,{}),s.jsx(So,{simType:"substatTotals",title:"Substat value totals"})]}),s.jsxs(g,{gap:5,style:{display:e=="substatRolls"?"flex":"none"},children:[s.jsxs(g,{vertical:!0,gap:5,style:{width:ii},children:[s.jsx(ho,{simType:"substatRolls"}),s.jsx(bo,{simType:"substatRolls"}),s.jsx(q,{children:"Options"}),s.jsx(P.Item,{name:wa("substatRolls","name"),children:s.jsx(qt,{placeholder:"Simulation name (Optional)",autoComplete:"off"})})]}),s.jsx(os,{}),s.jsx(So,{simType:"substatRolls",title:"Substat max rolls",total:i})]}),s.jsxs(g,{gap:5,style:{display:e=="disabled"?"flex":"none"},children:[s.jsx("div",{style:{width:ii}}),s.jsx(os,{})]})]}),[e,i]);return s.jsx(g,{style:{minHeight:300},children:n})}function ho(e){return s.jsxs(s.Fragment,{children:[s.jsx(q,{children:"Sets"}),s.jsx(P.Item,{name:wa(e.simType,"simRelicSet1"),style:{maxHeight:32},children:s.jsx(N,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:mo(),tagRender:si,placeholder:"Relic set",maxTagCount:"responsive",showSearch:!0})}),s.jsx(P.Item,{name:wa(e.simType,"simRelicSet2"),style:{maxHeight:32},children:s.jsx(N,{dropdownStyle:{width:250},listHeight:700,allowClear:!0,options:mo(),tagRender:si,placeholder:"Relic set",maxTagCount:"responsive",showSearch:!0})}),s.jsx(P.Item,{name:wa(e.simType,"simOrnamentSet"),style:{maxHeight:32},children:s.jsx(N,{dropdownStyle:{width:250},listHeight:600,allowClear:!0,options:s0(),tagRender:si,placeholder:"Ornament set",maxTagCount:"responsive",showSearch:!0})})]})}function bo(e){return s.jsxs(s.Fragment,{children:[s.jsx(q,{children:"Main stats"}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{gap:5,style:{width:ii},children:[s.jsx(Ii,{placeholder:"Body",part:G.Body,options:od,simType:e.simType}),s.jsx(Ii,{placeholder:"Feet",part:G.Feet,options:rd,simType:e.simType})]}),s.jsxs(g,{gap:5,style:{width:ii},children:[s.jsx(Ii,{placeholder:"Sphere",part:G.PlanarSphere,options:dd,simType:e.simType}),s.jsx(Ii,{placeholder:"Rope",part:G.LinkRope,options:cd,simType:e.simType})]})]})]})}function Ii(e){return s.jsx(P.Item,{name:wa(e.simType,"sim"+e.part),style:{flex:1},children:s.jsx(N,{placeholder:e.placeholder,style:{flex:1},allowClear:!0,optionLabelProp:"short",maxTagCount:"responsive",suffixIcon:s.jsx("img",{style:{width:16},src:U.getPart(e.part)}),options:e.options,listHeight:750,popupMatchSelectWidth:200,showSearch:!0})})}function So(e){return s.jsx(s.Fragment,{children:s.jsxs(g,{vertical:!0,children:[s.jsx(q,{children:e.title}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(_t,{simType:e.simType,name:t.ATK_P,label:"ATK %"}),s.jsx(_t,{simType:e.simType,name:t.ATK,label:"ATK"}),s.jsx(_t,{simType:e.simType,name:t.CR,label:"Crit Rate %"}),s.jsx(_t,{simType:e.simType,name:t.CD,label:"Crit DMG %"}),s.jsx(_t,{simType:e.simType,name:t.SPD,label:"SPD"}),s.jsx(_t,{simType:e.simType,name:t.BE,label:"Break Effect"}),s.jsx(_t,{simType:e.simType,name:t.HP_P,label:"HP %"}),s.jsx(_t,{simType:e.simType,name:t.HP,label:"HP"}),s.jsx(_t,{simType:e.simType,name:t.DEF_P,label:"DEF %"}),s.jsx(_t,{simType:e.simType,name:t.DEF,label:"DEF"}),s.jsx(_t,{simType:e.simType,name:t.EHR,label:"Effect Hit Rate"}),s.jsx(_t,{simType:e.simType,name:t.RES,label:"Effect RES"}),e.simType=="substatRolls"&&s.jsxs(g,{justify:"space-between",style:{width:l0},children:[s.jsx(i0,{children:"Total rolls"}),s.jsx(ba,{size:"small",controls:!1,disabled:!0,value:C.truncate10ths(e.total),variant:"borderless",formatter:a=>`${a} / 54`,max:54,status:e.total>54?"error":void 0,style:{width:70}})]})]})]})})}function _t(e){return s.jsxs(g,{justify:"space-between",style:{width:l0},children:[s.jsx(i0,{children:e.label}),s.jsx(P.Item,{name:wa(e.simType,"stats",e.name),children:s.jsx(ba,{size:"small",controls:!1,disabled:e.disabled,value:e.value,style:{width:70}})})]})}function wa(e,a,i){return["statSim",e,a,i].filter(n=>n)}function o0(e){if(e){const a=C.clone(Z.getScoringMetadata(e));return a.stats.headHands=0,a.stats.bodyFeet=0,a.stats.sphereRope=0,a.stats}return{[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD_P]:1,[d.Stats.HP]:1,[d.Stats.ATK]:1,[d.Stats.DEF]:1,[d.Stats.SPD]:1,[d.Stats.CD]:1,[d.Stats.CR]:1,[d.Stats.EHR]:1,[d.Stats.RES]:1,[d.Stats.BE]:1,headHands:0,bodyFeet:0,sphereRope:0}}function ms(e){var c,h;const a=(c=Z.getMetadata().characters[e==null?void 0:e.id])==null?void 0:c.scoringMetadata,i=(a==null?void 0:a.parts)||{},n=(a==null?void 0:a.stats)||o0(),l={};Object.values(Ji).map(b=>l[b.key]=0);const o=C.clone({characterId:e==null?void 0:e.id,mainBody:i[d.Parts.Body]||[],mainFeet:i[d.Parts.Feet]||[],mainPlanarSphere:i[d.Parts.PlanarSphere]||[],mainLinkRope:i[d.Parts.LinkRope]||[],relicSets:[],ornamentSets:[],characterLevel:80,characterEidolon:0,lightConeLevel:80,lightConeSuperimposition:1,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[],statDisplay:ai,statSim:O1,weights:n,setConditionals:xs,teammate0:Hi(),teammate1:Hi(),teammate2:Hi(),resultSort:a==null?void 0:a.sortOption.key,resultsLimit:1024,combatBuffs:l,combo:{BASIC:0,SKILL:0,ULT:0,FUA:0,DOT:0,BREAK:0},...r0()}),r=(h=Z.getMetadata().characters[e==null?void 0:e.id])==null?void 0:h.element;if(r&&(o.setConditionals[y.GeniusOfBrilliantStars][1]=r=="Quantum",o.setConditionals[y.ForgeOfTheKalpagniLantern][1]=r=="Fire"),a!=null&&a.presets){const b=a.presets||[];for(const R of b)R(o)}return o}function Hi(){return{characterId:null,characterEidolon:0,lightConeSuperimposition:1}}const O1={simType:Va.Disabled,simulations:[]};function r0(){return{enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyEffectResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1}}const xs={[d.Sets.PasserbyOfWanderingCloud]:[void 0,!0],[d.Sets.MusketeerOfWildWheat]:[void 0,!0],[d.Sets.KnightOfPurityPalace]:[void 0,!0],[d.Sets.HunterOfGlacialForest]:[void 0,!0],[d.Sets.ChampionOfStreetwiseBoxing]:[void 0,5],[d.Sets.GuardOfWutheringSnow]:[void 0,!0],[d.Sets.FiresmithOfLavaForging]:[void 0,!0],[d.Sets.GeniusOfBrilliantStars]:[void 0,!0],[d.Sets.BandOfSizzlingThunder]:[void 0,!0],[d.Sets.EagleOfTwilightLine]:[void 0,!0],[d.Sets.ThiefOfShootingMeteor]:[void 0,!0],[d.Sets.WastelanderOfBanditryDesert]:[void 0,1],[d.Sets.LongevousDisciple]:[void 0,2],[d.Sets.MessengerTraversingHackerspace]:[void 0,!1],[d.Sets.TheAshblazingGrandDuke]:[void 0,0],[d.Sets.PrisonerInDeepConfinement]:[void 0,0],[d.Sets.PioneerDiverOfDeadWaters]:[void 0,2],[d.Sets.WatchmakerMasterOfDreamMachinations]:[void 0,!1],[d.Sets.IronCavalryAgainstTheScourge]:[void 0,!0],[d.Sets.TheWindSoaringValorous]:[void 0,!1],[d.Sets.SacerdosRelivedOrdeal]:[void 0,!0],[d.Sets.ScholarLostInErudition]:[void 0,!0],[d.Sets.SpaceSealingStation]:[void 0,!0],[d.Sets.FleetOfTheAgeless]:[void 0,!0],[d.Sets.PanCosmicCommercialEnterprise]:[void 0,!0],[d.Sets.BelobogOfTheArchitects]:[void 0,!0],[d.Sets.CelestialDifferentiator]:[void 0,!1],[d.Sets.InertSalsotto]:[void 0,!0],[d.Sets.TaliaKingdomOfBanditry]:[void 0,!0],[d.Sets.SprightlyVonwacq]:[void 0,!0],[d.Sets.RutilantArena]:[void 0,!0],[d.Sets.BrokenKeel]:[void 0,!0],[d.Sets.FirmamentFrontlineGlamoth]:[void 0,!0],[d.Sets.PenaconyLandOfTheDreams]:[void 0,!0],[d.Sets.SigoniaTheUnclaimedDesolation]:[void 0,4],[d.Sets.IzumoGenseiAndTakamaDivineRealm]:[void 0,!0],[d.Sets.DuranDynastyOfRunningWolves]:[void 0,5],[d.Sets.ForgeOfTheKalpagniLantern]:[void 0,!1],[d.Sets.LushakaTheSunkenSeas]:[void 0,!1],[d.Sets.TheWondrousBananAmusementPark]:[void 0,!1]},Ca={characterOptions:"Character options",relicAndStatFilters:"Relic & stat filters",teammates:"Teammates",characterStatsSimulation:"Character custom stats simulation"};function Pi(e){const a=window.store(o=>o.optimizerMenuState),i=window.store(o=>o.setOptimizerMenuState);function n(o){a[e.id]=o.length>0,i(a)}const l=[{key:e.id,label:s.jsx(g,{style:{paddingTop:8},children:e.label||e.id}),forceRender:!0,children:s.jsx(g,{style:{paddingLeft:10,marginTop:5,paddingRight:10},gap:10,children:e.children})}];return s.jsx(g,{gap:0,vertical:!0,className:"form-row",style:{minWidth:"100%"},children:s.jsx(Oi,{defaultActiveKey:a[e.id]?e.id:void 0,items:l,onChange:n,expandIconPosition:"end",ghost:!0})})}function K1(e){const a=window.store(n=>n.teammateCount),i=V.useMemo(()=>`Teammates${a?` (${a})`:""}`,[a]);return s.jsx(Pi,{id:e.id,label:i,children:e.children})}const c0={BLUE:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"},ALT:{colorTextBase:"#ffffff",colorBgBase:"#182239",colorPrimary:"#1677FF"}};function Il(e){return{"--ag-background-color":e.colorBgContainer,"--ag-odd-row-background-color":e.colorBgElevated,"--ag-header-background-color":e.colorBgLayout,"--ag-border-color":e.colorBorderSecondary,"--ag-row-hover-color":e.colorPrimary}}const{Text:Cn}=be,_1=5,Ro=yt.span`
    white-space: wrap !important;
    word-break: break-word !important;`,we={RelicEquippingBehavior:{name:"RelicEquippingBehavior",Swap:"Swap",Replace:"Replace"},PermutationsSidebarBehavior:{name:"PermutationsSidebarBehavior",NoShow:"Do Not Show",ShowXL:"Show XL",ShowXXL:"Show XXL"},RelicPotentialLoadBehavior:{name:"RelicPotentialLoadBehavior",ScoreAtStartup:"Score at startup",ManuallyClickReapplyScores:"Manually click reapply scores"}},d0={[we.RelicEquippingBehavior.name]:we.RelicEquippingBehavior.Replace,[we.PermutationsSidebarBehavior.name]:we.PermutationsSidebarBehavior.ShowXL,[we.RelicPotentialLoadBehavior.name]:we.RelicPotentialLoadBehavior.ScoreAtStartup},J1=()=>{const[e]=P.useForm(),a=window.store(b=>b.settingsDrawerOpen),i=window.store(b=>b.setSettingsDrawerOpen),n=window.store(b=>b.settings),l=window.store(b=>b.setSettings),o=[{value:we.RelicEquippingBehavior.Replace,label:s.jsx("span",{children:"Default: Replace relics without swapping"})},{value:we.RelicEquippingBehavior.Swap,label:s.jsx("span",{children:"Swap relics with previous owner"})}],r=[{value:we.PermutationsSidebarBehavior.ShowXL,label:s.jsx("span",{children:"Default: Minimize if most of the sidebar is hidden"})},{value:we.PermutationsSidebarBehavior.ShowXXL,label:s.jsx("span",{children:"Minimize if any of the sidebar is hidden"})},{value:we.PermutationsSidebarBehavior.NoShow,label:s.jsx("span",{children:"Always keep the sidebar on the right"})}],c=[{value:we.RelicPotentialLoadBehavior.ScoreAtStartup,label:s.jsx("span",{children:"Default: Automatically score relics on page load"})},{value:we.RelicPotentialLoadBehavior.ManuallyClickReapplyScores,label:s.jsx("span",{children:'Only score relics when "Reapply scores" is clicked (faster page load)'})}];V.useEffect(()=>{const b=C.clone(d0),R=C.mergeDefinedValues(b,n);l(R),e.setFieldsValue(R)},[]);const h=(b,R)=>{l(R),Ie.save()};return s.jsx(P,{form:e,onValuesChange:h,children:s.jsx(tn,{title:"Settings",placement:"right",onClose:()=>i(!1),open:a,width:900,forceRender:!0,children:s.jsxs(g,{vertical:!0,gap:_1,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(Cn,{children:"Equipping relics from another character"}),s.jsx(P.Item,{name:we.RelicEquippingBehavior.name,children:s.jsx(N,{style:{width:500},options:o})})]}),s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(Cn,{children:"Shrink optimizer sidebar on smaller screens"}),s.jsx(P.Item,{name:we.PermutationsSidebarBehavior.name,children:s.jsx(N,{style:{width:500},options:r,optionRender:b=>s.jsx(Ro,{children:b.label})})})]}),s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(Cn,{children:"Relic potential scoring on load"}),s.jsx(P.Item,{name:we.RelicPotentialLoadBehavior.name,children:s.jsx(N,{style:{width:500},options:c,optionRender:b=>s.jsx(Ro,{children:b.label})})})]})]})})})},z1={1001:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1003:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1004:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1005:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.5,"CRIT DMG":.5,"Effect Hit Rate":.5,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1006:{ATK:.5,"ATK%":.5,DEF:.25,"DEF%":.25,HP:.25,"HP%":.25,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1008:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1009:{ATK:.75,"ATK%":.75,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":.5,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1013:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1101:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1102:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1103:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1104:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1105:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1106:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1107:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1108:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1109:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1110:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1111:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1112:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1201:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1202:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1203:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1204:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1205:{ATK:.25,"ATK%":.25,DEF:0,"DEF%":0,HP:1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1206:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1207:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1208:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1209:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1210:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.75,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1211:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1212:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1213:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1214:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1215:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1217:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:1,"HP%":1,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1218:{ATK:.5,"ATK%":.5,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1220:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1221:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1222:{ATK:.75,"ATK%":.75,DEF:.5,"DEF%":.5,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":1,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1223:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1224:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1301:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":1,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1302:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1303:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1304:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1305:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":1},1306:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1307:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":1,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":1,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1308:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":1,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1309:{ATK:1,"ATK%":1,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1310:{ATK:1,"ATK%":1,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1312:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":1,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},1314:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":1,"Imaginary DMG Boost":0},1315:{ATK:.5,"ATK%":.5,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":.75,"CRIT DMG":.75,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":1,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8001:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8002:{ATK:.75,"ATK%":.75,DEF:0,"DEF%":0,HP:0,"HP%":0,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":.5,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":1,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8003:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8004:{ATK:0,"ATK%":0,DEF:1,"DEF%":1,HP:.5,"HP%":.5,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":.75,"Effect RES":.75,"Break Effect":0,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8005:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},8006:{ATK:0,"ATK%":0,DEF:.75,"DEF%":.75,HP:.75,"HP%":.75,SPD:1,"CRIT Rate":0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":.75,"Break Effect":1,"Energy Regeneration Rate":1,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0}},fo={relics:[],characters:[],metadata:{},relicsById:{},globals:{},scorerId:void 0},ss="",he={OPTIMIZER:"OPTIMIZER",CHARACTERS:"CHARACTERS",RELICS:"RELICS",IMPORT:"IMPORT",GETTING_STARTED:"GETTING_STARTED",CHANGELOG:"CHANGELOG",SETTINGS:"SETTINGS",RELIC_SCORER:"RELIC_SCORER",WEBGPU_TEST:"WEBGPU_TEST"},Za={[he.OPTIMIZER]:ss,[he.RELIC_SCORER]:ss+"#scorer",[he.CHANGELOG]:ss+"#changelog",[he.GETTING_STARTED]:ss+"#getting-started",[he.WEBGPU_TEST]:ss+"#webgpu"},go={[Za[he.OPTIMIZER]]:he.OPTIMIZER,[Za[he.RELIC_SCORER]]:he.RELIC_SCORER,[Za[he.CHANGELOG]]:he.CHANGELOG,[Za[he.GETTING_STARTED]]:he.GETTING_STARTED,[Za[he.WEBGPU_TEST]]:he.WEBGPU_TEST},u0={[nt.optimizerCharacterId]:null,[nt.relicScorerSidebarOpen]:!0,[nt.scoringType]:ki,[nt.combatScoreDetails]:Qn,[nt.computeEngine]:Ms};window.store=Ec(e=>({version:_i,colorTheme:c0.BLUE,optimizerGrid:void 0,optimizerTabFocusCharacter:void 0,characterTabFocusCharacter:void 0,scoringAlgorithmFocusCharacter:void 0,relicsTabFocusCharacter:void 0,inventoryWidth:9,rowLimit:10,activeKey:go[C.stripTrailingSlashes(window.location.pathname)]?go[C.stripTrailingSlashes(window.location.pathname)+window.location.hash.split("?")[0]]:he.OPTIMIZER,characters:[],charactersById:{},conditionalSetEffectsDrawerOpen:!1,combatBuffsDrawerOpen:!1,enemyConfigurationsDrawerOpen:!1,settingsDrawerOpen:!1,permutations:0,permutationsResults:0,permutationsSearched:0,relicsById:{},scorerId:void 0,scoringMetadataOverrides:{},statDisplay:ai,statSimulationDisplay:Va.Disabled,statSimulations:[],selectedStatSimulations:[],optimizationInProgress:!1,optimizationId:void 0,teammateCount:0,zeroPermutationModalOpen:!1,zeroResultModalOpen:!1,menuSidebarOpen:!0,relicScorerSidebarOpen:!0,optimizerRunningEngine:null,optimizerStartTime:null,optimizerEndTime:null,optimizerTabFocusCharacterSelectModalOpen:!1,optimizerFormCharacterEidolon:0,optimizerFormSelectedLightCone:null,optimizerFormSelectedLightConeSuperimposition:1,permutationDetails:{Head:0,Hands:0,Body:0,Feet:0,PlanarSphere:0,LinkRope:0,HeadTotal:0,HandsTotal:0,BodyTotal:0,FeetTotal:0,PlanarSphereTotal:0,LinkRopeTotal:0},relicTabFilters:{set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]},characterTabFilters:{name:"",element:[],path:[],rarity:[]},excludedRelicPotentialCharacters:[],optimizerMenuState:{[Ca.characterOptions]:!0,[Ca.relicAndStatFilters]:!0,[Ca.teammates]:!0,[Ca.characterStatsSimulation]:!1},savedSession:u0,settings:d0,setVersion:a=>e(()=>({version:a})),setActiveKey:a=>e(()=>({activeKey:a})),setCharacters:a=>e(()=>({characters:a})),setCharactersById:a=>e(()=>({charactersById:a})),setInventoryWidth:a=>e(()=>({inventoryWidth:a})),setRowLimit:a=>e(()=>({rowLimit:a})),setConditionalSetEffectsDrawerOpen:a=>e(()=>({conditionalSetEffectsDrawerOpen:a})),setCombatBuffsDrawerOpen:a=>e(()=>({combatBuffsDrawerOpen:a})),setEnemyConfigurationsDrawerOpen:a=>e(()=>({enemyConfigurationsDrawerOpen:a})),setSettingsDrawerOpen:a=>e(()=>({settingsDrawerOpen:a})),setOptimizerTabFocusCharacter:a=>e(()=>({optimizerTabFocusCharacter:a})),setCharacterTabFocusCharacter:a=>e(()=>({characterTabFocusCharacter:a})),setScoringAlgorithmFocusCharacter:a=>e(()=>({scoringAlgorithmFocusCharacter:a})),setRelicsTabFocusCharacter:a=>e(()=>({relicsTabFocusCharacter:a})),setPermutationDetails:a=>e(()=>({permutationDetails:a})),setPermutations:a=>e(()=>({permutations:a})),setPermutationsResults:a=>e(()=>({permutationsResults:a})),setPermutationsSearched:a=>e(()=>({permutationsSearched:a})),setRelicsById:a=>e(()=>({relicsById:a})),setRelicTabFilters:a=>e(()=>({relicTabFilters:a})),setCharacterTabFilters:a=>e(()=>({characterTabFilters:a})),setScorerId:a=>e(()=>({scorerId:a})),setScoringMetadataOverrides:a=>e(()=>({scoringMetadataOverrides:a})),setStatDisplay:a=>e(()=>({statDisplay:a})),setStatSimulationDisplay:a=>e(()=>({statSimulationDisplay:a})),setStatSimulations:a=>e(()=>({statSimulations:C.clone(a)})),setSelectedStatSimulations:a=>e(()=>({selectedStatSimulations:a})),setOptimizerMenuState:a=>e(()=>({optimizerMenuState:a})),setOptimizationInProgress:a=>e(()=>({optimizationInProgress:a})),setOptimizationId:a=>e(()=>({optimizationId:a})),setOptimizerStartTime:a=>e(()=>({optimizerStartTime:a})),setOptimizerRunningEngine:a=>e(()=>({optimizerRunningEngine:a})),setOptimizerEndTime:a=>e(()=>({optimizerEndTime:a})),setTeammateCount:a=>e(()=>({teammateCount:a})),setOptimizerFormCharacterEidolon:a=>e(()=>({optimizerFormCharacterEidolon:a})),setOptimizerFormSelectedLightCone:a=>e(()=>({optimizerFormSelectedLightCone:a})),setOptimizerFormSelectedLightConeSuperimposition:a=>e(()=>({optimizerFormSelectedLightConeSuperimposition:a})),setOptimizerTabFocusCharacterSelectModalOpen:a=>e(()=>({optimizerTabFocusCharacterSelectModalOpen:a})),setZeroPermutationsModalOpen:a=>e(()=>({zeroPermutationModalOpen:a})),setZeroResultModalOpen:a=>e(()=>({zeroResultModalOpen:a})),setExcludedRelicPotentialCharacters:a=>e(()=>({excludedRelicPotentialCharacters:a})),setMenuSidebarOpen:a=>e(()=>({menuSidebarOpen:a})),setSettings:a=>e(()=>({settings:a})),setSavedSession:a=>e(()=>({savedSession:a})),setSavedSessionKey:(a,i)=>e(n=>({savedSession:{...n.savedSession,[a]:i}})),setColorTheme:a=>e(()=>({colorTheme:a}))}));const Z={getMetadata:()=>fo.metadata,setMetadata:e=>fo.metadata=e,getCharacters:()=>window.store.getState().characters,getCharacterById:e=>window.store.getState().charactersById[e],setCharacters:e=>{const a={};for(const n of e)a[n.id]=n;po(e);const i=[...e];window.store.getState().setCharacters(i),window.store.getState().setCharactersById(a)},setCharacter:e=>{const a=window.store.getState().charactersById;a[e.id]=e,window.store.getState().setCharactersById(a)},addCharacter:e=>{const a=Z.getCharacters();a.push(e),Z.setCharacters(a)},insertCharacter:(e,a)=>{console.log("insert",e,a);const i=Z.getCharacters();a<0&&(a=i.length);const n=Z.getCharacterById(e);if(!n)return console.warn("No matching character to insert",e,a);const l=i.splice(n.rank,1);i.splice(a,0,l[0]),Z.setCharacters(i)},refreshCharacters:()=>{window.setCharacterRows&&window.setCharacterRows(Z.getCharacters())},getRelics:()=>Object.values(window.store.getState().relicsById),getRelicsById:()=>window.store.getState().relicsById,setRelics:e=>{const a={};for(const i of e)a[i.id]=i;window.store.getState().setRelicsById(a)},getRelicById:e=>window.store.getState().relicsById[e],setRelic:e=>{var n;if(!e.id)return console.warn("No matching relic",e);const a=Z.getRelicById(e.id);!a?(e.ageIndex=Z.getRelics().length,_a(e),e.equippedBy&&Z.equipRelic(e,e.equippedBy)):((a.part!==e.part||!e.equippedBy)&&(Z.unequipRelicById(e.id),_a(e)),e.equippedBy&&((n=Z.getCharacterById(e.equippedBy))==null?void 0:n.equipped[e.part])!==e.id&&Z.equipRelic(e,e.equippedBy),_a(e))},refreshRelics:()=>{window.setRelicRows&&window.setRelicRows(Z.getRelics())},getState:()=>window.store.getState(),getScoringMetadata:e=>{const a=Z.getMetadata().characters[e].scoringMetadata,i=window.store.getState().scoringMetadataOverrides[e],n=C.mergeUndefinedValues(i||{},a);for(const l of Object.keys(a.stats))n.stats[l]==null&&(n.stats[l]=0);return delete n.presets,n},updateCharacterScoreOverrides:(e,a)=>{const i=window.store.getState().scoringMetadataOverrides;i[e]?C.mergeDefinedValues(i[e],a):i[e]=a,a.modified&&(i.modified=!0),window.store.getState().setScoringMetadataOverrides(i),Ie.save()},updateSimulationScoreOverrides:(e,a)=>{if(!a)return;const i=window.store.getState().scoringMetadataOverrides;i[e]?i[e].simulation=a:i[e]={simulation:a},window.store.getState().setScoringMetadataOverrides(i),setTimeout(()=>{Ie.save()},2e3)},setStore:(e,a=!0)=>{var o,r,c,h,b,R,S;const i={},n=Z.getMetadata().characters,l=Z.getMetadata().lightCones;e.characters=e.characters.filter(u=>n[u.id]);for(const u of e.characters){u.equipped={},i[u.id]=u,(r=(o=u.form)==null?void 0:o.statSim)!=null&&r.simulations&&(u.form.statSim.simulations=u.form.statSim.simulations.filter(I=>{var E;return(E=I.request)==null?void 0:E.stats})),u.form.characterLevel=80,u.form.lightConeLevel=80;const m=u.form.relicSets||[];for(let I=m.length-1;I>=0;I--)(!m[I]||!Object.values(Ct).includes(m[I][0]))&&u.form.relicSets.splice(I,1);const f=l[(c=u.form)==null?void 0:c.lightCone]||{},p=n[u.id];(f==null?void 0:f.path)!=(p==null?void 0:p.path)&&(u.form.lightCone=void 0,u.form.lightConeLevel=80,u.form.lightConeSuperimposition=1,u.form.lightConeConditionals={});for(const I of Object.keys(d.Parts))u.form["main"+I]=To(u.form["main"+I]);((b=(h=u.form.setConditionals)==null?void 0:h[y.DuranDynastyOfRunningWolves])==null?void 0:b[1])>5&&(u.form.setConditionals[y.DuranDynastyOfRunningWolves][1]=5)}for(const u of Object.values(n))for(const m of Object.keys(d.Parts))u.scoringMetadata.parts[m]=To(u.scoringMetadata.parts[m]);for(const u of e.relics){ds.augment(u);const m=i[u.equippedBy];m&&!m.equipped[u.part]?m.equipped[u.part]=u.id:u.equippedBy=void 0}if(Bn(e.relics),e.scoringMetadataOverrides){for(const[u,m]of Object.entries(e.scoringMetadataOverrides)){m.length&&delete e.scoringMetadataOverrides[u];const f=e.scoringMetadataOverrides[u];if(f){if(!n[u]||!n[u].scoringMetadata)continue;const p=z1[u]||{},I=n[u].scoringMetadata;let E=!0;for(const T of Object.values(d.Stats))if(C.nullUndefinedToZero(f.stats[T])!=C.nullUndefinedToZero(p[T])){E=!1;break}if(E)f.stats=C.clone(I.stats),f.modified=!1;else{let T=!1;for(const D of Object.values(d.Stats))if(C.nullUndefinedToZero(f.stats[D])!=C.nullUndefinedToZero(I.stats[D])){T=!0;break}T&&(f.modified=!0)}}}window.store.getState().setScoringMetadataOverrides(e.scoringMetadataOverrides||{})}if(window.store.getState().setScorerId(e.scorerId),e.optimizerMenuState){const u=window.store.getState().optimizerMenuState;for(const m of Object.values(Ca))e.optimizerMenuState[m]!=null&&(u[m]=e.optimizerMenuState[m]);window.store.getState().setOptimizerMenuState(u)}if(e.savedSession){n[e.savedSession.optimizerCharacterId]||delete e.savedSession.optimizerCharacterId;const u={...u0,...e.savedSession};window.store.getState().setSavedSession(u)}e.settings&&window.store.getState().setSettings(e.settings),window.store.getState().setExcludedRelicPotentialCharacters(e.excludedRelicPotentialCharacters||[]),window.store.getState().setVersion(e.version),window.store.getState().setInventoryWidth(((R=e.relicLocator)==null?void 0:R.inventoryWidth)??9),window.store.getState().setRowLimit(((S=e.relicLocator)==null?void 0:S.rowLimit)??10),po(e.characters),Z.setRelics(e.relics),Z.setCharacters(e.characters),Z.refreshCharacters(),Z.refreshRelics(),a&&Ie.save()},resetStore:()=>{Z.setStore({relics:[],characters:[]})},addFromForm:(e,a=!0)=>{var l,o;const i=Z.getCharacters();let n=Z.getCharacterById(e.characterId);if(n)n.form={...n.form,...e},Z.setCharacters(i);else{const r=ms({id:e.characterId});n={id:e.characterId,form:{...r,...e},equipped:{}},Z.addCharacter(n)}return console.log("Updated db characters",i),(o=(l=window.characterGrid)==null?void 0:l.current)!=null&&o.api&&(window.characterGrid.current.api.updateGridOptions({rowData:i}),window.characterGrid.current.api.forEachNode(r=>r.data.id==n.id?r.setSelected(!0):0),window.store.getState().setCharacterTabFocusCharacter(n.id)),a&&Ie.save(),n},saveCharacterPortrait:(e,a)=>{let i=Z.getCharacterById(e);i||(Z.addFromForm({characterId:e}),i=Z.getCharacterById(e),console.log("Character did not previously exist, adding",i)),i.portrait=a,Z.setCharacter(i),console.log("Saved portrait",Z.getState())},deleteCharacterPortrait:e=>{const a=Z.getCharacterById(e);if(!a){console.warn("No character selected");return}delete a.portrait,Z.setCharacter(a),console.log("Deleted portrait",Z.getState())},saveCharacterBuild:(e,a,i)=>{var o;const n=Z.getCharacterById(a);if(!n){console.warn("No character selected");return}if((o=n.builds)==null?void 0:o.find(r=>r.name==e)){const r=`Build name [${e}] already exists`;return console.warn(r),{error:r}}else n.builds||(n.builds=[]),n.builds.push({name:e,build:[...Object.values(n.equipped)],score:i}),Z.setCharacter(n),console.log("Saved build",Z.getState())},deleteCharacterBuild:(e,a)=>{const i=Z.getCharacterById(e);if(!i)return console.warn("No character to delete build for");i.builds=i.builds.filter(n=>n.name!=a),Z.setCharacter(i)},clearCharacterBuilds:e=>{const a=Z.getCharacterById(e);if(!a)return console.warn("No character to clear builds for");a.builds=[],Z.setCharacter(a)},unequipCharacter:e=>{const a=Z.getCharacterById(e);if(!a)return console.warn("No character to unequip");console.log("Unequipping character",e,a);for(const i of Object.values(d.Parts)){const n=a.equipped[i];if(!n)continue;const l=Z.getRelicById(n);a.equipped[i]=void 0,l&&(l.equippedBy=void 0,_a(l))}Z.setCharacter(a)},removeCharacter:e=>{Z.unequipCharacter(e);let a=Z.getCharacters();a=a.filter(i=>i.id!=e),Z.setCharacters(a)},unequipRelicById:e=>{if(!e)return console.warn("No relic");const a=Z.getRelicById(e);console.log("UNEQUIP RELIC");const i=Z.getCharacters();for(const n of i)n.equipped&&n.equipped[a.part]&&n.equipped[a.part]==a.id&&(n.equipped[a.part]=void 0);Z.setCharacters(i),a.equippedBy=void 0,_a(a)},equipRelic:(e,a,i=!1)=>{if(!e||!e.id)return console.warn("No relic");if(!a)return console.warn("No character");e=Z.getRelicById(e.id);const n=e.equippedBy,l=Z.getCharacterById(n),o=Z.getCharacterById(a),r=Z.getRelicById(o.equipped[e.part]);r&&Z.unequipRelicById(r.id);const c=i||Z.getState().settings[we.RelicEquippingBehavior.name]==we.RelicEquippingBehavior.Swap;n!==a&&l&&(r&&c?(l.equipped[e.part]=r.id,r.equippedBy=l.id,_a(r)):l.equipped[e.part]=void 0,Z.setCharacter(l)),o.equipped[e.part]=e.id,e.equippedBy=o.id,Z.setCharacter(o),_a(e)},equipRelicIdsToCharacter:(e,a,i=!1)=>{if(!a)return console.warn("No characterId to equip to");console.log("Equipping relics to character",e,a);for(const n of e)Z.equipRelic({id:n},a,i)},switchRelics:(e,a)=>{if(!e)return console.warn("No characterId to equip from");if(!a)return console.warn("No characterId to equip to");console.log(`Switching relics from character ${e} to character ${a}`);const i=Z.getCharacterById(e);Z.equipRelicIdsToCharacter(Object.values(i.equipped),a,!0)},deleteRelic:e=>{var i,n;if(!e)return Y.error("Unable to delete relic");Z.unequipRelicById(e);const a=window.store.getState().relicsById;delete a[e],window.store.getState().setRelicsById(a),(n=(i=window.characterGrid)==null?void 0:i.current)!=null&&n.api&&window.characterGrid.current.api.redrawRows()},mergeRelicsWithState:(e,a)=>{var c,h,b,R;const i=Z.getRelics();if(e=C.clone(e)||[],a=C.clone(a)||[],console.log("Merging relics",e,a),a)for(const S of a)Z.addFromForm(S,!1);const n=Z.getCharacters(),l={};for(const S of i){const u=Go(S);l[u]=S}let o=[];e.length==0&&(o=i);for(let S of e){const u=Go(S),m=l[u];let f;if(m?(S.verified&&(m.verified=!0,m.substats=S.substats,m.augmentedStats=S.augmentedStats),S.equippedBy&&a.length&&(m.equippedBy=S.equippedBy,S=m),o.push(m),f=m.id,delete l[u]):(f=S.id,o.push(S)),S.equippedBy&&a.length){const p=n.find(I=>I.id==S.equippedBy);p?p.equipped[S.part]=f:console.log("No character to equip relic to",S)}}Bn(o),console.log("Replacement relics",o),Z.setRelics(o);for(const S of n)for(const u of Object.values(d.Parts))S.equipped&&S.equipped[u]&&!Z.getRelicById(S.equipped[u])&&(S.equipped[u]=void 0);for(const S of Z.getRelics()){if(!S.equippedBy)continue;const u=Z.getCharacterById(S.equippedBy);(!u||u.equipped[S.part]!=S.id)&&(S.equippedBy=void 0)}for(const S of Z.getCharacters())for(const u of Object.keys(S.equipped)){const m=S.equipped[u];m&&Z.getRelicById(m).equippedBy!=S.id&&(S.equipped[u]=void 0)}Z.setRelics(o),Z.setCharacters(n),(h=(c=window.relicsGrid)==null?void 0:c.current)!=null&&h.api&&window.relicsGrid.current.api.updateGridOptions({rowData:o}),(R=(b=window.characterGrid)==null?void 0:b.current)!=null&&R.api&&window.characterGrid.current.api.redrawRows();const r=$.getForm();window.onOptimizerFormValuesChange({},r),window.refreshRelicsScore()},mergePartialRelicsWithState:(e,a=[])=>{var r,c;const i=C.clone(Z.getRelics())||[];e=C.clone(e)||[];const n=[],l=[],o=[];for(const h of e){const b=Q1(h,i);b?(b.substats=h.substats,b.main=h.main,b.enhance=h.enhance,b.verified=!0,n.push(b),o.push({relic:b,equippedBy:h.equippedBy})):(i.push(h),l.push(h),o.push({relic:h,equippedBy:h.equippedBy}),h.equippedBy=void 0)}console.log("addedNewRelics",l),console.log("updatedOldRelics",n),i.map(h=>ds.augment(h)),Bn(i),Z.setRelics(i);for(const h of o)a.find(b=>b.id==h.equippedBy)&&Z.equipRelic(h.relic,h.equippedBy);Z.refreshRelics(),window.refreshRelicsScore(),(c=(r=window.characterGrid)==null?void 0:r.current)!=null&&c.api&&window.characterGrid.current.api.redrawRows(),n.length&&Y.success(`Updated stats for ${n.length} existing relics`,8),l.length&&Y.success(`Added ${l.length} new relics`,8)}};function Q1(e,a){const i={};for(const r of a){const c=Eo(r);i[c]||(i[c]=[]),i[c].push(r)}const n=Eo(e),l=i[n]||[];let o;for(const r of l){if(e.enhance<r.enhance||e.substats.length<r.substats.length)continue;let c=!1,h=0;for(let R=0;R<r.substats.length;R++){const S=r.substats[R],u=e.substats.find(m=>m.stat==S.stat);if(!u){c=!0;break}if(S.stat!=u.stat){c=!0;break}if(Io(S,u)==-1){c=!0;break}Io(S,u)==1&&h++}if(c)continue;const b=Math.round((Math.floor(e.enhance/3)*3-Math.floor(r.enhance/3)*3)/3);if(!(h>b)){o=r;break}}return o}function po(e){for(let i=0;i<e.length;i++)e[i].rank=i;const a=Z.getCharacterById(window.store.getState().optimizerTabFocusCharacter);return a&&window.optimizerForm.setFieldValue("rank",a.rank),e}function Go(e){const a=[],i=[];for(const l of e.substats)C.isFlat(l.stat)?a.push(Math.floor(l.value)):a.push(C.precisionRound(C.truncate10ths(l.value))),i.push(l.stat);const n={part:e.part,set:e.set,grade:e.grade,enhance:e.enhance,mainstat:e.main.stat,mainvalue:Math.floor(e.main.value),substatValues:a,substatStats:i};return C.objectHash(n)}function Io(e,a){let i,n;return C.isFlat(e.stat)?(i=Math.floor(e.value),n=Math.floor(a.value)):(i=C.precisionRound(C.truncate10ths(e.value)),n=C.precisionRound(C.truncate10ths(a.value))),i==n?0:i<n?1:-1}function Eo(e){const a={part:e.part,set:e.set,grade:e.grade,mainstat:e.main.stat};return C.objectHash(a)}function _a(e){const a=window.store.getState().relicsById;a[e.id]=e,window.store.getState().setRelicsById(a)}function To(e){return e==null?e:[...new Set(e)]}function Bn(e){const a=e.length;for(let i=0;i<a;i++)e[i].ageIndex=a-i-1}let Rt,Ja,Ni,ia=[],sl,Os,ns,yn,Wn;const $={setMetadata:(e,a)=>{Ja=e,Rt=a},setAggs:e=>{Ni=e},getAggs:()=>Ni,setRows:e=>{ia=e},setTopRow:(e,a=!1)=>{if(a){window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:[e]});return}const i=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");i[0]=e,window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:i})},getRows:()=>ia,scrollToGrid:()=>{document.getElementById("optimizerGridContainer").scrollIntoView({behavior:"smooth",block:"nearest"})},equipClicked:()=>{console.log("Equip clicked");const e=$.getForm(),a=e.characterId;if(!a)return;Z.addFromForm(e);const i=window.optimizerGrid.current.api.getSelectedNodes();if(!i||i.length==0||i[0].data.statSim)return;const n=i[0].data,l=$.calculateRelicsFromId(n.id);Z.equipRelicIdsToCharacter(Object.values(l),a),Y.success("Equipped relics"),$.setTopRow(n),window.setOptimizerBuild(l),Ie.save(),$.updateFilters()},cellClicked:e=>{const a=e.data;if(e.rowPinned=="top"){console.log("Top row clicked",e.data);const n=$.getForm();if(e.data&&n.characterId){const l=Z.getCharacterById(n.characterId);if(a.id||window.optimizerGrid.current.api.deselectAll(),l&&a.id){const o=a.id,r=$.calculateRelicsFromId(o);window.setOptimizerBuild(r);const c=window.optimizerGrid.current.api.getRowNode(String(a.id));if(c){const h=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");String(h[0].id)==String(c.data.id)?window.optimizerGrid.current.api.deselectAll():c.setSelected(!0)}}else l&&window.setOptimizerBuild(l.equipped)}return}if(a.statSim){const n=a.statSim.key;window.store.getState().setSelectedStatSimulations([n]),window.setOptimizerBuild({}),window.optimizerGrid.current.api.deselectAll();return}console.log("cellClicked",e);const i=$.calculateRelicsFromId(a.id);console.log("build",i),window.setOptimizerBuild(i)},getColumnsToAggregate:e=>(yn||(Wn={[d.Stats.HP]:!0,[d.Stats.ATK]:!0,[d.Stats.DEF]:!0,[d.Stats.SPD]:!0,[d.Stats.CR]:!0,[d.Stats.CD]:!0,[d.Stats.EHR]:!0,[d.Stats.RES]:!0,[d.Stats.BE]:!0,[d.Stats.ERR]:!0,[d.Stats.OHB]:!0,ED:!0,WEIGHT:!0,EHP:!0,BASIC:!0,SKILL:!0,ULT:!0,FUA:!0,DOT:!0,BREAK:!0,COMBO:!0,xATK:!0,xDEF:!0,xHP:!0,xSPD:!0,xCR:!0,xCD:!0,xEHR:!0,xRES:!0,xBE:!0,xERR:!0,xOHB:!0,xELEMENTAL_DMG:!0},yn=Object.keys(Wn)),e?Wn:yn),resetDataSource:()=>{window.optimizerGrid.current.api.updateGridOptions({datasource:$.getDataSource(ns,Os)})},getDataSource:(e,a)=>(ns=e,Os=a,{getRows:i=>{var n,l;Ni=void 0,(l=(n=window==null?void 0:window.optimizerGrid)==null?void 0:n.current)!=null&&l.api&&window.optimizerGrid.current.api.showLoadingOverlay(),C.sleep(100).then(()=>{var o,r;if(i.sortModel.length>0&&i.sortModel[0]!=ns&&(ns=i.sortModel[0],$1()),Os){q1(Os);const c=sl.slice(i.startRow,i.endRow),h=[];for(const b of c)h.push(ia[b]);Do(h),i.successCallback(h,sl.length)}else{const c=ia.slice(i.startRow,i.endRow);Do(c),i.successCallback(c,ia.length)}(r=(o=window==null?void 0:window.optimizerGrid)==null?void 0:o.current)!=null&&r.api&&window.optimizerGrid.current.api.hideOverlay(),$.redrawRows()})}}),calculateRelicsFromId:(e,a=!1)=>{const i=Ja.lSize,n=Ja.pSize,l=Ja.fSize,o=Ja.bSize,r=Ja.gSize,c=Ja.hSize,h=e,b=h%i,R=(h-b)/i%n,S=(h-R*i-b)/(i*n)%l,u=(h-S*n*i-R*i-b)/(i*n*l)%o,m=(h-u*l*n*i-S*n*i-R*i-b)/(i*n*l*o)%r,f=(h-m*o*l*n*i-u*l*n*i-S*n*i-R*i-b)/(i*n*l*o*r)%c,p=$.getForm().characterId;return Rt.Head[f].optimizerCharacterId=p,Rt.Hands[m].optimizerCharacterId=p,Rt.Body[u].optimizerCharacterId=p,Rt.Feet[S].optimizerCharacterId=p,Rt.PlanarSphere[R].optimizerCharacterId=p,Rt.LinkRope[b].optimizerCharacterId=p,a?{Head:Rt.Head[f],Hands:Rt.Hands[m],Body:Rt.Body[u],Feet:Rt.Feet[S],PlanarSphere:Rt.PlanarSphere[R],LinkRope:Rt.LinkRope[b]}:{Head:Rt.Head[f].id,Hands:Rt.Hands[m].id,Body:Rt.Body[u].id,Feet:Rt.Feet[S].id,PlanarSphere:Rt.PlanarSphere[R].id,LinkRope:Rt.LinkRope[b].id}},getForm:()=>{const e=window.optimizerForm.getFieldsValue();return $.fixForm(e)},getDisplayFormValues:e=>{var r;const a=C.clone(e),i=Z.getMetadata().characters[e.characterId],n=Z.getScoringMetadata(e.characterId);a.maxHp=ft(e.maxHp),a.minHp=tt(e.minHp),a.maxAtk=ft(e.maxAtk),a.minAtk=tt(e.minAtk),a.maxDef=ft(e.maxDef),a.minDef=tt(e.minDef),a.maxSpd=ft(e.maxSpd),a.minSpd=tt(e.minSpd),a.maxCr=ft(e.maxCr,!0),a.minCr=tt(e.minCr,!0),a.maxCd=ft(e.maxCd,!0),a.minCd=tt(e.minCd,!0),a.maxEhr=ft(e.maxEhr,!0),a.minEhr=tt(e.minEhr,!0),a.maxRes=ft(e.maxRes,!0),a.minRes=tt(e.minRes,!0),a.maxBe=ft(e.maxBe,!0),a.minBe=tt(e.minBe,!0),a.maxErr=ft(e.maxErr,!0),a.minErr=tt(e.minErr,!0),a.maxWeight=ft(e.maxWeight),a.minWeight=tt(e.minWeight),a.maxEhp=ft(e.maxEhp),a.minEhp=tt(e.minEhp),a.maxBasic=ft(e.maxBasic),a.minBasic=tt(e.minBasic),a.maxSkill=ft(e.maxSkill),a.minSkill=tt(e.minSkill),a.maxUlt=ft(e.maxUlt),a.minUlt=tt(e.minUlt),a.maxFua=ft(e.maxFua),a.minFua=tt(e.minFua),a.maxDot=ft(e.maxDot),a.minDot=tt(e.minDot),a.maxBreak=ft(e.maxBreak),a.minBreak=tt(e.minBreak),a.maxCombo=ft(e.maxCombo),a.minCombo=tt(e.minCombo),a.combatBuffs={},e.combatBuffs||(e.combatBuffs={});for(const c of Object.values(Ji))a.combatBuffs[c.key]=tt(e.combatBuffs[c.key],c.percent);a.combo={},e.combo||(e.combo={});for(const c of gn)a.combo[c]=tt(e.combo[c]);a.setConditionals?C.mergeUndefinedValues(a.setConditionals,xs):a.setConditionals=xs;const l=r0();if(e.enemyLevel||(a.enemyLevel=l.enemyLevel),e.enemyCount||(a.enemyCount=l.enemyCount),e.enemyResistance||(a.enemyResistance=l.enemyResistance),e.enemyEffectResistance||(a.enemyEffectResistance=l.enemyEffectResistance),e.enemyElementalWeak==null&&(a.enemyElementalWeak=l.enemyElementalWeak),e.enemyWeaknessBroken==null&&(a.enemyWeaknessBroken=l.enemyWeaknessBroken),e.enemyMaxToughness||(a.enemyMaxToughness=l.enemyMaxToughness),a.characterId){const c=Ma.get(a).defaults();a.characterConditionals||(a.characterConditionals={});for(const h of Object.keys(c))a.characterConditionals[h]==null&&(a.characterConditionals[h]=c[h])}if(a.lightCone){const c=Sa.get(a).defaults();a.lightConeConditionals||(a.lightConeConditionals={});for(const h of Object.keys(c))a.lightConeConditionals[h]==null&&(a.lightConeConditionals[h]=c[h])}else a.lightCone=null,a.lightConeLevel=80,a.lightConeSuperimposition=1,a.lightConeConditionals={};a.statDisplay||(a.statDisplay=ai);const o=Z.getCharacterById(a.characterId);if(o)a.rank=o.rank;else if(a.rank=Z.getCharacters().length,i){for(const c of n.presets||[])c(a);a.mainBody=n.parts[d.Parts.Body],a.mainFeet=n.parts[d.Parts.Feet],a.mainPlanarSphere=n.parts[d.Parts.PlanarSphere],a.mainLinkRope=n.parts[d.Parts.LinkRope],a.weights=n.stats,a.weights.headHands=0,a.weights.bodyFeet=0,a.weights.sphereRope=0,zr(a,n)}a.weights||(a.weights=o0(a.characterId)),a.weights.headHands||(a.weights.headHands=0),a.weights.bodyFeet||(a.weights.bodyFeet=0),a.weights.sphereRope||(a.weights.sphereRope=0),a.exclude||(a.exclude=[]),a.exclude=a.exclude.filter(c=>Z.getCharacterById(c)),a.includeEquippedRelics==null&&(a.includeEquippedRelics=!0),[1,3,5].includes(a.enemyCount)||(a.enemyCount=1);for(const c of[0,1,2]){const h=`teammate${c}`;(!a[h]||!a[h].characterId)&&(a[h]=Hi())}if(a.weights||(a.weights={[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD_P]:1,[d.Stats.HP]:1,[d.Stats.ATK]:1,[d.Stats.DEF]:1,[d.Stats.SPD]:1,[d.Stats.CD]:1,[d.Stats.CR]:1,[d.Stats.EHR]:1,[d.Stats.RES]:1,[d.Stats.BE]:1,headHands:0,bodyFeet:0,sphereRope:0}),a.resultSort||i&&(a.resultSort=i.scoringMetadata.sortOption.key),a.resultsLimit||(a.resultsLimit=1024),a.mainStatUpscaleLevel||(a.mainStatUpscaleLevel=15),a.statSim||(a.statSim={}),a.statSim.simulations||(a.statSim.simulations=[]),a.combo||(a.combo={}),Object.values(a.combo).every(c=>!c)){const c=(r=n==null?void 0:n.simulation)==null?void 0:r.formula;if(c)for(const h of gn)c[h]&&(a.combo[h]=c[h])}return a},validateForm:e=>{if(console.log("validate",e),!e.lightCone||!e.lightConeSuperimposition)return Y.error("Missing light cone fields"),console.log("Missing light cone"),!1;if(!e.characterId||e.characterEidolon==null)return Y.error("Missing character fields"),console.log("Missing character"),!1;if(!e.resultsLimit||!e.resultSort)return Y.error("Missing optimization target fields"),console.log("Missing optimization target fields"),!1;if(Object.values(d.Stats).map(n=>e.weights[n]).filter(n=>!!n).length==0)return Y.error("All substat weights are set to 0. Make sure to set the substat weights for your character or use the Recommended presets button.",10),console.log("Top percent"),!1;const a=Z.getMetadata().lightCones[e.lightCone],i=Z.getMetadata().characters[e.characterId];return a.path!=i.path&&(Y.warning("Character path doesn't match light cone path.",10),console.log("Path mismatch")),!0},fixForm:e=>{const a=d.MAX_INT;e.statDisplay=window.store.getState().statDisplay||ai,e.maxHp=Ge(e.maxHp,a),e.minHp=Ge(e.minHp,0),e.maxAtk=Ge(e.maxAtk,a),e.minAtk=Ge(e.minAtk,0),e.maxDef=Ge(e.maxDef,a),e.minDef=Ge(e.minDef,0),e.maxSpd=Ge(e.maxSpd,a),e.minSpd=Ge(e.minSpd,0),e.maxCr=Ge(e.maxCr,a,100),e.minCr=Ge(e.minCr,0,100),e.maxCd=Ge(e.maxCd,a,100),e.minCd=Ge(e.minCd,0,100),e.maxEhr=Ge(e.maxEhr,a,100),e.minEhr=Ge(e.minEhr,0,100),e.maxRes=Ge(e.maxRes,a,100),e.minRes=Ge(e.minRes,0,100),e.maxBe=Ge(e.maxBe,a,100),e.minBe=Ge(e.minBe,0,100),e.maxErr=Ge(e.maxErr,a,100),e.minErr=Ge(e.minErr,0,100),e.maxWeight=Ge(e.maxWeight,a),e.minWeight=Ge(e.minWeight,0),e.maxEhp=Ge(e.maxEhp,a),e.minEhp=Ge(e.minEhp,0),e.maxBasic=Ge(e.maxBasic,a),e.minBasic=Ge(e.minBasic,0),e.maxSkill=Ge(e.maxSkill,a),e.minSkill=Ge(e.minSkill,0),e.maxUlt=Ge(e.maxUlt,a),e.minUlt=Ge(e.minUlt,0),e.maxFua=Ge(e.maxFua,a),e.minFua=Ge(e.minFua,0),e.maxDot=Ge(e.maxDot,a),e.minDot=Ge(e.minDot,0),e.maxBreak=Ge(e.maxBreak,a),e.minBreak=Ge(e.minBreak,0),e.maxCombo=Ge(e.maxCombo,a),e.minCombo=Ge(e.minCombo,0),e.combatBuffs||(e.combatBuffs={});for(const i of Object.values(Ji))e.combatBuffs[i.key]=Ge(e.combatBuffs[i.key],0,i.percent?100:0);e.combo||(e.combo={});for(const i of gn)e.combo[i]=Ge(e.combo[i],0,0);return e.mainHead=e.mainHead||[],e.mainHands=e.mainHands||[],e.mainBody=e.mainBody||[],e.mainFeet=e.mainFeet||[],e.mainPlanarSphere=e.mainPlanarSphere||[],e.mainLinkRope=e.mainLinkRope||[],e},updateFilters:()=>{if(window.optimizerForm&&window.onOptimizerFormValuesChange){const e=$.getForm();window.onOptimizerFormValuesChange({},e)}},resetFilters:()=>{console.info("@resetFilters");const e=$.getForm(),a={characterEidolon:e.characterEidolon,characterId:e.characterId,characterLevel:80,enhance:9,grade:5,mainStatUpscaleLevel:15,rankFilter:!0,includeEquippedRelics:!0,keepCurrentRelics:!1,lightCone:e.lightCone,lightConeLevel:80,lightConeSuperimposition:e.lightConeSuperimposition,mainBody:[],mainFeet:[],mainHands:[],mainHead:[],mainLinkRope:[],mainPlanarSphere:[],ornamentSets:[],relicSets:[]};window.optimizerForm.setFieldsValue($.getDisplayFormValues(a)),$.updateFilters()},setCharacter:e=>{window.store.getState().setOptimizerTabFocusCharacter(e),window.optimizerForm.setFieldValue("characterId",e),window.store.getState().setSavedSessionKey(nt.optimizerCharacterId,e),setTimeout(()=>Ie.save(),1e3)},updateCharacter:e=>{if(console.log("@updateCharacter",e),!e)return;const a=Z.getCharacterById(e),i=a?a.form:ms({id:e}),n=$.getDisplayFormValues(i);window.optimizerForm.setFieldsValue(n),setTimeout(()=>{var l;window.store.getState().setOptimizerFormSelectedLightCone(i.lightCone),window.store.getState().setOptimizerFormSelectedLightConeSuperimposition(i.lightConeSuperimposition),window.store.getState().setOptimizerTabFocusCharacter(e),window.store.getState().setOptimizerFormCharacterEidolon(i.characterEidolon),window.store.getState().setStatDisplay(i.statDisplay||ai),window.store.getState().setStatSimulations(((l=i.statSim)==null?void 0:l.simulations)||[]),window.onOptimizerFormValuesChange({},n)},50)},redrawRows:()=>{window.optimizerGrid.current.api.refreshCells({force:!0})},applyRowFilters:()=>{const e=$.getForm();e.statDisplay=window.store.getState().statDisplay,Os=e,console.log("Apply filters to rows",e),$.resetDataSource()}};function tt(e,a){if(e!=null)return e==0?void 0:parseFloat((a==!0?e*100:e).toFixed(3))}function ft(e,a){if(e!=null)return e==d.MAX_INT?void 0:parseFloat((a==!0?e*100:e).toFixed(3))}function Ge(e,a,i){return e==null?a:(i=i||1,e/i)}function Do(e){const a=Zs.getZeroes();for(const l of $.getColumnsToAggregate())a[l]=d.MAX_INT;function i(l){a[l]=d.MAX_INT,n[l]=0}const n=Zs.getZeroes();a.ED=d.MAX_INT,n.ED=0,a.WEIGHT=d.MAX_INT,n.WEIGHT=0,a.EHP=d.MAX_INT,n.EHP=0,i("BASIC"),i("SKILL"),i("ULT"),i("FUA"),i("DOT"),i("BREAK"),i("COMBO"),i("xATK"),i("xDEF"),i("xHP"),i("xSPD"),i("xCR"),i("xCD"),i("xEHR"),i("xRES"),i("xBE"),i("xERR"),i("xOHB"),i("xELEMENTAL_DMG");for(const l of e)for(const o of $.getColumnsToAggregate()){const r=l[o];r<a[o]&&(a[o]=r),r>n[o]&&(n[o]=r)}Ni={minAgg:a,maxAgg:n}}function $1(){ns.sort=="desc"?jl(ia).desc(ns.colId):jl(ia).asc(ns.colId)}function q1(e){const a=e.statDisplay=="combat",i=[];if(a)for(let n=0;n<ia.length;n++){const l=ia[n];l.xHP>=e.minHp&&l.xHP<=e.maxHp&&l.xATK>=e.minAtk&&l.xATK<=e.maxAtk&&l.xDEF>=e.minDef&&l.xDEF<=e.maxDef&&l.xSPD>=e.minSpd&&l.xSPD<=e.maxSpd&&l.xCR>=e.minCr&&l.xCR<=e.maxCr&&l.xCD>=e.minCd&&l.xCD<=e.maxCd&&l.xEHR>=e.minEhr&&l.xEHR<=e.maxEhr&&l.xRES>=e.minRes&&l.xRES<=e.maxRes&&l.xBE>=e.minBe&&l.xBE<=e.maxBe&&l.xERR>=e.minErr&&l.xERR<=e.maxErr&&l.EHP>=e.minEhp&&l.EHP<=e.maxEhp&&l.WEIGHT>=e.minWeight&&l.WEIGHT<=e.maxWeight&&l.BASIC>=e.minBasic&&l.BASIC<=e.maxBasic&&l.SKILL>=e.minSkill&&l.SKILL<=e.maxSkill&&l.ULT>=e.minUlt&&l.ULT<=e.maxUlt&&l.FUA>=e.minFua&&l.FUA<=e.maxFua&&l.DOT>=e.minDot&&l.DOT<=e.maxDot&&l.BREAK>=e.minBreak&&l.BREAK<=e.maxBreak&&l.COMBO>=e.minCombo&&l.COMBO<=e.maxCombo&&i.push(n)}else for(let n=0;n<ia.length;n++){const l=ia[n];l[d.Stats.HP]>=e.minHp&&l[d.Stats.HP]<=e.maxHp&&l[d.Stats.ATK]>=e.minAtk&&l[d.Stats.ATK]<=e.maxAtk&&l[d.Stats.DEF]>=e.minDef&&l[d.Stats.DEF]<=e.maxDef&&l[d.Stats.SPD]>=e.minSpd&&l[d.Stats.SPD]<=e.maxSpd&&l[d.Stats.CR]>=e.minCr&&l[d.Stats.CR]<=e.maxCr&&l[d.Stats.CD]>=e.minCd&&l[d.Stats.CD]<=e.maxCd&&l[d.Stats.EHR]>=e.minEhr&&l[d.Stats.EHR]<=e.maxEhr&&l[d.Stats.RES]>=e.minRes&&l[d.Stats.RES]<=e.maxRes&&l[d.Stats.BE]>=e.minBe&&l[d.Stats.BE]<=e.maxBe&&l[d.Stats.ERR]>=e.minErr&&l[d.Stats.ERR]<=e.maxErr&&l.EHP>=e.minEhp&&l.EHP<=e.maxEhp&&l.WEIGHT>=e.minWeight&&l.WEIGHT<=e.maxWeight&&l.BASIC>=e.minBasic&&l.BASIC<=e.maxBasic&&l.SKILL>=e.minSkill&&l.SKILL<=e.maxSkill&&l.ULT>=e.minUlt&&l.ULT<=e.maxUlt&&l.FUA>=e.minFua&&l.FUA<=e.maxFua&&l.DOT>=e.minDot&&l.DOT<=e.maxDot&&l.BREAK>=e.minBreak&&l.BREAK<=e.maxBreak&&l.COMBO>=e.minCombo&&l.COMBO<=e.maxCombo&&i.push(n)}sl=i}const Ei=36,ci={extractCharacter:(e,a)=>(a=a*Ei,{id:e[a],[d.Stats.HP]:e[a+1],[d.Stats.ATK]:e[a+2],[d.Stats.DEF]:e[a+3],[d.Stats.SPD]:e[a+4],[d.Stats.CD]:e[a+5],[d.Stats.CR]:e[a+6],[d.Stats.EHR]:e[a+7],[d.Stats.RES]:e[a+8],[d.Stats.BE]:e[a+9],[d.Stats.ERR]:e[a+10],[d.Stats.OHB]:e[a+11],ED:e[a+12],WEIGHT:e[a+13],EHP:e[a+14],BASIC:e[a+15],SKILL:e[a+16],ULT:e[a+17],FUA:e[a+18],DOT:e[a+19],BREAK:e[a+20],COMBO:e[a+21],xHP:e[a+22],xATK:e[a+23],xDEF:e[a+24],xSPD:e[a+25],xCR:e[a+26],xCD:e[a+27],xEHR:e[a+28],xRES:e[a+29],xBE:e[a+30],xERR:e[a+31],xOHB:e[a+32],xELEMENTAL_DMG:e[a+33],relicSetIndex:e[a+34],ornamentSetIndex:e[a+35]}),extractArrayToResults:(e,a,i,n)=>{for(let l=0;l<a&&e[l*Ei+1];l++){const o=ci.extractCharacter(e,l);n.fixedSizePush(o)}},packCharacter:(e,a,i)=>{a=a*Ei,e[a]=i.id,e[a+1]=i[t.HP],e[a+2]=i[t.ATK],e[a+3]=i[t.DEF],e[a+4]=i[t.SPD],e[a+5]=i[t.CD],e[a+6]=i[t.CR],e[a+7]=i[t.EHR],e[a+8]=i[t.RES],e[a+9]=i[t.BE],e[a+10]=i[t.ERR],e[a+11]=i[t.OHB],e[a+12]=i.ELEMENTAL_DMG,e[a+13]=i.x.WEIGHT,e[a+14]=i.x.EHP,e[a+15]=i.x.BASIC_DMG,e[a+16]=i.x.SKILL_DMG,e[a+17]=i.x.ULT_DMG,e[a+18]=i.x.FUA_DMG,e[a+19]=i.x.DOT_DMG,e[a+20]=i.x.BREAK_DMG,e[a+21]=i.x.COMBO_DMG,e[a+22]=i.x[t.HP],e[a+23]=i.x[t.ATK],e[a+24]=i.x[t.DEF],e[a+25]=i.x[t.SPD],e[a+26]=i.x[t.CR],e[a+27]=i.x[t.CD],e[a+28]=i.x[t.EHR],e[a+29]=i.x[t.RES],e[a+30]=i.x[t.BE],e[a+31]=i.x[t.ERR],e[a+32]=i.x[t.OHB],e[a+33]=i.x.ELEMENTAL_DMG,e[a+34]=i.relicSetIndex,e[a+35]=i.ornamentSetIndex},cleanFloatBuffer:e=>{new Float64Array(e).fill(0)},createFloatBuffer:e=>new Float64Array(e*Ei).buffer},m0="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IEw9IkN1cnJlbnQgdmVyc2lvbjogMi42djMgLSBDYWxjdWxhdGlvbnMgYXJlIHN1YmplY3QgdG8gY2hhbmdlLiIsbj17QVRLX1A6IkFUSyUiLEFUSzoiQVRLIixCRToiQnJlYWsgRWZmZWN0IixDRDoiQ1JJVCBETUciLENSOiJDUklUIFJhdGUiLERFRl9QOiJERUYlIixERUY6IkRFRiIsRUhSOiJFZmZlY3QgSGl0IFJhdGUiLEVSUjoiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixGaXJlX0RNRzoiRmlyZSBETUcgQm9vc3QiLEhQX1A6IkhQJSIsSFA6IkhQIixJY2VfRE1HOiJJY2UgRE1HIEJvb3N0IixJbWFnaW5hcnlfRE1HOiJJbWFnaW5hcnkgRE1HIEJvb3N0IixMaWdodG5pbmdfRE1HOiJMaWdodG5pbmcgRE1HIEJvb3N0IixPSEI6Ik91dGdvaW5nIEhlYWxpbmcgQm9vc3QiLFBoeXNpY2FsX0RNRzoiUGh5c2ljYWwgRE1HIEJvb3N0IixRdWFudHVtX0RNRzoiUXVhbnR1bSBETUcgQm9vc3QiLFJFUzoiRWZmZWN0IFJFUyIsU1BEX1A6IlNQRCUiLFNQRDoiU1BEIixXaW5kX0RNRzoiV2luZCBETUcgQm9vc3QifSxydD1bbi5IUF9QLG4uQVRLX1Asbi5ERUZfUCxuLkhQLG4uQVRLLG4uU1BELG4uQ1Isbi5DRCxuLkVIUixuLkJFLG4uT0hCLG4uRVJSLG4uUGh5c2ljYWxfRE1HLG4uRmlyZV9ETUcsbi5JY2VfRE1HLG4uTGlnaHRuaW5nX0RNRyxuLldpbmRfRE1HLG4uUXVhbnR1bV9ETUcsbi5JbWFnaW5hcnlfRE1HXSxjdD17W24uSFBfUF06ezU6e2Jhc2U6Ni45MTIsaW5jcmVtZW50OjIuNDE5Mn0sNDp7YmFzZTo1LjUyOTYsaW5jcmVtZW50OjEuOTM1NH0sMzp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX0sMjp7YmFzZToyLjc2NDgsaW5jcmVtZW50Oi45Njc3fX0sW24uQVRLX1BdOns1OntiYXNlOjYuOTEyLGluY3JlbWVudDoyLjQxOTJ9LDQ6e2Jhc2U6NS41Mjk2LGluY3JlbWVudDoxLjkzNTR9LDM6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDI6e2Jhc2U6Mi43NjQ4LGluY3JlbWVudDouOTY3N319LFtuLkRFRl9QXTp7NTp7YmFzZTo4LjY0LGluY3JlbWVudDozLjAyNH0sNDp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSwzOntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDI6e2Jhc2U6My40NTYsaW5jcmVtZW50OjEuMjA5Nn19LFtuLkhQXTp7NTp7YmFzZToxMTIuODk2LGluY3JlbWVudDozOS41MTM2fSw0OntiYXNlOjkwLjMxNjgsaW5jcmVtZW50OjMxLjYxMDg4fSwzOntiYXNlOjY3LjczNzYsaW5jcmVtZW50OjIzLjcwODE2fSwyOntiYXNlOjQ1LjE1ODQsaW5jcmVtZW50OjE1LjgwNTQ0fX0sW24uQVRLXTp7NTp7YmFzZTo1Ni40NDgsaW5jcmVtZW50OjE5Ljc1Njh9LDQ6e2Jhc2U6NDUuMTU4NCxpbmNyZW1lbnQ6MTUuODA1NDR9LDM6e2Jhc2U6MzMuODY4OCxpbmNyZW1lbnQ6MTEuODU0MDh9LDI6e2Jhc2U6MjIuNTc5MixpbmNyZW1lbnQ6Ny45MDI3Mn19LFtuLlNQRF06ezU6e2Jhc2U6NC4wMzIsaW5jcmVtZW50OjEuNH0sNDp7YmFzZTozLjIyNixpbmNyZW1lbnQ6MS4xfSwzOntiYXNlOjIuNDE5LGluY3JlbWVudDoxfSwyOntiYXNlOjEuNjEzLGluY3JlbWVudDoxfX0sW24uQ1JdOns1OntiYXNlOjUuMTg0LGluY3JlbWVudDoxLjgxNDR9LDQ6e2Jhc2U6NC4xNDcyLGluY3JlbWVudDoxLjQ1MTV9LDM6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDI6e2Jhc2U6Mi4wNzM2LGluY3JlbWVudDouNzI1OH19LFtuLkNEXTp7NTp7YmFzZToxMC4zNjgsaW5jcmVtZW50OjMuNjI4OH0sNDp7YmFzZTo4LjI5NDQsaW5jcmVtZW50OjIuOTAzfSwzOntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSwyOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fX0sW24uRUhSXTp7NTp7YmFzZTo2LjkxMixpbmNyZW1lbnQ6Mi40MTkyfSw0OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSwzOntiYXNlOjQuMTQ3MixpbmNyZW1lbnQ6MS40NTE1fSwyOntiYXNlOjIuNzY0OCxpbmNyZW1lbnQ6Ljk2Nzd9fSxbbi5CRV06ezU6e2Jhc2U6MTAuMzY4LGluY3JlbWVudDozLjYyODh9LDQ6e2Jhc2U6OC4yOTQ0LGluY3JlbWVudDoyLjkwM30sMzp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sMjp7YmFzZTo0LjE0NzIsaW5jcmVtZW50OjEuNDUxNX19LFtuLkVSUl06ezU6e2Jhc2U6My4xMTA0LGluY3JlbWVudDoxLjA4ODZ9LDQ6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX0sMzp7YmFzZToxLjg2NjIsaW5jcmVtZW50Oi42NTMyfSwyOntiYXNlOjEuMjQ0MixpbmNyZW1lbnQ6LjQzNTV9fSxbbi5PSEJdOns1OntiYXNlOjUuNTI5NixpbmNyZW1lbnQ6MS45MzU0fSw0OntiYXNlOjQuNDIzNyxpbmNyZW1lbnQ6MS41NDgzfSwzOntiYXNlOjMuMzE3OCxpbmNyZW1lbnQ6MS4xNjEyfSwyOntiYXNlOjIuMjExOCxpbmNyZW1lbnQ6Ljc3NDF9fSxbbi5QaHlzaWNhbF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbbi5GaXJlX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtuLkljZV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbbi5MaWdodG5pbmdfRE1HXTp7NTp7YmFzZTo2LjIyMDgsaW5jcmVtZW50OjIuMTc3M30sNDp7YmFzZTo0Ljk3NjYsaW5jcmVtZW50OjEuNzQxOH0sMzp7YmFzZTozLjczMjUsaW5jcmVtZW50OjEuMzA2NH0sMjp7YmFzZToyLjQ4ODMsaW5jcmVtZW50Oi44NzA5fX0sW24uV2luZF9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fSxbbi5RdWFudHVtX0RNR106ezU6e2Jhc2U6Ni4yMjA4LGluY3JlbWVudDoyLjE3NzN9LDQ6e2Jhc2U6NC45NzY2LGluY3JlbWVudDoxLjc0MTh9LDM6e2Jhc2U6My43MzI1LGluY3JlbWVudDoxLjMwNjR9LDI6e2Jhc2U6Mi40ODgzLGluY3JlbWVudDouODcwOX19LFtuLkltYWdpbmFyeV9ETUddOns1OntiYXNlOjYuMjIwOCxpbmNyZW1lbnQ6Mi4xNzczfSw0OntiYXNlOjQuOTc2NixpbmNyZW1lbnQ6MS43NDE4fSwzOntiYXNlOjMuNzMyNSxpbmNyZW1lbnQ6MS4zMDY0fSwyOntiYXNlOjIuNDg4MyxpbmNyZW1lbnQ6Ljg3MDl9fX0sZnQ9W24uSFBfUCxuLkFUS19QLG4uREVGX1Asbi5IUCxuLkFUSyxuLkRFRixuLlNQRCxuLkNSLG4uQ0Qsbi5FSFIsbi5SRVMsbi5CRV0sdXQ9e1tuLkhQX1BdOiJIUCAlIixbbi5BVEtfUF06IkFUSyAlIixbbi5ERUZfUF06IkRFRiAlIixbbi5TUERfUF06IlNQRCAlIixbbi5IUF06IkhQIixbbi5BVEtdOiJBVEsiLFtuLkRFRl06IkRFRiIsW24uU1BEXToiU1BEIixbbi5DUl06IkNSSVQgUmF0ZSIsW24uQ0RdOiJDUklUIERNRyIsW24uRUhSXToiRWZmZWN0IEhJVCIsW24uUkVTXToiRWZmZWN0IFJFUyIsW24uQkVdOiJCcmVhayBFZmZlY3QiLFtuLkVSUl06IkVuZXJneSBSZWdlbiIsW24uT0hCXToiSGVhbGluZyBCb29zdCIsW24uUGh5c2ljYWxfRE1HXToiUGh5c2ljYWwgRE1HIixbbi5GaXJlX0RNR106IkZpcmUgRE1HIixbbi5JY2VfRE1HXToiSWNlIERNRyIsW24uTGlnaHRuaW5nX0RNR106IkxpZ2h0bmluZyBETUciLFtuLldpbmRfRE1HXToiV2luZCBETUciLFtuLlF1YW50dW1fRE1HXToiUXVhbnR1bSBETUciLFtuLkltYWdpbmFyeV9ETUddOiJJbWFnaW5hcnkgRE1HIn0sSj17SGVhZDoiSGVhZCIsSGFuZHM6IkhhbmRzIixCb2R5OiJCb2R5IixGZWV0OiJGZWV0IixQbGFuYXJTcGhlcmU6IlBsYW5hclNwaGVyZSIsTGlua1JvcGU6IkxpbmtSb3BlIn0sbXQ9e1tKLkhlYWRdOiJIZWFkIixbSi5IYW5kc106IkhhbmRzIixbSi5Cb2R5XToiQm9keSIsW0ouRmVldF06IkZlZXQiLFtKLlBsYW5hclNwaGVyZV06IlNwaGVyZSIsW0ouTGlua1JvcGVdOiJSb3BlIn0sZHQ9e1tKLkhlYWRdOltuLkhQXSxbSi5IYW5kc106W24uQVRLXSxbSi5Cb2R5XTpbbi5IUF9QLG4uQVRLX1Asbi5ERUZfUCxuLkNSLG4uQ0Qsbi5PSEIsbi5FSFJdLFtKLkZlZXRdOltuLkhQX1Asbi5BVEtfUCxuLkRFRl9QLG4uU1BEXSxbSi5QbGFuYXJTcGhlcmVdOltuLkhQX1Asbi5BVEtfUCxuLkRFRl9QLG4uUGh5c2ljYWxfRE1HLG4uRmlyZV9ETUcsbi5JY2VfRE1HLG4uTGlnaHRuaW5nX0RNRyxuLldpbmRfRE1HLG4uUXVhbnR1bV9ETUcsbi5JbWFnaW5hcnlfRE1HXSxbSi5MaW5rUm9wZV06W24uSFBfUCxuLkFUS19QLG4uREVGX1Asbi5CRSxuLkVSUl19LERlPXtQYXNzZXJieU9mV2FuZGVyaW5nQ2xvdWQ6IlBhc3NlcmJ5IG9mIFdhbmRlcmluZyBDbG91ZCIsTXVza2V0ZWVyT2ZXaWxkV2hlYXQ6Ik11c2tldGVlciBvZiBXaWxkIFdoZWF0IixLbmlnaHRPZlB1cml0eVBhbGFjZToiS25pZ2h0IG9mIFB1cml0eSBQYWxhY2UiLEh1bnRlck9mR2xhY2lhbEZvcmVzdDoiSHVudGVyIG9mIEdsYWNpYWwgRm9yZXN0IixDaGFtcGlvbk9mU3RyZWV0d2lzZUJveGluZzoiQ2hhbXBpb24gb2YgU3RyZWV0d2lzZSBCb3hpbmciLEd1YXJkT2ZXdXRoZXJpbmdTbm93OiJHdWFyZCBvZiBXdXRoZXJpbmcgU25vdyIsRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZzoiRmlyZXNtaXRoIG9mIExhdmEtRm9yZ2luZyIsR2VuaXVzT2ZCcmlsbGlhbnRTdGFyczoiR2VuaXVzIG9mIEJyaWxsaWFudCBTdGFycyIsQmFuZE9mU2l6emxpbmdUaHVuZGVyOiJCYW5kIG9mIFNpenpsaW5nIFRodW5kZXIiLEVhZ2xlT2ZUd2lsaWdodExpbmU6IkVhZ2xlIG9mIFR3aWxpZ2h0IExpbmUiLFRoaWVmT2ZTaG9vdGluZ01ldGVvcjoiVGhpZWYgb2YgU2hvb3RpbmcgTWV0ZW9yIixXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQ6Ildhc3RlbGFuZGVyIG9mIEJhbmRpdHJ5IERlc2VydCIsTG9uZ2V2b3VzRGlzY2lwbGU6Ikxvbmdldm91cyBEaXNjaXBsZSIsTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlOiJNZXNzZW5nZXIgVHJhdmVyc2luZyBIYWNrZXJzcGFjZSIsVGhlQXNoYmxhemluZ0dyYW5kRHVrZToiVGhlIEFzaGJsYXppbmcgR3JhbmQgRHVrZSIsUHJpc29uZXJJbkRlZXBDb25maW5lbWVudDoiUHJpc29uZXIgaW4gRGVlcCBDb25maW5lbWVudCIsUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzOiJQaW9uZWVyIERpdmVyIG9mIERlYWQgV2F0ZXJzIixXYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9uczoiV2F0Y2htYWtlciwgTWFzdGVyIG9mIERyZWFtIE1hY2hpbmF0aW9ucyIsSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZToiSXJvbiBDYXZhbHJ5IEFnYWluc3QgdGhlIFNjb3VyZ2UiLFRoZVdpbmRTb2FyaW5nVmFsb3JvdXM6IlRoZSBXaW5kLVNvYXJpbmcgVmFsb3JvdXMiLFNhY2VyZG9zUmVsaXZlZE9yZGVhbDoiU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIixTY2hvbGFyTG9zdEluRXJ1ZGl0aW9uOiJTY2hvbGFyIExvc3QgaW4gRXJ1ZGl0aW9uIn0sQ2U9e1NwYWNlU2VhbGluZ1N0YXRpb246IlNwYWNlIFNlYWxpbmcgU3RhdGlvbiIsRmxlZXRPZlRoZUFnZWxlc3M6IkZsZWV0IG9mIHRoZSBBZ2VsZXNzIixQYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZToiUGFuLUNvc21pYyBDb21tZXJjaWFsIEVudGVycHJpc2UiLEJlbG9ib2dPZlRoZUFyY2hpdGVjdHM6IkJlbG9ib2cgb2YgdGhlIEFyY2hpdGVjdHMiLENlbGVzdGlhbERpZmZlcmVudGlhdG9yOiJDZWxlc3RpYWwgRGlmZmVyZW50aWF0b3IiLEluZXJ0U2Fsc290dG86IkluZXJ0IFNhbHNvdHRvIixUYWxpYUtpbmdkb21PZkJhbmRpdHJ5OiJUYWxpYTogS2luZ2RvbSBvZiBCYW5kaXRyeSIsU3ByaWdodGx5Vm9ud2FjcToiU3ByaWdodGx5IFZvbndhY3EiLFJ1dGlsYW50QXJlbmE6IlJ1dGlsYW50IEFyZW5hIixCcm9rZW5LZWVsOiJCcm9rZW4gS2VlbCIsRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDoiRmlybWFtZW50IEZyb250bGluZTogR2xhbW90aCIsUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXM6IlBlbmFjb255LCBMYW5kIG9mIHRoZSBEcmVhbXMiLFNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uOiJTaWdvbmlhLCB0aGUgVW5jbGFpbWVkIERlc29sYXRpb24iLEl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG06Ikl6dW1vIEdlbnNlaSBhbmQgVGFrYW1hIERpdmluZSBSZWFsbSIsRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzOiJEdXJhbiwgRHluYXN0eSBvZiBSdW5uaW5nIFdvbHZlcyIsRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybjoiRm9yZ2Ugb2YgdGhlIEthbHBhZ25pIExhbnRlcm4iLEx1c2hha2FUaGVTdW5rZW5TZWFzOiJMdXNoYWthLCB0aGUgU3Vua2VuIFNlYXMiLFRoZVdvbmRyb3VzQmFuYW5BbXVzZW1lbnRQYXJrOiJUaGUgV29uZHJvdXMgQmFuYW5BbXVzZW1lbnQgUGFyayJ9LG5lPXsuLi5EZSwuLi5DZX0sX2U9T2JqZWN0LnZhbHVlcyhEZSksZ2U9T2JqZWN0LnZhbHVlcyhDZSksRWU9e307Zm9yKGxldCBlPTA7ZTxnZS5sZW5ndGg7ZSsrKUVlW2dlW2VdXT1lO2NvbnN0IGNlPXt9O2ZvcihsZXQgZT0wO2U8X2UubGVuZ3RoO2UrKyljZVtfZVtlXV09ZTtPYmplY3QudmFsdWVzKERlKS5sZW5ndGgsT2JqZWN0LnZhbHVlcyhDZSkubGVuZ3RoO2NvbnN0IFo9e1NldHM6bmUsUGFydHM6SixTdGF0czpuLE1haW5TdGF0czpydCxNYWluU3RhdHNWYWx1ZXM6Y3QsU3ViU3RhdHM6ZnQsU2V0c09ybmFtZW50czpDZSxTZXRzUmVsaWNzOkRlLFNldHNSZWxpY3NOYW1lczpfZSxTZXRzT3JuYW1lbnRzTmFtZXM6Z2UsU3RhdHNUb1JlYWRhYmxlOnV0LFBhcnRzVG9SZWFkYWJsZTptdCxQYXJ0c01haW5TdGF0czpkdCxSZWxpY1NldFRvSW5kZXg6Y2UsT3JuYW1lbnRTZXRUb0luZGV4OkVlLE1BWF9JTlQ6MjE0NzQ4MzY0NyxUSFJFQURfQlVGRkVSX0xFTkdUSDoxNWU0fSxTdD0iU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIDF4IixodD0iU2FjZXJkb3MnIFJlbGl2ZWQgT3JkZWFsIDJ4IixBZT0zNixrZT17ZXh0cmFjdENoYXJhY3RlcjooZSxhKT0+KGE9YSpBZSx7aWQ6ZVthXSxbWi5TdGF0cy5IUF06ZVthKzFdLFtaLlN0YXRzLkFUS106ZVthKzJdLFtaLlN0YXRzLkRFRl06ZVthKzNdLFtaLlN0YXRzLlNQRF06ZVthKzRdLFtaLlN0YXRzLkNEXTplW2ErNV0sW1ouU3RhdHMuQ1JdOmVbYSs2XSxbWi5TdGF0cy5FSFJdOmVbYSs3XSxbWi5TdGF0cy5SRVNdOmVbYSs4XSxbWi5TdGF0cy5CRV06ZVthKzldLFtaLlN0YXRzLkVSUl06ZVthKzEwXSxbWi5TdGF0cy5PSEJdOmVbYSsxMV0sRUQ6ZVthKzEyXSxXRUlHSFQ6ZVthKzEzXSxFSFA6ZVthKzE0XSxCQVNJQzplW2ErMTVdLFNLSUxMOmVbYSsxNl0sVUxUOmVbYSsxN10sRlVBOmVbYSsxOF0sRE9UOmVbYSsxOV0sQlJFQUs6ZVthKzIwXSxDT01CTzplW2ErMjFdLHhIUDplW2ErMjJdLHhBVEs6ZVthKzIzXSx4REVGOmVbYSsyNF0seFNQRDplW2ErMjVdLHhDUjplW2ErMjZdLHhDRDplW2ErMjddLHhFSFI6ZVthKzI4XSx4UkVTOmVbYSsyOV0seEJFOmVbYSszMF0seEVSUjplW2ErMzFdLHhPSEI6ZVthKzMyXSx4RUxFTUVOVEFMX0RNRzplW2ErMzNdLHJlbGljU2V0SW5kZXg6ZVthKzM0XSxvcm5hbWVudFNldEluZGV4OmVbYSszNV19KSxleHRyYWN0QXJyYXlUb1Jlc3VsdHM6KGUsYSx0LGkpPT57Zm9yKGxldCBzPTA7czxhJiZlW3MqQWUrMV07cysrKXtjb25zdCBvPWtlLmV4dHJhY3RDaGFyYWN0ZXIoZSxzKTtpLmZpeGVkU2l6ZVB1c2gobyl9fSxwYWNrQ2hhcmFjdGVyOihlLGEsdCk9PnthPWEqQWUsZVthXT10LmlkLGVbYSsxXT10W24uSFBdLGVbYSsyXT10W24uQVRLXSxlW2ErM109dFtuLkRFRl0sZVthKzRdPXRbbi5TUERdLGVbYSs1XT10W24uQ0RdLGVbYSs2XT10W24uQ1JdLGVbYSs3XT10W24uRUhSXSxlW2ErOF09dFtuLlJFU10sZVthKzldPXRbbi5CRV0sZVthKzEwXT10W24uRVJSXSxlW2ErMTFdPXRbbi5PSEJdLGVbYSsxMl09dC5FTEVNRU5UQUxfRE1HLGVbYSsxM109dC54LldFSUdIVCxlW2ErMTRdPXQueC5FSFAsZVthKzE1XT10LnguQkFTSUNfRE1HLGVbYSsxNl09dC54LlNLSUxMX0RNRyxlW2ErMTddPXQueC5VTFRfRE1HLGVbYSsxOF09dC54LkZVQV9ETUcsZVthKzE5XT10LnguRE9UX0RNRyxlW2ErMjBdPXQueC5CUkVBS19ETUcsZVthKzIxXT10LnguQ09NQk9fRE1HLGVbYSsyMl09dC54W24uSFBdLGVbYSsyM109dC54W24uQVRLXSxlW2ErMjRdPXQueFtuLkRFRl0sZVthKzI1XT10Lnhbbi5TUERdLGVbYSsyNl09dC54W24uQ1JdLGVbYSsyN109dC54W24uQ0RdLGVbYSsyOF09dC54W24uRUhSXSxlW2ErMjldPXQueFtuLlJFU10sZVthKzMwXT10Lnhbbi5CRV0sZVthKzMxXT10Lnhbbi5FUlJdLGVbYSszMl09dC54W24uT0hCXSxlW2ErMzNdPXQueC5FTEVNRU5UQUxfRE1HLGVbYSszNF09dC5yZWxpY1NldEluZGV4LGVbYSszNV09dC5vcm5hbWVudFNldEluZGV4fSxjbGVhbkZsb2F0QnVmZmVyOmU9PntuZXcgRmxvYXQ2NEFycmF5KGUpLmZpbGwoMCl9LGNyZWF0ZUZsb2F0QnVmZmVyOmU9Pm5ldyBGbG9hdDY0QXJyYXkoZSpBZSkuYnVmZmVyfTtmdW5jdGlvbiB3KGUpe3JldHVybiBlPj4yfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIE1hdGgubWluKDEsZT4+MSl9Y29uc3QgeT0uMDYsVz0xLFY9MixVPTQsUj04LGllPTE2LGZlPTMyLEllPTY0LER0PXtCQVNJQ19ETUdfVFlQRTpXLFNLSUxMX0RNR19UWVBFOlYsVUxUX0RNR19UWVBFOlUsRlVBX0RNR19UWVBFOlIsRE9UX0RNR19UWVBFOmllLEJSRUFLX0RNR19UWVBFOmZlLFNVUEVSX0JSRUFLX0RNR19UWVBFOkllLCJIUCUiOjAsIkFUSyUiOjAsIkRFRiUiOjAsIlNQRCUiOjAsSFA6MCxBVEs6MCxERUY6MCxTUEQ6MWUtNCwiQ1JJVCBETUciOjAsIkNSSVQgUmF0ZSI6MCwiRWZmZWN0IEhpdCBSYXRlIjowLCJFZmZlY3QgUkVTIjowLCJCcmVhayBFZmZlY3QiOjAsIkVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZSI6MCwiT3V0Z29pbmcgSGVhbGluZyBCb29zdCI6MCwiUGh5c2ljYWwgRE1HIEJvb3N0IjowLCJGaXJlIERNRyBCb29zdCI6MCwiSWNlIERNRyBCb29zdCI6MCwiTGlnaHRuaW5nIERNRyBCb29zdCI6MCwiV2luZCBETUcgQm9vc3QiOjAsIlF1YW50dW0gRE1HIEJvb3N0IjowLCJJbWFnaW5hcnkgRE1HIEJvb3N0IjowLEVMRU1FTlRBTF9ETUc6MCxCQVNJQ19TQ0FMSU5HOjAsU0tJTExfU0NBTElORzowLFVMVF9TQ0FMSU5HOjAsRlVBX1NDQUxJTkc6MCxET1RfU0NBTElORzowLEJBU0lDX0NSX0JPT1NUOjAsU0tJTExfQ1JfQk9PU1Q6MCxVTFRfQ1JfQk9PU1Q6MCxGVUFfQ1JfQk9PU1Q6MCxCQVNJQ19DRF9CT09TVDowLFNLSUxMX0NEX0JPT1NUOjAsVUxUX0NEX0JPT1NUOjAsRlVBX0NEX0JPT1NUOjAsQkFTSUNfQk9PU1Q6MCxTS0lMTF9CT09TVDowLFVMVF9CT09TVDowLEZVQV9CT09TVDowLERPVF9CT09TVDowLFZVTE5FUkFCSUxJVFk6MCxCQVNJQ19WVUxORVJBQklMSVRZOjAsU0tJTExfVlVMTkVSQUJJTElUWTowLFVMVF9WVUxORVJBQklMSVRZOjAsRlVBX1ZVTE5FUkFCSUxJVFk6MCxET1RfVlVMTkVSQUJJTElUWTowLEJSRUFLX1ZVTE5FUkFCSUxJVFk6MCxERUZfUEVOOjAsQkFTSUNfREVGX1BFTjowLFNLSUxMX0RFRl9QRU46MCxVTFRfREVGX1BFTjowLEZVQV9ERUZfUEVOOjAsRE9UX0RFRl9QRU46MCxCUkVBS19ERUZfUEVOOjAsU1VQRVJfQlJFQUtfREVGX1BFTjowLFJFU19QRU46MCxQSFlTSUNBTF9SRVNfUEVOOjAsRklSRV9SRVNfUEVOOjAsSUNFX1JFU19QRU46MCxMSUdIVE5JTkdfUkVTX1BFTjowLFdJTkRfUkVTX1BFTjowLFFVQU5UVU1fUkVTX1BFTjowLElNQUdJTkFSWV9SRVNfUEVOOjAsQkFTSUNfUkVTX1BFTjowLFNLSUxMX1JFU19QRU46MCxVTFRfUkVTX1BFTjowLEZVQV9SRVNfUEVOOjAsRE9UX1JFU19QRU46MCxCQVNJQ19ETUc6MCxTS0lMTF9ETUc6MCxVTFRfRE1HOjAsRlVBX0RNRzowLERPVF9ETUc6MCxCUkVBS19ETUc6MCxDT01CT19ETUc6MCxETUdfUkVEX01VTFRJOjEsRUhQOjAsRE9UX0NIQU5DRTowLEVGRkVDVF9SRVNfUEVOOjAsRE9UX1NQTElUOjAsRE9UX1NUQUNLUzowLEVORU1ZX1dFQUtORVNTX0JST0tFTjowLFNVUEVSX0JSRUFLX01PRElGSUVSOjAsQkFTSUNfU1VQRVJfQlJFQUtfTU9ESUZJRVI6MCxTVVBFUl9CUkVBS19ITUNfTU9ESUZJRVI6MCxCQVNJQ19UT1VHSE5FU1NfRE1HOjAsU0tJTExfVE9VR0hORVNTX0RNRzowLFVMVF9UT1VHSE5FU1NfRE1HOjAsRlVBX1RPVUdITkVTU19ETUc6MCxCQVNJQ19PUklHSU5BTF9ETUdfQk9PU1Q6MCxTS0lMTF9PUklHSU5BTF9ETUdfQk9PU1Q6MCxVTFRfT1JJR0lOQUxfRE1HX0JPT1NUOjAsQkFTSUNfQlJFQUtfRE1HX01PRElGSUVSOjAsVUxUX0NEX09WRVJSSURFOjAsVUxUX0JPT1NUU19NVUxUSToxLFJBVElPX0JBU0VEX0hQX0JVRkY6MCxSQVRJT19CQVNFRF9IUF9QX0JVRkY6MCxSQVRJT19CQVNFRF9BVEtfQlVGRjowLFJBVElPX0JBU0VEX0FUS19QX0JVRkY6MCxSQVRJT19CQVNFRF9ERUZfQlVGRjowLFJBVElPX0JBU0VEX0RFRl9QX0JVRkY6MCxSQVRJT19CQVNFRF9TUERfQlVGRjowLFJBVElPX0JBU0VEX0NEX0JVRkY6MCxCUkVBS19FRkZJQ0lFTkNZX0JPT1NUOjAsQkFTSUNfQlJFQUtfRUZGSUNJRU5DWV9CT09TVDowLFVMVF9CUkVBS19FRkZJQ0lFTkNZX0JPT1NUOjAsc2V0czp7fSxXRUlHSFQ6MH0sQj0oZSxhPTgpPT57Y29uc3QgdD1NYXRoLnBvdygxMCxhKTtyZXR1cm4gTWF0aC5yb3VuZChlKnQpL3R9LHJlPShlLGEsdCk9Pntjb25zdCBpPUN0KGUuc2V0cy5UaGVBc2hibGF6aW5nR3JhbmREdWtlKSxvPS4wNiphLnNldENvbmRpdGlvbmFsc1taLlNldHMuVGhlQXNoYmxhemluZ0dyYW5kRHVrZV1bMV0qaSphLmJhc2VBdGs7cmV0dXJuIHQqaSphLmJhc2VBdGstb30scD0oZSxhKT0+ZS5maW5kKHQ9PnQuaWQ9PWEpLEN0PWU9PmU+PjIsej1lPT4oYSx0LGkpPT5hPj1lP2k6dCxiPXtTS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNTp7YmFzaWM6eig1KSxza2lsbDp6KDMpLHVsdDp6KDUpLHRhbGVudDp6KDMpfSxTS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNTp7YmFzaWM6eigzKSxza2lsbDp6KDMpLHVsdDp6KDUpLHRhbGVudDp6KDUpfSxVTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNTp7YmFzaWM6eig1KSxza2lsbDp6KDUpLHVsdDp6KDMpLHRhbGVudDp6KDMpfSxVTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNTp7YmFzaWM6eigzKSxza2lsbDp6KDUpLHVsdDp6KDMpLHRhbGVudDp6KDUpfSxTS0lMTF9VTFRfM19CQVNJQ19UQUxFTlRfNTp7YmFzaWM6eig1KSxza2lsbDp6KDMpLHVsdDp6KDMpLHRhbGVudDp6KDUpfX07ZnVuY3Rpb24gTyhlKXtlLkJBU0lDX0RNRys9ZS5CQVNJQ19TQ0FMSU5HKmVbbi5BVEtdLGUuU0tJTExfRE1HKz1lLlNLSUxMX1NDQUxJTkcqZVtuLkFUS10sZS5VTFRfRE1HKz1lLlVMVF9TQ0FMSU5HKmVbbi5BVEtdLGUuRlVBX0RNRys9ZS5GVUFfU0NBTElORyplW24uQVRLXSxlLkRPVF9ETUcrPWUuRE9UX1NDQUxJTkcqZVtuLkFUS119ZnVuY3Rpb24gSygpe3JldHVybmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguU0tJTExfRE1HICs9IHguU0tJTExfU0NBTElORyAqIHguQVRLOwp4LlVMVF9ETUcgKz0geC5VTFRfU0NBTElORyAqIHguQVRLOwp4LkZVQV9ETUcgKz0geC5GVUFfU0NBTElORyAqIHguQVRLOwp4LkRPVF9ETUcgKz0geC5ET1RfU0NBTElORyAqIHguQVRLOwogICAgYH1mdW5jdGlvbiB5ZShlKXtlLkJBU0lDX0RNRys9ZS5CQVNJQ19TQ0FMSU5HKmVbbi5IUF0sZS5TS0lMTF9ETUcrPWUuU0tJTExfU0NBTElORyplW24uSFBdLGUuVUxUX0RNRys9ZS5VTFRfU0NBTElORyplW24uSFBdLGUuRlVBX0RNRys9ZS5GVUFfU0NBTElORyplW24uSFBdLGUuRE9UX0RNRys9ZS5ET1RfU0NBTElORyplW24uSFBdfWZ1bmN0aW9uIExlKCl7cmV0dXJuYAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkhQOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkhQOwp4LlVMVF9ETUcgKz0geC5VTFRfU0NBTElORyAqIHguSFA7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogeC5IUDsKeC5ET1RfRE1HICs9IHguRE9UX1NDQUxJTkcgKiB4LkhQOwogICAgYH1mdW5jdGlvbiBxKGUsYSx0KXtlLkJBU0lDX0RNRys9ZS5CQVNJQ19TQ0FMSU5HKmVbbi5BVEtdLGUuU0tJTExfRE1HKz1lLlNLSUxMX1NDQUxJTkcqZVtuLkFUS10sZS5VTFRfRE1HKz1lLlVMVF9TQ0FMSU5HKmVbbi5BVEtdLGUuRlVBX0RNRys9ZS5GVUFfU0NBTElORyooZVtuLkFUS10rcmUoZSxhLHQpKSxlLkRPVF9ETUcrPWUuRE9UX1NDQUxJTkcqZVtuLkFUS119ZnVuY3Rpb24gaihlKXtyZXR1cm5gCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKeC5VTFRfRE1HICs9IHguVUxUX1NDQUxJTkcgKiB4LkFUSzsKeC5GVUFfRE1HICs9IHguRlVBX1NDQUxJTkcgKiAoeC5BVEsgKyBjYWxjdWxhdGVBc2hibGF6aW5nU2V0KHBfeCwgcF9zdGF0ZSwgJHtlfSkpOwp4LkRPVF9ETUcgKz0geC5ET1RfU0NBTElORyAqIHguQVRLOwogICAgYH1mdW5jdGlvbiBrKGUsYSx0LGkpe2khPT0hMSYmKGEmZS5CQVNJQ19ETUdfVFlQRSYmKGUuQkFTSUNfQk9PU1QrPXQpLGEmZS5TS0lMTF9ETUdfVFlQRSYmKGUuU0tJTExfQk9PU1QrPXQpLGEmZS5VTFRfRE1HX1RZUEUmJihlLlVMVF9CT09TVCs9dCksYSZlLkZVQV9ETUdfVFlQRSYmKGUuRlVBX0JPT1NUKz10KSxhJmUuRE9UX0RNR19UWVBFJiYoZS5ET1RfQk9PU1QrPXQpKX1mdW5jdGlvbiB0ZShlLGEsdCxpKXtpIT09ITEmJihhJmUuQkFTSUNfRE1HX1RZUEUmJihlLkJBU0lDX1ZVTE5FUkFCSUxJVFkrPXQpLGEmZS5TS0lMTF9ETUdfVFlQRSYmKGUuU0tJTExfVlVMTkVSQUJJTElUWSs9dCksYSZlLlVMVF9ETUdfVFlQRSYmKGUuVUxUX1ZVTE5FUkFCSUxJVFkrPXQpLGEmZS5GVUFfRE1HX1RZUEUmJihlLkZVQV9WVUxORVJBQklMSVRZKz10KSxhJmUuRE9UX0RNR19UWVBFJiYoZS5ET1RfVlVMTkVSQUJJTElUWSs9dCksYSZlLkJSRUFLX0RNR19UWVBFJiYoZS5CUkVBS19WVUxORVJBQklMSVRZKz10KSl9ZnVuY3Rpb24gdWUoZSxhLHQsaSl7aSE9PSExJiYoYSZlLkJBU0lDX0RNR19UWVBFJiYoZS5CQVNJQ19SRVNfUEVOKz10KSxhJmUuU0tJTExfRE1HX1RZUEUmJihlLlNLSUxMX1JFU19QRU4rPXQpLGEmZS5VTFRfRE1HX1RZUEUmJihlLlVMVF9SRVNfUEVOKz10KSxhJmUuRlVBX0RNR19UWVBFJiYoZS5GVUFfUkVTX1BFTis9dCksYSZlLkRPVF9ETUdfVFlQRSYmKGUuRE9UX1JFU19QRU4rPXQpKX1mdW5jdGlvbiBhZShlLGEsdCxpKXtpIT09ITEmJihhJmUuQkFTSUNfRE1HX1RZUEUmJihlLkJBU0lDX0RFRl9QRU4rPXQpLGEmZS5TS0lMTF9ETUdfVFlQRSYmKGUuU0tJTExfREVGX1BFTis9dCksYSZlLlVMVF9ETUdfVFlQRSYmKGUuVUxUX0RFRl9QRU4rPXQpLGEmZS5GVUFfRE1HX1RZUEUmJihlLkZVQV9ERUZfUEVOKz10KSxhJmUuRE9UX0RNR19UWVBFJiYoZS5ET1RfREVGX1BFTis9dCksYSZlLkJSRUFLX0RNR19UWVBFJiYoZS5CUkVBS19ERUZfUEVOKz10KSxhJmUuU1VQRVJfQlJFQUtfRE1HX1RZUEUmJihlLlNVUEVSX0JSRUFLX0RFRl9QRU4rPXQpKX1mdW5jdGlvbiBwZShlLGEsdCxpKXtpIT09ITEmJihhJmUuQkFTSUNfRE1HX1RZUEUmJihlLkJBU0lDX0NSX0JPT1NUKz10KSxhJmUuU0tJTExfRE1HX1RZUEUmJihlLlNLSUxMX0NSX0JPT1NUKz10KSxhJmUuVUxUX0RNR19UWVBFJiYoZS5VTFRfQ1JfQk9PU1QrPXQpLGEmZS5GVUFfRE1HX1RZUEUmJihlLkZVQV9DUl9CT09TVCs9dCkpfWZ1bmN0aW9uIHNlKGUsYSx0LGkpe2khPT0hMSYmKGEmZS5CQVNJQ19ETUdfVFlQRSYmKGUuQkFTSUNfQ0RfQk9PU1QrPXQpLGEmZS5TS0lMTF9ETUdfVFlQRSYmKGUuU0tJTExfQ0RfQk9PU1QrPXQpLGEmZS5VTFRfRE1HX1RZUEUmJihlLlVMVF9DRF9CT09TVCs9dCksYSZlLkZVQV9ETUdfVFlQRSYmKGUuRlVBX0NEX0JPT1NUKz10KSl9dmFyIEV0PWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUsbz1lPj00PzEyOjEwLGw9YShlLDEsMS4xKSxkPXQoZSwxLjIsMS4zMiksQz1pKGUsMS42LDEuNzI4KSxFPWkoZSwyLjgsMy4wMjQpLEQ9aShlLC45NSwxLjAyNiksbT1zKGUsLjAyNSwuMDI4KSxmPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEVuaGFuY2VkIixuYW1lOiJ1bHRFbmhhbmNlZCIsdGV4dDoiRW5oYW5jZWQgdWx0Iix0aXRsZToiRW5oYW5jZWQgdWx0Iixjb250ZW50OmBDb25zdW1lcyAxODAgRW5lcmd5IGFuZCBkZWFscyBQaHlzaWNhbCBETUcgZXF1YWwgdG8gJHtCKEUqMTAwKX0lIG9mIEFyZ2VudGkncyBBVEsgdG8gYWxsIGVuZW1pZXMsCiAgICAgIGFuZCBmdXJ0aGVyIGRlYWxzIERNRyBmb3IgNiBleHRyYSB0aW1lKHMpLCB3aXRoIGVhY2ggdGltZSBkZWFsaW5nIFBoeXNpY2FsIERNRyBlcXVhbCB0byAke0IoRCoxMDApfSUgb2YgQXJnZW50aSdzIEFUSyB0byBhIHJhbmRvbSBlbmVteS5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15SHA1MCIsbmFtZToiZW5lbXlIcDUwIix0ZXh0OiJFbmVteSBIUCDiiaQgNTAlIERNRyBib29zdCIsdGl0bGU6IkNvdXJhZ2UiLGNvbnRlbnQ6IkRlYWxzIDE1JSBtb3JlIERNRyB0byBlbmVtaWVzIHdob3NlIEhQIHBlcmNlbnRhZ2UgaXMgNTAlIG9yIGxlc3MuIn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTdGFja3MiLG5hbWU6InRhbGVudFN0YWNrcyIsdGV4dDoiQXBvdGhlb3NpcyBzdGFja3MiLHRpdGxlOiJBcG90aGVvc2lzIHN0YWNrcyIsY29udGVudDpgSW5jcmVhc2VzIENSIGJ5ICR7QihtKjEwMCl9JSBwZXIgc3RhY2ssIG1heCBvZiAke0Iobyl9IHN0YWNrcy5gLG1pbjowLG1heDpvfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InVsdEVuaGFuY2VkRXh0cmFIaXRzIixuYW1lOiJ1bHRFbmhhbmNlZEV4dHJhSGl0cyIsdGV4dDoiRW5oYW5jZWQgdWx0IGV4dHJhIGhpdHMgb24gdGFyZ2V0Iix0aXRsZToiRW5oYW5jZWQgdWx0IGV4dHJhIGhpdHMgb24gdGFyZ2V0Iixjb250ZW50OmBFbmhhbmNlZCBVbHQgaGl0cyBhIHJhbmRvbSBlbmVteSBmb3IgJHtCKEQqMTAwKX0lIEFUSyBwZXIgaGl0LmAsbWluOjAsbWF4OjZ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJVbHRBdGtCdWZmIixuYW1lOiJlMlVsdEF0a0J1ZmYiLHRleHQ6IkUyIHVsdCBBVEsgYnVmZiIsdGl0bGU6IkUyIHVsdCBBVEsgYnVmZiIsY29udGVudDpgRTI6IElmIHRoZSBudW1iZXIgb2YgZW5lbWllcyBvbiB0aGUgZmllbGQgZXF1YWxzIHRvIDMgb3IgbW9yZSwgaW5jcmVhc2VzIEFUSyBieSAke0IoLjQqMTAwKX0lIGZvciAxIHR1cm4uYCxkaXNhYmxlZDplPDJ9XTtyZXR1cm57Y29udGVudDooKT0+Zix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3VsdEVuaGFuY2VkOiEwLHRhbGVudFN0YWNrczpvLHVsdEVuaGFuY2VkRXh0cmFIaXRzOjYsZTJVbHRBdGtCdWZmOiEwLGVuZW15SHA1MDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiByW24uQ1JdKz1jLnRhbGVudFN0YWNrcyptLHJbbi5DRF0rPWU+PTE/Yy50YWxlbnRTdGFja3MqLjA0OjAscltuLkFUS19QXSs9ZT49MiYmYy5lMlVsdEF0a0J1ZmY/LjQ6MCxyLkJBU0lDX1NDQUxJTkcrPWwsci5TS0lMTF9TQ0FMSU5HKz1kLHIuVUxUX1NDQUxJTkcrPWMudWx0RW5oYW5jZWQ/RTpDLHIuVUxUX1NDQUxJTkcrPWMudWx0RW5oYW5jZWRFeHRyYUhpdHMqRCxyLkVMRU1FTlRBTF9ETUcrPWMuZW5lbXlIcDUwPy4xNTowLGFlKHIsVSwuMyxlPj02KSxyLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHIuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsci5VTFRfVE9VR0hORVNTX0RNRys9Yy51bHRFbmhhbmNlZD82MCsxNSpjLnVsdEVuaGFuY2VkRXh0cmFIaXRzOjYwLHJ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihyLHUpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpyPT5PKHIpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxBdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPXQoZSwyLjQsMi42NCksZD1pKGUsMy4yLDMuNDU2KSxDPXMoZSwuNzIsLjc5MiksRT1be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJzZWxmQ3VycmVudEhwUGVyY2VudCIsbmFtZToic2VsZkN1cnJlbnRIcFBlcmNlbnQiLHRleHQ6IlNlbGYgY3VycmVudCBIUCUiLHRpdGxlOiJTZWxmIGN1cnJlbnQgSFAlIixjb250ZW50OmBJbmNyZWFzZXMgQXJsYW4ncyBETUcgZm9yIGV2ZXJ5IHBlcmNlbnQgb2YgSFAgYmVsb3cgaGlzIE1heCBIUCwgdXAgdG8gYSBtYXggb2YgJHtCKEMqMTAwKX0lIG1vcmUgRE1HLmAsbWluOi4wMSxtYXg6MSxwZXJjZW50OiEwfV07cmV0dXJue2NvbnRlbnQ6KCk9PkUsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtzZWxmQ3VycmVudEhwUGVyY2VudDoxfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooRCxtKT0+e2NvbnN0IGY9bS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEQuRUxFTUVOVEFMX0RNRys9TWF0aC5taW4oQywxLWYuc2VsZkN1cnJlbnRIcFBlcmNlbnQpLEQuQkFTSUNfU0NBTElORys9byxELlNLSUxMX1NDQUxJTkcrPWwsRC5VTFRfU0NBTElORys9ZCxrKEQsViwuMSxlPj0xJiZmLnNlbGZDdXJyZW50SHBQZXJjZW50PD0uNSksayhELFUsLjIsZT49NiYmZi5zZWxmQ3VycmVudEhwUGVyY2VudDw9LjUpLEQuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsRC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxELlVMVF9UT1VHSE5FU1NfRE1HKz02MCxEfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooRCxtKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6RD0+TyhEKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sQnQ9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxvPWkoZSw1MCw1Mi44KSxsPXMoZSwuMTQsLjE1NCksZD0uMDYsQz1lPj0xPzU6NCxFPWEoZSwxLDEuMSksRD10KGUsLjUsLjU1KSxtPWkoZSwwLDApLGY9YShlLC41LC41NSkscj1be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJza2lsbEV4dHJhRG1nSGl0cyIsbmFtZToic2tpbGxFeHRyYURtZ0hpdHMiLHRleHQ6IlNraWxsIGV4dHJhIGhpdHMiLHRpdGxlOiJTa2lsbDogTWV0ZW9yIFN0b3JtIixjb250ZW50OmBEZWFscyA1MCUgQVRLIERNRyBlcXVhbCB0byBhIHNpbmdsZSBlbmVteS4gRGVhbHMgRE1HIGZvciAke0IoQyl9IGV4dHJhIHRpbWVzIHRvIGEgcmFuZG9tIGVuZW15LgogICAgOjpCUjo6CiAgICBFMTogV2hlbiB1c2luZyBTa2lsbCwgZGVhbHMgRE1HIGZvciAxIGV4dHJhIHRpbWUgdG8gYSByYW5kb20gZW5lbXkuYCxtaW46MCxtYXg6Q30se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRCdWZmU3RhY2tzIixuYW1lOiJ0YWxlbnRCdWZmU3RhY2tzIix0ZXh0OiJUYWxlbnQgQVRLIGJ1ZmYgc3RhY2tzIix0aXRsZToiVGFsZW50OiBBc3Ryb21ldHJ5Iixjb250ZW50OmBJbmNyZWFzZXMgYWxsaWVzJyBBVEsgYnkgJHtCKGwqMTAwKX0lIGZvciBldmVyeSBzdGFjay4KICAgIDo6QlI6OgogICAgRTQ6IEFzdGEncyBFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUgaW5jcmVhc2VzIGJ5IDE1JSB3aGVuIHNoZSBoYXMgMiBvciBtb3JlIENoYXJnaW5nIHN0YWNrcy5gLG1pbjowLG1heDo1fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdFNwZEJ1ZmYiLG5hbWU6InVsdFNwZEJ1ZmYiLHRleHQ6IlVsdCBTUEQgYnVmZiBhY3RpdmUiLHRpdGxlOiJVbHRpbWF0ZTogQXN0cmFsIEJsZXNzaW5nIixjb250ZW50OmBJbmNyZWFzZXMgU1BEIG9mIGFsbCBhbGxpZXMgYnkgJHtCKG8pfSBmb3IgMiB0dXJuKHMpLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZmlyZURtZ0Jvb3N0IixuYW1lOiJmaXJlRG1nQm9vc3QiLHRleHQ6IkZpcmUgRE1HIGJvb3N0Iix0aXRsZToiVHJhY2U6IElnbml0ZSIsY29udGVudDoiV2hlbiBBc3RhIGlzIG9uIHRoZSBmaWVsZCwgYWxsIGFsbGllcycgRmlyZSBETUcgaW5jcmVhc2VzIGJ5IDE4JS4ifV0sdT1bcChyLCJ0YWxlbnRCdWZmU3RhY2tzIikscChyLCJ1bHRTcGRCdWZmIikscChyLCJmaXJlRG1nQm9vc3QiKV07cmV0dXJue2NvbnRlbnQ6KCk9PnIsdGVhbW1hdGVDb250ZW50OigpPT51LGRlZmF1bHRzOigpPT4oe3RhbGVudEJ1ZmZTdGFja3M6NSxza2lsbEV4dHJhRG1nSGl0czpDLHVsdFNwZEJ1ZmY6ITAsZmlyZURtZ0Jvb3N0OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YWxlbnRCdWZmU3RhY2tzOjUsdWx0U3BkQnVmZjohMCxmaXJlRG1nQm9vc3Q6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooYyxTKT0+e2NvbnN0IGg9Uy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGNbbi5ERUZfUF0rPWgudGFsZW50QnVmZlN0YWNrcypkLGNbbi5FUlJdKz1lPj00JiZoLnRhbGVudEJ1ZmZTdGFja3M+PTI/LjE1OjAsYy5CQVNJQ19TQ0FMSU5HKz1FLGMuU0tJTExfU0NBTElORys9RCtoLnNraWxsRXh0cmFEbWdIaXRzKkQsYy5VTFRfU0NBTElORys9bSxjLkRPVF9TQ0FMSU5HKz1mLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCsxNSpoLnNraWxsRXh0cmFEbWdIaXRzLGMuRE9UX0NIQU5DRT0uOCxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxTKT0+e2NvbnN0IGg9Uy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Y1tuLlNQRF0rPWgudWx0U3BkQnVmZj9vOjAsY1tuLkFUS19QXSs9aC50YWxlbnRCdWZmU3RhY2tzKmwsY1tuLkZpcmVfRE1HXSs9aC5maXJlRG1nQm9vc3Q/LjE4OjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmM9Pk8oYyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LF90PWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0Oml9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUscz1hKGUsMSwxLjEpLG89dChlLDAsMCksbD1pKGUsMCwwKSxkPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImhlYWxpbmdNYXhIcEJ1ZmYiLG5hbWU6ImhlYWxpbmdNYXhIcEJ1ZmYiLHRleHQ6IkhlYWxpbmcgbWF4IEhQIGJ1ZmYiLHRpdGxlOiJIZWFsaW5nIG1heCBIUCBidWZmIixjb250ZW50OmBXaGVuIEJhaWx1IGhlYWxzIGEgdGFyZ2V0IGFsbHkgYWJvdmUgdGhlaXIgbm9ybWFsIE1heCBIUCwgdGhlIHRhcmdldCdzIE1heCBIUCBpbmNyZWFzZXMgYnkgJHtCKC4xKjEwMCl9JSBmb3IgMiB0dXJucy5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYiLG5hbWU6InRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYiLHRleHQ6Ikludmlnb3JhdGlvbiBETUcgcmVkdWN0aW9uIix0aXRsZToiSW52aWdvcmF0aW9uIERNRyByZWR1Y3Rpb24iLGNvbnRlbnQ6YENoYXJhY3RlcnMgd2l0aCBJbnZpZ29yYXRpb24gdGFrZSAke0IoLjEqMTAwKX0lIGxlc3MgRE1HLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJVbHRIZWFsaW5nQnVmZiIsbmFtZToiZTJVbHRIZWFsaW5nQnVmZiIsdGV4dDoiRTIgdWx0IGhlYWxpbmcgYnVmZiIsdGl0bGU6IkUyIHVsdCBoZWFsaW5nIGJ1ZmYiLGNvbnRlbnQ6YEUyOiBJbmNyZWFzZXMgaGVhbGluZyBieSAke0IoLjE1KjEwMCl9JSBhZnRlciBVbHRpbWF0ZS5gLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MiLG5hbWU6ImU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcyIsdGV4dDoiRTQgc2tpbGwgaGVhbGluZyBETUcgYnVmZiBzdGFja3MiLHRpdGxlOiJFNCBza2lsbCBoZWFsaW5nIERNRyBidWZmIHN0YWNrcyIsY29udGVudDpgRTQ6IEV2ZXJ5IGhlYWxpbmcgcHJvdmlkZWQgYnkgQmFpbHUncyBTa2lsbCBtYWtlcyB0aGUgcmVjaXBpZW50IGRlYWwgJHtCKC4xKjEwMCl9JSBtb3JlIERNRyBmb3IgMiB0dXJucy4gVGhpcyBlZmZlY3QgY2FuIHN0YWNrIHVwIHRvIDMgdGltZXMuYCxtaW46MCxtYXg6MyxkaXNhYmxlZDplPDR9XSxDPVtwKGQsImhlYWxpbmdNYXhIcEJ1ZmYiKSxwKGQsInRhbGVudERtZ1JlZHVjdGlvbkJ1ZmYiKSxwKGQsImU0U2tpbGxIZWFsaW5nRG1nQnVmZlN0YWNrcyIpXTtyZXR1cm57Y29udGVudDooKT0+ZCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7aGVhbGluZ01heEhwQnVmZjohMCx0YWxlbnREbWdSZWR1Y3Rpb25CdWZmOiEwLGUyVWx0SGVhbGluZ0J1ZmY6ITAsZTRTa2lsbEhlYWxpbmdEbWdCdWZmU3RhY2tzOjB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2hlYWxpbmdNYXhIcEJ1ZmY6ITAsdGFsZW50RG1nUmVkdWN0aW9uQnVmZjohMCxlNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3M6M30pLHByZWNvbXB1dGVFZmZlY3RzOihFLEQpPT57Y29uc3QgbT1ELmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRVtuLk9IQl0rPWU+PTImJm0uZTJVbHRIZWFsaW5nQnVmZj8uMTU6MCxFLkJBU0lDX1NDQUxJTkcrPXMsRS5TS0lMTF9TQ0FMSU5HKz1vLEUuVUxUX1NDQUxJTkcrPWwsRS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxFfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooRSxEKT0+e2NvbnN0IG09RC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7RVtuLkhQX1BdKz1tLmhlYWxpbmdNYXhIcEJ1ZmY/LjE6MCxFLkVMRU1FTlRBTF9ETUcrPWU+PTQ/bS5lNFNraWxsSGVhbGluZ0RtZ0J1ZmZTdGFja3MqLjE6MCxFLkRNR19SRURfTVVMVEkqPW0udGFsZW50RG1nUmVkdWN0aW9uQnVmZj8xLS4xOjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOkU9Pk8oRSksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19O2NvbnN0IHY9e1NFVDowLEFCSUxJVFk6MX0sUD17U0lOR0xFOjAsQ09OVElOVU9VUzoxfSxHZT17aWQ6IlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCIsdHlwZTp2LlNFVCxhY3RpdmF0aW9uOlAuU0lOR0xFLGRlcGVuZHNPbjpbbi5DUl0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsYSx0KXtyZXR1cm4gVChlLnNldHMuUnV0aWxhbnRBcmVuYSkmJmVbbi5DUl0+PS43fSxlZmZlY3Q6ZT0+e2soZSxXfFYsLjIpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLlJ1dGlsYW50QXJlbmEpID49IDEgJiYKICAoKnBfc3RhdGUpLlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuQ1IgPj0gMC43MAopIHsKICAoKnBfc3RhdGUpLlJ1dGlsYW50QXJlbmFDb25kaXRpb25hbCA9IDEuMDsKCiAgYnVmZkFiaWxpdHlEbWcocF94LCBCQVNJQ19UWVBFIHwgU0tJTExfVFlQRSwgMC4yMCwgMSk7Cn0KICAgIGApfX0sTWU9e2lkOiJJbmVydFNhbHNvdHRvQ29uZGl0aW9uYWwiLHR5cGU6di5TRVQsYWN0aXZhdGlvbjpQLlNJTkdMRSxkZXBlbmRzT246W24uQ1JdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIFQoZS5zZXRzLkluZXJ0U2Fsc290dG8pJiZlW24uQ1JdPj0uNX0sZWZmZWN0OmU9PntrKGUsVXxSLC4xNSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuSW5lcnRTYWxzb3R0bykgPj0gMSAmJgogICgqcF9zdGF0ZSkuSW5lcnRTYWxzb3R0b0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5DUiA+PSAwLjUwCikgewogICgqcF9zdGF0ZSkuSW5lcnRTYWxzb3R0b0NvbmRpdGlvbmFsID0gMS4wOwoKICBidWZmQWJpbGl0eURtZyhwX3gsIFVMVF9UWVBFIHwgRlVBX1RZUEUsIDAuMTUsIDEpOwp9CiAgICBgKX19LFJlPXtpZDoiU3BhY2VTZWFsaW5nU3RhdGlvbkNvbmRpdGlvbmFsIix0eXBlOnYuU0VULGFjdGl2YXRpb246UC5TSU5HTEUsZGVwZW5kc09uOltuLlNQRF0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsYSx0KXtyZXR1cm4gVChlLnNldHMuU3BhY2VTZWFsaW5nU3RhdGlvbikmJmVbbi5TUERdPj0xMjB9LGVmZmVjdDooZSxhLHQpPT57RihlLGEsdCxuLkFUSywuMTIqdC5iYXNlQVRLKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIE4odGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5TcGFjZVNlYWxpbmdTdGF0aW9uKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5TcGFjZVNlYWxpbmdTdGF0aW9uQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLlNQRCA+PSAxMjAKKSB7CiAgKCpwX3N0YXRlKS5TcGFjZVNlYWxpbmdTdGF0aW9uQ29uZGl0aW9uYWwgPSAxLjA7CiAgYnVmZk5vbkR5bmFtaWNBVEtfUCgwLjEyLCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19LFBlPXtpZDoiRmxlZXRPZlRoZUFnZWxlc3NDb25kaXRpb25hbCIsdHlwZTp2LlNFVCxhY3RpdmF0aW9uOlAuU0lOR0xFLGRlcGVuZHNPbjpbbi5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIFQoZS5zZXRzLkZsZWV0T2ZUaGVBZ2VsZXNzKSYmZVtuLlNQRF0+PTEyMH0sZWZmZWN0OihlLGEsdCk9PntGKGUsYSx0LG4uQVRLLC4wOCp0LmJhc2VBVEspfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkZsZWV0T2ZUaGVBZ2VsZXNzKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5GbGVldE9mVGhlQWdlbGVzc0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTIwCikgewogICgqcF9zdGF0ZSkuRmxlZXRPZlRoZUFnZWxlc3NDb25kaXRpb25hbCA9IDEuMDsKICBidWZmTm9uRHluYW1pY0FUS19QKDAuMDgsIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX0sVWU9e2lkOiJCZWxvYm9nT2ZUaGVBcmNoaXRlY3RzQ29uZGl0aW9uYWwiLHR5cGU6di5TRVQsYWN0aXZhdGlvbjpQLlNJTkdMRSxkZXBlbmRzT246W24uRUhSXSxjb25kaXRpb246ZnVuY3Rpb24oZSxhLHQpe3JldHVybiBUKGUuc2V0cy5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzKSYmZVtuLkVIUl0+PS41fSxlZmZlY3Q6KGUsYSx0KT0+e0YoZSxhLHQsbi5ERUYsLjE1KnQuYmFzZURFRil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0cykgPj0gMSAmJgogICgqcF9zdGF0ZSkuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0c0NvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5FSFIgPj0gMC41MAopIHsKICAoKnBfc3RhdGUpLkJlbG9ib2dPZlRoZUFyY2hpdGVjdHNDb25kaXRpb25hbCA9IDEuMDsKICBidWZmTm9uRHluYW1pY0RFRl9QKDAuMTUsIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX0sdmU9e2lkOiJJcm9uQ2F2YWxyeUFnYWluc3RUaGVTY291cmdlMTUwQ29uZGl0aW9uYWwiLHR5cGU6di5TRVQsYWN0aXZhdGlvbjpQLlNJTkdMRSxkZXBlbmRzT246W24uQkVdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIHcoZS5zZXRzLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpJiZlW24uQkVdPj0xLjV9LGVmZmVjdDplPT57YWUoZSxmZSwuMSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgcDQoKCpwX3gpLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTE1MENvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5CRSA+PSAxLjUwCikgewogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTE1MENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZBYmlsaXR5RGVmU2hyZWQocF94LCBCUkVBS19UWVBFLCAwLjEwLCAxKTsKfQogICAgYCl9fSxOZT17aWQ6Iklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UyNTBDb25kaXRpb25hbCIsdHlwZTp2LlNFVCxhY3RpdmF0aW9uOlAuU0lOR0xFLGRlcGVuZHNPbjpbbi5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsYSx0KXtyZXR1cm4gdyhlLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkmJmVbbi5CRV0+PTIuNX0sZWZmZWN0OmU9PnthZShlLEllLC4xNSl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgcDQoKCpwX3gpLnNldHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTI1MENvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5CRSA+PSAyLjUwCikgewogICgqcF9zdGF0ZSkuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTI1MENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZBYmlsaXR5RGVmU2hyZWQocF94LCBTVVBFUl9CUkVBS19UWVBFLCAwLjE1LCAxKTsKfQogICAgYCl9fSxIZT17aWQ6IlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlQ29uZGl0aW9uYWwiLHR5cGU6di5TRVQsYWN0aXZhdGlvbjpQLkNPTlRJTlVPVVMsZGVwZW5kc09uOltuLkVIUl0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsYSx0KXtyZXR1cm4gVChlLnNldHMuUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2UpfSxlZmZlY3Q6ZnVuY3Rpb24oZSxhLHQpe2NvbnN0IGk9dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLHM9TWF0aC5taW4oLjI1LC4yNSplW24uRUhSXSkqdC5iYXNlQVRLO3JldHVybiB0LmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09cyxGKGUsYSx0LG4uQVRLLHMtaSksc30sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIE4odGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSkgPj0gMQopIHsKICBsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZUNvbmRpdGlvbmFsOwogIGxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigwLjI1LCAwLjI1ICogKCpwX3gpLkVIUikgKiBiYXNlQVRLOwoKICAoKnBfc3RhdGUpLlBhbkNvc21pY0NvbW1lcmNpYWxFbnRlcnByaXNlQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CiAgYnVmZk5vbkR5bmFtaWNBVEsoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxPZT17aWQ6IkJyb2tlbktlZWxDb25kaXRpb25hbCIsdHlwZTp2LlNFVCxhY3RpdmF0aW9uOlAuU0lOR0xFLGRlcGVuZHNPbjpbbi5SRVNdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIFQoZS5zZXRzLkJyb2tlbktlZWwpJiZlW24uUkVTXT49LjN9LGVmZmVjdDpmdW5jdGlvbihlLGEsdCl7RihlLGEsdCxuLkNELC4xKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIE4odGhpcyxgCmlmICgKICBwMigoKnBfeCkuc2V0cy5Ccm9rZW5LZWVsKSA+PSAxICYmCiAgKCpwX3N0YXRlKS5Ccm9rZW5LZWVsQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLlJFUyA+PSAwLjMwCikgewogICgqcF9zdGF0ZSkuQnJva2VuS2VlbENvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQ0QoMC4xMCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxLZT17aWQ6IkNlbGVzdGlhbERpZmZlcmVudGlhdG9yQ29uZGl0aW9uYWwiLHR5cGU6di5TRVQsYWN0aXZhdGlvbjpQLlNJTkdMRSxkZXBlbmRzT246W24uQ0RdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIFQoZS5zZXRzLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSYmdC5lbmFibGVkQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3ImJmVbbi5DRF0+PTEuMn0sZWZmZWN0OmZ1bmN0aW9uKGUsYSx0KXtGKGUsYSx0LG4uQ1IsLjYpfSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSA+PSAxICYmCiAgZW5hYmxlZENlbGVzdGlhbERpZmZlcmVudGlhdG9yID49IDEgJiYKICAoKnBfc3RhdGUpLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLkNEID49IDEuMjAKKSB7CiAgKCpwX3N0YXRlKS5DZWxlc3RpYWxEaWZmZXJlbnRpYXRvckNvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQ1IoMC42MCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSx3ZT17aWQ6IlRhbGlhS2luZ2RvbU9mQmFuZGl0cnlDb25kaXRpb25hbCIsdHlwZTp2LlNFVCxhY3RpdmF0aW9uOlAuU0lOR0xFLGRlcGVuZHNPbjpbbi5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIFQoZS5zZXRzLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpJiZlW24uU1BEXT49MTQ1fSxlZmZlY3Q6ZnVuY3Rpb24oZSxhLHQpe0YoZSxhLHQsbi5CRSwuMil9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeSkgPj0gMSAmJgogICgqcF9zdGF0ZSkuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeUNvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTQ1CikgewogICgqcF9zdGF0ZSkuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeUNvbmRpdGlvbmFsID0gMS4wOwogIGJ1ZmZOb25EeW5hbWljQkUoMC4yMCwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxGZT17aWQ6IkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxMzVDb25kaXRpb25hbCIsdHlwZTp2LlNFVCxhY3RpdmF0aW9uOlAuU0lOR0xFLGRlcGVuZHNPbjpbbi5TUERdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIFQoZS5zZXRzLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpJiZlW24uU1BEXT49MTM1fSxlZmZlY3Q6ZnVuY3Rpb24oZSl7ZS5FTEVNRU5UQUxfRE1HKz0uMTJ9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgcDIoKCpwX3gpLnNldHMuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCkgPj0gMSAmJgogICgqcF9zdGF0ZSkuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDEzNUNvbmRpdGlvbmFsID09IDAuMCAmJgogICgqcF94KS5TUEQgPj0gMTM1CikgewogICgqcF9zdGF0ZSkuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aDEzNUNvbmRpdGlvbmFsID0gMS4wOwogICgqcF94KS5FTEVNRU5UQUxfRE1HICs9IDAuMTI7Cn0KICAgIGApfX0sVmU9e2lkOiJGaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoMTYwQ29uZGl0aW9uYWwiLHR5cGU6di5TRVQsYWN0aXZhdGlvbjpQLlNJTkdMRSxkZXBlbmRzT246W24uU1BEXSxjb25kaXRpb246ZnVuY3Rpb24oZSxhLHQpe3JldHVybiBUKGUuc2V0cy5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoKSYmZVtuLlNQRF0+PTE2MH0sZWZmZWN0OmZ1bmN0aW9uKGUpe2UuRUxFTUVOVEFMX0RNRys9LjA2fSxncHU6ZnVuY3Rpb24oKXtyZXR1cm4gTih0aGlzLGAKaWYgKAogIHAyKCgqcF94KS5zZXRzLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgpID49IDEgJiYKICAoKnBfc3RhdGUpLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxNjBDb25kaXRpb25hbCA9PSAwLjAgJiYKICAoKnBfeCkuU1BEID49IDE2MAopIHsKICAoKnBfc3RhdGUpLkZpcm1hbWVudEZyb250bGluZUdsYW1vdGgxNjBDb25kaXRpb25hbCA9IDEuMDsKICAoKnBfeCkuRUxFTUVOVEFMX0RNRyArPSAwLjA2Owp9CiAgICBgKX19LGd0PVtSZSxHZSxNZSxQZSxVZSx2ZSxOZSxIZSxPZSxLZSx3ZSxGZSxWZV07ZnVuY3Rpb24gcHQoZSxhKXtjb25zdCB0PSIgIi5yZXBlYXQoYSoyKTtyZXR1cm4gZS5zcGxpdChgCmApLm1hcChpPT50K2kpLmpvaW4oYApgKX1mdW5jdGlvbiAkKGUpe3JldHVybiBlPyJ0cnVlIjoiZmFsc2UifWZ1bmN0aW9uIFgoZSl7cmV0dXJuIGU/ImZhbHNlIjoidHJ1ZSJ9ZnVuY3Rpb24geChlLGEsdCxpKXtlLmFjdGl2YXRpb249PVAuU0lOR0xFPyFpLmNvbmRpdGlvbmFsU3RhdGVbZS5pZF0mJmUuY29uZGl0aW9uKGEsdCxpKSYmKGkuY29uZGl0aW9uYWxTdGF0ZVtlLmlkXT0xLGUuZWZmZWN0KGEsdCxpKSk6ZS5hY3RpdmF0aW9uPT1QLkNPTlRJTlVPVVMmJmUuY29uZGl0aW9uKGEsdCxpKSYmZS5lZmZlY3QoYSx0LGkpfWZ1bmN0aW9uIE4oZSxhKXtyZXR1cm5gCmZuIGV2YWx1YXRlJHtlLmlkfShwX3g6IHB0cjxmdW5jdGlvbiwgQ29tcHV0ZWRTdGF0cz4sIHBfc3RhdGU6IHB0cjxmdW5jdGlvbiwgQ29uZGl0aW9uYWxTdGF0ZT4pIHsKICBsZXQgeCA9ICpwX3g7CiR7cHQoYS50cmltKCksMSl9Cn0KICBgfWZ1bmN0aW9uIEYoZSxhLHQsaSxzKXtpZighKHM8MWUtNCkpe2VbaV0rPXM7Zm9yKGNvbnN0IG8gb2YgdC5jb25kaXRpb25hbFJlZ2lzdHJ5W2ldfHxbXSl4KG8sZSxhLHQpfX1jb25zdCBUdD17aWQ6IkF2ZW50dXJpbmVDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5ERUZdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIGEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmRlZlRvQ3JCb29zdCYmZVtuLkRFRl0+MTYwMH0sZWZmZWN0OmZ1bmN0aW9uKGUsYSx0KXtjb25zdCBpPXQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxzPU1hdGgubWluKC40OCwuMDIqTWF0aC5mbG9vcigoZVtuLkRFRl0tMTYwMCkvMTAwKSk7cmV0dXJuIHQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1zLEYoZSxhLHQsbi5DUixzLWkpLHN9LGdwdTpmdW5jdGlvbihlLGEpe2NvbnN0IHQ9ZS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIE4odGhpcyxgCmlmICgke1godC5kZWZUb0NyQm9vc3QpfSkgewogIHJldHVybjsKfQpsZXQgZGVmID0gKCpwX3gpLkRFRjsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuQXZlbnR1cmluZUNvbnZlcnNpb25Db25kaXRpb25hbDsKCmlmIChkZWYgPiAxNjAwKSB7CiAgbGV0IGJ1ZmZWYWx1ZTogZjMyID0gbWluKDAuNDgsIDAuMDIgKiBmbG9vcigoZGVmIC0gMTYwMCkgLyAxMDApKTsKCiAgKCpwX3N0YXRlKS5BdmVudHVyaW5lQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwogIGJ1ZmZEeW5hbWljQ1IoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKfQogICAgYCl9fSxidD17aWQ6Ilh1ZXlpQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOnYuQUJJTElUWSxhY3RpdmF0aW9uOlAuQ09OVElOVU9VUyxkZXBlbmRzT246W24uQkVdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuIGEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmJlVG9EbWdCb29zdH0sZWZmZWN0OmZ1bmN0aW9uKGUsYSx0KXtjb25zdCBpPXQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxzPU1hdGgubWluKDIuNCxlW24uQkVdKTt0LmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09cyxlLkVMRU1FTlRBTF9ETUcrPXMtaX0sZ3B1OmZ1bmN0aW9uKGUsYSl7Y29uc3QgdD1lLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gTih0aGlzLGAKaWYgKCR7WCh0LmJlVG9EbWdCb29zdCl9KSB7CiAgcmV0dXJuOwp9CmxldCBiZSA9ICgqcF94KS5CRTsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuWHVleWlDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigyLjQwLCBiZSk7CgooKnBfc3RhdGUpLlh1ZXlpQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwooKnBfeCkuRUxFTUVOVEFMX0RNRyArPSBidWZmVmFsdWUgLSBzdGF0ZVZhbHVlOwogICAgYCl9fSxrdD17aWQ6IkZpcmVmbHlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5BVEtdLGNvbmRpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gZVtuLkFUS10+MTgwMH0sZWZmZWN0OmZ1bmN0aW9uKGUsYSx0KXtjb25zdCBpPXQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxzPWVbbi5BVEtdLWUuUkFUSU9fQkFTRURfQVRLX0JVRkYtZS5SQVRJT19CQVNFRF9BVEtfUF9CVUZGKnQuYmFzZUFUSyxvPS4wMDgqTWF0aC5mbG9vcigocy0xODAwKS8xMCk7cmV0dXJuIHQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1vLEYoZSxhLHQsbi5CRSxvLWkpLG99LGdwdTpmdW5jdGlvbihlLGEpe2NvbnN0IHQ9ZS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIE4odGhpcyxgCmlmICgke1godC5hdGtUb0JlQ29udmVyc2lvbil9KSB7CiAgcmV0dXJuOwp9CmxldCBhdGsgPSAoKnBfeCkuQVRLOwpsZXQgc3RhdGVWYWx1ZSA9ICgqcF9zdGF0ZSkuRmlyZWZseUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IHRydWVBdGsgPSBhdGsgLSAoKnBfeCkuUkFUSU9fQkFTRURfQVRLX0JVRkYgLSAoKnBfeCkuUkFUSU9fQkFTRURfQVRLX1BfQlVGRiAqIGJhc2VBVEs7CgppZiAodHJ1ZUF0ayA+IDE4MDApIHsKICBsZXQgYnVmZlZhbHVlOiBmMzIgPSAwLjAwOCAqIGZsb29yKCh0cnVlQXRrIC0gMTgwMCkgLyAxMCk7CgogICgqcF9zdGF0ZSkuRmlyZWZseUNvbnZlcnNpb25Db25kaXRpb25hbCA9IGJ1ZmZWYWx1ZTsKICBidWZmRHluYW1pY0JFKGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWUsIHBfeCwgcF9zdGF0ZSk7Cn0KICAgIGApfX0sSXQ9e2lkOiJCb290aGlsbENvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTp2LkFCSUxJVFksYWN0aXZhdGlvbjpQLkNPTlRJTlVPVVMsZGVwZW5kc09uOltuLkJFXSxjb25kaXRpb246ZnVuY3Rpb24oZSxhLHQpe3JldHVybiBhLmNoYXJhY3RlckNvbmRpdGlvbmFscy5iZVRvQ3JpdEJvb3N0fSxlZmZlY3Q6ZnVuY3Rpb24oZSxhLHQpe2NvbnN0IGk9dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLHM9TWF0aC5taW4oLjMsLjEqaSksbz1NYXRoLm1pbigxLjUsLjUqaSksbD1NYXRoLm1pbiguMywuMSplW24uQkVdKSxkPU1hdGgubWluKDEuNSwuNSplW24uQkVdKTt0LmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09ZVtuLkJFXSxGKGUsYSx0LG4uQ1IsbC1zKSxGKGUsYSx0LG4uQ0QsZC1vKX0sZ3B1OmZ1bmN0aW9uKGUsYSl7Y29uc3QgdD1lLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gTih0aGlzLGAKaWYgKCR7WCh0LmJlVG9Dcml0Qm9vc3QpfSkgewogIHJldHVybjsKfQoKbGV0IGJlID0gKCpwX3gpLkJFOwpsZXQgc3RhdGVWYWx1ZSA9ICgqcF9zdGF0ZSkuQm9vdGhpbGxDb252ZXJzaW9uQ29uZGl0aW9uYWw7CgpsZXQgc3RhdGVDckJ1ZmZWYWx1ZSA9IG1pbigwLjMwLCAwLjEwICogc3RhdGVWYWx1ZSk7CmxldCBzdGF0ZUNkQnVmZlZhbHVlID0gbWluKDEuNTAsIDAuNTAgKiBzdGF0ZVZhbHVlKTsKCmxldCBjckJ1ZmZWYWx1ZSA9IG1pbigwLjMwLCAwLjEwICogYmUpOwpsZXQgY2RCdWZmVmFsdWUgPSBtaW4oMS41MCwgMC41MCAqIGJlKTsKCigqcF9zdGF0ZSkuQm9vdGhpbGxDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBiZTsKCmJ1ZmZEeW5hbWljQ1IoY3JCdWZmVmFsdWUgLSBzdGF0ZUNyQnVmZlZhbHVlLCBwX3gsIHBfc3RhdGUpOwpidWZmRHluYW1pY0NEKGNkQnVmZlZhbHVlIC0gc3RhdGVDZEJ1ZmZWYWx1ZSwgcF94LCBwX3N0YXRlKTsKICAgIGApfX0seXQ9e2lkOiJHZXBhcmRDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5ERUZdLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24oZSxhLHQpe2NvbnN0IGk9dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLHM9LjM1KmVbbi5ERUZdO3QuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1zLEYoZSxhLHQsbi5BVEsscy1pKX0sZ3B1OmZ1bmN0aW9uKCl7cmV0dXJuIE4odGhpcyxgCmxldCBkZWYgPSAoKnBfeCkuREVGOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5HZXBhcmRDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9IDAuMzUgKiBkZWY7CgooKnBfc3RhdGUpLkdlcGFyZENvbnZlcnNpb25Db25kaXRpb25hbCA9IGJ1ZmZWYWx1ZTsKYnVmZkR5bmFtaWNBVEsoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKICAgIGApfX0sTHQ9e2lkOiJCbGFja1N3YW5Db252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5FSFJdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihlLGEsdCl7aWYoIWEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmVoclRvRG1nQm9vc3QpcmV0dXJuO2NvbnN0IHM9dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLG89TWF0aC5taW4oLjcyLC42KmVbbi5FSFJdKTt0LmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09byxlLkVMRU1FTlRBTF9ETUcrPW8tc30sZ3B1OmZ1bmN0aW9uKGUsYSl7Y29uc3QgdD1lLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gTih0aGlzLGAKaWYgKCR7WCh0LmVoclRvRG1nQm9vc3QpfSkgewogIHJldHVybjsKfQpsZXQgZWhyID0gKCpwX3gpLkVIUjsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuQmxhY2tTd2FuQ29udmVyc2lvbkNvbmRpdGlvbmFsOwpsZXQgYnVmZlZhbHVlOiBmMzIgPSBtaW4oMC43MiwgMC42MCAqIGVocik7CgooKnBfc3RhdGUpLkJsYWNrU3dhbkNvbnZlcnNpb25Db25kaXRpb25hbCA9IGJ1ZmZWYWx1ZTsKKCpwX3gpLkVMRU1FTlRBTF9ETUcgKz0gYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZTsKICAgIGApfX0sR3Q9e2lkOiJSYXBwYUNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTp2LkFCSUxJVFksYWN0aXZhdGlvbjpQLkNPTlRJTlVPVVMsZGVwZW5kc09uOltuLkFUS10sY29uZGl0aW9uOmZ1bmN0aW9uKGUsYSx0KXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGUsYSx0KXtpZighYS5jaGFyYWN0ZXJDb25kaXRpb25hbHMuYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkpcmV0dXJuO2NvbnN0IHM9dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLG89TWF0aC5mbG9vcihCKChlW24uQVRLXS0yZTMpLzEwMCkpLGw9TWF0aC5taW4oLjEyLE1hdGgubWF4KDAsbykqLjAxKSsuMDM7dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWwsZS5CUkVBS19WVUxORVJBQklMSVRZKz1sLXN9LGdwdTpmdW5jdGlvbihlLGEpe2NvbnN0IHQ9ZS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIE4odGhpcyxgCmlmICgke1godC5hdGtUb0JyZWFrVnVsbmVyYWJpbGl0eSl9KSB7CiAgcmV0dXJuOwp9CmxldCBhdGsgPSAoKnBfeCkuQVRLOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5SYXBwYUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGF0a092ZXJTdGFja3M6IGYzMiA9IGZsb29yKCh4LkFUSyAtIDIwMDApIC8gMTAwKTsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gbWluKDAuMTIsIG1heCgwLCBhdGtPdmVyU3RhY2tzKSAqIDAuMDEpICsgMC4wMzsKCigqcF9zdGF0ZSkuUmFwcGFDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CigqcF94KS5CUkVBS19WVUxORVJBQklMSVRZICs9IGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWU7CiAgICBgKX19LE10PXtpZDoiR2FsbGFnaGVyQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOnYuQUJJTElUWSxhY3RpdmF0aW9uOlAuQ09OVElOVU9VUyxkZXBlbmRzT246W24uQkVdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihlLGEsdCl7YS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Y29uc3QgaT10LmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAscz1NYXRoLm1pbiguNzUsLjUqZVtuLkJFXSk7dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPXMsRihlLGEsdCxuLk9IQixzLWkpfSxncHU6ZnVuY3Rpb24oZSxhKXtyZXR1cm4gZS5jaGFyYWN0ZXJDb25kaXRpb25hbHMsTih0aGlzLGAKbGV0IGJlID0gKCpwX3gpLkJFOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5HYWxsYWdoZXJDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBidWZmVmFsdWU6IGYzMiA9IG1pbigwLjc1LCAwLjUwICogKCpwX3gpLkJFKTsKCigqcF9zdGF0ZSkuR2FsbGFnaGVyQ29udmVyc2lvbkNvbmRpdGlvbmFsID0gYnVmZlZhbHVlOwpidWZmRHluYW1pY09IQihidWZmVmFsdWUgLSBzdGF0ZVZhbHVlLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fSxSdD17aWQ6IlJ1YW5NZWlDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsYSx0KXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGUsYSx0KXthLmNoYXJhY3RlckNvbmRpdGlvbmFscztjb25zdCBpPXQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxzPU1hdGguZmxvb3IoQigoZVtuLkJFXSoxMDAtMTIwKS8xMCkpLG89TWF0aC5taW4oLjM2LE1hdGgubWF4KDAscykqLjA2KTt0LmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09byxlLkVMRU1FTlRBTF9ETUcrPW8taX0sZ3B1OmZ1bmN0aW9uKGUsYSl7cmV0dXJuIGUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLE4odGhpcyxgCmxldCBiZSA9ICgqcF94KS5CRTsKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuUnVhbk1laUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGJlT3ZlciA9ICgoKnBfeCkuQkUgKiAxMDAgLSAxMjApIC8gMTA7CmxldCBidWZmVmFsdWU6IGYzMiA9IGZsb29yKG1heCgwLCBiZU92ZXIpKSAqIDAuMDY7CgooKnBfc3RhdGUpLlJ1YW5NZWlDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CigqcF94KS5FTEVNRU5UQUxfRE1HICs9IGJ1ZmZWYWx1ZSAtIHN0YXRlVmFsdWU7CiAgICBgKX19LFB0PXtpZDoiSmlhb3FpdUNvbnZlcnNpb25Db25kaXRpb25hbCIsdHlwZTp2LkFCSUxJVFksYWN0aXZhdGlvbjpQLkNPTlRJTlVPVVMsZGVwZW5kc09uOltuLkVIUl0sY29uZGl0aW9uOmZ1bmN0aW9uKGUsYSx0KXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKGUsYSx0KXtpZighYS5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZWhyVG9BdGtCb29zdHx8ZVtuLkVIUl08PS44KXJldHVybjtjb25zdCBzPXQuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxvPU1hdGgubWluKDIuNCwuNipNYXRoLmZsb29yKChlW24uRUhSXS0uOCkvLjE1KSkqYS5iYXNlQXRrO3QuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1vLEYoZSxhLHQsbi5BVEssby1zKX0sZ3B1OmZ1bmN0aW9uKGUsYSl7cmV0dXJuIGUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLE4odGhpcyxgCmxldCBlaHIgPSAoKnBfeCkuRUhSOwpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5KaWFvcWl1Q29udmVyc2lvbkNvbmRpdGlvbmFsOwpsZXQgYnVmZlZhbHVlOiBmMzIgPSBtaW4oMi40MCwgMC42MCAqIGZsb29yKCgoKnBfeCkuRUhSIC0gMC44MCkgLyAwLjE1KSk7CgooKnBfc3RhdGUpLkppYW9xaXVDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CmJ1ZmZEeW5hbWljQVRLX1AoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKICAgIGApfX0sVXQ9e2lkOiJMaW5nc2hhQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOnYuQUJJTElUWSxhY3RpdmF0aW9uOlAuQ09OVElOVU9VUyxkZXBlbmRzT246W24uQkVdLGNvbmRpdGlvbjpmdW5jdGlvbihlLGEsdCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihlLGEsdCl7aWYoIWEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmJlQ29udmVyc2lvbilyZXR1cm47Y29uc3Qgcz10LmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsbz1NYXRoLm1pbiguNSwuMjUqZVtuLkJFXSkqYS5iYXNlQXRrLGw9TWF0aC5taW4oLjIsLjEqZVtuLkJFXSksZD1NYXRoLm1pbiguNSwuMjUqcykqYS5iYXNlQXRrLEM9TWF0aC5taW4oLjIsLjEqcyk7dC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPWVbbi5CRV07Y29uc3QgRT1vLShzP2Q6MCksRD1sLShzP0M6MCk7RihlLGEsdCxuLkFUSyxFKSxGKGUsYSx0LG4uT0hCLEQpfSxncHU6ZnVuY3Rpb24oZSxhKXtjb25zdCB0PWUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBOKHRoaXMsYAppZiAoJHtYKHQuYmVDb252ZXJzaW9uKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLkxpbmdzaGFDb252ZXJzaW9uQ29uZGl0aW9uYWw7CgpsZXQgYnVmZlZhbHVlQXRrID0gbWluKDAuNTAsIDAuMjUgKiB4LkJFKSAqIGJhc2VBVEs7CmxldCBidWZmVmFsdWVPaGIgPSBtaW4oMC4yMCwgMC4xMCAqIHguQkUpOwoKbGV0IHN0YXRlQnVmZlZhbHVlQXRrID0gbWluKDAuNTAsIDAuMjUgKiBzdGF0ZVZhbHVlKSAqIGJhc2VBVEs7CmxldCBzdGF0ZUJ1ZmZWYWx1ZU9oYiA9IG1pbigwLjIwLCAwLjEwICogc3RhdGVWYWx1ZSk7CgooKnBfc3RhdGUpLkxpbmdzaGFDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSAoKnBfeCkuQkU7CgpsZXQgZmluYWxCdWZmQXRrID0gYnVmZlZhbHVlQXRrIC0gc2VsZWN0KDAsIHN0YXRlQnVmZlZhbHVlQXRrLCBzdGF0ZVZhbHVlID4gMCk7CmxldCBmaW5hbEJ1ZmZPaGIgPSBidWZmVmFsdWVPaGIgLSBzZWxlY3QoMCwgc3RhdGVCdWZmVmFsdWVPaGIsIHN0YXRlVmFsdWUgPiAwKTsKCmJ1ZmZEeW5hbWljQVRLKGZpbmFsQnVmZkF0aywgcF94LCBwX3N0YXRlKTsKYnVmZkR5bmFtaWNPSEIoZmluYWxCdWZmT2hiLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fTt2YXIgdnQ9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxvPXMoZSwuMTIsLjEzMiksbD1pKGUsLjI1LC4yNyksZD10KGUsLjIwOCwuMjIpLEM9YShlLC42LC42NiksRT10KGUsLjksLjk5KSxEPWkoZSwxLjIsMS4zKSxtPXMoZSwyLjQsMi42NCksZj1zKGUsLjY1LC42OCkscj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlaHJUb0RtZ0Jvb3N0IixuYW1lOiJlaHJUb0RtZ0Jvb3N0Iix0ZXh0OiJFSFIgdG8gRE1HIGJvb3N0Iix0aXRsZToiRUhSIHRvIERNRyBib29zdCIsY29udGVudDoiSW5jcmVhc2VzIHRoaXMgdW5pdCdzIERNRyBieSBhbiBhbW91bnQgZXF1YWwgdG8gNjAlIG9mIEVmZmVjdCBIaXQgUmF0ZSwgdXAgdG8gYSBtYXhpbXVtIERNRyBpbmNyZWFzZSBvZiA3MiUuIn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlcGlwaGFueURlYnVmZiIsbmFtZToiZXBpcGhhbnlEZWJ1ZmYiLHRleHQ6IkVwaXBoYW55IGRlYnVmZiIsdGl0bGU6IkVwaXBoYW55IGRlYnVmZiIsY29udGVudDpgRW5lbWllcyBhZmZlY3RlZCBieSBFcGlwaGFueSB0YWtlICR7QihsKjEwMCl9JSBtb3JlIERNRyBpbiB0aGVpciB0dXJuLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZGVmRGVjcmVhc2VEZWJ1ZmYiLG5hbWU6ImRlZkRlY3JlYXNlRGVidWZmIix0ZXh0OiJEZWYgZGVjcmVhc2UgZGVidWZmIix0aXRsZToiU2tpbGwgZGVmIGRlY3JlYXNlIGRlYnVmZiIsY29udGVudDpgRW5lbWllcyBERUYgaXMgZGVjcmVhc2VkIGJ5ICR7QihkKjEwMCl9JS5gfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImFyY2FuYVN0YWNrcyIsbmFtZToiYXJjYW5hU3RhY2tzIix0ZXh0OiJBcmNhbmEgc3RhY2tzIix0aXRsZToiQXJjYW5hIHN0YWNrcyIsY29udGVudDpgV2hpbGUgYWZmbGljdGVkIHdpdGggQXJjYW5hLCBlbmVteSB0YXJnZXRzIHJlY2VpdmUgV2luZCBEb1QgZXF1YWwgdG8gJHtCKG0qMTAwKX0lIG9mIEJsYWNrIFN3YW4ncyBBVEsgYXQgdGhlIHN0YXJ0IG9mIGVhY2ggdHVybi4gRWFjaCBzdGFjayBvZiBBcmNhbmEgaW5jcmVhc2VzIHRoaXMgRG9UIERNRyBtdWx0aXBsaWVyIGJ5ICR7QihvKjEwMCl9JS4gQXJjYW5hIGNhbiBzdGFjayB1cCB0byA1MCB0aW1lcy4gCiAgICA6OkJSOjoKV2hlbiB0aGVyZSBhcmUgMyBvciBtb3JlIEFyY2FuYSBzdGFja3MsIGRlYWxzIFdpbmQgRG9UIHRvIGFkamFjZW50IHRhcmdldHMuIFdoZW4gdGhlcmUgYXJlIDcgb3IgbW9yZSBBcmNhbmEgc3RhY2tzLCBlbmFibGVzIHRoZSBjdXJyZW50IERvVCBkZWFsdCB0aGlzIHRpbWUgdG8gaWdub3JlIDIwJSBvZiB0aGUgdGFyZ2V0J3MgYW5kIGFkamFjZW50IHRhcmdldHMnIERFRi5gLG1pbjoxLG1heDo1MH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVJlc1JlZHVjdGlvbiIsbmFtZToiZTFSZXNSZWR1Y3Rpb24iLHRleHQ6IkUxIFJFUyByZWR1Y3Rpb24iLHRpdGxlOiJFMSBSRVMgcmVkdWN0aW9uIixjb250ZW50OiJFMTogV2hpbGUgQmxhY2sgU3dhbiBpcyBhY3RpdmUgaW4gYmF0dGxlLCBlbmVtaWVzIGFmZmxpY3RlZCB3aXRoIFdpbmQgU2hlYXIsIEJsZWVkLCBCdXJuLCBvciBTaG9jayB3aWxsIGhhdmUgdGhlaXIgY29ycmVzcG9uZGluZyBXaW5kLCBQaHlzaWNhbCwgRmlyZSwgb3IgTGlnaHRuaW5nIFJFUyByZXNwZWN0aXZlbHkgcmVkdWNlZCBieSAyNSUuIixkaXNhYmxlZDplPDF9XSx1PVtwKHIsImVwaXBoYW55RGVidWZmIikscChyLCJkZWZEZWNyZWFzZURlYnVmZiIpLHAociwiZTFSZXNSZWR1Y3Rpb24iKV07cmV0dXJue2NvbnRlbnQ6KCk9PnIsdGVhbW1hdGVDb250ZW50OigpPT51LGRlZmF1bHRzOigpPT4oe2VoclRvRG1nQm9vc3Q6ITAsZXBpcGhhbnlEZWJ1ZmY6ITAsZGVmRGVjcmVhc2VEZWJ1ZmY6ITAsYXJjYW5hU3RhY2tzOjcsZTFSZXNSZWR1Y3Rpb246ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2VwaXBoYW55RGVidWZmOiEwLGRlZkRlY3JlYXNlRGVidWZmOiEwLGUxUmVzUmVkdWN0aW9uOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGMsUyk9Pntjb25zdCBoPVMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjLkJBU0lDX1NDQUxJTkcrPUMsYy5TS0lMTF9TQ0FMSU5HKz1FLGMuVUxUX1NDQUxJTkcrPUQsYy5ET1RfU0NBTElORys9bStvKmguYXJjYW5hU3RhY2tzLGFlKGMsaWUsLjIsaC5hcmNhbmFTdGFja3M+PTcpLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxjLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxjLkRPVF9DSEFOQ0U9ZixjLkRPVF9TUExJVD0uMDUsYy5ET1RfU1RBQ0tTPWguYXJjYW5hU3RhY2tzLGN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihjLFMpPT57Y29uc3QgaD1TLmNoYXJhY3RlckNvbmRpdGlvbmFsczt0ZShjLGllLGwsaC5lcGlwaGFueURlYnVmZiksYy5ERUZfUEVOKz1oLmRlZkRlY3JlYXNlRGVidWZmP2Q6MCxjLldJTkRfUkVTX1BFTis9ZT49MSYmaC5lMVJlc1JlZHVjdGlvbj8uMjU6MCxjLkZJUkVfUkVTX1BFTis9ZT49MSYmaC5lMVJlc1JlZHVjdGlvbj8uMjU6MCxjLlBIWVNJQ0FMX1JFU19QRU4rPWU+PTEmJmguZTFSZXNSZWR1Y3Rpb24/LjI1OjAsYy5MSUdIVE5JTkdfUkVTX1BFTis9ZT49MSYmaC5lMVJlc1JlZHVjdGlvbj8uMjU6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+TyhjKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6W0x0XX19LE50PWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUsbz10KGUsLjQsLjQ1NiksbD0uOSxkPWEoZSwxLDEuMSksQz10KGUsLjQsLjQ0KSxFPXQoZSwxLDEuMSksRD1pKGUsLjQsLjQzMiksbT1pKGUsMSwxLjA4KSxmPWkoZSwxLDEuMDgpLHI9cyhlLC40NCwuNDg0KSx1PXMoZSwxLjEsMS4yMSksYz17MTp5KigxKi4zMysyKi4zMyszKi4zNCksMzp5KigyKi4zMys1Ki4zMys4Ki4zNCksNTp5KigzKi4zMys4Ki4zMys4Ki4zNCl9LFM9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5oYW5jZWRTdGF0ZUFjdGl2ZSIsbmFtZToiZW5oYW5jZWRTdGF0ZUFjdGl2ZSIsdGV4dDoiSGVsbHNjYXBlIHN0YXRlIix0aXRsZToiSGVsbHNjYXBlIHN0YXRlIixjb250ZW50OmAKICAgICAgSW5jcmVhc2VzIERNRyBieSAke0IobyoxMDApfSUgYW5kIGhpcyBCYXNpYyBBVEsgU2hhcmQgU3dvcmQgaXMgZW5oYW5jZWQgdG8gRm9yZXN0IG9mIFN3b3JkcyBmb3IgMyB0dXJuKHMpLgogICAgICA6OkJSOjoKICAgICAgRTI6IEluY3JlYXNlcyBDUklUIFJhdGUgYnkgJHtCKC4xNSoxMDApfSUuCiAgICBgfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImhwUGVyY2VudExvc3RUb3RhbCIsbmFtZToiaHBQZXJjZW50TG9zdFRvdGFsIix0ZXh0OiJIUCUgbG9zdCB0b3RhbCIsdGl0bGU6IkhQJSBsb3N0IHRvdGFsIixjb250ZW50OmBVbHRpbWF0ZSBETUcgc2NhbGVzIG9mZiBvZiB0aGUgdGFsbHkgb2YgQmxhZGUncyBIUCBsb3NzIGluIHRoZSBjdXJyZW50IGJhdHRsZS4gCiAgICBUaGUgdGFsbHkgb2YgQmxhZGUncyBIUCBsb3NzIGluIHRoZSBjdXJyZW50IGJhdHRsZSBpcyBjYXBwZWQgYXQgJHtCKGwqMTAwKX0lIG9mIGhpcyBNYXggSFAuYCxtaW46MCxtYXg6bCxwZXJjZW50OiEwfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU0TWF4SHBJbmNyZWFzZVN0YWNrcyIsbmFtZToiZTRNYXhIcEluY3JlYXNlU3RhY2tzIix0ZXh0OiJFNCBtYXggSFAgc3RhY2tzIix0aXRsZToiRTQgbWF4IEhQIHN0YWNrcyIsY29udGVudDpgRTQ6IEluY3JlYXNlcyBIUCBieSAke0IoLjIqMTAwKX0lLCBzdGFja3MgdXAgdG8gMiB0aW1lcy5gLG1pbjowLG1heDoyLGRpc2FibGVkOmU8NH1dO3JldHVybntjb250ZW50OigpPT5TLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7ZW5oYW5jZWRTdGF0ZUFjdGl2ZTohMCxocFBlcmNlbnRMb3N0VG90YWw6bCxlNE1heEhwSW5jcmVhc2VTdGFja3M6Mn0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGgsQSk9Pntjb25zdCBfPUEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBoW24uQ1JdKz1lPj0yJiZfLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjE1OjAsaFtuLkhQX1BdKz1lPj00P18uZTRNYXhIcEluY3JlYXNlU3RhY2tzKi4yOjAsaC5CQVNJQ19TQ0FMSU5HKz1kLGguRUxFTUVOVEFMX0RNRys9Xy5lbmhhbmNlZFN0YXRlQWN0aXZlP286MCxrKGgsUiwuMiksaC5CQVNJQ19UT1VHSE5FU1NfRE1HKz1fLmVuaGFuY2VkU3RhdGVBY3RpdmU/NjA6MzAsaC5VTFRfVE9VR0hORVNTX0RNRys9NjAsaC5GVUFfVE9VR0hORVNTX0RNRys9MzAsaH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGgsQSk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihoLEEpPT57Y29uc3QgXz1BLmNoYXJhY3RlckNvbmRpdGlvbmFscztfLmVuaGFuY2VkU3RhdGVBY3RpdmU/KGguQkFTSUNfRE1HKz1DKmhbbi5BVEtdLGguQkFTSUNfRE1HKz1FKmhbbi5IUF0pOmguQkFTSUNfRE1HKz1oLkJBU0lDX1NDQUxJTkcqaFtuLkFUS10saC5VTFRfRE1HKz1EKmhbbi5BVEtdLGguVUxUX0RNRys9bSpoW24uSFBdLGguVUxUX0RNRys9ZipfLmhwUGVyY2VudExvc3RUb3RhbCpoW24uSFBdLGguVUxUX0RNRys9ZT49MSYmQS5lbmVteUNvdW50PT0xPzEuNSpfLmhwUGVyY2VudExvc3RUb3RhbCpoW24uSFBdOjA7Y29uc3QgRz1jW0EuZW5lbXlDb3VudF0sST1yZShoLEEsRyk7aC5GVUFfRE1HKz1yKihoW24uQVRLXStJKSxoLkZVQV9ETUcrPXUqaFtuLkhQXSxoLkZVQV9ETUcrPWU+PTY/LjUqaFtuLkhQXTowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpoPT57Y29uc3QgQT1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCmlmICgkeyQoQS5lbmhhbmNlZFN0YXRlQWN0aXZlKX0pIHsKICB4LkJBU0lDX0RNRyArPSAke0N9ICogeC5BVEs7CiAgeC5CQVNJQ19ETUcgKz0gJHtFfSAqIHguSFA7Cn0gZWxzZSB7CiAgeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7Cn0KCnguVUxUX0RNRyArPSAke0R9ICogeC5BVEs7CnguVUxUX0RNRyArPSAke219ICogeC5IUDsKeC5VTFRfRE1HICs9ICR7ZipBLmhwUGVyY2VudExvc3RUb3RhbH0gKiB4LkhQOwoKaWYgKCR7JChlPj0xJiZoLmVuZW15Q291bnQ9PTEpfSkgewogIHguVUxUX0RNRyArPSAxLjUwICogJHtBLmhwUGVyY2VudExvc3RUb3RhbH0gKiB4LkhQOwp9Cgp4LkZVQV9ETUcgKz0gJHtyfSAqICh4LkFUSyArIGNhbGN1bGF0ZUFzaGJsYXppbmdTZXQocF94LCBwX3N0YXRlLCAke2NbaC5lbmVteUNvdW50XX0pKTsKeC5GVUFfRE1HICs9ICR7dX0gKiB4LkhQOwoKaWYgKGUgPj0gNikgewogIHguRlVBX0RNRyArPSAwLjUwICogeC5IUDsKfQogICAgYH19fSxIdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LHM9dChlLC42NiwuNzI2KSxvPWkoZSwuNTUsLjU5NCksbD1pKGUsLjE2LC4xNjgpLGQ9aShlLC4yLC4yMTYpLEM9YShlLDEsMS4xKSxFPUMqLjgsRD15KigxKjEvMSksbT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWFtRG1nQnVmZiIsbmFtZToidGVhbURtZ0J1ZmYiLHRleHQ6IlRlYW0gRE1HIGJ1ZmYiLHRpdGxlOiJUcmFjZTogTWlsaXRhcnkgTWlnaHQiLGNvbnRlbnQ6IldoZW4gQnJvbnlhIGlzIG9uIHRoZSBmaWVsZCwgYWxsIGFsbGllcyBkZWFsIDEwJSBtb3JlIERNRy4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsQnVmZiIsbmFtZToic2tpbGxCdWZmIix0ZXh0OiJTa2lsbCBETUcgYnVmZiIsdGl0bGU6IlNraWxsOiBDb21iYXQgUmVkZXBsb3ltZW50Iixjb250ZW50OmBEaXNwZWxzIGEgZGVidWZmIGZyb20gYSBzaW5nbGUgYWxseSwgYWxsb3dzIHRoZW0gdG8gaW1tZWRpYXRlbHkgdGFrZSBhY3Rpb24sIGFuZCBpbmNyZWFzZXMgdGhlaXIgRE1HIGJ5ICR7QihzKjEwMCl9JSBmb3IgMSB0dXJuKHMpLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0QnVmZiIsbmFtZToidWx0QnVmZiIsdGV4dDoiVWx0IEFUSy9DRCBidWZmcyIsdGl0bGU6IlVsdGltYXRlOiBUaGUgQmVsb2JvZyBNYXJjaCIsY29udGVudDpgSW5jcmVhc2VzIHRoZSBBVEsgb2YgYWxsIGFsbGllcyBieSAke0IobyoxMDApfSUgYW5kIENSSVQgRE1HIGJ5ICR7QihsKjEwMCl9JSBvZiBCcm9ueWEncyBDUklUIERNRyBwbHVzICR7QihkKjEwMCl9JSBmb3IgMiB0dXJucy5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJhdHRsZVN0YXJ0RGVmQnVmZiIsbmFtZToiYmF0dGxlU3RhcnREZWZCdWZmIix0ZXh0OiJJbml0aWFsIERFRiBidWZmIix0aXRsZToiVHJhY2U6IEJhdHRsZWZpZWxkIixjb250ZW50OiJBdCB0aGUgc3RhcnQgb2YgdGhlIGJhdHRsZSwgYWxsIGFsbGllcycgREVGIGluY3JlYXNlcyBieSAyMCUgZm9yIDIgdHVybihzKS4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRlY2huaXF1ZUJ1ZmYiLG5hbWU6InRlY2huaXF1ZUJ1ZmYiLHRleHQ6IlRlY2huaXF1ZSBBVEsgYnVmZiIsdGl0bGU6IlRlY2huaXF1ZTogQmFubmVyIG9mIENvbW1hbmQiLGNvbnRlbnQ6IkFmdGVyIHVzaW5nIEJyb255YSdzIFRlY2huaXF1ZSwgYXQgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGJhdHRsZSwgYWxsIGFsbGllcycgQVRLIGluY3JlYXNlcyBieSAxNSUgZm9yIDIgdHVybihzKS4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyU2tpbGxTcGRCdWZmIixuYW1lOiJlMlNraWxsU3BkQnVmZiIsdGV4dDoiRTIgc2tpbGwgU1BEIGJ1ZmYiLHRpdGxlOiJFMjogUXVpY2sgTWFyY2giLGNvbnRlbnQ6IldoZW4gdXNpbmcgU2tpbGwsIHRoZSB0YXJnZXQgYWxseSdzIFNQRCBpbmNyZWFzZXMgYnkgMzAlIGFmdGVyIHRha2luZyBhY3Rpb24sIGxhc3RpbmcgZm9yIDEgdHVybi4iLGRpc2FibGVkOmU8Mn1dLGY9W3AobSwidGVhbURtZ0J1ZmYiKSxwKG0sInNraWxsQnVmZiIpLHAobSwidWx0QnVmZiIpLHAobSwiYmF0dGxlU3RhcnREZWZCdWZmIikscChtLCJ0ZWNobmlxdWVCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUNEVmFsdWUiLG5hbWU6InRlYW1tYXRlQ0RWYWx1ZSIsdGV4dDoiQnJvbnlhJ3MgQ29tYmF0IENEIix0aXRsZToiVWx0aW1hdGU6IFRoZSBCZWxvYm9nIE1hcmNoIixjb250ZW50OmBJbmNyZWFzZXMgdGhlIEFUSyBvZiBhbGwgYWxsaWVzIGJ5ICR7QihvKjEwMCl9JSBhbmQgQ1JJVCBETUcgYnkgJHtCKGwqMTAwKX0lIG9mIEJyb255YSdzIENSSVQgRE1HIHBsdXMgJHtCKGQqMTAwKX0lIGZvciAyIHR1cm5zLmAsbWluOjAsbWF4OjMscGVyY2VudDohMH0scChtLCJlMlNraWxsU3BkQnVmZiIpXSxyPXt0ZWFtRG1nQnVmZjohMCxza2lsbEJ1ZmY6ITAsdWx0QnVmZjohMCxiYXR0bGVTdGFydERlZkJ1ZmY6ITEsdGVjaG5pcXVlQnVmZjohMSxlMlNraWxsU3BkQnVmZjohMX07cmV0dXJue2NvbnRlbnQ6KCk9Pm0sdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT5yLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Li4ucix0ZWFtbWF0ZUNEVmFsdWU6Mi41fSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsYyk9PntwZSh1LFcsMSksdS5CQVNJQ19TQ0FMSU5HKz1DLHUuRlVBX1NDQUxJTkcrPWU+PTQ/RTowLHUuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsdS5GVUFfVE9VR0hORVNTX0RNRys9ZT49ND8zMDowfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoodSxjKT0+e2NvbnN0IFM9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dVtuLkRFRl9QXSs9Uy5iYXR0bGVTdGFydERlZkJ1ZmY/LjI6MCx1W24uU1BEX1BdKz1TLmUyU2tpbGxTcGRCdWZmPy4zOjAsdVtuLkFUS19QXSs9Uy50ZWNobmlxdWVCdWZmPy4xNTowLHVbbi5BVEtfUF0rPVMudWx0QnVmZj9vOjAsdS5FTEVNRU5UQUxfRE1HKz1TLnRlYW1EbWdCdWZmPy4xOjAsdS5FTEVNRU5UQUxfRE1HKz1TLnNraWxsQnVmZj9zOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KHUsYyk9Pntjb25zdCBTPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbbi5DRF0rPVMudWx0QnVmZj9sKlMudGVhbW1hdGVDRFZhbHVlOjAsdVtuLkNEXSs9Uy51bHRCdWZmP2Q6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsYyk9PntxKHUsYyxEKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6dT0+aihEKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IkJyb255YUNkQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5DRF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24odSxjLFMpe2lmKCFjLmNoYXJhY3RlckNvbmRpdGlvbmFscy51bHRCdWZmKXJldHVybjtjb25zdCBBPVMuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxfPXVbbi5DRF0tdS5SQVRJT19CQVNFRF9DRF9CVUZGLEc9bCpfK2QsST1sKkErZDtTLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09dVtuLkNEXTtjb25zdCBZPUctKEE/STowKTt1LlJBVElPX0JBU0VEX0NEX0JVRkYrPVksRih1LGMsUyxuLkNELFkpfSxncHU6ZnVuY3Rpb24odSxjKXtjb25zdCBTPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBOKHRoaXMsYAppZiAoJHtYKFMudWx0QnVmZil9KSB7CiAgcmV0dXJuOwp9CgpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5Ccm9ueWFDZENvbmRpdGlvbmFsOwpsZXQgY29udmVydGlibGVDZFZhbHVlOiBmMzIgPSAoKnBfeCkuQ0QgLSAoKnBfeCkuUkFUSU9fQkFTRURfQ0RfQlVGRjsKCnZhciBidWZmQ0Q6IGYzMiA9ICR7bH0gKiBjb252ZXJ0aWJsZUNkVmFsdWUgKyAke2R9Owp2YXIgc3RhdGVCdWZmQ0Q6IGYzMiA9ICR7bH0gKiBzdGF0ZVZhbHVlICsgJHtkfTsKCigqcF9zdGF0ZSkuQnJvbnlhQ2RDb25kaXRpb25hbCA9ICgqcF94KS5DRDsKCmxldCBmaW5hbEJ1ZmZDZCA9IGJ1ZmZDRCAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZDRCwgc3RhdGVWYWx1ZSA+IDApOwooKnBfeCkuUkFUSU9fQkFTRURfQ0RfQlVGRiArPSBmaW5hbEJ1ZmZDZDsKCmJ1ZmZOb25SYXRpb0R5bmFtaWNDRChmaW5hbEJ1ZmZDZCwgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0sT3Q9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPWkoZSwuMjUsLjI3KSxsPWkoZSwxLjYsMS43MjgpLGQ9YShlLDEsMS4xKSxDPXQoZSwxLjIsMS4zMiksRT1zKGUsMS42LDEuNzYpLEQ9ezE6eSooMSoxLzEpLDM6eSooMioxLzEpLDU6eSooMioxLzEpfSxtPXkqKDEqMS8xKSxmPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEJ1ZmYiLG5hbWU6InVsdEJ1ZmYiLHRleHQ6IlVsdCBidWZmIix0aXRsZToiVWx0IGJ1ZmYiLGNvbnRlbnQ6YEluY3JlYXNlcyBTdmFyb2cgQ291bnRlciBETUcgYnkgJHtCKGwqMTAwKX0lIGR1cmluZyBVbHRpbWF0ZS4gRE1HIGRlYWx0IHRvIENsYXJhIGlzIHJlZHVjZWQgYnkgYW4gZXh0cmEgJHtCKG8qMTAwKX0lIGZvciAyIHR1cm5zYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YWxlbnRFbmVteU1hcmtlZCIsbmFtZToidGFsZW50RW5lbXlNYXJrZWQiLHRleHQ6IkVuZW15IG1hcmtlZCIsdGl0bGU6IkVuZW15IG1hcmtlZCIsY29udGVudDpgQWRkaXRpb25hbGx5IGRlYWxzIFBoeXNpY2FsIERNRyBlcXVhbCB0byAke0IoQyoxMDApfSUgb2YgQ2xhcmEncyBBVEsgdG8gZW5lbWllcyBtYXJrZWQgYnkgU3Zhcm9nIHdpdGggYSBNYXJrIG9mIENvdW50ZXIuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMlVsdEF0a0J1ZmYiLG5hbWU6ImUyVWx0QXRrQnVmZiIsdGV4dDoiRTIgdWx0IEFUSyBidWZmIix0aXRsZToiRTIgdWx0IEFUSyBidWZmIixjb250ZW50OmBFMjogQWZ0ZXIgdXNpbmcgVWx0aW1hdGUsIGluY3JlYXNlcyBBVEsgYnkgJHtCKC4zKjEwMCl9JSBmb3IgMiB0dXJucy5gLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNERtZ1JlZHVjdGlvbkJ1ZmYiLG5hbWU6ImU0RG1nUmVkdWN0aW9uQnVmZiIsdGV4dDoiRTQgRE1HIHJlZHVjdGlvbiBidWZmIix0aXRsZToiRTQgRE1HIHJlZHVjdGlvbiBidWZmIixjb250ZW50OmBFNDogRGVjcmVhc2VzIERNRyB0YWtlbiBieSAke0IoLjMqMTAwKX0lLmAsZGlzYWJsZWQ6ZTw0fV07cmV0dXJue2NvbnRlbnQ6KCk9PmYsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt1bHRCdWZmOiEwLHRhbGVudEVuZW15TWFya2VkOiEwLGUyVWx0QXRrQnVmZjohMCxlNERtZ1JlZHVjdGlvbkJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihyLHUpPT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gcltuLkFUS19QXSs9ZT49MiYmYy5lMlVsdEF0a0J1ZmY/LjM6MCxyLkJBU0lDX1NDQUxJTkcrPWQsci5TS0lMTF9TQ0FMSU5HKz1DLHIuU0tJTExfU0NBTElORys9Yy50YWxlbnRFbmVteU1hcmtlZD9DOjAsci5GVUFfU0NBTElORys9RSxyLkZVQV9TQ0FMSU5HKz1jLnVsdEJ1ZmY/bDowLHIuRE1HX1JFRF9NVUxUSSo9MS0uMSxyLkRNR19SRURfTVVMVEkqPWMudWx0QnVmZj8xLW86MSxyLkRNR19SRURfTVVMVEkqPWU+PTQmJmMuZTREbWdSZWR1Y3Rpb25CdWZmPzEtLjM6MSxrKHIsUiwuMyksci5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxyLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwLHIuRlVBX1RPVUdITkVTU19ETUcrPTMwLHJ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihyLHUpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoocix1KT0+e2NvbnN0IFM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHMudWx0QnVmZj9EW3UuZW5lbXlDb3VudF06bTtxKHIsdSxTKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6cj0+e2NvbnN0IGM9ci5jaGFyYWN0ZXJDb25kaXRpb25hbHMudWx0QnVmZj9EW3IuZW5lbXlDb3VudF06bTtyZXR1cm4gaihjKX19fSxLdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89cyhlLC4zNiwuMzk2KSxsPWEoZSwxLDEuMSksZD10KGUsMi42LDIuODYpLEM9aShlLDQsNC4zMiksRT1pKGUsMS4yLDEuMjk2KSxEPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudFBlbkJ1ZmYiLG5hbWU6InRhbGVudFBlbkJ1ZmYiLHRleHQ6IlRhbGVudCBSRVMgUEVOIGJ1ZmYiLHRpdGxlOiJUYWxlbnQgUkVTIFBFTiBidWZmIixjb250ZW50OmBXaGVuIERhbiBIZW5nIGlzIHRoZSB0YXJnZXQgb2YgYW4gYWxseSdzIEFiaWxpdHksIGhpcyBuZXh0IGF0dGFjaydzIFdpbmQgUkVTIFBFTiBpbmNyZWFzZXMgYnkgJHtCKG8qMTAwKX0lLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlTbG93ZWQiLG5hbWU6ImVuZW15U2xvd2VkIix0ZXh0OiJFbmVteSBzbG93ZWQiLHRpdGxlOiJFbmVteSBzbG93ZWQiLGNvbnRlbnQ6IkJhc2ljIEFUSyBkZWFscyA0MCUgbW9yZSBkYW1hZ2UgdG8gU2xvd2VkIGVuZW1pZXMuIn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMUVuZW15SHA1MCIsbmFtZToiZTFFbmVteUhwNTAiLHRleHQ6IkUxIGVuZW15IEhQIOKJpSA1MCUgQ1IgYm9vc3QiLHRpdGxlOiJFMTogVGhlIEhpZ2hlciBZb3UgRmx5LCB0aGUgSGFyZGVyIFlvdSBGYWxsIixjb250ZW50OiJXaGVuIHRoZSB0YXJnZXQgZW5lbXkncyBjdXJyZW50IEhQIHBlcmNlbnRhZ2UgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDUwJSwgQ1JJVCBSYXRlIGluY3JlYXNlcyBieSAxMiUuIixkaXNhYmxlZDplPDF9XTtyZXR1cm57Y29udGVudDooKT0+RCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3RhbGVudFBlbkJ1ZmY6ITAsZW5lbXlTbG93ZWQ6ITAsZTFFbmVteUhwNTA6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihtLGYpPT57Y29uc3Qgcj1mLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gbVtuLkNSXSs9ZT49MSYmci5lMUVuZW15SHA1MD8uMTI6MCxtLkJBU0lDX1NDQUxJTkcrPWwsbS5TS0lMTF9TQ0FMSU5HKz1kLG0uVUxUX1NDQUxJTkcrPUMsbS5VTFRfU0NBTElORys9ci5lbmVteVNsb3dlZD9FOjAsbS5SRVNfUEVOKz1yLnRhbGVudFBlbkJ1ZmY/bzowLGsobSxXLC40LHIuZW5lbXlTbG93ZWQpLG0uQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsbS5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxtLlVMVF9UT1VHSE5FU1NfRE1HKz05MCxtfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczptPT5PKG0pLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fTtjb25zdCB3dD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LG89NSxsPWU+PTE/MTA6NixkPWEoZSwxLDEuMSksQz10KGUsMS41LDEuNjUpLEU9aShlLDIuNCwyLjU5MiksRD1zKGUsMi43LDIuOTcpO2Z1bmN0aW9uIG0oaCxBPSEwKXtyZXR1cm4gQT9ELyhEKy4yKmgpOi4yLyhEKy4yKmgpfWNvbnN0IGY9eSooMSoxLzEpLHI9ezA6eSooMSoxLzEpLDE6eSooMSptKDEsITApKzIqbSgxLCExKSksMjp5KigxKm0oMiwhMCkrNSptKDIsITEpKSwzOnkqKDEqbSgzLCEwKSs5Km0oMywhMSkpLDQ6eSooMSptKDQsITApKzE0Km0oNCwhMSkpfTtmdW5jdGlvbiB1KGgpe2NvbnN0IEE9aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGU+PTI/cltNYXRoLm1pbig0LEEuZW5lbXlEZWJ1ZmZTdGFja3MpXTpmfWNvbnN0IGM9KCk9PlsiV2hlbiB1c2luZyBoaXMgU2tpbGwsIERyLiBSYXRpbyBoYXMgYSA0MCUgZml4ZWQgY2hhbmNlIG9mIGxhdW5jaGluZyBhIGZvbGxvdy11cCBhdHRhY2sgYWdhaW5zdCBoaXMgdGFyZ2V0IGZvciAxIHRpbWUsIiwiZGVhbGluZyBJbWFnaW5hcnkgRE1HIGVxdWFsIHRvIHswfSUgb2YgRHIuIFJhdGlvJ3MgQVRLLiIsIkZvciBlYWNoIGRlYnVmZiB0aGUgdGFyZ2V0IGVuZW15IGhhcywgdGhlIGZpeGVkIGNoYW5jZSBvZiBsYXVuY2hpbmcgZm9sbG93LXVwIGF0dGFjayBpbmNyZWFzZXMgYnkgMjAlLiIsIklmIHRoZSB0YXJnZXQgZW5lbXkgaXMgZGVmZWF0ZWQgYmVmb3JlIHRoZSBmb2xsb3ctdXAgYXR0YWNrIHRyaWdnZXJzLCB0aGUgZm9sbG93LXVwIGF0dGFjayB3aWxsIGJlIGRpcmVjdGVkIGF0IGEgc2luZ2xlIHJhbmRvbSBlbmVteSBpbnN0ZWFkLiIsIjo6QlI6OldoZW4gZGVhbGluZyBETUcgdG8gYSB0YXJnZXQgdGhhdCBoYXMgMyBvciBtb3JlIGRlYnVmZihzKSwgZm9yIGVhY2ggZGVidWZmIHRoZSB0YXJnZXQgaGFzLCB0aGUgRE1HIGRlYWx0IGJ5IERyLiBSYXRpbyB0byB0aGlzIHRhcmdldCBpbmNyZWFzZXMgYnkgMTAlLCB1cCB0byBhIG1heGltdW0gaW5jcmVhc2Ugb2YgNTAlLiIsIjo6QlI6OkUyOiBXaGVuIGhpcyBUYWxlbnQncyBmb2xsb3ctdXAgYXR0YWNrIGhpdHMgYSB0YXJnZXQsIGZvciBldmVyeSBkZWJ1ZmYgdGhlIHRhcmdldCBoYXMsIGFkZGl0aW9uYWxseSBkZWFscyBJbWFnaW5hcnkgQWRkaXRpb25hbCBETUcgZXF1YWwgdG8gMjAlIG9mIERyLiBSYXRpbydzIEFUSy4gVGhpcyBlZmZlY3QgY2FuIGJlIHRyaWdnZXJlZCBmb3IgYSBtYXhpbXVtIG9mIDQgdGltZXMgZHVyaW5nIGVhY2ggZm9sbG93LXVwIGF0dGFjay4iXS5qb2luKCIgIikucmVwbGFjZSgiezB9IixlPj01PyIyOTciOiIyNzAiKSxTPVt7aWQ6InN1bW1hdGlvblN0YWNrcyIsbmFtZToic3VtbWF0aW9uU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJTdW1tYXRpb24gc3RhY2tzIix0aXRsZToiU3VtbWF0aW9uIHN0YWNrcyIsY29udGVudDpgV2hlbiBEci4gUmF0aW8gdXNlcyBoaXMgU2tpbGwsIGZvciBldmVyeSBkZWJ1ZmYgb24gdGhlIHRhcmdldCwgaGlzIENSSVQgUmF0ZSBpbmNyZWFzZXMgYnkgMi41JSBhbmQgQ1JJVCBETUcgYnkgNSUuIFRoaXMgZWZmZWN0IGNhbiBzdGFjayB1cCB0byAke0IobCl9IHRpbWUocykuYCxtaW46MCxtYXg6bH0se2lkOiJlbmVteURlYnVmZlN0YWNrcyIsbmFtZToiZW5lbXlEZWJ1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6IkVuZW15IGRlYnVmZiBzdGFja3MiLHRpdGxlOiJUYWxlbnQ6IENvZ2l0bywgRXJnbyBTdW0iLGNvbnRlbnQ6YygpLG1pbjowLG1heDpvfV07cmV0dXJue2NvbnRlbnQ6KCk9PlMsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtlbmVteURlYnVmZlN0YWNrczpvLHN1bW1hdGlvblN0YWNrczpsfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooaCxBKT0+e2NvbnN0IF89QS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGhbbi5DUl0rPV8uc3VtbWF0aW9uU3RhY2tzKi4wMjUsaFtuLkNEXSs9Xy5zdW1tYXRpb25TdGFja3MqLjA1LGguQkFTSUNfU0NBTElORys9ZCxoLlNLSUxMX1NDQUxJTkcrPUMsaC5VTFRfU0NBTElORys9RSxoLkZVQV9TQ0FMSU5HKz1ELGguRUxFTUVOVEFMX0RNRys9Xy5lbmVteURlYnVmZlN0YWNrcz49Mz9NYXRoLm1pbiguNSxfLmVuZW15RGVidWZmU3RhY2tzKi4xKTowLGsoaCxSLC41LGU+PTYpLGguQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsaC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxoLlVMVF9UT1VHSE5FU1NfRE1HKz05MCxoLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxofSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaCxBKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGgsQSk9PntxKGgsQSx1KEEpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6aD0+aih1KGgpKX19O3ZhciBGdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LG89dChlLC4xMiwuMTMyKSxsPXQoZSwuMDYsLjA2NiksZD1zKGUsLjE4LC4xOTYpLEM9YShlLC41LC41NSksRT10KGUsMCwwKSxEPWkoZSwxLDEuMDgpLG09W3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50QWN0aXZlIixuYW1lOiJ0YWxlbnRBY3RpdmUiLHRleHQ6IlRlYW0gRE1HIHJlZHVjdGlvbiIsdGl0bGU6IlRlYW0gRE1HIHJlZHVjdGlvbiIsY29udGVudDpgV2hpbGUgRnUgWHVhbiBpcyBzdGlsbCBhY3RpdmUgaW4gYmF0dGxlLCBNaXNmb3J0dW5lIEF2b2lkYW5jZSBpcyBhcHBsaWVkIHRvIHRoZSBlbnRpcmUgdGVhbS4gV2l0aCBNaXNmb3J0dW5lIEF2b2lkYW5jZSwgYWxsaWVzIHRha2UgJHtCKGQqMTAwKX0lIGxlc3MgRE1HLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxBY3RpdmUiLG5hbWU6InNraWxsQWN0aXZlIix0ZXh0OiJTa2lsbCBhY3RpdmUiLHRpdGxlOiJTa2lsbCBhY3RpdmUiLGNvbnRlbnQ6YEFjdGl2YXRlcyBNYXRyaXggb2YgUHJlc2NpZW5jZSwgdmlhIHdoaWNoIG90aGVyIHRlYW0gbWVtYmVycyB3aWxsIERpc3RyaWJ1dGUgNjUlIG9mIHRoZSBETUcgdGhleSByZWNlaXZlIChiZWZvcmUgdGhpcyBETUcgaXMgbWl0aWdhdGVkIGJ5IGFueSBTaGllbGRzKSB0byBGdSBYdWFuIGZvciAzIHR1cm4ocykuCiAgICBXaGlsZSBhZmZlY3RlZCBieSBNYXRyaXggb2YgUHJlc2NpZW5jZSwgYWxsIHRlYW0gbWVtYmVycyBnYWluIHRoZSBLbm93bGVkZ2UgZWZmZWN0LCB3aGljaCBpbmNyZWFzZXMgdGhlaXIgcmVzcGVjdGl2ZSBNYXggSFAgYnkgJHtCKGwqMTAwKX0lIG9mIEZ1IFh1YW4ncyBNYXggSFAsIAogICAgYW5kIGluY3JlYXNlcyBDUklUIFJhdGUgYnkgJHtCKG8qMTAwKX0lLmB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZUZWFtSHBMb3N0UGVyY2VudCIsbmFtZToiZTZUZWFtSHBMb3N0UGVyY2VudCIsdGV4dDoiRTYgdGVhbSBIUCBsb3N0Iix0aXRsZToiRTYgdGVhbSBIUCBsb3N0Iixjb250ZW50OiJFNjogT25jZSBNYXRyaXggb2YgUHJlc2NpZW5jZSBpcyBhY3RpdmF0ZWQsIGl0IHdpbGwga2VlcCBhIHRhbGx5IG9mIHRoZSB0b3RhbCBIUCBsb3N0IGJ5IGFsbCB0ZWFtIG1lbWJlcnMgaW4gdGhlIGN1cnJlbnQgYmF0dGxlLiBGdSBYdWFuJ3MgVWx0aW1hdGUgRE1HIHdpbGwgaW5jcmVhc2UgYnkgMjAwJSBvZiB0aGlzIHRhbGx5IG9mIEhQIGxvc3MuIFRoaXMgdGFsbHkgaXMgYWxzbyBjYXBwZWQgYXQgMTIwJSBvZiBGdSBYdWFuJ3MgTWF4IEhQLiIsbWluOjAsbWF4OjEuMixwZXJjZW50OiEwLGRpc2FibGVkOmU8Nn1dLGY9W3AobSwidGFsZW50QWN0aXZlIikscChtLCJza2lsbEFjdGl2ZSIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVIUFZhbHVlIixuYW1lOiJ0ZWFtbWF0ZUhQVmFsdWUiLHRleHQ6IkZ1IFh1YW4ncyBIUCIsdGl0bGU6Iktub3duIGJ5IFN0YXJzLCBTaG93biBieSBIZWFydHMiLGNvbnRlbnQ6YFdoaWxlIGFmZmVjdGVkIGJ5IE1hdHJpeCBvZiBQcmVzY2llbmNlLCBhbGwgdGVhbSBtZW1iZXJzIGdhaW4gdGhlIEtub3dsZWRnZSBlZmZlY3QsIHdoaWNoIGluY3JlYXNlcyB0aGVpciByZXNwZWN0aXZlIE1heCBIUCBieSAke0IobCoxMDApfSUgb2YgRnUgWHVhbidzIE1heCBIUGAsbWluOjAsbWF4OjFlNH1dO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+ZixkZWZhdWx0czooKT0+KHtza2lsbEFjdGl2ZTohMCx0YWxlbnRBY3RpdmU6ITAsZTZUZWFtSHBMb3N0UGVyY2VudDoxLjJ9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3NraWxsQWN0aXZlOiEwLHRhbGVudEFjdGl2ZTohMCx0ZWFtbWF0ZUhQVmFsdWU6OGUzfSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiByLkJBU0lDX1NDQUxJTkcrPUMsci5TS0lMTF9TQ0FMSU5HKz1FLHIuVUxUX1NDQUxJTkcrPUQrKGU+PTY/MipjLmU2VGVhbUhwTG9zdFBlcmNlbnQ6MCksci5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxyLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxyfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocix1KT0+e2NvbnN0IGM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cltuLkNSXSs9Yy5za2lsbEFjdGl2ZT9vOjAscltuLkNEXSs9ZT49MSYmYy5za2lsbEFjdGl2ZT8uMzowLHIuRE1HX1JFRF9NVUxUSSo9Yy50YWxlbnRBY3RpdmU/MS1kOjF9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Jbbi5IUF0rPWMuc2tpbGxBY3RpdmU/bCpjLnRlYW1tYXRlSFBWYWx1ZTowLHIuRE1HX1JFRF9NVUxUSSo9Yy5za2lsbEFjdGl2ZT8xLS42NToxfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoocix1KT0+e3llKHIpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+TGUoKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IkZ1WHVhbkhwQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5IUF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24ocix1LGMpe2lmKCF1LmNoYXJhY3RlckNvbmRpdGlvbmFscy5za2lsbEFjdGl2ZSlyZXR1cm47Y29uc3QgaD1jLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsQT1yW24uSFBdLXIuUkFUSU9fQkFTRURfSFBfQlVGRixfPWwqQSxHPWwqaDtjLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09cltuLkhQXTtjb25zdCBJPV8tKGg/RzowKTtyLlJBVElPX0JBU0VEX0hQX0JVRkYrPUksRihyLHUsYyxuLkhQLEkpfSxncHU6ZnVuY3Rpb24ocix1KXtjb25zdCBjPXIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBOKHRoaXMsYAppZiAoJHtYKGMuc2tpbGxBY3RpdmUpfSkgewogIHJldHVybjsKfQoKbGV0IHN0YXRlVmFsdWU6IGYzMiA9ICgqcF9zdGF0ZSkuRnVYdWFuSHBDb25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlSHBWYWx1ZTogZjMyID0gKCpwX3gpLkhQIC0gKCpwX3gpLlJBVElPX0JBU0VEX0hQX0JVRkY7Cgp2YXIgYnVmZkhQOiBmMzIgPSAke2x9ICogY29udmVydGlibGVIcFZhbHVlOwp2YXIgc3RhdGVCdWZmSFA6IGYzMiA9ICR7bH0gKiBzdGF0ZVZhbHVlOwoKKCpwX3N0YXRlKS5GdVh1YW5IcENvbmRpdGlvbmFsID0gKCpwX3gpLkhQOwoKbGV0IGZpbmFsQnVmZkhwID0gYnVmZkhQIC0gc2VsZWN0KDAsIHN0YXRlQnVmZkhQLCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9IUF9CVUZGICs9IGZpbmFsQnVmZkhwOwoKYnVmZk5vblJhdGlvRHluYW1pY0hQKGZpbmFsQnVmZkhwLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fV19fSxWdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0fT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LGk9YShlLDEsMS4xKSxzPXQoZSwyLDIuMiksbz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFRlYW1SZXNCdWZmIixuYW1lOiJlNFRlYW1SZXNCdWZmIix0ZXh0OiJFNCBUZWFtIFJFUyBidWZmIix0aXRsZToiRTQgVGVhbSBSRVMgYnVmZiIsY29udGVudDoiRTQ6IFdoZW4gR2VwYXJkIGlzIGluIGJhdHRsZSwgYWxsIGFsbGllcycgRWZmZWN0IFJFUyBpbmNyZWFzZXMgYnkgMjAlLiIsZGlzYWJsZWQ6ZTw0fV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2U0VGVhbVJlc0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2U0VGVhbVJlc0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobCxkKT0+KGwuQkFTSUNfU0NBTElORys9aSxsLlNLSUxMX1NDQUxJTkcrPXMsbC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxsLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGwpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihsLGQpPT57Y29uc3QgQz1kLmNoYXJhY3RlckNvbmRpdGlvbmFscztsW24uUkVTXSs9ZT49NCYmQy5lNFRlYW1SZXNCdWZmPy4yOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmw9Pk8obCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt5dF19fSxXdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89cyhlLC4wNywuMDc2KSxsPWU+PTY/NDozLGQ9YShlLDEsMS4xKSxDPXQoZSwxLjIsMS4zMiksRT1pKGUsMS4yLDEuMjk2KSxEPXQoZSwyLjE4MiwyLjQpLG09W3tmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50RGVidWZmU3RhY2tzIixuYW1lOiJ0YWxlbnREZWJ1ZmZTdGFja3MiLHRleHQ6IkVuZW15IEZpcmVraXNzIHN0YWNrcyIsdGl0bGU6IkVuZW15IEZpcmVraXNzIHN0YWNrcyIsY29udGVudDpgV2hpbGUgaW5mbGljdGVkIHdpdGggRmlyZWtpc3MsIHRoZSBlbmVteSByZWNlaXZlcyAke0IobyoxMDApfSUgaW5jcmVhc2VkIERNRywgd2hpY2ggbGFzdHMgZm9yIDMgdHVybnMgYW5kIGNhbiBzdGFjayB1cCB0byAke0IobCl9IHRpbWVzLmAsbWluOjAsbWF4Omx9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlCdXJuZWQiLG5hbWU6ImVuZW15QnVybmVkIix0ZXh0OiJFbmVteSBidXJuZWQiLHRpdGxlOiJFbmVteSBidXJuZWQiLGNvbnRlbnQ6YEluY3JlYXNlcyBETUcgYnkgJHtCKC4yKjEwMCl9JSBhZ2FpbnN0IGVuZW1pZXMgYWZmZWN0ZWQgYnkgQnVybi5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsRG90IixuYW1lOiJza2lsbERvdCIsdGV4dDoiVXNlIFNraWxsIERvVCBjaGFuY2UiLHRpdGxlOiJVc2UgU2tpbGwgRG9UIGNoYW5jZSIsY29udGVudDoiV2hlbiBlbmFibGVkLCB1c2VzIHRoZSBTa2lsbCdzIDEwMCUgRG9UIGNoYW5jZSBpbnN0ZWFkIG9mIHRoZSBCYXNpYydzIDgwJSBEb1QgY2hhbmNlLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFFZmZlY3RSZXNTaHJlZCIsbmFtZToiZTFFZmZlY3RSZXNTaHJlZCIsdGV4dDoiRTEgRWZmZWN0IFJFUyBzaHJlZCIsdGl0bGU6IkUxIEVmZmVjdCBSRVMgc2hyZWQiLGNvbnRlbnQ6IkUxOiBXaGVuIFNraWxsIGlzIHVzZWQsIHRoZXJlIGlzIGEgMTAwJSBiYXNlIGNoYW5jZSB0byByZWR1Y2UgdGhlIGF0dGFja2VkIHRhcmdldCBlbmVteSdzIEVmZmVjdCBSRVMgYnkgMTAlIGZvciAyIHR1cm4ocykuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJCdXJuTXVsdGlCb29zdCIsbmFtZToiZTJCdXJuTXVsdGlCb29zdCIsdGV4dDoiRTIgYnVybiBtdWx0aSBib29zdCIsdGl0bGU6IkUyIGJ1cm4gbXVsdGkgYm9vc3QiLGNvbnRlbnQ6IkUyOiBXaGVuIGFuIGVuZW15IHRhcmdldCBpcyBCdXJuZWQsIEd1aW5haWZlbidzIEJhc2ljIEFUSyBhbmQgU2tpbGwgY2FuIGluY3JlYXNlIHRoZSBETUcgbXVsdGlwbGllciBvZiB0aGVpciBCdXJuIHN0YXR1cyBieSA0MCUuIixkaXNhYmxlZDplPDJ9XSxmPVtwKG0sInRhbGVudERlYnVmZlN0YWNrcyIpLHAobSwiZTFFZmZlY3RSZXNTaHJlZCIpXTtyZXR1cm57Y29udGVudDooKT0+bSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7dGFsZW50RGVidWZmU3RhY2tzOmwsZW5lbXlCdXJuZWQ6ITAsc2tpbGxEb3Q6ITAsZTFFZmZlY3RSZXNTaHJlZDohMCxlMkJ1cm5NdWx0aUJvb3N0OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YWxlbnREZWJ1ZmZTdGFja3M6bCxlMUVmZmVjdFJlc1NocmVkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiByLkJBU0lDX1NDQUxJTkcrPWQsci5TS0lMTF9TQ0FMSU5HKz1DLHIuVUxUX1NDQUxJTkcrPUUsci5ET1RfU0NBTElORys9RCxyLkRPVF9TQ0FMSU5HKz1lPj0yJiZjLmUyQnVybk11bHRpQm9vc3Q/LjQ6MCxyLkVMRU1FTlRBTF9ETUcrPWMuZW5lbXlCdXJuZWQ/LjI6MCxyLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHIuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsci5VTFRfVE9VR0hORVNTX0RNRys9NjAsci5ET1RfQ0hBTkNFPWMuc2tpbGxEb3Q/MTouOCxyfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocix1KT0+e2NvbnN0IGM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7ci5WVUxORVJBQklMSVRZKz1jLnRhbGVudERlYnVmZlN0YWNrcypvLHIuRUZGRUNUX1JFU19QRU4rPWMuZTFFZmZlY3RSZXNTaHJlZD8uMTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpyPT5PKHIpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSx6dD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89aShlLC4yLC4yMSksbD1pKGUsLjYsLjY0OCk7bGV0IGQ9cyhlLC4zLC4zMyk7ZCs9ZT49Nj8uMTowO2NvbnN0IEM9YShlLDEsMS4xKSxFPXQoZSwyLjQsMi42NCksRD1pKGUsMCwwKSxtPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEJ1ZmYiLG5hbWU6InVsdEJ1ZmYiLHRleHQ6IlVsdCBTUEQvQVRLIGJ1ZmYiLHRpdGxlOiJVbHRpbWF0ZTogVGVuLUxvcmRzJyBEZWNyZWUsIEFsbCBTaGFsbCBPYmV5Iixjb250ZW50OmBJbmNyZWFzZXMgdGhlIFNQRCBvZiBhIHRhcmdldCBhbGx5IGJ5ICR7QihvKjEwMCl9JSBvZiBIYW55YSdzIFNQRCBhbmQgaW5jcmVhc2VzIHRoZSBzYW1lIHRhcmdldCBhbGx5J3MgQVRLIGJ5ICR7QihsKjEwMCl9JS5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldEJ1cmRlbkFjdGl2ZSIsbmFtZToidGFyZ2V0QnVyZGVuQWN0aXZlIix0ZXh0OiJUYXJnZXQgQnVyZGVuIGRlYnVmZiIsdGl0bGU6IlRhbGVudDogU2FuY3Rpb24iLGNvbnRlbnQ6YFdoZW4gYW4gYWxseSB1c2VzIGEgQmFzaWMgQVRLLCBTa2lsbCwgb3IgVWx0aW1hdGUgb24gYW4gZW5lbXkgaW5mbGljdGVkIHdpdGggQnVyZGVuLCB0aGUgRE1HIGRlYWx0IGluY3JlYXNlcyBieSAke0IoZCoxMDApfSUgZm9yIDIgdHVybihzKS5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJ1cmRlbkF0a0J1ZmYiLG5hbWU6ImJ1cmRlbkF0a0J1ZmYiLHRleHQ6IkJ1cmRlbiBBVEsgYnVmZiIsdGl0bGU6IlRyYWNlOiBTY3JpdmVuZXIiLGNvbnRlbnQ6IkFsbGllcyB0cmlnZ2VyaW5nIEJ1cmRlbidzIFNraWxsIFBvaW50IHJlY292ZXJ5IGVmZmVjdCBoYXZlIHRoZWlyIEFUSyBpbmNyZWFzZWQgYnkgMTAlIGZvciAxIHR1cm4ocykuIn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMlNraWxsU3BkQnVmZiIsbmFtZToiZTJTa2lsbFNwZEJ1ZmYiLHRleHQ6IkUyIHNraWxsIFNQRCBidWZmIix0aXRsZToiRTI6IFR3byBWaWV3cyIsY29udGVudDpgRTI6IEFmdGVyIFNraWxsLCBpbmNyZWFzZXMgU1BEIGJ5ICR7QiguMioxMDApfSUgZm9yIDEgdHVybi5gLGRpc2FibGVkOmU8Mn1dLGY9W3AobSwidWx0QnVmZiIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVTUERWYWx1ZSIsbmFtZToidGVhbW1hdGVTUERWYWx1ZSIsdGV4dDoiSGFueWEncyBTUEQiLHRpdGxlOiJVbHRpbWF0ZTogVGVuLUxvcmRzJyBEZWNyZWUsIEFsbCBTaGFsbCBPYmV5Iixjb250ZW50OmBJbmNyZWFzZXMgdGhlIFNQRCBvZiBhIHRhcmdldCBhbGx5IGJ5ICR7QihvKjEwMCl9JSBvZiBIYW55YSdzIFNQRCBhbmQgaW5jcmVhc2VzIHRoZSBzYW1lIHRhcmdldCBhbGx5J3MgQVRLIGJ5ICR7QihsKjEwMCl9JS5gLG1pbjowLG1heDoyMDB9LHAobSwidGFyZ2V0QnVyZGVuQWN0aXZlIikscChtLCJidXJkZW5BdGtCdWZmIildO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+ZixkZWZhdWx0czooKT0+KHt1bHRCdWZmOiEwLHRhcmdldEJ1cmRlbkFjdGl2ZTohMCxidXJkZW5BdGtCdWZmOiEwLGUyU2tpbGxTcGRCdWZmOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt1bHRCdWZmOiEwLHRhcmdldEJ1cmRlbkFjdGl2ZTohMCxidXJkZW5BdGtCdWZmOiEwLHRlYW1tYXRlU1BEVmFsdWU6MTYwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiByLkJBU0lDX1NDQUxJTkcrPUMsci5TS0lMTF9TQ0FMSU5HKz1FLHIuVUxUX1NDQUxJTkcrPUQscltuLlNQRF9QXSs9ZT49MiYmYy5lMlNraWxsU3BkQnVmZj8uMjowLHIuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsci5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxyfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocix1KT0+e2NvbnN0IGM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cltuLkFUS19QXSs9Yy51bHRCdWZmP2w6MCxyW24uQVRLX1BdKz1jLmJ1cmRlbkF0a0J1ZmY/LjE6MCxyLkVMRU1FTlRBTF9ETUcrPWMudGFyZ2V0QnVyZGVuQWN0aXZlP2Q6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czoocix1KT0+e2NvbnN0IGM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cltuLlNQRF0rPWMudWx0QnVmZj9vKmMudGVhbW1hdGVTUERWYWx1ZTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpyPT5PKHIpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJIYW55YVNwZENvbmRpdGlvbmFsIix0eXBlOnYuQUJJTElUWSxhY3RpdmF0aW9uOlAuQ09OVElOVU9VUyxkZXBlbmRzT246W24uU1BEXSxyYXRpb0NvbnZlcnNpb246ITAsY29uZGl0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVmZmVjdDpmdW5jdGlvbihyLHUsYyl7aWYoIXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnVsdEJ1ZmYpcmV0dXJuO2NvbnN0IGg9Yy5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLEE9cltuLlNQRF0tci5SQVRJT19CQVNFRF9TUERfQlVGRixfPW8qQSxHPW8qaDtjLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09cltuLlNQRF07Y29uc3QgST1fLShoP0c6MCk7ci5SQVRJT19CQVNFRF9TUERfQlVGRis9SSxGKHIsdSxjLG4uU1BELEkpfSxncHU6ZnVuY3Rpb24ocix1KXtjb25zdCBjPXIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBOKHRoaXMsYAppZiAoJHtYKGMudWx0QnVmZil9KSB7CiAgcmV0dXJuOwp9CgpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5IYW55YVNwZENvbmRpdGlvbmFsOwpsZXQgY29udmVydGlibGVTcGRWYWx1ZTogZjMyID0gKCpwX3gpLlNQRCAtICgqcF94KS5SQVRJT19CQVNFRF9TUERfQlVGRjsKCnZhciBidWZmU1BEOiBmMzIgPSAke299ICogY29udmVydGlibGVTcGRWYWx1ZTsKdmFyIHN0YXRlQnVmZlNQRDogZjMyID0gJHtvfSAqIHN0YXRlVmFsdWU7CgooKnBfc3RhdGUpLkhhbnlhU3BkQ29uZGl0aW9uYWwgPSAoKnBfeCkuU1BEOwoKbGV0IGZpbmFsQnVmZlNwZCA9IGJ1ZmZTUEQgLSBzZWxlY3QoMCwgc3RhdGVCdWZmU1BELCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9TUERfQlVGRiArPSBmaW5hbEJ1ZmZTcGQ7CgpidWZmTm9uUmF0aW9EeW5hbWljU1BEKGZpbmFsQnVmZlNwZCwgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0sJHQ9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPWEoZSwxLDEuMSksbD10KGUsMSwxLjEpLGQ9aShlLDIsMi4xNiksQz1zKGUsLjQsLjQzKTtmdW5jdGlvbiBFKGYscil7Y29uc3QgdT0xL2Y7aWYoci5lbmVteUNvdW50PT0xKXtsZXQgYz0xLFM9MDtmb3IobGV0IGg9MDtoPGY7aCsrKVMrPXUqYyxjPU1hdGgubWluKDgsYysxKTtyZXR1cm4gU31pZihyLmVuZW15Q291bnQ9PTMpe2xldCBjPTIsUz0wO2ZvcihsZXQgaD0wO2g8ZjtoKyspUys9dSpjLGM9TWF0aC5taW4oOCxjKzMpO3JldHVybiBTfWlmKHIuZW5lbXlDb3VudD09NSl7bGV0IGM9MyxTPTA7Zm9yKGxldCBoPTA7aDxmO2grKylTKz11KmMsYz1NYXRoLm1pbig4LGMrNSk7cmV0dXJuIFN9cmV0dXJuIDF9ZnVuY3Rpb24gRChmKXtjb25zdCByPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLHU9RShyLmZ1YVN0YWNrcyxmKTtyZXR1cm57MTp5KnUsMzp5KnUsNTp5KnV9W2YuZW5lbXlDb3VudF19Y29uc3QgbT1be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJmdWFTdGFja3MiLG5hbWU6ImZ1YVN0YWNrcyIsdGV4dDoiRm9sbG93dXAgYXR0YWNrIGhpdHMiLHRpdGxlOiJGb2xsb3d1cCBhdHRhY2sgaGl0cyIsY29udGVudDoiV2hlbiBhbiBhbGx5J3MgYXR0YWNrIGNhdXNlcyBhbiBlbmVteSdzIEhQIHBlcmNlbnRhZ2UgdG8gZmFsbCB0byA1MCUgb3IgbG93ZXIsIEhlcnRhIHdpbGwgbGF1bmNoIGEgZm9sbG93LXVwIGF0dGFjaywgZGVhbGluZyBJY2UgRE1HLiIsbWluOjEsbWF4OjV9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0RnJvemVuIixuYW1lOiJ0YXJnZXRGcm96ZW4iLHRleHQ6IlRhcmdldCBmcm96ZW4iLHRpdGxlOiJUYXJnZXQgZnJvemVuIixjb250ZW50OmBXaGVuIFVsdGltYXRlIGlzIHVzZWQsIGRlYWxzICR7QiguMioxMDApfSUgbW9yZSBETUcgdG8gRnJvemVuIGVuZW1pZXMuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteUhwR3RlNTAiLG5hbWU6ImVuZW15SHBHdGU1MCIsdGV4dDoiU2tpbGwgRE1HIGJvb3N0Iix0aXRsZToiT25lLVRpbWUgT2ZmZXIiLGNvbnRlbnQ6IlNraWxsOiBJZiB0aGUgZW5lbXkncyBIUCBwZXJjZW50YWdlIGlzIDUwJSBvciBoaWdoZXIsIERNRyBkZWFsdCB0byB0aGlzIHRhcmdldCBpbmNyZWFzZXMgYnkgMjAlLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGVjaG5pcXVlQnVmZiIsbmFtZToidGVjaG5pcXVlQnVmZiIsdGV4dDoiVGVjaG5pcXVlIGJ1ZmYiLHRpdGxlOiJUZWNobmlxdWUgYnVmZiIsY29udGVudDpgSW5jcmVhc2VzIEFUSyBieSAke0IoLjQqMTAwKX0lIGZvciAzIHR1cm5zLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlIcEx0ZTUwIixuYW1lOiJlbmVteUhwTHRlNTAiLHRleHQ6IkUxIGJhc2ljIHNjYWxpbmcgYm9vc3QiLHRpdGxlOiJFMTogS2ljayBZb3UgV2hlbiBZb3UncmUgRG93biIsY29udGVudDoiRTE6IElmIHRoZSBlbmVteSdzIEhQIHBlcmNlbnRhZ2UgaXMgYXQgNTAlIG9yIGxlc3MsIEhlcnRhJ3MgQmFzaWMgQVRLIGRlYWxzIEFkZGl0aW9uYWwgSWNlIERNRyBlcXVhbCB0byA0MCUgb2YgSGVydGEncyBBVEsuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTJUYWxlbnRDcml0U3RhY2tzIixuYW1lOiJlMlRhbGVudENyaXRTdGFja3MiLHRleHQ6IkUyIHRhbGVudCBDUiBzdGFja3MiLHRpdGxlOiJFMiB0YWxlbnQgQ1Igc3RhY2tzIixjb250ZW50OiJFMjogSW5jcmVhc2VzIENSSVQgUmF0ZSBieSAzJSBwZXIgc3RhY2suIFN0YWNrcyB1cCB0byA1IHRpbWVzLiIsbWluOjAsbWF4OjUsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2VWx0QXRrQnVmZiIsbmFtZToiZTZVbHRBdGtCdWZmIix0ZXh0OiJFNiB1bHQgQVRLIGJ1ZmYiLHRpdGxlOiJFNiB1bHQgQVRLIGJ1ZmYiLGNvbnRlbnQ6YEU2OiBBZnRlciBVbHQsIGluY3JlYXNlcyBBVEsgYnkgJHtCKC4yNSoxMDApfSUgZm9yIDEgdHVybi5gLGRpc2FibGVkOmU8Nn1dO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7ZnVhU3RhY2tzOjUsdGVjaG5pcXVlQnVmZjohMSx0YXJnZXRGcm96ZW46ITAsZTJUYWxlbnRDcml0U3RhY2tzOjUsZTZVbHRBdGtCdWZmOiEwLGVuZW15SHBHdGU1MDohMCxlbmVteUhwTHRlNTA6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihmLHIpPT57Y29uc3QgdT1yLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltuLkFUS19QXSs9dS50ZWNobmlxdWVCdWZmPy40OjAsZltuLkNSXSs9ZT49Mj91LmUyVGFsZW50Q3JpdFN0YWNrcyouMDM6MCxmW24uQVRLX1BdKz1lPj02JiZ1LmU2VWx0QXRrQnVmZj8uMjU6MCxmLkJBU0lDX1NDQUxJTkcrPW8sZi5CQVNJQ19TQ0FMSU5HKz1lPj0xJiZ1LmVuZW15SHBMdGU1MD8uNDowLGYuU0tJTExfU0NBTElORys9bCxmLlVMVF9TQ0FMSU5HKz1kLGYuRlVBX1NDQUxJTkcrPUMqdS5mdWFTdGFja3MsayhmLFYsLjIsdS5lbmVteUhwR3RlNTApLGsoZixVLC4yLHUudGFyZ2V0RnJvemVuKSxrKGYsUiwuMSxlPj00KSxmLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsZi5VTFRfVE9VR0hORVNTX0RNRys9NjAsZi5GVUFfVE9VR0hORVNTX0RNRys9MTUsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYscik9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihmLHIpPT57cShmLHIsRChyKSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOmY9PmooRChmKSl9fSxZdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPXQoZSwyLDIuMiksZD1pKGUsMi4zLDIuNDg0KSxDPXMoZSwxLjQsMS41NCksRT0uMyxEPXsxOnkqKDEqLjIrMiouMiszKi4yKzQqLjQpLDM6eSooMiouMis1Ki4yKzgqLjIrOCouNCksNTp5KigzKi4yKzgqLjIrOCouMis4Ki40KX0sbT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YXJnZXRCdXJuZWQiLG5hbWU6InRhcmdldEJ1cm5lZCIsdGV4dDoiVGFyZ2V0IGJ1cm5lZCIsdGl0bGU6IlRhcmdldCBidXJuZWQiLGNvbnRlbnQ6IlNraWxsIGRlYWxzIDIwJSBtb3JlIERNRyB0byBlbmVtaWVzIGN1cnJlbnRseSBhZmZsaWN0ZWQgd2l0aCBCdXJuLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2VsZkN1cnJlbnRIcDgwUGVyY2VudCIsbmFtZToic2VsZkN1cnJlbnRIcDgwUGVyY2VudCIsdGV4dDoiU2VsZiBIUCDiiaUgODAlIENSIGJvb3N0Iix0aXRsZToiU2VsZiBIUCDiiaUgODAlIENSIGJvb3N0Iixjb250ZW50OiJXaGVuIGN1cnJlbnQgSFAgcGVyY2VudGFnZSBpcyA4MCUgb3IgaGlnaGVyLCBDUklUIFJhdGUgaW5jcmVhc2VzIGJ5IDE1JS4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxVGFsZW50U3BkQnVmZiIsbmFtZToiZTFUYWxlbnRTcGRCdWZmIix0ZXh0OiJFMSBTUEQgYnVmZiIsdGl0bGU6IkUxIFNQRCBidWZmIixjb250ZW50OiJFMTogQWZ0ZXIgVmljdG9yeSBSdXNoIGlzIHRyaWdnZXJlZCwgSGltZWtvJ3MgU1BEIGluY3JlYXNlcyBieSAyMCUgZm9yIDIgdHVybnMuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJFbmVteUhwNTBEbWdCb29zdCIsbmFtZToiZTJFbmVteUhwNTBEbWdCb29zdCIsdGV4dDoiRTIgZW5lbXkgSFAg4omkIDUwJSBETUcgYm9vc3QiLHRpdGxlOiJFMjogQ29udmVyZ2VuY2UiLGNvbnRlbnQ6IkUyOiBEZWFscyAxNSUgbW9yZSBETUcgdG8gZW5lbWllcyB3aG9zZSBIUCBwZXJjZW50YWdlIGlzIDUwJSBvciBsZXNzLiIsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU2VWx0RXh0cmFIaXRzIixuYW1lOiJlNlVsdEV4dHJhSGl0cyIsdGV4dDoiRTYgdWx0IGV4dHJhIGhpdHMiLHRpdGxlOiJFNiB1bHQgZXh0cmEgaGl0cyIsY29udGVudDpgVWx0aW1hdGUgZGVhbHMgRE1HIDIgZXh0cmEgdGltZXMuIEV4dHJhIGhpdHMgZGVhbHMgJHtCKC40KjEwMCl9JSBvZiB0aGUgb3JpZ2luYWwgRE1HIHBlciBoaXQuYCxtaW46MCxtYXg6MixkaXNhYmxlZDplPDZ9XTtyZXR1cm57Y29udGVudDooKT0+bSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3RhcmdldEJ1cm5lZDohMCxzZWxmQ3VycmVudEhwODBQZXJjZW50OiEwLGUxVGFsZW50U3BkQnVmZjohMSxlNlVsdEV4dHJhSGl0czoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooZixyKT0+e2NvbnN0IHU9ci5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGZbbi5DUl0rPXUuc2VsZkN1cnJlbnRIcDgwUGVyY2VudD8uMTU6MCxmW24uU1BEX1BdKz1lPj0xJiZ1LmUxVGFsZW50U3BkQnVmZj8uMjowLGYuQkFTSUNfU0NBTElORys9byxmLlNLSUxMX1NDQUxJTkcrPWwsZi5VTFRfU0NBTElORys9ZCxmLlVMVF9TQ0FMSU5HKz1lPj02P3UuZTZVbHRFeHRyYUhpdHMqZCouNDowLGYuRlVBX1NDQUxJTkcrPUMsZi5ET1RfU0NBTElORys9RSxrKGYsViwuMix1LnRhcmdldEJ1cm5lZCksZi5FTEVNRU5UQUxfRE1HKz1lPj0yJiZ1LmUyRW5lbXlIcDUwRG1nQm9vc3Q/LjE1OjAsZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGYuVUxUX1RPVUdITkVTU19ETUcrPTYwLGYuRlVBX1RPVUdITkVTU19ETUcrPTMwLGYuRE9UX0NIQU5DRT0uNSxmfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZixyKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGYscik9PntxKGYscixEW3IuZW5lbXlDb3VudF0pfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT5qKERbZi5lbmVteUNvdW50XSl9fSx4dD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89cyhlLDEsMS4xKSxsPWEoZSwxLDEuMSksZD10KGUsMi40LDIuNjQpLEM9dChlLDIuOCwzLjA4KSxFPWkoZSw0LDQuMzIpLEQ9dChlLC42NSwuNzE1KSxtPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuaGFuY2VkU2tpbGwiLG5hbWU6ImVuaGFuY2VkU2tpbGwiLHRleHQ6IkVuaGFuY2VkIHNraWxsIix0aXRsZToiRW5oYW5jZWQgc2tpbGwiLGNvbnRlbnQ6YEFmdGVyIHVzaW5nIFVsdGltYXRlLCB0aGUgbmV4dCBTa2lsbCB0byBiZSB1c2VkIGlzIEVuaGFuY2VkLiBFbmhhbmNlZCBTa2lsbCBkZWFscyBGaXJlIERNRyBlcXVhbCB0byAke0IoQyoxMDApfSUgb2YgSG9vaydzIEFUSyB0byBhIHNpbmdsZSBlbmVteSBhbmQgcmVkdWNlZCBETUcgdG8gYWRqYWNlbnQgZW5lbWllcy5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldEJ1cm5lZCIsbmFtZToidGFyZ2V0QnVybmVkIix0ZXh0OiJUYXJnZXQgYnVybmVkIix0aXRsZToiVGFyZ2V0IGJ1cm5lZCIsY29udGVudDpgV2hlbiBhdHRhY2tpbmcgYSB0YXJnZXQgYWZmbGljdGVkIHdpdGggQnVybiwgZGVhbHMgQWRkaXRpb25hbCBGaXJlIERNRyBlcXVhbCB0byAke0IobyoxMDApfSUgb2YgSG9vaydzIEFUSy5gfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm0sdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtlbmhhbmNlZFNraWxsOiEwLHRhcmdldEJ1cm5lZDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KGYscik9Pntjb25zdCB1PXIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmLkJBU0lDX1NDQUxJTkcrPWwsZi5TS0lMTF9TQ0FMSU5HKz11LmVuaGFuY2VkU2tpbGw/QzpkLGYuVUxUX1NDQUxJTkcrPUUsZi5CQVNJQ19TQ0FMSU5HKz11LnRhcmdldEJ1cm5lZD9vOjAsZi5TS0lMTF9TQ0FMSU5HKz11LnRhcmdldEJ1cm5lZD9vOjAsZi5VTFRfU0NBTElORys9dS50YXJnZXRCdXJuZWQ/bzowLGYuRE9UX1NDQUxJTkcrPUQsayhmLFYsLjIsZT49MSYmdS5lbmhhbmNlZFNraWxsKSxmLkVMRU1FTlRBTF9ETUcrPWU+PTYmJnUudGFyZ2V0QnVybmVkPy4yOjAsZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGYuVUxUX1RPVUdITkVTU19ETUcrPTkwLGYuRE9UX0NIQU5DRT0xLGZ9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmY9Pk8oZiksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LHF0PWU9Pntjb25zdHtiYXNpYzphLHVsdDp0fT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LGk9dChlLC40LC40MzIpLHM9YShlLC41LC41NSksbz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ1bHRCdWZmIixuYW1lOiJ1bHRCdWZmIix0ZXh0OiJVbHQgQVRLIGJ1ZmYiLHRpdGxlOiJVbHQgQVRLIGJ1ZmYiLGNvbnRlbnQ6YEluY3JlYXNlcyBhbGwgYWxsaWVzJyBBVEsgYnkgJHtCKGkqMTAwKX0lIGZvciAyIHR1cm5zIGFmdGVyIHVzaW5nIFVsdGltYXRlLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxCdWZmIixuYW1lOiJza2lsbEJ1ZmYiLHRleHQ6IkUxIFNQRCBidWZmIix0aXRsZToiRTEgU1BEIGJ1ZmYiLGNvbnRlbnQ6IkUxOiBXaGVuIEh1b2h1byBwb3NzZXNzZXMgRGl2aW5lIFByb3Zpc2lvbiwgYWxsIGFsbGllcycgU1BEIGluY3JlYXNlcyBieSAxMiUuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZEbWdCdWZmIixuYW1lOiJlNkRtZ0J1ZmYiLHRleHQ6IkU2IERNRyBidWZmIix0aXRsZToiRTYgRE1HIGJ1ZmYiLGNvbnRlbnQ6IkU2OiBXaGVuIGhlYWxpbmcgYSB0YXJnZXQgYWxseSwgaW5jcmVhc2VzIHRoZSB0YXJnZXQgYWxseSdzIERNRyBkZWFsdCBieSA1MCUgZm9yIDIgdHVybnMuIixkaXNhYmxlZDplPDZ9XSxsPVtwKG8sInVsdEJ1ZmYiKSxwKG8sInNraWxsQnVmZiIpLHAobywiZTZEbWdCdWZmIildO3JldHVybntjb250ZW50OigpPT5vLHRlYW1tYXRlQ29udGVudDooKT0+bCxkZWZhdWx0czooKT0+KHt1bHRCdWZmOiEwLHNraWxsQnVmZjohMCxlNkRtZ0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3VsdEJ1ZmY6ITAsc2tpbGxCdWZmOiEwLGU2RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihkLEMpPT4oZC5CQVNJQ19TQ0FMSU5HKz1zLGQuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZCkscHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGQsQyk9Pntjb25zdCBFPUMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Rbbi5BVEtfUF0rPUUudWx0QnVmZj9pOjAsZFtuLlNQRF9QXSs9ZT49MSYmRS5za2lsbEJ1ZmY/LjEyOjAsZC5FTEVNRU5UQUxfRE1HKz1lPj02JiZFLmU2RG1nQnVmZj8uNTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZCxDKT0+e3llKGQpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+TGUoKX19LGp0PWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUsbz1lPj0xPzEwOjYsbD10KGUsLjEyLC4xMzIpLGQ9cyhlLC4xLC4xMSksQz1hKGUsMSwxLjEpLEU9YShlLDIuNiwyLjg2KSxEPWEoZSwzLjgsNC4xOCksbT1hKGUsNSw1LjUpLGY9dChlLDAsMCkscj1pKGUsMywzLjI0KSx1PVt7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImJhc2ljRW5oYW5jZWQiLG5hbWU6ImJhc2ljRW5oYW5jZWQiLHRleHQ6IkJhc2ljIGVuaGFuY2VtZW50cyIsdGl0bGU6IkJhc2ljIGVuaGFuY2VtZW50cyIsY29udGVudDpgMCBzdGFjayhzKTogVXNlcyBhIDItaGl0IGF0dGFjayBhbmQgZGVhbHMgSW1hZ2luYXJ5IERNRyBlcXVhbCB0byAke0IoQyoxMDApfSUgQVRLIHRvIGEgc2luZ2xlIGVuZW15IHRhcmdldC4KICAgIDo6QlI6OjEgc3RhY2socyk6IFVzZXMgYSAzLWhpdCBhdHRhY2sgYW5kIGRlYWxzIEltYWdpbmFyeSBETUcgZXF1YWwgdG8gJHtCKEUqMTAwKX0lIEFUSyB0byBhIHNpbmdsZSBlbmVteSB0YXJnZXQuCiAgICA6OkJSOjoyIHN0YWNrKHMpOiBVc2VzIGEgNS1oaXQgYXR0YWNrIGFuZCBkZWFscyBJbWFnaW5hcnkgRE1HIGVxdWFsIHRvICR7QihEKjEwMCl9JSBBVEsgdG8gYSBzaW5nbGUgZW5lbXkgdGFyZ2V0IGFuZCByZWR1Y2VkIERNRyB0byBhZGphY2VudCB0YXJnZXRzLgogICAgOjpCUjo6MyBzdGFjayhzKTogVXNlcyBhIDctaGl0IGF0dGFjayBhbmQgZGVhbHMgSW1hZ2luYXJ5IERNRyBlcXVhbCB0byAke0IobSoxMDApfSUgQVRLIHRvIGEgc2luZ2xlIGVuZW15IHRhcmdldCBhbmQgcmVkdWNlZCBETUcgdG8gYWRqYWNlbnQgdGFyZ2V0cy5gLG1pbjowLG1heDozfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsT3V0cm9hclN0YWNrcyIsbmFtZToic2tpbGxPdXRyb2FyU3RhY2tzIix0ZXh0OiJPdXRyb2FyIHN0YWNrcyIsdGl0bGU6Ik91dHJvYXIgc3RhY2tzIixjb250ZW50OmBEaXZpbmUgU3BlYXIgb3IgRnVsZ3VyYW50IExlYXAsIHN0YXJ0aW5nIGZyb20gdGhlIGZvdXJ0aCBoaXQsIDEgc3RhY2sgb2YgT3V0cm9hciBpcyBnYWluZWQgYmVmb3JlIGV2ZXJ5IGhpdC4gCiAgICBFYWNoIHN0YWNrIG9mIE91dHJvYXIgaW5jcmVhc2VzIERhbiBIZW5nIOKAoiBJbWJpYml0b3IgTHVuYWUncyBDUklUIERNRyBieSAke0IobCoxMDApfSUsIGZvciBhIG1heCBvZiA0IHN0YWNrcy4gKGFwcGxpZWQgdG8gYWxsIGhpdHMpYCxtaW46MCxtYXg6NH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRSaWdodGVvdXNIZWFydFN0YWNrcyIsbmFtZToidGFsZW50UmlnaHRlb3VzSGVhcnRTdGFja3MiLHRleHQ6IlJpZ2h0ZW91cyBIZWFydCBzdGFja3MiLHRpdGxlOiJSaWdodGVvdXMgSGVhcnQgc3RhY2tzIixjb250ZW50OmBBZnRlciBlYWNoIGhpdCBkZWFsdCBkdXJpbmcgYW4gYXR0YWNrLCBEYW4gSGVuZyDigKIgSW1iaWJpdG9yIEx1bmFlIGdhaW5zIDEgc3RhY2sgb2YgUmlnaHRlb3VzIEhlYXJ0LCBpbmNyZWFzaW5nIGhpcyBETUcgYnkgJHtCKGQqMTAwKX0lLiAoYXBwbGllZCB0byBhbGwgaGl0cylgLG1pbjowLG1heDpvfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU2UmVzUGVuU3RhY2tzIixuYW1lOiJlNlJlc1BlblN0YWNrcyIsdGV4dDoiRTYgUkVTIFBFTiBzdGFja3MiLHRpdGxlOiJFNiBSRVMgUEVOIHN0YWNrcyIsY29udGVudDoiRTY6IEFmdGVyIGFueSBvdGhlciBhbGx5IHVzZXMgdGhlaXIgVWx0aW1hdGUsIHRoZSBJbWFnaW5hcnkgUkVTIFBFTiBvZiBEYW4gSGVuZyDigKIgSW1iaWJpdG9yIEx1bmFlJ3MgbmV4dCBGdWxndXJhbnQgTGVhcCBhdHRhY2sgaW5jcmVhc2VzIGJ5IDIwJSwgdXAgdG8gMyBzdGFja3MuIixtaW46MCxtYXg6MyxkaXNhYmxlZDplPDZ9XTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2Jhc2ljRW5oYW5jZWQ6Myxza2lsbE91dHJvYXJTdGFja3M6NCx0YWxlbnRSaWdodGVvdXNIZWFydFN0YWNrczpvLGU2UmVzUGVuU3RhY2tzOjN9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihjLFMpPT57Y29uc3QgaD1TLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gY1tuLkNEXSs9Uy5lbmVteUVsZW1lbnRhbFdlYWs/LjI0OjAsY1tuLkNEXSs9aC5za2lsbE91dHJvYXJTdGFja3MqbCxjLkJBU0lDX1NDQUxJTkcrPXswOkMsMTpFLDI6RCwzOm19W2guYmFzaWNFbmhhbmNlZF0/PzAsYy5TS0lMTF9TQ0FMSU5HKz1mLGMuVUxUX1NDQUxJTkcrPXIsYy5FTEVNRU5UQUxfRE1HKz1oLnRhbGVudFJpZ2h0ZW91c0hlYXJ0U3RhY2tzKmQsdWUoYyxXLC4yKmguZTZSZXNQZW5TdGFja3MsZT49NiYmaC5iYXNpY0VuaGFuY2VkPT0zKSxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwKzMwKmguYmFzaWNFbmhhbmNlZCxjLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxTKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+TyhjKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sUXQ9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxvPXMoZSwuNSwuNTIpO2xldCBsPXMoZSwxLjgsMS45OCk7bCs9ZT49ND8uMzowO2NvbnN0IGQ9YShlLDEsMS4xKSxDPXQoZSwyLDIuMiksRT10KGUsMi41LDIuNzUpLEQ9aShlLDMsMy4yNCksbT1be25hbWU6InRhbGVudEVuaGFuY2VkU3RhdGUiLGlkOiJ0YWxlbnRFbmhhbmNlZFN0YXRlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmhhbmNlZCBzdGF0ZSIsdGl0bGU6IkNyZXNjZW50IFRyYW5zbWlncmF0aW9uIixjb250ZW50OmBXaGVuIEppbmdsaXUgaGFzIDIgc3RhY2tzIG9mIFN5enlneSwgc2hlIGVudGVycyB0aGUgU3BlY3RyYWwgVHJhbnNtaWdyYXRpb24gc3RhdGUgd2l0aCBoZXIgQWN0aW9uIEFkdmFuY2VkIGJ5IDEwMCUgYW5kIGhlciBDUklUIFJhdGUgaW5jcmVhc2VzIGJ5ICR7QihvKjEwMCl9JS4gCiAgICAgIFRoZW4sIEppbmdsaXUncyBTa2lsbCAiVHJhbnNjZW5kZW50IEZsYXNoIiBiZWNvbWVzIGVuaGFuY2VkIGFuZCB0dXJucyBpbnRvICJNb29uIE9uIEdsYWNpYWwgUml2ZXIsIiBhbmQgYmVjb21lcyB0aGUgb25seSBhYmlsaXR5IHNoZSBjYW4gdXNlIGluIGJhdHRsZS5gfSx7bmFtZToidGFsZW50SHBEcmFpbkF0a0J1ZmYiLGlkOiJ0YWxlbnRIcERyYWluQXRrQnVmZiIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDoiSFAgZHJhaW4gQVRLIGJ1ZmYiLHRpdGxlOiJDcmVzY2VudCBUcmFuc21pZ3JhdGlvbiAtIEFUSyBCb251cyIsY29udGVudDpgV2hlbiBKaW5nbGl1IHVzZXMgYW4gYXR0YWNrIGluIHRoZSBTcGVjdHJhbCBUcmFuc21pZ3JhdGlvbiBzdGF0ZSwgc2hlIGNvbnN1bWVzIEhQIGZyb20gYWxsIG90aGVyIGFsbGllcyBhbmQgSmluZ2xpdSdzIEFUSyBpbmNyZWFzZXMgYmFzZWQgb24gdGhlIHRvdGFsIEhQIGNvbnN1bWVkIGZyb20gYWxsIGFsbGllcyBpbiB0aGlzIGF0dGFjaywgCiAgICAgIGNhcHBlZCBhdCAke0IobCoxMDApfSUgb2YgaGVyIGJhc2UgQVRLLCBsYXN0aW5nIHVudGlsIHRoZSBjdXJyZW50IGF0dGFjayBlbmRzLmAsbWluOjAsbWF4OmwscGVyY2VudDohMH0se2lkOiJlMUNkQnVmZiIsbmFtZToiZTFDZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkUxIHVsdCBhY3RpdmUiLHRpdGxlOiJFMSBNb29uIENyYXNoZXMgVGlhbmd1YW4gR2F0ZSIsY29udGVudDoiRTE6IFdoZW4gdXNpbmcgaGVyIFVsdGltYXRlIG9yIEVuaGFuY2VkIFNraWxsLCBKaW5nbGl1J3MgQ1JJVCBETUcgaW5jcmVhc2VzIGJ5IDI0JSBmb3IgMSB0dXJuLiBJZiBvbmx5IG9uZSBlbmVteSB0YXJnZXQgaXMgYXR0YWNrZWQsIHRoZSB0YXJnZXQgd2lsbCBhZGRpdGlvbmFsbHkgYmUgZGVhbHQgSWNlIERNRyBlcXVhbCB0byAxMDAlIG9mIEppbmdsaXUncyBBVEsuIixkaXNhYmxlZDplPDF9LHtpZDoiZTJTa2lsbERtZ0J1ZmYiLG5hbWU6ImUyU2tpbGxEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFMiBza2lsbCBidWZmIix0aXRsZToiRTIgQ3Jlc2NlbnQgU2hhZG93cyBRaXhpbmcgRGlwcGVyIixjb250ZW50OiJFMjogQWZ0ZXIgdXNpbmcgVWx0aW1hdGUsIGluY3JlYXNlcyB0aGUgRE1HIG9mIHRoZSBuZXh0IEVuaGFuY2VkIFNraWxsIGJ5IDgwJS4iLGRpc2FibGVkOmU8Mn1dO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dGFsZW50RW5oYW5jZWRTdGF0ZTohMCx0YWxlbnRIcERyYWluQXRrQnVmZjpsLGUxQ2RCdWZmOiEwLGUyU2tpbGxEbWdCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooZixyKT0+e2NvbnN0IHU9ci5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGZbbi5DUl0rPXUudGFsZW50RW5oYW5jZWRTdGF0ZT9vOjAsZltuLkFUS19QXSs9dS50YWxlbnRFbmhhbmNlZFN0YXRlP3UudGFsZW50SHBEcmFpbkF0a0J1ZmY6MCxmW24uUkVTXSs9dS50YWxlbnRFbmhhbmNlZFN0YXRlPy4zNTowLGsoZixVLC4yLHUudGFsZW50RW5oYW5jZWRTdGF0ZSksZltuLkNEXSs9ZT49MSYmdS5lMUNkQnVmZj8uMjQ6MCxmW24uQ0RdKz1lPj02JiZ1LnRhbGVudEVuaGFuY2VkU3RhdGU/LjU6MCxmLkJBU0lDX1NDQUxJTkcrPWQsZi5TS0lMTF9TQ0FMSU5HKz11LnRhbGVudEVuaGFuY2VkU3RhdGU/RTpDLGYuU0tJTExfU0NBTElORys9ZT49MSYmdS50YWxlbnRFbmhhbmNlZFN0YXRlJiZyLmVuZW15Q291bnQ9PTE/MTowLGYuVUxUX1NDQUxJTkcrPUQsZi5VTFRfU0NBTElORys9ZT49MSYmci5lbmVteUNvdW50PT0xPzE6MCxmLkZVQV9TQ0FMSU5HKz0wLGsoZixWLC44LGU+PTImJnUudGFsZW50RW5oYW5jZWRTdGF0ZSYmdS5lMlNraWxsRG1nQnVmZiksZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxmLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLGYuVUxUX1RPVUdITkVTU19ETUcrPTYwLGZ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHIpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT5PKGYpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxKdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPXQoZSwxLDEuMSksZD1pKGUsMiwyLjE2KSxDPXMoZSwuNjYsLjcyNik7ZnVuY3Rpb24gRShtKXtjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2xldCByPTA7Y29uc3QgdT1mLnRhbGVudEhpdHNQZXJBY3Rpb24sYz1mLnRhbGVudEF0dGFja3MsUz1tLmVuZW15Q291bnQ+PTM/MjowLGg9bS5lbmVteUNvdW50Pj0zPzM6MSxBPW0uZW5lbXlDb3VudD49Mz8yOjE7bGV0IF89UyoodS1jKTtfKz1BO2xldCBHPTA7Zm9yKGxldCBJPTA7STxjO0krKylHKz1NYXRoLm1pbig4LF8pKigxL2MpLF8rPWg7cmV0dXJuIHI9Ryp5LHJ9Y29uc3QgRD1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbENyaXRCdWZmIixuYW1lOiJza2lsbENyaXRCdWZmIix0ZXh0OiJTa2lsbCBDUiBidWZmIix0aXRsZToiU2tpbGwgQ1IgYnVmZiIsY29udGVudDoiQWZ0ZXIgdXNpbmcgU2tpbGwsIENSSVQgUmF0ZSBpbmNyZWFzZXMgYnkgMTAlIGZvciAyIHR1cm5zLiJ9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50SGl0c1BlckFjdGlvbiIsbmFtZToidGFsZW50SGl0c1BlckFjdGlvbiIsdGV4dDoiTGlnaHRuaW5nIExvcmQgc3RhY2tzIix0aXRsZToiTGlnaHRuaW5nIExvcmQgc3RhY2tzIixjb250ZW50OiJMaWdodG5pbmcgTG9yZCBoaXRzLXBlci1hY3Rpb24gc3RhY2sgdXAgdG8gMTAgdGltZXMuIixtaW46MyxtYXg6MTB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50QXR0YWNrcyIsbmFtZToidGFsZW50QXR0YWNrcyIsdGV4dDoiTGlnaHRuaW5nIExvcmQgaGl0cyBvbiB0YXJnZXQiLHRpdGxlOiJMaWdodG5pbmcgTG9yZCBoaXRzIG9uIHRhcmdldCIsY29udGVudDoiQ291bnQgb2YgaGl0cyBvbiB0YXJnZXQuIFNob3VsZCB1c3VhbGx5IGJlIHNldCB0byB0aGUgc2FtZSB2YWx1ZSBhcyBMaWdodG5pbmcgTG9yZCBTdGFja3MuIixtaW46MCxtYXg6MTB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJEbWdCdWZmIixuYW1lOiJlMkRtZ0J1ZmYiLHRleHQ6IkUyIGRtZyBidWZmIix0aXRsZToiRTIgZG1nIGJ1ZmYiLGNvbnRlbnQ6IkUyOiBBZnRlciBMaWdodG5pbmctTG9yZCB0YWtlcyBhY3Rpb24sIERNRyBjYXVzZWQgYnkgSmluZyBZdWFuJ3MgQmFzaWMgQVRLLCBTa2lsbCwgYW5kIFVsdGltYXRlIGluY3JlYXNlcyBieSAyMCUgZm9yIDIgdHVybnMuIixkaXNhYmxlZDplPDJ9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZGdWFWdWxuZXJhYmlsaXR5U3RhY2tzIixuYW1lOiJlNkZ1YVZ1bG5lcmFiaWxpdHlTdGFja3MiLHRleHQ6IkU2IHZ1bG5lcmFibGUgc3RhY2tzIix0aXRsZToiRTYgdnVsbmVyYWJsZSBzdGFja3MiLGNvbnRlbnQ6IkU2OiBFYWNoIGhpdCBwZXJmb3JtZWQgYnkgdGhlIExpZ2h0bmluZy1Mb3JkIHdoZW4gaXQgdGFrZXMgYWN0aW9uIHdpbGwgbWFrZSB0aGUgdGFyZ2V0IGVuZW15IFZ1bG5lcmFibGUuIFdoaWxlIFZ1bG5lcmFibGUsIGVuZW1pZXMgcmVjZWl2ZSAxMiUgbW9yZSBETUcgdW50aWwgdGhlIGVuZCBvZiB0aGUgTGlnaHRuaW5nLUxvcmQncyBjdXJyZW50IHR1cm4sIHN0YWNraW5nIHVwIHRvIDMgdGltZShzKS4gKGFwcGxpZXMgdG8gYWxsIGhpdHMpIixtaW46MCxtYXg6MyxkaXNhYmxlZDplPDZ9XTtyZXR1cm57Y29udGVudDooKT0+RCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe3NraWxsQ3JpdEJ1ZmY6ITAsdGFsZW50SGl0c1BlckFjdGlvbjoxMCx0YWxlbnRBdHRhY2tzOjEwLGUyRG1nQnVmZjohMCxlNkZ1YVZ1bG5lcmFiaWxpdHlTdGFja3M6M30pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KG0sZik9Pntjb25zdCByPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3IudGFsZW50SGl0c1BlckFjdGlvbj1NYXRoLm1heChyLnRhbGVudEhpdHNQZXJBY3Rpb24sci50YWxlbnRBdHRhY2tzKSxtW24uQ1JdKz1yLnNraWxsQ3JpdEJ1ZmY/LjE6MCxtLkJBU0lDX1NDQUxJTkcrPW8sbS5TS0lMTF9TQ0FMSU5HKz1sLG0uVUxUX1NDQUxJTkcrPWQsbS5GVUFfU0NBTElORys9QypyLnRhbGVudEF0dGFja3Msc2UobSxSLC4yNSxyLnRhbGVudEhpdHNQZXJBY3Rpb24+PTYpLGsobSxXfFZ8VSwuMixlPj0yJiZyLmUyRG1nQnVmZiksdGUobSxSLHIuZTZGdWFWdWxuZXJhYmlsaXR5U3RhY2tzKi4xMixlPj02KTtjb25zdCB1PXIudGFsZW50QXR0YWNrcztyZXR1cm4gbS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxtLlNLSUxMX1RPVUdITkVTU19ETUcrPTMwLG0uVUxUX1RPVUdITkVTU19ETUcrPTYwLG0uRlVBX1RPVUdITkVTU19ETUcrPTE1KnUsbX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KG0sZik9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihtLGYpPT57cShtLGYsRShmKSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOm09PmooRShtKSl9fSxYdD1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPXQoZSwxLjYsMS43NiksZD1pKGUsLjgsLjg2NCksQz1zKGUsMS40LDEuNTk2KSxFPWkoZSwyLjksMy4xODMpLEQ9eSooMSouMTUrMiouMTUrMyouMTUrNCouMTUrNSouMTUrNiouMjUpLG09W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZTFEb3REbWdSZWNlaXZlZERlYnVmZiIsbmFtZToiZTFEb3REbWdSZWNlaXZlZERlYnVmZiIsdGV4dDoiRTEgRG9UIERNRyBkZWJ1ZmYiLHRpdGxlOiJFMSBEb1QgRE1HIGRlYnVmZiIsY29udGVudDoiRTE6IFdoZW4gdGhlIFRhbGVudCB0cmlnZ2VycyBhIGZvbGxvdy11cCBhdHRhY2ssIHRoZXJlIGlzIGEgMTAwJSBiYXNlIGNoYW5jZSB0byBpbmNyZWFzZSB0aGUgRG9UIHJlY2VpdmVkIGJ5IHRoZSB0YXJnZXQgYnkgMzAlIGZvciAyIHR1cm4ocykuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJUZWFtRG90Qm9vc3QiLG5hbWU6ImUyVGVhbURvdEJvb3N0Iix0ZXh0OiJFMiBUZWFtIERvVCBETUcgYm9vc3QiLHRpdGxlOiJFMiBUZWFtIERvVCBETUcgYm9vc3QiLGNvbnRlbnQ6IkUyOiBXaGlsZSBLYWZrYSBpcyBvbiB0aGUgZmllbGQsIERvVCBkZWFsdCBieSBhbGwgYWxsaWVzIGluY3JlYXNlcyBieSAyNSUuIixkaXNhYmxlZDplPDJ9XSxmPVtwKG0sImUxRG90RG1nUmVjZWl2ZWREZWJ1ZmYiKSxwKG0sImUyVGVhbURvdEJvb3N0IildO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+ZixkZWZhdWx0czooKT0+KHtlMURvdERtZ1JlY2VpdmVkRGVidWZmOiEwLGUyVGVhbURvdEJvb3N0OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtlMURvdERtZ1JlY2VpdmVkRGVidWZmOiEwLGUyVGVhbURvdEJvb3N0OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9PihyLkJBU0lDX1NDQUxJTkcrPW8sci5TS0lMTF9TQ0FMSU5HKz1sLHIuVUxUX1NDQUxJTkcrPWQsci5GVUFfU0NBTElORys9QyxyLkRPVF9TQ0FMSU5HKz1FLHIuRE9UX1NDQUxJTkcrPWU+PTY/MS41NjowLHIuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsci5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxyLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxyLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxyLkRPVF9DSEFOQ0U9MS4zLHIpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihyLHUpPT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFsczt0ZShyLGllLC4zLGU+PTEmJmMuZTFEb3REbWdSZWNlaXZlZERlYnVmZiksayhyLGllLC4yNSxlPj0yJiZjLmUyVGVhbURvdEJvb3N0KX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHIsdSk9PntxKHIsdSxEKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6cj0+aihEKX19LFp0PWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0Oml9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUscz1hKGUsLjIsLjIyKSxvPWkoZSwuMiwuMjE2KSxsPWEoZSwxLDEuMSksZD1hKGUsLjIqMysuOCwuMjIqMysuODgpLEM9dChlLDEuMiwxLjMyKSxFPWkoZSwzLjMsMy41NjQpLEQ9dChlLDMuMzgsMy43MTgpLG09W3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNFbmhhbmNlZCIsbmFtZToiYmFzaWNFbmhhbmNlZCIsdGV4dDoiQmFzaWMgZW5oYW5jZWQiLHRpdGxlOiJCYXNpYyBlbmhhbmNlZDogU2t5LVNoYXR0ZXIgRmlzdCIsY29udGVudDoiRW5oYW5jZXMgQmFzaWMgQVRLIHRvIGRlYWwgYWRkaXRpb25hbCBkYW1hZ2UsIGFuZCBoYXMgYSBjaGFuY2UgdG8gdHJpZ2dlciBleHRyYSBoaXRzLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0VWx0RGVidWZmZWQiLG5hbWU6InRhcmdldFVsdERlYnVmZmVkIix0ZXh0OiJVbHQgdnVsbmVyYWJpbGl0eSBkZWJ1ZmYiLHRpdGxlOiJVbHQgdnVsbmVyYWJpbGl0eSBkZWJ1ZmYiLGNvbnRlbnQ6YEluY3JlYXNlIHRoZSB0YXJnZXQncyBETUcgcmVjZWl2ZWQgYnkgJHtCKG8qMTAwKX0lIGZvciAzIHR1cm4ocylgfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImJhc2ljRW5oYW5jZWRFeHRyYUhpdHMiLG5hbWU6ImJhc2ljRW5oYW5jZWRFeHRyYUhpdHMiLHRleHQ6IkVuaGFuY2VkIGJhc2ljIGV4dHJhIGhpdHMiLHRpdGxlOiJFbmhhbmNlZCBiYXNpYyBleHRyYSBoaXRzIixjb250ZW50OiJJbmNyZWFzZXMgdGhlIG51bWJlciBvZiBoaXRzIG9mIEJhc2ljIEVuaGFuY2VkLiIsbWluOjAsbWF4OjN9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFUYXJnZXRCbGVlZGluZyIsbmFtZToiZTFUYXJnZXRCbGVlZGluZyIsdGV4dDoiRTEgdGFyZ2V0IGJsZWVkaW5nIix0aXRsZToiRTEgdGFyZ2V0IGJsZWVkaW5nIixjb250ZW50OiJFMTogV2hlbiBMdWthIHRha2VzIGFjdGlvbiwgaWYgdGhlIHRhcmdldCBlbmVteSBpcyBCbGVlZGluZywgaW5jcmVhc2VzIERNRyBkZWFsdCBieSBMdWthIGJ5IDE1JSBmb3IgMiB0dXJuKHMpLiIsZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImU0VGFsZW50U3RhY2tzIixuYW1lOiJlNFRhbGVudFN0YWNrcyIsdGV4dDoiRTQgdGFsZW50IHN0YWNrcyIsdGl0bGU6IkU0IHRhbGVudCBzdGFja3MiLGNvbnRlbnQ6IkU0OiBGb3IgZXZlcnkgc3RhY2sgb2YgRmlnaHRpbmcgV2lsbCBvYnRhaW5lZCwgaW5jcmVhc2VzIEFUSyBieSA1JSwgc3RhY2tpbmcgdXAgdG8gNCB0aW1lKHMpLiIsbWluOjAsbWF4OjQsZGlzYWJsZWQ6ZTw0fV0sZj1bcChtLCJ0YXJnZXRVbHREZWJ1ZmZlZCIpXTtyZXR1cm57Y29udGVudDooKT0+bSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9Pih7YmFzaWNFbmhhbmNlZDohMCx0YXJnZXRVbHREZWJ1ZmZlZDohMCxlMVRhcmdldEJsZWVkaW5nOiEwLGJhc2ljRW5oYW5jZWRFeHRyYUhpdHM6MyxlNFRhbGVudFN0YWNrczo0fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRVbHREZWJ1ZmZlZDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihyLHUpPT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gcltuLkFUS19QXSs9ZT49ND9jLmU0VGFsZW50U3RhY2tzKi4wNTowLHIuQkFTSUNfU0NBTElORys9Yy5iYXNpY0VuaGFuY2VkP2Q6bCxyLkJBU0lDX1NDQUxJTkcrPShjLmJhc2ljRW5oYW5jZWQmJmMuYmFzaWNFbmhhbmNlZEV4dHJhSGl0cykqcyxyLlNLSUxMX1NDQUxJTkcrPUMsci5VTFRfU0NBTElORys9RSxyLkRPVF9TQ0FMSU5HKz1ELHIuRUxFTUVOVEFMX0RNRys9ZT49MSYmYy5lMVRhcmdldEJsZWVkaW5nPy4xNTowLHIuQkFTSUNfVE9VR0hORVNTX0RNRys9Yy5iYXNpY0VuaGFuY2VkPzYwOjMwLHIuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsci5VTFRfVE9VR0hORVNTX0RNRys9OTAsci5ET1RfQ0hBTkNFPTEscn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3IuVlVMTkVSQUJJTElUWSs9Yy50YXJnZXRVbHREZWJ1ZmZlZD9vOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnI9Pk8ociksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LGVhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0Oml9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1hKGUsMSwxLjEpLG89dChlLDAsMCksbD1pKGUsMiwyLjE2KSxkPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImZpZWxkQWN0aXZlIixuYW1lOiJmaWVsZEFjdGl2ZSIsdGV4dDoiRmllbGQgYWN0aXZlIix0aXRsZToiRmllbGQgYWN0aXZlIixjb250ZW50OmAKICAgICAgRTE6IFdoaWxlIHRoZSBGaWVsZCBpcyBhY3RpdmUsIEFUSyBvZiBhbGwgYWxsaWVzIGluY3JlYXNlcyBieSAyMCUuCiAgICBgfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzUmVkdWN0aW9uIixuYW1lOiJlNlJlc1JlZHVjdGlvbiIsdGV4dDoiRTYgUkVTIHJlZHVjdGlvbiIsdGl0bGU6IkU2IFJFUyByZWR1Y3Rpb24iLGNvbnRlbnQ6IkU2OiBXaGVuIFVsdGltYXRlIGlzIHVzZWQsIHJlZHVjZXMgYWxsIGVuZW1pZXMnIEFsbC1UeXBlIFJFUyBieSAyMCUgZm9yIDIgdHVybihzKS4iLGRpc2FibGVkOmU8Nn1dLEM9W3AoZCwiZmllbGRBY3RpdmUiKSxwKGQsImU2UmVzUmVkdWN0aW9uIildO3JldHVybntjb250ZW50OigpPT5kLHRlYW1tYXRlQ29udGVudDooKT0+QyxkZWZhdWx0czooKT0+KHtmaWVsZEFjdGl2ZTohMCxlNlJlc1JlZHVjdGlvbjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZmllbGRBY3RpdmU6ITAsZTZSZXNSZWR1Y3Rpb246ITB9KSxwcmVjb21wdXRlRWZmZWN0czooRSxEKT0+KEUuQkFTSUNfU0NBTElORys9cyxFLlNLSUxMX1NDQUxJTkcrPW8sRS5VTFRfU0NBTElORys9bCxFLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLEUuVUxUX1RPVUdITkVTU19ETUcrPTYwLEUpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihFLEQpPT57Y29uc3QgbT1ELmNoYXJhY3RlckNvbmRpdGlvbmFscztFW24uQVRLX1BdKz1lPj0xJiZtLmZpZWxkQWN0aXZlPy4yOjAsRS5SRVNfUEVOKz1lPj02JiZtLmU2UmVzUmVkdWN0aW9uPy4yOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOkU9Pk8oRSksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LHRhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0Oml9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz10KGUsLjA3NSwuMDgpLG89dChlLDIwMCwyMjMpLGw9YShlLC41LC41NSksZD10KGUsMCwwKSxDPWkoZSwwLDApLEU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxCdWZmIixuYW1lOiJza2lsbEJ1ZmYiLHRleHQ6IlNraWxsIG1heCBIUCBidWZmIix0aXRsZToiU2tpbGwgbWF4IEhQIGJ1ZmYiLGNvbnRlbnQ6YAogICAgQXBwbGllcyAiU3Vydml2YWwgUmVzcG9uc2UiIHRvIGEgc2luZ2xlIHRhcmdldCBhbGx5IGFuZCBpbmNyZWFzZXMgdGhlaXIgTWF4IEhQIGJ5ICR7QihzKjEwMCl9JSBvZiBMeW54J3MgTWF4IEhQIHBsdXMgJHtCKG8pfS4KICAgIDo6QlI6OkU0OiBXaGVuICJTdXJ2aXZhbCBSZXNwb25zZSIgaXMgZ2FpbmVkLCBpbmNyZWFzZXMgdGhlIHRhcmdldCdzIEFUSyBieSBhbiBhbW91bnQgZXF1YWwgdG8gMyUgb2YgTHlueCdzIE1heCBIUCBmb3IgMSB0dXJuKHMpLgogICAgOjpCUjo6RTY6IEFkZGl0aW9uYWxseSBib29zdHMgdGhlIE1heCBIUCBpbmNyZWFzaW5nIGVmZmVjdCBvZiAiU3Vydml2YWwgUmVzcG9uc2UiIGJ5IGFuIGFtb3VudCBlcXVhbCB0byA2JSBvZiBMeW54J3MgTWF4IEhQIGFuZCBpbmNyZWFzZXMgRWZmZWN0IFJFUyBieSAzMCUuYH1dLEQ9W3AoRSwic2tpbGxCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUhQVmFsdWUiLG5hbWU6InRlYW1tYXRlSFBWYWx1ZSIsdGV4dDoiTHlueCdzIEhQIix0aXRsZToiRHVzayBvZiBXYXJtIENhbXBmaXJlIixjb250ZW50OmAKICAgICAgQXBwbGllcyAiU3Vydml2YWwgUmVzcG9uc2UiIHRvIGEgc2luZ2xlIHRhcmdldCBhbGx5IGFuZCBpbmNyZWFzZXMgdGhlaXIgTWF4IEhQIGJ5ICR7QihzKjEwMCl9JSBvZiBMeW54J3MgTWF4IEhQIHBsdXMgJHtCKG8pfS4KICAgICAgOjpCUjo6RTQ6IFdoZW4gIlN1cnZpdmFsIFJlc3BvbnNlIiBpcyBnYWluZWQsIGluY3JlYXNlcyB0aGUgdGFyZ2V0J3MgQVRLIGJ5IGFuIGFtb3VudCBlcXVhbCB0byAzJSBvZiBMeW54J3MgTWF4IEhQIGZvciAxIHR1cm4ocykuCiAgICAgIDo6QlI6OkU2OiBBZGRpdGlvbmFsbHkgYm9vc3RzIHRoZSBNYXggSFAgaW5jcmVhc2luZyBlZmZlY3Qgb2YgIlN1cnZpdmFsIFJlc3BvbnNlIiBieSBhbiBhbW91bnQgZXF1YWwgdG8gNiUgb2YgTHlueCdzIE1heCBIUCBhbmQgaW5jcmVhc2VzIEVmZmVjdCBSRVMgYnkgMzAlLmAsbWluOjAsbWF4OjFlNH1dO3JldHVybntjb250ZW50OigpPT5FLHRlYW1tYXRlQ29udGVudDooKT0+RCxkZWZhdWx0czooKT0+KHtza2lsbEJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3NraWxsQnVmZjohMCx0ZWFtbWF0ZUhQVmFsdWU6NmUzfSkscHJlY29tcHV0ZUVmZmVjdHM6KG0sZik9PihtLkJBU0lDX1NDQUxJTkcrPWwsbS5TS0lMTF9TQ0FMSU5HKz1kLG0uVUxUX1NDQUxJTkcrPUMsbS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxtKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobSxmKT0+e2NvbnN0IHI9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bVtuLlJFU10rPWU+PTYmJnIuc2tpbGxCdWZmPy4zOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KG0sZik9Pntjb25zdCByPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO21bbi5IUF0rPXIuc2tpbGxCdWZmP3Mqci50ZWFtbWF0ZUhQVmFsdWU6MCxtW24uSFBdKz1lPj02JiZyLnNraWxsQnVmZj8uMDYqci50ZWFtbWF0ZUhQVmFsdWU6MCxtW24uSFBdKz1yLnNraWxsQnVmZj9vOjA7Y29uc3QgdT1lPj00JiZyLnNraWxsQnVmZj8uMDMqci50ZWFtbWF0ZUhQVmFsdWU6MDttW24uQVRLXSs9dX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KG0sZik9PnttLkJBU0lDX0RNRys9bS5CQVNJQ19TQ0FMSU5HKm1bbi5IUF19LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOihtLGYpPT4obS5jaGFyYWN0ZXJDb25kaXRpb25hbHMsYAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkhQOwogICAgICBgKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6Ikx5bnhDb252ZXJzaW9uQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5DT05USU5VT1VTLGRlcGVuZHNPbjpbbi5IUF0scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24obSxmLHIpe2lmKCFmLmNoYXJhY3RlckNvbmRpdGlvbmFscy5za2lsbEJ1ZmYpcmV0dXJuO2NvbnN0IGM9ci5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwO2xldCBTPTAsaD0wLEE9MCxfPTA7Y29uc3QgRz1tW24uSFBdLW0uUkFUSU9fQkFTRURfSFBfQlVGRjtTKz1zKkcrbyxBKz1zKmMrbyxlPj00JiYoaCs9LjAzKkcsXys9LjAzKmMpLGU+PTYmJihTKz0uMDYqRyxBKz0uMDYqYyksci5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdPW1bbi5IUF07Y29uc3QgST1TLShjP0E6MCksWT1oLShjP186MCk7bS5SQVRJT19CQVNFRF9IUF9CVUZGKz1JLEYobSxmLHIsbi5IUCxJKSxGKG0sZixyLG4uQVRLLFkpfSxncHU6ZnVuY3Rpb24obSxmKXtjb25zdCByPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBOKHRoaXMsYAppZiAoJHtYKHIuc2tpbGxCdWZmKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLkx5bnhDb252ZXJzaW9uQ29uZGl0aW9uYWw7CmxldCBjb252ZXJ0aWJsZUhwVmFsdWU6IGYzMiA9ICgqcF94KS5IUCAtICgqcF94KS5SQVRJT19CQVNFRF9IUF9CVUZGOwoKdmFyIGJ1ZmZBVEs6IGYzMiA9IDA7CnZhciBzdGF0ZUJ1ZmZBVEs6IGYzMiA9IDA7Cgp2YXIgYnVmZkhQOiBmMzIgPSAke3N9ICogY29udmVydGlibGVIcFZhbHVlICsgJHtvfTsKdmFyIHN0YXRlQnVmZkhQOiBmMzIgPSAke3N9ICogc3RhdGVWYWx1ZSArICR7b307CgppZiAoJHskKGU+PTQpfSkgewogIGJ1ZmZBVEsgKz0gMC4wMyAqIGNvbnZlcnRpYmxlSHBWYWx1ZTsKICBzdGF0ZUJ1ZmZBVEsgKz0gMC4wMyAqIHN0YXRlVmFsdWU7Cn0KCmlmICgkeyQoZT49Nil9KSB7CiAgYnVmZkhQICs9IDAuMDYgKiBjb252ZXJ0aWJsZUhwVmFsdWU7CiAgc3RhdGVCdWZmSFAgKz0gMC4wNiAqIHN0YXRlVmFsdWU7Cn0KCigqcF9zdGF0ZSkuTHlueENvbnZlcnNpb25Db25kaXRpb25hbCA9ICgqcF94KS5IUDsKCmxldCBmaW5hbEJ1ZmZIcCA9IGJ1ZmZIUCAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZIUCwgc3RhdGVWYWx1ZSA+IDApOwpsZXQgZmluYWxCdWZmQXRrID0gYnVmZkFUSyAtIHNlbGVjdCgwLCBzdGF0ZUJ1ZmZBVEssIHN0YXRlVmFsdWUgPiAwKTsKKCpwX3gpLlJBVElPX0JBU0VEX0hQX0JVRkYgKz0gZmluYWxCdWZmSHA7CgpidWZmTm9uUmF0aW9EeW5hbWljSFAoZmluYWxCdWZmSHAsIHBfeCwgcF9zdGF0ZSk7CmJ1ZmZEeW5hbWljQVRLKGZpbmFsQnVmZkF0aywgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0sYWE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxvPWEoZSwxLDEuMSksbD10KGUsMCwwKSxkPWkoZSwxLjUsMS42MiksQz1zKGUsMSwxLjEpLEU9eSooMSoxLzEpO3JldHVybntjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KEQsbSk9PihELkJBU0lDX1NDQUxJTkcrPW8sRC5TS0lMTF9TQ0FMSU5HKz1sLEQuVUxUX1NDQUxJTkcrPWQsRC5GVUFfU0NBTElORys9QyxELkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLEQuVUxUX1RPVUdITkVTU19ETUcrPTYwLEQuRlVBX1RPVUdITkVTU19ETUcrPTMwLEQpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihELG0pPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooRCxtKT0+e2NvbnN0IGY9cmUoRCxtLEUpO0QuQkFTSUNfRE1HKz1ELkJBU0lDX1NDQUxJTkcqRFtuLkFUS10sRC5TS0lMTF9ETUcrPUQuU0tJTExfU0NBTElORypEW24uQVRLXSxELlVMVF9ETUcrPUQuVUxUX1NDQUxJTkcqRFtuLkFUS10sRC5GVUFfRE1HKz1ELkZVQV9TQ0FMSU5HKihEW24uQVRLXStmKSxELkZVQV9ETUcrPWU+PTQ/LjMqRFtuLkRFRl06MH0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguU0tJTExfRE1HICs9IHguU0tJTExfU0NBTElORyAqIHguQVRLOwp4LlVMVF9ETUcgKz0geC5VTFRfU0NBTElORyAqIHguQVRLOwp4LkZVQV9ETUcgKz0geC5GVUFfU0NBTElORyAqICh4LkFUSyArIGNhbGN1bGF0ZUFzaGJsYXppbmdTZXQocF94LCBwX3N0YXRlLCAke0V9KSk7CmlmICgkeyQoZT49NCl9KSB7CiAgeC5GVUFfRE1HICs9IDAuMzAgKiB4LkRFRjsKfQogICAgYH19LG5hPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0Oml9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUscz1hKGUsMSwxLjEpLG89dChlLDIsMi4yKTtsZXQgbD1pKGUsLjYsLjY1KTtsKz1lPj00Py4wNjowO2NvbnN0IGQ9W3tmb3JtSXRlbToic2xpZGVyIixpZDoidWx0SGl0c09uVGFyZ2V0IixuYW1lOiJ1bHRIaXRzT25UYXJnZXQiLHRleHQ6IlVsdCBoaXRzIG9uIHRhcmdldCIsdGl0bGU6IlVsdCBoaXRzIG9uIHRhcmdldCIsY29udGVudDpgTnVtYmVyIG9mIFVsdGltYXRlIGhpdHMgb24gdGhlIHByaW1hcnkgdGFyZ2V0LCBkZWFsaW5nIERNRyBlcXVhbCB0byAke0IobCoxMDApfSUgQVRLIHBlciBoaXQuYCxtaW46MSxtYXg6MTB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZW5lbXlGcm96ZW4iLG5hbWU6ImVuZW15RnJvemVuIix0ZXh0OiJFbmVteSBmcm96ZW4iLHRpdGxlOiJFbmVteSBmcm96ZW4iLGNvbnRlbnQ6IldoZW4gZGVhbGluZyBETUcgdG8gRnJvemVuIGVuZW1pZXMsIGluY3JlYXNlcyBDUklUIERNRyBieSAzMCUuIn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRlZlJlZHVjdGlvbiIsbmFtZToiZTJEZWZSZWR1Y3Rpb24iLHRleHQ6IkUyIERFRiByZWR1Y3Rpb24iLHRpdGxlOiJFMiBERUYgcmVkdWN0aW9uIixjb250ZW50OiJFMjogUmVkdWNlcyB0aGUgdGFyZ2V0J3MgREVGIGJ5IDE2JSBmb3IgMyB0dXJuKHMpLiIsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2VWx0RG1nQm9vc3QiLG5hbWU6ImU2VWx0RG1nQm9vc3QiLHRleHQ6IkU2IHVsdCBETUcgYm9vc3QiLHRpdGxlOiJFNiB1bHQgRE1HIGJvb3N0Iixjb250ZW50OiJFNjogV2hlbiB1c2luZyB0aGUgVWx0aW1hdGUsIGluY3JlYXNlcyBvd24gRE1HIGJ5IDMwJSwgbGFzdGluZyB1bnRpbCB0aGUgZW5kIG9mIHRoZSB0dXJuLiIsZGlzYWJsZWQ6ZTw2fV0sQz1bcChkLCJlMkRlZlJlZHVjdGlvbiIpXTtyZXR1cm57Y29udGVudDooKT0+ZCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7dWx0SGl0c09uVGFyZ2V0OjEwLGVuZW15RnJvemVuOiEwLGUyRGVmUmVkdWN0aW9uOiEwLGU2VWx0RG1nQm9vc3Q6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2UyRGVmUmVkdWN0aW9uOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KEUsRCk9Pntjb25zdCBtPUQuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBFW24uQ0RdKz1tLmVuZW15RnJvemVuPy4zOjAsRS5FTEVNRU5UQUxfRE1HKz1lPj02JiZtLmU2VWx0RG1nQm9vc3Q/LjM6MCxFLkJBU0lDX1NDQUxJTkcrPXMsRS5TS0lMTF9TQ0FMSU5HKz1vLEUuVUxUX1NDQUxJTkcrPWwqbS51bHRIaXRzT25UYXJnZXQsRS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxFLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLEUuVUxUX1RPVUdITkVTU19ETUcrPTMwKzE1KihtLnVsdEhpdHNPblRhcmdldC0xKSxFfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooRSxEKT0+e2NvbnN0IG09RC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7RS5ERUZfUEVOKz1lPj0yJiZtLmUyRGVmUmVkdWN0aW9uPy4xNjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpFPT5PKEUpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxpYT1lPT57Y29uc3R7YmFzaWM6YX09Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSx0PWEoZSwxLDEuMSk7cmV0dXJue2NvbnRlbnQ6KCk9PltdLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooaSxzKT0+KGkuQkFTSUNfU0NBTElORys9dCxpLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGkpLHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihpLHMpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooaSxzKT0+e2kuQkFTSUNfRE1HKz1pLkJBU0lDX1NDQUxJTkcqaVtuLkFUS10saS5CQVNJQ19ETUcrPWU+PTY/LjQqaVtuLkhQXTowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKaWYgKCR7JChlPj02KX0pIHsKICB4LkJBU0lDX0RNRyArPSAwLjQwICogeC5IUDsKfQogICAgYH19LHNhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0Oml9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUscz1pKGUsLjQsLjQyKSxvPWEoZSwxLDEuMSksbD10KGUsMi4xLDIuMzEpLGQ9aShlLDEsMS4wOCksQz1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWFtRWhyQnVmZiIsbmFtZToidGVhbUVockJ1ZmYiLHRleHQ6IlRlYW0gRUhSIGJ1ZmYiLHRpdGxlOiJUZWFtIEVIUiBidWZmIixjb250ZW50OiJXaGVuIFBlbGEgaXMgb24gdGhlIGJhdHRsZWZpZWxkLCBhbGwgYWxsaWVzJyBFZmZlY3QgSGl0IFJhdGUgaW5jcmVhc2VzIGJ5IDEwJS4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15RGVidWZmZWQiLG5hbWU6ImVuZW15RGVidWZmZWQiLHRleHQ6IkVuZW15IGRlYnVmZmVkIix0aXRsZToiRW5lbXkgZGVidWZmZWQiLGNvbnRlbnQ6IkRlYWxzIDIwJSBtb3JlIERNRyB0byBkZWJ1ZmZlZCBlbmVtaWVzLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxSZW1vdmVkQnVmZiIsbmFtZToic2tpbGxSZW1vdmVkQnVmZiIsdGV4dDoiRW5lbXkgYnVmZiByZW1vdmVkIHNraWxsIGJ1ZmZzIix0aXRsZToiRW5lbXkgYnVmZiByZW1vdmVkIHNraWxsIGJ1ZmZzIixjb250ZW50OmBVc2luZyBTa2lsbCB0byByZW1vdmUgYnVmZihzKSBpbmNyZWFzZXMgdGhlIERNRyBvZiBQZWxhJ3MgbmV4dCBhdHRhY2sgYnkgMjAlLgogICAgOjpCUjo6CiAgICBFMjogVXNpbmcgU2tpbGwgdG8gcmVtb3ZlIGJ1ZmYocykgaW5jcmVhc2VzIFNQRCBieSAxMCUgZm9yIDIgdHVybihzKS5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdERlZlBlbkRlYnVmZiIsbmFtZToidWx0RGVmUGVuRGVidWZmIix0ZXh0OiJVbHQgREVGIHNocmVkIGRlYnVmZiIsdGl0bGU6IlVsdCBERUYgc2hyZWQgZGVidWZmIixjb250ZW50OmBXaGVuIEV4cG9zZWQsIGVuZW1pZXMnIERFRiBpcyByZWR1Y2VkIGJ5ICR7QihzKjEwMCl9JSBmb3IgMiB0dXJuKHMpLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRTa2lsbFJlc1NocmVkIixuYW1lOiJlNFNraWxsUmVzU2hyZWQiLHRleHQ6IkU0IHNraWxsIEljZSBSRVMgc2hyZWQiLHRpdGxlOiJFNCBza2lsbCBJY2UgUkVTIHNocmVkIixjb250ZW50OiJFNDogV2hlbiB1c2luZyBTa2lsbCwgdGhlcmUgaXMgYSAxMDAlIGJhc2UgY2hhbmNlIHRvIHJlZHVjZSB0aGUgdGFyZ2V0IGVuZW15J3MgSWNlIFJFUyBieSAxMiUgZm9yIDIgdHVybihzKS4iLGRpc2FibGVkOmU8NH1dLEU9W3AoQywidGVhbUVockJ1ZmYiKSxwKEMsInVsdERlZlBlbkRlYnVmZiIpLHAoQywiZTRTa2lsbFJlc1NocmVkIildO3JldHVybntjb250ZW50OigpPT5DLHRlYW1tYXRlQ29udGVudDooKT0+RSxkZWZhdWx0czooKT0+KHt0ZWFtRWhyQnVmZjohMCxlbmVteURlYnVmZmVkOiEwLHNraWxsUmVtb3ZlZEJ1ZmY6ITEsdWx0RGVmUGVuRGVidWZmOiEwLGU0U2tpbGxSZXNTaHJlZDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGVhbUVockJ1ZmY6ITAsdWx0RGVmUGVuRGVidWZmOiEwLGU0U2tpbGxSZXNTaHJlZDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihELG0pPT57Y29uc3QgZj1tLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRFtuLlNQRF9QXSs9ZT49MiYmZi5za2lsbFJlbW92ZWRCdWZmPy4xOjAsRC5CQVNJQ19TQ0FMSU5HKz1vLEQuU0tJTExfU0NBTElORys9bCxELlVMVF9TQ0FMSU5HKz1kLGsoRCxXfFZ8VSwuMixmLnNraWxsUmVtb3ZlZEJ1ZmYpLEQuRUxFTUVOVEFMX0RNRys9Zi5lbmVteURlYnVmZmVkPy4yOjAsRC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxELlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLEQuVUxUX1RPVUdITkVTU19ETUcrPTYwLER9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihELG0pPT57Y29uc3QgZj1tLmNoYXJhY3RlckNvbmRpdGlvbmFscztEW24uRUhSXSs9Zi50ZWFtRWhyQnVmZj8uMTowLEQuREVGX1BFTis9Zi51bHREZWZQZW5EZWJ1ZmY/czowLEQuSUNFX1JFU19QRU4rPWU+PTQmJmYuZTRTa2lsbFJlc1NocmVkPy4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooRCxtKT0+e0QuQkFTSUNfRE1HKz1ELkJBU0lDX1NDQUxJTkcqRFtuLkFUS10sRC5TS0lMTF9ETUcrPUQuU0tJTExfU0NBTElORypEW24uQVRLXSxELlVMVF9ETUcrPUQuVUxUX1NDQUxJTkcqRFtuLkFUS10sRC5CQVNJQ19ETUcrPWU+PTY/LjQqRFtuLkFUS106MCxELlNLSUxMX0RNRys9ZT49Nj8uNCpEW24uQVRLXTowLEQuVUxUX0RNRys9ZT49Nj8uNCpEW24uQVRLXTowfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CgppZiAoJHskKGU+PTYpfSkgewogIHguQkFTSUNfRE1HICs9IDAuNDAgKiB4LkFUSzsKICB4LlNLSUxMX0RNRyArPSAwLjQwICogeC5BVEs7CiAgeC5VTFRfRE1HICs9IDAuNDAgKiB4LkFUSzsKfQogICAgYH19LFdlPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUsbz1zKGUsLjIsLjIyKSxsPWEoZSwxLDEuMSksZD10KGUsMS4yNSwxLjM3NSksQz1pKGUsNC41LDQuOCksRT1pKGUsMi43LDIuODgpLEQ9aShlLDEuNjIsMS43MjgpLG09W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5oYW5jZWRVbHQiLG5hbWU6IkVuaGFuY2VkIFVsdCIsdGV4dDoiQW9FIHVsdCIsdGl0bGU6IkFvRSBVTFQgLSBTcGxpdCBETUcgdG8gYWRqYWNlbnQgZW5lbWllcyIsY29udGVudDpgQ2hvb3NlIGJldHdlZW4gdHdvIGF0dGFjayBtb2RlcyB0byBkZWxpdmVyIGEgZnVsbCBzdHJpa2UuIDo6QlI6OiBCbG93b3V0OiAoU1QpIEZhcmV3ZWxsIEhpdCBkZWFscyBQaHlzaWNhbCBETUcgZXF1YWwgdG8gJHtCKEMqMTAwKX0lIG9mIHRoZSBUcmFpbGJsYXplcidzIEFUSyB0byBhIHNpbmdsZSBlbmVteS4gCiAgICA6OkJSOjpCbG93b3V0OiAoQmxhc3QpIFJJUCBIb21lIFJ1biBkZWFscyBQaHlzaWNhbCBETUcgZXF1YWwgdG8gJHtCKEUqMTAwKX0lIG9mIHRoZSBUcmFpbGJsYXplcidzIEFUSyB0byBhIHNpbmdsZSBlbmVteSwgYW5kIFBoeXNpY2FsIERNRyBlcXVhbCB0byAke0IoRCoxMDApfSUgb2YgdGhlIFRyYWlsYmxhemVyJ3MgQVRLIHRvIGVuZW1pZXMgYWRqYWNlbnQgdG8gaXQuYH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTdGFja3MiLG5hbWU6IlRhbGVudCBzdGFja3MiLHRleHQ6IlRhbGVudCBzdGFja3MiLHRpdGxlOiJUYWxlbnQgc3RhY2tzIixjb250ZW50OmBFYWNoIHRpbWUgYWZ0ZXIgdGhpcyBjaGFyYWN0ZXIgaW5mbGljdHMgV2Vha25lc3MgQnJlYWsgb24gYW4gZW5lbXksIEFUSyBpbmNyZWFzZXMgYnkgJHtCKG8qMTAwKX0lIGFuZCBERUYgaW5jcmVhc2VzIGJ5IDEwJS4gVGhpcyBlZmZlY3Qgc3RhY2tzIHVwIHRvIDIgdGltZXMuYCxtaW46MCxtYXg6Mn1dO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7ZW5oYW5jZWRVbHQ6ITAsdGFsZW50U3RhY2tzOjJ9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihmLHIpPT57Y29uc3QgdT1yLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltuLkFUS19QXSs9dS50YWxlbnRTdGFja3MqbyxmW24uREVGX1BdKz11LnRhbGVudFN0YWNrcyouMSxmW24uQ1JdKz1mLkVORU1ZX1dFQUtORVNTX0JST0tFTj8uMjU6MCxmLkJBU0lDX1NDQUxJTkcrPWwsZi5TS0lMTF9TQ0FMSU5HKz1kLGYuVUxUX1NDQUxJTkcrPXUuZW5oYW5jZWRVbHQ/RTpDLGsoZixWLC4yNSksayhmLFUsLjI1LHUuZW5oYW5jZWRVbHQpLGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZi5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxmLlVMVF9UT1VHSE5FU1NfRE1HKz11LmVuaGFuY2VkVWx0PzYwOjkwLGZ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHIpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT5PKGYpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSx6ZT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHM9YShlLDEsMS4xKSxvPXQoZSwuNSwuNTUpLGw9aShlLC4zLC4zMyksZD1lPj02PzY6NCxDPXsxOjEuNiwzOjEuNCw1OjEuMn0sRT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiYWNrdXBEYW5jZXIiLG5hbWU6ImJhY2t1cERhbmNlciIsdGV4dDoiQmFja3VwIERhbmNlciBCRSBidWZmIix0aXRsZToiQmFja3VwIERhbmNlciBCRSBidWZmIixjb250ZW50OmBHcmFudHMgYWxsIGFsbGllcyB0aGUgQmFja3VwIERhbmNlciBlZmZlY3QsIGxhc3RpbmcgZm9yIDMgdHVybihzKS4gVGhpcyBkdXJhdGlvbiByZWR1Y2VzIGJ5IDEgYXQgdGhlIHN0YXJ0IG9mIFRyYWlsYmxhemVyJ3MgZXZlcnkgdHVybi4gQWxsaWVzIHdpdGggdGhlIEJhY2t1cCBEYW5jZXIgZWZmZWN0IGhhdmUgdGhlaXIgQnJlYWsgRWZmZWN0IGluY3JlYXNlZCBieSAke0IobCoxMDApfSUuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJzdXBlckJyZWFrRG1nIixuYW1lOiJzdXBlckJyZWFrRG1nIix0ZXh0OiJTdXBlciBCcmVhayBETUcgY2FsY3MgKGZvcmNlIHdlYWtuZXNzIGJyZWFrKSIsdGl0bGU6IlN1cGVyIEJyZWFrIERNRyBjYWxjcyAoZm9yY2Ugd2Vha25lc3MgYnJlYWspIixjb250ZW50OmBXaGVuIGFsbGllcyB3aXRoIHRoZSBCYWNrdXAgRGFuY2VyIGVmZmVjdCBhdHRhY2sgZW5lbXkgdGFyZ2V0cyB0aGF0IGFyZSBpbiB0aGUgV2Vha25lc3MgQnJva2VuIHN0YXRlLCB0aGUgVG91Z2huZXNzIFJlZHVjdGlvbiBvZiB0aGUgYXR0YWNrIHdpbGwgYmUgY29udmVydGVkIGludG8gMSBpbnN0YW5jZSBvZiBTdXBlciBCcmVhayBETUcuCiAgICAgIDo6QlI6OgogICAgICBTdXBlciBCcmVhayBETUcgaXMgYWRkZWQgdG8gZWFjaCBvZiB0aGUgQkFTSUMgLyBTS0lMTCAvIFVMVCAvIEZVQSBkYW1hZ2UgY29sdW1ucy4gRm9yIGV4YW1wbGUgd2hlbiBlbmFibGVkLCB0aGUgU0tJTEwgY29sdW1uIGJlY29tZXMgdGhlIHN1bSBvZiBiYXNlIFNraWxsIGRhbWFnZSArIFN1cGVyIEJyZWFrIERNRyBiYXNlZCBvbiB0aGUgU2tpbGwncyB0b3VnaG5lc3MgZGFtYWdlLiBUaGlzIG9wdGlvbiBhbHNvIG92ZXJyaWRlcyBlbmVteSB3ZWFrbmVzcyBicmVhayB0byBPTi5gfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsSGl0c09uVGFyZ2V0IixuYW1lOiJza2lsbEhpdHNPblRhcmdldCIsdGV4dDoiU2tpbGwgZXh0cmEgaGl0cyBvbiB0YXJnZXQiLHRpdGxlOiJTa2lsbCBleHRyYSBoaXRzIG9uIHRhcmdldCIsY29udGVudDoiRGVhbHMgSW1hZ2luYXJ5IERNRyB0byBhIHNpbmdsZSB0YXJnZXQgZW5lbXkgYW5kIGFkZGl0aW9uYWxseSBkZWFscyBETUcgZm9yIDQgdGltZXMsIHdpdGggZWFjaCB0aW1lIGRlYWxpbmcgSW1hZ2luYXJ5IERNRyB0byBhIHJhbmRvbSBlbmVteS4iLG1pbjowLG1heDpkfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyRW5lcmd5UmVnZW5CdWZmIixuYW1lOiJlMkVuZXJneVJlZ2VuQnVmZiIsdGV4dDoiRTIgRVJSIGJ1ZmYiLHRpdGxlOiJFMiBFUlIgYnVmZiIsY29udGVudDoiV2hlbiB0aGUgYmF0dGxlIHN0YXJ0cywgdGhlIFRyYWlsYmxhemVyJ3MgRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIGluY3JlYXNlcyBieSAyNSUsIGxhc3RpbmcgZm9yIDMgdHVybihzKS4iLGRpc2FibGVkOmU8Mn1dLEQ9W3AoRSwiYmFja3VwRGFuY2VyIikscChFLCJzdXBlckJyZWFrRG1nIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUJlVmFsdWUiLG5hbWU6InRlYW1tYXRlQmVWYWx1ZSIsdGV4dDoiRTQgVHJhaWxibGF6ZXIncyBDb21iYXQgQkUiLHRpdGxlOiJFNCBUcmFpbGJsYXplcidzIENvbWJhdCBCRSIsY29udGVudDoiV2hpbGUgdGhlIFRyYWlsYmxhemVyIGlzIG9uIHRoZSBmaWVsZCwgaW5jcmVhc2VzIHRoZSBCcmVhayBFZmZlY3Qgb2YgYWxsIHRlYW1tYXRlcyAoZXhjbHVkaW5nIHRoZSBUcmFpbGJsYXplciksIGJ5IGFuIGFtb3VudCBlcXVhbCB0byAxNSUgb2YgdGhlIFRyYWlsYmxhemVyJ3MgQnJlYWsgRWZmZWN0LiIsbWluOjAsbWF4OjQscGVyY2VudDohMCxkaXNhYmxlZDplPDR9XSxtPXtza2lsbEhpdHNPblRhcmdldDpkLGJhY2t1cERhbmNlcjohMCxzdXBlckJyZWFrRG1nOiEwLGUyRW5lcmd5UmVnZW5CdWZmOiExfTtyZXR1cm57Y29udGVudDooKT0+RSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkQsZGVmYXVsdHM6KCk9Pm0sdGVhbW1hdGVEZWZhdWx0czooKT0+KHtiYWNrdXBEYW5jZXI6ITAsc3VwZXJCcmVha0RtZzohMCx0ZWFtbWF0ZUJlVmFsdWU6Mn0pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooZixyKT0+e3IuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLnN1cGVyQnJlYWtEbWcmJihmLkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKX0saW5pdGlhbGl6ZVRlYW1tYXRlQ29uZmlndXJhdGlvbnM6KGYscik9PntyLmNoYXJhY3RlckNvbmRpdGlvbmFscy5zdXBlckJyZWFrRG1nJiYoZi5FTkVNWV9XRUFLTkVTU19CUk9LRU49MSl9LHByZWNvbXB1dGVFZmZlY3RzOihmLHIpPT57Y29uc3QgdT1yLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltuLkVSUl0rPWU+PTImJnUuZTJFbmVyZ3lSZWdlbkJ1ZmY/LjI1OjAsZi5CQVNJQ19TQ0FMSU5HKz1zLGYuU0tJTExfU0NBTElORys9byxmLlNLSUxMX1NDQUxJTkcrPXUuc2tpbGxIaXRzT25UYXJnZXQqbyxmLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9MzAqdS5za2lsbEhpdHNPblRhcmdldCxmfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooZixyKT0+e2NvbnN0IHU9ci5jaGFyYWN0ZXJDb25kaXRpb25hbHM7ZltuLkJFXSs9dS5iYWNrdXBEYW5jZXI/bDowLGYuU1VQRVJfQlJFQUtfSE1DX01PRElGSUVSKz11LmJhY2t1cERhbmNlciYmdS5zdXBlckJyZWFrRG1nP0Nbci5lbmVteUNvdW50XTowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihmLHIpPT57Y29uc3QgdT1yLmNoYXJhY3RlckNvbmRpdGlvbmFscztmW24uQkVdKz1lPj00Py4xNSp1LnRlYW1tYXRlQmVWYWx1ZTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT5PKGYpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSwkZT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppfT1iLlNLSUxMX1RBTEVOVF8zX1VMVF9CQVNJQ181LHM9dChlLC41LC41Miksbz1hKGUsMSwxLjEpLGw9ZT49MT8uMjU6MCxkPWEoZSwxLjM1LDEuNDYzKSxDPWU+PTE/LjU6MCxFPXQoZSwwLDApLEQ9aShlLDEsMS4xKSxtPWkoZSwxLjUsMS42NSksZj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZEJhc2ljIixuYW1lOiJlbmhhbmNlZEJhc2ljIix0ZXh0OiJFbmhhbmNlZCBiYXNpYyIsdGl0bGU6IkVuaGFuY2VkIGJhc2ljIixjb250ZW50OmBFbmhhbmNlZCBiYXNpYyBBVEsgZGVhbHMgRmlyZSBETUcgZXF1YWwgdG8gJHtCKGQqMTAwKX0lIG9mIHRoZSBUcmFpbGJsYXplcidzIEFUSyB0byBhIHNpbmdsZSBlbmVteSwgYW5kIHJlZHVjZWQgZGFtYWdlIHRvIGFkamFjZW50IGVuZW1pZXMuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbEFjdGl2ZSIsbmFtZToic2tpbGxBY3RpdmUiLHRleHQ6IlNraWxsIERNRyByZWR1Y3Rpb24iLHRpdGxlOiJTa2lsbCBETUcgcmVkdWN0aW9uIixjb250ZW50OmBXaGVuIHRoZSBTa2lsbCBpcyB1c2VkLCByZWR1Y2VzIERNRyB0YWtlbiBieSAke0IocyoxMDApfSUuIEFsc28gcmVkdWNlcyBETUcgdGFrZW4gYnkgYWxsIGFsbGllcyBieSAxNSUgZm9yIDEgdHVybi5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNoaWVsZEFjdGl2ZSIsbmFtZToic2hpZWxkQWN0aXZlIix0ZXh0OiJTaGllbGQgYWN0aXZlIix0aXRsZToiU2hpZWxkIGFjdGl2ZSIsY29udGVudDoiV2hlbiB0aGUgc2hpZWxkIGlzIGFjdGl2ZSwgaW5jcmVhc2VzIEFUSyBieSAxNSUuIn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlNkRlZlN0YWNrcyIsbmFtZToiZTZEZWZTdGFja3MiLHRleHQ6IkU2IGRlZiBzdGFja3MiLHRpdGxlOiJFNiBkZWYgc3RhY2tzOiBJbmNyZWFzZXMgREVGIGJ5IDEwJSIsY29udGVudDoiRTY6IEluY3JlYXNlcyBERUYgYnkgMTAlIHBlciBzdGFjay4iLG1pbjowLG1heDozLGRpc2FibGVkOmU8Nn1dLHI9W3AoZiwic2tpbGxBY3RpdmUiKV07cmV0dXJue2NvbnRlbnQ6KCk9PmYsdGVhbW1hdGVDb250ZW50OigpPT5yLGRlZmF1bHRzOigpPT4oe2VuaGFuY2VkQmFzaWM6ITAsc2tpbGxBY3RpdmU6ITAsc2hpZWxkQWN0aXZlOiEwLGU2RGVmU3RhY2tzOjN9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3NraWxsQWN0aXZlOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsYyk9Pntjb25zdCBTPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiB1W24uREVGX1BdKz1lPj02P1MuZTZEZWZTdGFja3MqLjE6MCx1W24uQVRLX1BdKz1TLnNoaWVsZEFjdGl2ZT8uMTU6MCx1LlNLSUxMX1NDQUxJTkcrPUUsdS5ETUdfUkVEX01VTFRJKj1TLnNraWxsQWN0aXZlPzEtczoxLHUuQkFTSUNfVE9VR0hORVNTX0RNRys9Uy5iYXNpY0VuaGFuY2VkPzYwOjMwLHUuVUxUX1RPVUdITkVTU19ETUcrPTYwLHV9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOih1LGMpPT57Y29uc3QgUz1jLmNoYXJhY3RlckNvbmRpdGlvbmFsczt1LkRNR19SRURfTVVMVEkqPVMuc2tpbGxBY3RpdmU/MS0uMTU6MX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsYyk9PntjLmNoYXJhY3RlckNvbmRpdGlvbmFscy5lbmhhbmNlZEJhc2ljPyh1LkJBU0lDX0RNRys9ZCp1W24uQVRLXSx1LkJBU0lDX0RNRys9Qyp1W24uREVGXSk6KHUuQkFTSUNfRE1HKz1vKnVbbi5BVEtdLHUuQkFTSUNfRE1HKz1sKnVbbi5ERUZdKSx1LlNLSUxMX0RNRys9dS5TS0lMTF9TQ0FMSU5HKnVbbi5BVEtdLHUuVUxUX0RNRys9RCp1W24uQVRLXSx1LlVMVF9ETUcrPW0qdVtuLkRFRl19LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOnU9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7JChjLmVuaGFuY2VkQmFzaWMpfSkgewogIHguQkFTSUNfRE1HICs9ICR7ZH0gKiB4LkFUSzsKICB4LkJBU0lDX0RNRyArPSAke0N9ICogeC5ERUY7Cn0gZWxzZSB7CiAgeC5CQVNJQ19ETUcgKz0gJHtvfSAqIHguQVRLOwogIHguQkFTSUNfRE1HICs9ICR7bH0gKiB4LkRFRjsKfSAgICAgIAoKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7Cgp4LlVMVF9ETUcgKz0gJHtEfSAqIHguQVRLOwp4LlVMVF9ETUcgKz0gJHttfSAqIHguREVGOwogICAgYH19fSxvYT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LG89dChlLC4zOCwuNDA4KSxsPXMoZSwuNzIsLjc5MiksZD1hKGUsMSwxLjEpLEM9YShlLDIuNCwyLjY0KSxFPXQoZSwwLDApLEQ9aShlLDIsMi4xNiksbT17MTp5KigxKjEvMSksMzp5KigyKjEvMSksNTp5KigyKjEvMSl9LGY9eSooMSoxLzEpO2Z1bmN0aW9uIHIoYyl7cmV0dXJuIGMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLmJhc2ljRW5oYW5jZWQ/bVtjLmVuZW15Q291bnRdOmZ9Y29uc3QgdT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiYXNpY0VuaGFuY2VkIixuYW1lOiJiYXNpY0VuaGFuY2VkIix0ZXh0OiJCYXNpYyBlbmhhbmNlZCIsdGl0bGU6IkJhc2ljIGVuaGFuY2VkIixjb250ZW50OmBRaW5ncXVlJ3MgQVRLIGluY3JlYXNlcyBieSAke0IobCoxMDApfSUsIGFuZCBoZXIgQmFzaWMgQVRLICJGbG93ZXIgUGljayIgaXMgZW5oYW5jZWQsIGJlY29taW5nICJDaGVycnkgb24gVG9wISJgfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJhc2ljRW5oYW5jZWRTcGRCdWZmIixuYW1lOiJiYXNpY0VuaGFuY2VkU3BkQnVmZiIsdGV4dDoiQmFzaWMgZW5oYW5jZWQgU1BEIGJ1ZmYiLHRpdGxlOiJCYXNpYyBlbmhhbmNlZCBTUEQgYnVmZiIsY29udGVudDoiUWluZ3F1ZSdzIFNQRCBpbmNyZWFzZXMgYnkgMTAlIGZvciAxIHR1cm4gYWZ0ZXIgdXNpbmcgdGhlIEVuaGFuY2VkIEJhc2ljIEFUSy4ifSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsRG1nSW5jcmVhc2VTdGFja3MiLG5hbWU6InNraWxsRG1nSW5jcmVhc2VTdGFja3MiLHRleHQ6IlNraWxsIERNRyBzdGFja3MiLHRpdGxlOiJTa2lsbCBETUcgc3RhY2tzIixjb250ZW50OmBJbW1lZGlhdGVseSBkcmF3cyAyIGphZGUgdGlsZShzKSBhbmQgaW5jcmVhc2VzIERNRyBieSAke0IobyoxMDApfSUgdW50aWwgdGhlIGVuZCBvZiB0aGUgY3VycmVudCB0dXJuLiBUaGlzIGVmZmVjdCBjYW4gc3RhY2sgdXAgdG8gNCB0aW1lKHMpLmAsbWluOjAsbWF4OjR9XTtyZXR1cm57Y29udGVudDooKT0+dSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2Jhc2ljRW5oYW5jZWQ6ITAsYmFzaWNFbmhhbmNlZFNwZEJ1ZmY6ITEsc2tpbGxEbWdJbmNyZWFzZVN0YWNrczo0fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooYyxTKT0+e2NvbnN0IGg9Uy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGNbbi5BVEtfUF0rPWguYmFzaWNFbmhhbmNlZD9sOjAsY1tuLlNQRF9QXSs9aC5iYXNpY0VuaGFuY2VkU3BkQnVmZj8uMTowLGMuQkFTSUNfU0NBTElORys9aC5iYXNpY0VuaGFuY2VkP0M6ZCxjLlNLSUxMX1NDQUxJTkcrPUUsYy5VTFRfU0NBTElORys9RCxjLkZVQV9TQ0FMSU5HKz1lPj00P2MuQkFTSUNfU0NBTElORzowLGMuRUxFTUVOVEFMX0RNRys9aC5za2lsbERtZ0luY3JlYXNlU3RhY2tzKm8sayhjLFUsLjEsZT49MSksYy5CQVNJQ19UT1VHSE5FU1NfRE1HKz1oLmJhc2ljRW5oYW5jZWQ/NjA6MzAsYy5VTFRfVE9VR0hORVNTX0RNRys9NjAsYy5GVUFfVE9VR0hORVNTX0RNRys9aC5iYXNpY0VuaGFuY2VkPzYwOjMwLGN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihjLFMpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooYyxTKT0+e3EoYyxTLHIoUykpfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpjPT5qKHIoYykpfX0sbGE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxvPWkoZSwuMjUsLjI3KSxsPWEoZSwxLDEuMSksZD10KGUsLjMyLC4zNTIpLEM9cyhlLC4xLC4xMDQpLEU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxPdmVydG9uZUJ1ZmYiLG5hbWU6InNraWxsT3ZlcnRvbmVCdWZmIix0ZXh0OiJPdmVydG9uZSBidWZmIix0aXRsZToiU2tpbGw6IFN0cmluZyBTaW5ncyBTbG93IFN3aXJscyIsY29udGVudDpgQWZ0ZXIgdXNpbmcgaGVyIFNraWxsLCBSdWFuIE1laSBnYWlucyBPdmVydG9uZSwgbGFzdGluZyBmb3IgMyB0dXJuKHMpLiBUaGlzIGR1cmF0aW9uIGRlY3JlYXNlcyBieSAxIGF0IHRoZSBzdGFydCBvZiBSdWFuIE1laSdzIHR1cm4uIFdoZW4gUnVhbiBNZWkgaGFzIE92ZXJ0b25lLCBhbGwgYWxsaWVzJyBETUcgaW5jcmVhc2VzIGJ5ICR7QihkKjEwMCl9JSBhbmQgV2Vha25lc3MgQnJlYWsgRWZmaWNpZW5jeSBpbmNyZWFzZXMgYnkgNTAlYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWFtQkVCdWZmIixuYW1lOiJ0ZWFtQkVCdWZmIix0ZXh0OiJUZWFtIEJFIGJ1ZmYiLHRpdGxlOiJUcmFjZTogSW5lcnQgUmVzcGlyYXRpb24iLGNvbnRlbnQ6IkluY3JlYXNlcyBCcmVhayBFZmZlY3QgYnkgMjAlIGZvciBhbGwgYWxsaWVzLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RmllbGRBY3RpdmUiLG5hbWU6InVsdEZpZWxkQWN0aXZlIix0ZXh0OiJVbHQgZmllbGQgYWN0aXZlIix0aXRsZToiVWx0aW1hdGU6IFBldGFscyB0byBTdHJlYW0sIFJlcG9zZSBpbiBEcmVhbSIsY29udGVudDpgV2hpbGUgaW5zaWRlIHRoZSBmaWVsZCwgYWxsIGFsbGllcycgQWxsLVR5cGUgUkVTIFBFTiBpbmNyZWFzZXMgYnkgJHtCKG8qMTAwKX0lLgogICAgOjpCUjo6CiAgICBFMTogV2hpbGUgdGhlIFVsdGltYXRlJ3MgZmllbGQgaXMgZGVwbG95ZWQsIHRoZSBETUcgZGVhbHQgYnkgYWxsIGFsbGllcyBpZ25vcmVzIDIwJSBvZiB0aGUgdGFyZ2V0J3MgREVGLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJBdGtCb29zdCIsbmFtZToiZTJBdGtCb29zdCIsdGV4dDoiRTIgd2Vha25lc3MgQVRLIGJ1ZmYiLHRpdGxlOiJFMjogUmVlZHNpZGUgUHJvbWVuYWRlIixjb250ZW50OiJFMjogV2l0aCBSdWFuIE1laSBvbiB0aGUgZmllbGQsIGFsbCBhbGxpZXMgaW5jcmVhc2UgdGhlaXIgQVRLIGJ5IDQwJSB3aGVuIGRlYWxpbmcgRE1HIHRvIGVuZW1pZXMgd2l0aCBXZWFrbmVzcyBCcmVhay4iLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNEJlQnVmZiIsbmFtZToiZTRCZUJ1ZmYiLHRleHQ6IkU0IEJFIGJ1ZmYiLHRpdGxlOiJFNDogQ2hhdG95YW50IMOJY2xhdCIsY29udGVudDoiRTQ6IFdoZW4gYW4gZW5lbXkgdGFyZ2V0J3MgV2Vha25lc3MgaXMgQnJva2VuLCBSdWFuIE1laSdzIEJyZWFrIEVmZmVjdCBpbmNyZWFzZXMgYnkgMTAwJSBmb3IgMyB0dXJuKHMpLiIsZGlzYWJsZWQ6ZTw0fV0sRD1bcChFLCJza2lsbE92ZXJ0b25lQnVmZiIpLHtmb3JtSXRlbToic3dpdGNoIixpZDoidGVhbVNwZEJ1ZmYiLG5hbWU6InRlYW1TcGRCdWZmIix0ZXh0OiJUZWFtIFNQRCBidWZmIix0aXRsZToiVGFsZW50OiBTb21hdG90eXBpY2FsIEhlbGl4Iixjb250ZW50OmBJbmNyZWFzZXMgU1BEIGJ5ICR7QihDKjEwMCl9JSBmb3IgdGhlIHRlYW0gKGV4Y2x1ZGluZyB0aGlzIGNoYXJhY3RlcikuYH0scChFLCJ0ZWFtQkVCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtRG1nQnVmZiIsbmFtZToidGVhbURtZ0J1ZmYiLHRleHQ6IkJFIHRvIERNRyBidWZmIix0aXRsZToiVHJhY2U6IENhbmRsZSBMaWdodHMgb24gU3RpbGwgV2F0ZXJzIixjb250ZW50OiJJbiBiYXR0bGUsIGZvciBldmVyeSAxMCUgb2YgUnVhbiBNZWkncyBCcmVhayBFZmZlY3QgdGhhdCBleGNlZWRzIDEyMCUsIGhlciBTa2lsbCBhZGRpdGlvbmFsbHkgaW5jcmVhc2VzIGFsbGllcycgRE1HIGJ5IDYlLCB1cCB0byBhIG1heGltdW0gb2YgMzYlLiIsbWluOjAsbWF4Oi4zNixwZXJjZW50OiEwfSxwKEUsInVsdEZpZWxkQWN0aXZlIikscChFLCJlMkF0a0Jvb3N0IildO3JldHVybntjb250ZW50OigpPT5FLHRlYW1tYXRlQ29udGVudDooKT0+RCxkZWZhdWx0czooKT0+KHtza2lsbE92ZXJ0b25lQnVmZjohMCx0ZWFtQkVCdWZmOiEwLHVsdEZpZWxkQWN0aXZlOiEwLGUyQXRrQm9vc3Q6ITEsZTRCZUJ1ZmY6ITF9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3NraWxsT3ZlcnRvbmVCdWZmOiEwLHRlYW1TcGRCdWZmOiEwLHRlYW1CRUJ1ZmY6ITAsdWx0RmllbGRBY3RpdmU6ITAsZTJBdGtCb29zdDohMSx0ZWFtRG1nQnVmZjouMzZ9KSxwcmVjb21wdXRlRWZmZWN0czoobSxmKT0+e2NvbnN0IHI9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIG1bbi5BVEtfUF0rPWU+PTImJnIuZTJBdGtCb29zdD8uNDowLG1bbi5CRV0rPWU+PTQmJnIuZTRCZUJ1ZmY/MTowLG0uQkFTSUNfU0NBTElORys9bCxtLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLG19LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihtLGYpPT57Y29uc3Qgcj1mLmNoYXJhY3RlckNvbmRpdGlvbmFsczttW24uQkVdKz1yLnRlYW1CRUJ1ZmY/LjI6MCxtLkVMRU1FTlRBTF9ETUcrPXIuc2tpbGxPdmVydG9uZUJ1ZmY/ZDowLG0uQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9ci5za2lsbE92ZXJ0b25lQnVmZj8uNTowLG0uUkVTX1BFTis9ci51bHRGaWVsZEFjdGl2ZT9vOjAsbS5ERUZfUEVOKz1lPj0xJiZyLnVsdEZpZWxkQWN0aXZlPy4yOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KG0sZik9Pntjb25zdCByPWYuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO21bbi5TUERfUF0rPXIudGVhbVNwZEJ1ZmY/QzowLG0uRUxFTUVOVEFMX0RNRys9ci50ZWFtRG1nQnVmZixtW24uQVRLX1BdKz1lPj0yJiZyLmUyQXRrQm9vc3Q/LjQ6MCxtLlJBVElPX0JBU0VEX0FUS19QX0JVRkYrPWU+PTImJnIuZTJBdGtCb29zdD8uNDowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczptPT5PKG0pLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbUnRdfX0scmE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPWkoZSwuMywuMzIpLGw9YShlLDEsMS4xKSxkPXQoZSwuNTYsLjYxNiksQz1pKGUsMS42LDEuNzI4KSxFPXMoZSwuNTIsLjU3MiksRD1lPDE/NDo1LG09W3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0RG90VGFrZW5EZWJ1ZmYiLG5hbWU6InRhcmdldERvdFRha2VuRGVidWZmIix0ZXh0OiJVbHQgRG9UIHRha2VuIGRlYnVmZiIsdGl0bGU6IlVsdCBEb3QgdGFrZW4gZGVidWZmIixjb250ZW50OmBXaGVuIGRlYnVmZmVkIGJ5IFNhbXBvJ3MgVWx0aW1hdGUsIGluY3JlYXNlIHRoZSB0YXJnZXRzJyBEb1QgdGFrZW4gYnkgJHtCKG8qMTAwKX0lIGZvciAyIHR1cm4ocykuYH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJza2lsbEV4dHJhSGl0cyIsbmFtZToic2tpbGxFeHRyYUhpdHMiLHRleHQ6IlNraWxsIGV4dHJhIGhpdHMiLHRpdGxlOiJTa2lsbCBleHRyYSBoaXRzIixjb250ZW50OiJOdW1iZXIgb2YgZXh0cmEgaGl0cyBmcm9tIFNraWxsLiIsbWluOjEsbWF4OkR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0V2luZFNoZWFyIixuYW1lOiJ0YXJnZXRXaW5kU2hlYXIiLHRleHQ6IlRhcmdldCBoYXMgd2luZCBzaGVhciIsdGl0bGU6IlRhcmdldCBoYXMgd2luZCBzaGVhciIsY29udGVudDoiRW5lbWllcyB3aXRoIFdpbmQgU2hlYXIgZWZmZWN0IGRlYWwgMTUlIGxlc3MgZGFtYWdlIHRvIFNhbXBvLiJ9XSxmPVtwKG0sInRhcmdldERvdFRha2VuRGVidWZmIildO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+ZixkZWZhdWx0czooKT0+KHt0YXJnZXREb3RUYWtlbkRlYnVmZjohMCxza2lsbEV4dHJhSGl0czpELHRhcmdldFdpbmRTaGVhcjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFyZ2V0RG90VGFrZW5EZWJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocix1KT0+e2NvbnN0IGM9dS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIHIuQkFTSUNfU0NBTElORys9bCxyLlNLSUxMX1NDQUxJTkcrPWQsci5TS0lMTF9TQ0FMSU5HKz1jLnNraWxsRXh0cmFIaXRzKmQsci5VTFRfU0NBTElORys9QyxyLkRPVF9TQ0FMSU5HKz1FLHIuRE9UX1NDQUxJTkcrPWU+PTY/LjE1OjAsci5ETUdfUkVEX01VTFRJKj1jLnRhcmdldFdpbmRTaGVhcj8xLS4xNToxLHIuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsci5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCsxNSpjLnNraWxsRXh0cmFIaXRzLHIuVUxUX1RPVUdITkVTU19ETUcrPTYwLHIuRE9UX0NIQU5DRT0uNjUscn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3RlKHIsaWUsbyxjLnRhcmdldERvdFRha2VuRGVidWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6cj0+TyhyKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sY2E9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxvPXMoZSwuOCwuODgpLGw9ZT49Mj8yOjEsZD1hKGUsMSwxLjEpLEM9dChlLDIuMiwyLjQyKSxFPWkoZSw0LjI1LDQuNTkpLEQ9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiYnVmZmVkU3RhdGUiLG5hbWU6ImJ1ZmZlZFN0YXRlIix0ZXh0OiJCdWZmZWQgU3RhdGUiLHRpdGxlOiJCdWZmZWQgU3RhdGUiLGNvbnRlbnQ6YAogICAgICBFbnRlcnMgdGhlIGJ1ZmZlZCBzdGF0ZSB1cG9uIGRlZmVhdGluZyBhbiBlbmVteSB3aXRoIEJhc2ljIEFUSywgU2tpbGwsIG9yIFVsdGltYXRlLCBhbmQgcmVjZWl2ZXMgYW4gZXh0cmEgdHVybi4gV2hpbGUgaW4gdGhlIGJ1ZmZlZCBzdGF0ZSwgdGhlIERNRyBvZiBTZWVsZSdzIGF0dGFja3MgaW5jcmVhc2VzIGJ5ICR7QihvKjEwMCl9JSBmb3IgMSB0dXJuKHMpLgogICAgICA6OkJSOjoKICAgICAgV2hpbGUgU2VlbGUgaXMgaW4gdGhlIGJ1ZmZlZCBzdGF0ZSwgaGVyIFF1YW50dW0gUkVTIFBFTiBpbmNyZWFzZXMgYnkgMjAlLgogICAgYH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJzcGVlZEJvb3N0U3RhY2tzIixuYW1lOiJzcGVlZEJvb3N0U3RhY2tzIix0ZXh0OiJTcGVlZCBib29zdCBzdGFja3MiLHRpdGxlOiJTcGVlZCBib29zdCBzdGFja3MiLGNvbnRlbnQ6YEluY3JlYXNlcyBTUEQgYnkgMjUlIHBlciBzdGFjay4gU3RhY2tzIHVwIHRvICR7QihsKX0gdGltZShzKS5gLG1pbjowLG1heDpsfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRW5lbXlIcDgwQ3JCb29zdCIsbmFtZToiZTFFbmVteUhwODBDckJvb3N0Iix0ZXh0OiJFMSBFbmVteSBIUCDiiaQgODAlIENSIGJvb3N0Iix0aXRsZToiRTE6IEV4dGlycGF0aW5nIFNsYXNoIixjb250ZW50OiJFMTogV2hlbiBkZWFsaW5nIERNRyB0byBhbiBlbmVteSB3aG9zZSBIUCBwZXJjZW50YWdlIGlzIDgwJSBvciBsb3dlciwgQ1JJVCBSYXRlIGluY3JlYXNlcyBieSAxNSUuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZVbHRUYXJnZXREZWJ1ZmYiLG5hbWU6ImU2VWx0VGFyZ2V0RGVidWZmIix0ZXh0OiJFNiBCdXR0ZXJmbHkgRmx1cnJ5Iix0aXRsZToiRTYgU2hhdHRlcmluZyBTaGFtYmxlcyIsY29udGVudDpgRTY6IEFmdGVyIFNlZWxlIHVzZXMgaGVyIFVsdGltYXRlLCBpbmZsaWN0IHRoZSB0YXJnZXQgZW5lbXkgd2l0aCBCdXR0ZXJmbHkgRmx1cnJ5IGZvciAxIHR1cm4ocykuIAogICAgRW5lbWllcyBzdWZmZXJpbmcgZnJvbSBCdXR0ZXJmbHkgRmx1cnJ5IHdpbGwgdGFrZSBBZGRpdGlvbmFsIFF1YW50dW0gRE1HIGVxdWFsIHRvIDE1JSBvZiBTZWVsZSdzIFVsdGltYXRlIERNRyBldmVyeSB0aW1lIHRoZXkgYXJlIGF0dGFja2VkLmAsZGlzYWJsZWQ6ZTw2fV07cmV0dXJue2NvbnRlbnQ6KCk9PkQsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHtidWZmZWRTdGF0ZTohMCxzcGVlZEJvb3N0U3RhY2tzOmwsZTFFbmVteUhwODBDckJvb3N0OiExLGU2VWx0VGFyZ2V0RGVidWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czoobSxmKT0+e2NvbnN0IHI9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIG1bbi5DUl0rPWU+PTEmJnIuZTFFbmVteUhwODBDckJvb3N0Py4xNTowLG1bbi5TUERfUF0rPS4yNSpyLnNwZWVkQm9vc3RTdGFja3MsbS5CQVNJQ19TQ0FMSU5HKz1kLG0uU0tJTExfU0NBTElORys9QyxtLlVMVF9TQ0FMSU5HKz1FLG0uRUxFTUVOVEFMX0RNRys9ci5idWZmZWRTdGF0ZT9vOjAsbS5SRVNfUEVOKz1yLmJ1ZmZlZFN0YXRlPy4yOjAsbS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxtLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLG0uVUxUX1RPVUdITkVTU19ETUcrPTkwLG19LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihtLGYpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobSxmKT0+e2NvbnN0IHI9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7bS5CQVNJQ19ETUcrPW0uQkFTSUNfU0NBTElORyptW24uQVRLXSxtLlNLSUxMX0RNRys9bS5TS0lMTF9TQ0FMSU5HKm1bbi5BVEtdLG0uVUxUX0RNRys9bS5VTFRfU0NBTElORyptW24uQVRLXSxtLkJBU0lDX0RNRys9ZT49NiYmci5lNlVsdFRhcmdldERlYnVmZj8uMTUqbS5VTFRfRE1HOjAsbS5TS0lMTF9ETUcrPWU+PTYmJnIuZTZVbHRUYXJnZXREZWJ1ZmY/LjE1Km0uVUxUX0RNRzowLG0uVUxUX0RNRys9ZT49NiYmci5lNlVsdFRhcmdldERlYnVmZj8uMTUqbS5VTFRfRE1HOjB9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOm09Pntjb25zdCBmPW0uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguU0tJTExfRE1HICs9IHguU0tJTExfU0NBTElORyAqIHguQVRLOwp4LlVMVF9ETUcgKz0geC5VTFRfU0NBTElORyAqIHguQVRLOwoKaWYgKCR7JChlPj02JiZmLmU2VWx0VGFyZ2V0RGVidWZmKX0pIHsKICB4LkJBU0lDX0RNRyArPSAwLjE1ICogeC5VTFRfRE1HOwogIHguU0tJTExfRE1HICs9IDAuMTUgKiB4LlVMVF9ETUc7CiAgeC5VTFRfRE1HICs9IDAuMTUgKiB4LlVMVF9ETUc7Cn0KICAgIGB9fX0sZmE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPXMoZSwuNzIsLjc5MiksbD1hKGUsMSwxLjEpLGQ9dChlLDEuNCwxLjU0KSxDPWkoZSwxLjgsMS45NDQpLEU9dChlLDEuMDQsMS4xNDQpLEQ9W3tmb3JtSXRlbToic3dpdGNoIixpZDoidGFyZ2V0U2hvY2tlZCIsbmFtZToidGFyZ2V0U2hvY2tlZCIsdGV4dDoiVGFyZ2V0IHNob2NrZWQiLHRpdGxlOiJUYXJnZXQgc2hvY2tlZCIsY29udGVudDpgQWZ0ZXIgU2VydmFsIGF0dGFja3MsIGRlYWxzIEFkZGl0aW9uYWwgTGlnaHRuaW5nIERNRyBlcXVhbCB0byAke0IobyoxMDApfSUgb2YgU2VydmFsJ3MgQVRLIHRvIGFsbCBTaG9ja2VkIGVuZW1pZXMuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteURlZmVhdGVkQnVmZiIsbmFtZToiZW5lbXlEZWZlYXRlZEJ1ZmYiLHRleHQ6IkVuZW15IGRlZmVhdGVkIGJ1ZmYiLHRpdGxlOiJFbmVteSBkZWZlYXRlZCBidWZmIixjb250ZW50OiJVcG9uIGRlZmVhdGluZyBhbiBlbmVteSwgQVRLIGluY3JlYXNlcyBieSAyMCUgZm9yIDIgdHVybihzKS4ifV07cmV0dXJue2NvbnRlbnQ6KCk9PkQsdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt0YXJnZXRTaG9ja2VkOiEwLGVuZW15RGVmZWF0ZWRCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czoobSxmKT0+e2NvbnN0IHI9Zi5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIG1bbi5BVEtfUF0rPXIuZW5lbXlEZWZlYXRlZEJ1ZmY/LjI6MCxtLkJBU0lDX1NDQUxJTkcrPWwsbS5TS0lMTF9TQ0FMSU5HKz1kLG0uVUxUX1NDQUxJTkcrPUMsbS5ET1RfU0NBTElORys9RSxtLkJBU0lDX1NDQUxJTkcrPXIudGFyZ2V0U2hvY2tlZD9vOjAsbS5TS0lMTF9TQ0FMSU5HKz1yLnRhcmdldFNob2NrZWQ/bzowLG0uVUxUX1NDQUxJTkcrPXIudGFyZ2V0U2hvY2tlZD9vOjAsbS5FTEVNRU5UQUxfRE1HKz1lPj02JiZyLnRhcmdldFNob2NrZWQ/LjM6MCxtLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLG0uU0tJTExfVE9VR0hORVNTX0RNRys9NjAsbS5VTFRfVE9VR0hORVNTX0RNRys9NjAsbS5ET1RfQ0hBTkNFPS42NSxtfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobSxmKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6bT0+TyhtKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX07Y29uc3QgdWE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxvPXQoZSwuMSwuMTA1KSxsPXMoZSwuMDgsLjA4OCksZD1pKGUsLjQ1LC40NjgpLEM9YShlLDEsMS4xKSxFPXQoZSwxLjk2LDIuMTU2KSxEPWkoZSwzLjgsNC4xMDQpLG09W3tmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxSZXNTaHJlZERlYnVmZiIsbmFtZToic2tpbGxSZXNTaHJlZERlYnVmZiIsdGV4dDoiU2tpbGwgQWxsLVR5cGUgUkVTIHNocmVkIix0aXRsZToiU2tpbGw6IEFsbG93IENoYW5nZXM/IFJFUyBTaHJlZCIsY29udGVudDpgRGVjcmVhc2VzIHRoZSB0YXJnZXQncyBBbGwtVHlwZSBSRVMgb2YgdGhlIGVuZW15IGJ5ICR7QihvKjEwMCl9JSBmb3IgMiB0dXJuKHMpLgogICAgOjpCUjo6SWYgdGhlcmUgYXJlIDMgb3IgbW9yZSBkZWJ1ZmYocykgYWZmZWN0aW5nIHRoZSBlbmVteSB3aGVuIHRoZSBTa2lsbCBpcyB1c2VkLCB0aGVuIHRoZSBTa2lsbCBkZWNyZWFzZXMgdGhlIGVuZW15J3MgQWxsLVR5cGUgUkVTIGJ5IGFuIGFkZGl0aW9uYWwgMyUuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbFdlYWtuZXNzUmVzU2hyZWREZWJ1ZmYiLG5hbWU6InNraWxsV2Vha25lc3NSZXNTaHJlZERlYnVmZiIsdGV4dDoiU2tpbGwgd2Vha25lc3MgaW1wbGFudGVkIFJFUyBzaHJlZCIsdGl0bGU6IlNraWxsIHdlYWtuZXNzIGltcGxhbnRlZCBSRVMgc2hyZWQiLGNvbnRlbnQ6IlRoZXJlIGlzIGEgY2hhbmNlIHRvIGFkZCAxIFdlYWtuZXNzIG9mIGFuIG9uLWZpZWxkIGNoYXJhY3RlcidzIFR5cGUgdG8gdGhlIHRhcmdldCBlbmVteS4gVGhpcyBhbHNvIHJlZHVjZXMgdGhlIGVuZW15J3MgRE1HIFJFUyB0byB0aGF0IFdlYWtuZXNzIFR5cGUgYnkgMjAlIGZvciAyIHR1cm4ocykuIElmIHRoZSBlbmVteSBhbHJlYWR5IGhhcyB0aGF0IFR5cGUgV2Vha25lc3MsIHRoZSBlZmZlY3Qgb2YgRE1HIFJFUyByZWR1Y3Rpb24gdG8gdGhhdCBXZWFrbmVzcyBUeXBlIHdpbGwgbm90IGJlIHRyaWdnZXJlZC4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudERlZlNocmVkRGVidWZmIixuYW1lOiJ0YWxlbnREZWZTaHJlZERlYnVmZiIsdGV4dDoiQnVnIERFRiBzaHJlZCIsdGl0bGU6IlRhbGVudDogQXdhaXRpbmcgU3lzdGVtIFJlc3BvbnNlLi4uIERFRiBzaHJlZCIsY29udGVudDpgU2lsdmVyIFdvbGYncyBidWcgcmVkdWNlcyB0aGUgdGFyZ2V0J3MgREVGIGJ5ICR7QihsKjEwMCl9JSBmb3IgMyB0dXJuKHMpLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RGVmU2hyZWREZWJ1ZmYiLG5hbWU6InVsdERlZlNocmVkRGVidWZmIix0ZXh0OiJVbHQgREVGIHNocmVkIix0aXRsZToiVWx0OiBVc2VyIEJhbm5lZCBERUYgc2hyZWQiLGNvbnRlbnQ6YERlY3JlYXNlcyB0aGUgdGFyZ2V0J3MgREVGIGJ5ICR7QihkKjEwMCl9JSBmb3IgMyB0dXJuKHMpLmB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFyZ2V0RGVidWZmcyIsbmFtZToidGFyZ2V0RGVidWZmcyIsdGV4dDoiVGFyZ2V0IGRlYnVmZnMiLHRpdGxlOiJUYXJnZXQgZGVidWZmcyIsY29udGVudDpgCiAgICAgIElmIHRoZXJlIGFyZSAzIG9yIG1vcmUgZGVidWZmKHMpIGFmZmVjdGluZyB0aGUgZW5lbXkgd2hlbiB0aGUgU2tpbGwgaXMgdXNlZCwgdGhlbiB0aGUgU2tpbGwgZGVjcmVhc2VzIHRoZSBlbmVteSdzIEFsbC1UeXBlIFJFUyBieSBhbiBhZGRpdGlvbmFsIDMlLgogICAgICA6OkJSOjoKICAgICAgRTQ6IEFmdGVyIHVzaW5nIGhlciBVbHRpbWF0ZSB0byBhdHRhY2sgZW5lbWllcywgZGVhbHMgQWRkaXRpb25hbCBRdWFudHVtIERNRyBlcXVhbCB0byAyMCUgb2YgU2lsdmVyIFdvbGYncyBBVEsgZm9yIGV2ZXJ5IGRlYnVmZiBjdXJyZW50bHkgb24gdGhlIGVuZW15IHRhcmdldC4gVGhpcyBlZmZlY3QgY2FuIGJlIHRyaWdnZXJlZCBmb3IgYSBtYXhpbXVtIG9mIDUgdGltZShzKSBkdXJpbmcgZWFjaCB1c2Ugb2YgaGVyIFVsdGltYXRlLgogICAgICA6OkJSOjoKICAgICAgRTY6IEZvciBldmVyeSBkZWJ1ZmYgdGhlIHRhcmdldCBlbmVteSBoYXMsIHRoZSBETUcgZGVhbHQgYnkgU2lsdmVyIFdvbGYgaW5jcmVhc2VzIGJ5IDIwJSwgdXAgdG8gYSBsaW1pdCBvZiAxMDAlLgogICAgYCxtaW46MCxtYXg6NX1dLGY9W3AobSwic2tpbGxSZXNTaHJlZERlYnVmZiIpLHAobSwic2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmIikscChtLCJ0YWxlbnREZWZTaHJlZERlYnVmZiIpLHAobSwidWx0RGVmU2hyZWREZWJ1ZmYiKSxwKG0sInRhcmdldERlYnVmZnMiKV07cmV0dXJue2NvbnRlbnQ6KCk9Pm0sdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT4oe3NraWxsV2Vha25lc3NSZXNTaHJlZERlYnVmZjohMSxza2lsbFJlc1NocmVkRGVidWZmOiEwLHRhbGVudERlZlNocmVkRGVidWZmOiEwLHVsdERlZlNocmVkRGVidWZmOiEwLHRhcmdldERlYnVmZnM6NX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7c2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmOiExLHNraWxsUmVzU2hyZWREZWJ1ZmY6ITAsdGFsZW50RGVmU2hyZWREZWJ1ZmY6ITAsdWx0RGVmU2hyZWREZWJ1ZmY6ITAsdGFyZ2V0RGVidWZmczo1fSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiByLkJBU0lDX1NDQUxJTkcrPUMsci5TS0lMTF9TQ0FMSU5HKz1FLHIuVUxUX1NDQUxJTkcrPUQsci5VTFRfU0NBTElORys9ZT49ND9jLnRhcmdldERlYnVmZnMqLjI6MCxyLkVMRU1FTlRBTF9ETUcrPWU+PTY/Yy50YXJnZXREZWJ1ZmZzKi4yOjAsci5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxyLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLHIuVUxUX1RPVUdITkVTU19ETUcrPTkwLHJ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihyLHUpPT57Y29uc3QgYz11LmNoYXJhY3RlckNvbmRpdGlvbmFscztyLlJFU19QRU4rPWMuc2tpbGxXZWFrbmVzc1Jlc1NocmVkRGVidWZmPy4yOjAsci5SRVNfUEVOKz1jLnNraWxsUmVzU2hyZWREZWJ1ZmY/bzowLHIuUkVTX1BFTis9Yy5za2lsbFJlc1NocmVkRGVidWZmJiZjLnRhcmdldERlYnVmZnM+PTM/LjAzOjAsci5ERUZfUEVOKz1jLnVsdERlZlNocmVkRGVidWZmP2Q6MCxyLkRFRl9QRU4rPWMudGFsZW50RGVmU2hyZWREZWJ1ZmY/bDowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpyPT5PKHIpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fTt2YXIgbWE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPXQoZSwuMjQsLjI2NCksbD10KGUsLjQ1LC40ODYpLGQ9aShlLC4xLC4xMDgpLEM9cyhlLC4wNiwuMDY2KSxFPWEoZSwxLDEuMSksRD10KGUsMCwwKSxtPWkoZSwwLDApLGY9ezA6MCwxOi4wNSwyOi4xNSwzOi4zfSxyPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNraWxsQ2RCdWZmIixuYW1lOiJza2lsbENkQnVmZiIsdGV4dDoiU2tpbGwgQ0QgYnVmZiIsdGl0bGU6IlNraWxsOiBEcmVhbWRpdmVyIixjb250ZW50OmBJbmNyZWFzZXMgdGhlIENSSVQgRE1HIG9mIGEgc2luZ2xlIGFsbHkgYnkgJHtCKG8qMTAwKX0lIG9mIFNwYXJrbGUncyBDUklUIERNRyBwbHVzICR7QihsKjEwMCl9JSwgbGFzdGluZyBmb3IgMSB0dXJuKHMpLgogICAgOjpCUjo6CiAgICBFNjogVGhlIENSSVQgRE1HIEJvb3N0IGVmZmVjdCBvZiBTcGFya2xlJ3MgU2tpbGwgYWRkaXRpb25hbGx5IGluY3JlYXNlcyBieSAzMCUgb2YgU3BhcmtsZSdzIENSSVQgRE1HLCBhbmQgd2hlbiBzaGUgdXNlcyBoZXIgU2tpbGwsIHRoZSBDUklUIERNRyBCb29zdCBlZmZlY3Qgd2lsbCBhcHBseSB0byBhbGwgYWxsaWVzIGN1cnJlbnRseSB3aXRoIENpcGhlci4gV2hlbiBTcGFya2xlIHVzZXMgaGVyIFVsdGltYXRlLCB0aGlzIGVmZmVjdCB3aWxsIHNwcmVhZCB0byBhbGwgYWxsaWVzIHdpdGggQ2lwaGVyIHNob3VsZCB0aGUgYWxsaWVkIHRhcmdldCBoYXZlIHRoZSBDUklUIERNRyBpbmNyZWFzZSBlZmZlY3QgcHJvdmlkZWQgYnkgdGhlIFNraWxsIGFjdGl2ZSBvbiB0aGVtLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiY2lwaGVyQnVmZiIsbmFtZToiY2lwaGVyQnVmZiIsdGV4dDoiQ2lwaGVyIGJ1ZmYiLHRpdGxlOiJVbHRpbWF0ZTogVGhlIEhlcm8gd2l0aCBhIFRob3VzYW5kIEZhY2VzIixjb250ZW50OmBXaGVuIGFsbGllcyB3aXRoIENpcGhlciB0cmlnZ2VyIHRoZSBETUcgQm9vc3QgZWZmZWN0IHByb3ZpZGVkIGJ5IFNwYXJrbGUncyBUYWxlbnQsIGVhY2ggc3RhY2sgYWRkaXRpb25hbGx5IGluY3JlYXNlcyBpdHMgZWZmZWN0IGJ5ICR7QihkKjEwMCl9JSwgbGFzdGluZyBmb3IgMiB0dXJucy4KICAgIDo6QlI6OgogICAgRTE6IFRoZSBDaXBoZXIgZWZmZWN0IGFwcGxpZWQgYnkgdGhlIFVsdGltYXRlIGxhc3RzIGZvciAxIGV4dHJhIHR1cm4uIEFsbCBhbGxpZXMgYWZmZWN0ZWQgYnkgQ2lwaGVyIGhhdmUgdGhlaXIgQVRLIGluY3JlYXNlZCBieSA0MCUuYH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0YWxlbnRTdGFja3MiLG5hbWU6InRhbGVudFN0YWNrcyIsdGV4dDoiVGFsZW50IERNRyBzdGFja3MiLHRpdGxlOiJUYWxlbnQ6IFJlZCBIZXJyaW5nIixjb250ZW50OmBXaGVuZXZlciBhbiBhbGx5IGNvbnN1bWVzIDEgU2tpbGwgUG9pbnQsIGFsbCBhbGxpZXMnIERNRyBpbmNyZWFzZXMgYnkgJHtCKEMqMTAwKX0lLiBUaGlzIGVmZmVjdCBsYXN0cyBmb3IgMiB0dXJuKHMpIGFuZCBjYW4gc3RhY2sgdXAgdG8gMyB0aW1lKHMpLgogICAgOjpCUjo6CiAgICBFMjogRWFjaCBUYWxlbnQgc3RhY2sgYWxsb3dzIGFsbGllcyB0byBpZ25vcmUgOCUgb2YgdGhlIGVuZW15IHRhcmdldCdzIERFRiB3aGVuIGRlYWxpbmcgRE1HIHRvIGVuZW1pZXMuYCxtaW46MCxtYXg6M30se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJxdWFudHVtQWxsaWVzIixuYW1lOiJxdWFudHVtQWxsaWVzIix0ZXh0OiJRdWFudHVtIGFsbGllcyIsdGl0bGU6IlRyYWNlOiBOb2N0dXJuZSIsY29udGVudDoiV2hlbiB0aGVyZSBhcmUgMS8yLzMgUXVhbnR1bSBhbGxpZXMgaW4geW91ciB0ZWFtLCBRdWFudHVtLVR5cGUgYWxsaWVzJyBBVEsgYXJlIGluY3JlYXNlZCBieSA1JS8xNSUvMzAlLiIsbWluOjAsbWF4OjN9XSx1PVtwKHIsInNraWxsQ2RCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUNEVmFsdWUiLG5hbWU6InRlYW1tYXRlQ0RWYWx1ZSIsdGV4dDoiU3BhcmtsZSdzIENvbWJhdCBDRCIsdGl0bGU6IlNraWxsOiBEcmVhbWRpdmVyIixjb250ZW50OmBJbmNyZWFzZXMgdGhlIENSSVQgRE1HIG9mIGEgc2luZ2xlIGFsbHkgYnkgJHtCKG8qMTAwKX0lIG9mIFNwYXJrbGUncyBDUklUIERNRyBwbHVzICR7QihsKjEwMCl9JSwgbGFzdGluZyBmb3IgMSB0dXJuKHMpLmAsbWluOjAsbWF4OjMuNSxwZXJjZW50OiEwfSxwKHIsImNpcGhlckJ1ZmYiKSxwKHIsInRhbGVudFN0YWNrcyIpLHAociwicXVhbnR1bUFsbGllcyIpXSxjPXtza2lsbENkQnVmZjohMSxjaXBoZXJCdWZmOiEwLHRhbGVudFN0YWNrczozLHF1YW50dW1BbGxpZXM6M307cmV0dXJue2NvbnRlbnQ6KCk9PnIsdGVhbW1hdGVDb250ZW50OigpPT51LGRlZmF1bHRzOigpPT5jLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Li4uYyxza2lsbENkQnVmZjohMCx0ZWFtbWF0ZUNEVmFsdWU6Mi41fSkscHJlY29tcHV0ZUVmZmVjdHM6KFMsaCk9PihTLkJBU0lDX1NDQUxJTkcrPUUsUy5TS0lMTF9TQ0FMSU5HKz1ELFMuVUxUX1NDQUxJTkcrPW0sUy5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxTKSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooUyxoKT0+e2NvbnN0IEE9aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7U1tuLkFUS19QXSs9LjE1KyhoLlBSSU1BUllfRUxFTUVOVEFMX0RNR19UWVBFPT1uLlF1YW50dW1fRE1HJiZmW0EucXVhbnR1bUFsbGllc118fDApLFNbbi5BVEtfUF0rPWU+PTEmJkEuY2lwaGVyQnVmZj8uNDowLFMuRUxFTUVOVEFMX0RNRys9QS5jaXBoZXJCdWZmP0EudGFsZW50U3RhY2tzKihDK2QpOkEudGFsZW50U3RhY2tzKkMsUy5ERUZfUEVOKz1lPj0yPy4wOCpBLnRhbGVudFN0YWNrczowfSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihTLGgpPT57Y29uc3QgQT1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztTW24uQ0RdKz1BLnNraWxsQ2RCdWZmP2wrKG8rKGU+PTY/LjM6MCkpKkEudGVhbW1hdGVDRFZhbHVlOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOlM9Pk8oUyksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IlNwYXJrbGVDZENvbmRpdGlvbmFsIix0eXBlOnYuQUJJTElUWSxhY3RpdmF0aW9uOlAuQ09OVElOVU9VUyxkZXBlbmRzT246W24uQ0RdLHJhdGlvQ29udmVyc2lvbjohMCxjb25kaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZWZmZWN0OmZ1bmN0aW9uKFMsaCxBKXtpZighaC5jaGFyYWN0ZXJDb25kaXRpb25hbHMuc2tpbGxDZEJ1ZmYpcmV0dXJuO2NvbnN0IEc9bysoZT49Nj8uMzowKSxJPUEuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXXx8MCxZPVNbbi5DRF0tUy5SQVRJT19CQVNFRF9DRF9CVUZGLGVlPUcqWStsLG9lPUcqSStsO0EuY29uZGl0aW9uYWxTdGF0ZVt0aGlzLmlkXT1TW24uQ0RdO2NvbnN0IGhlPWVlLShJP29lOjApO1MuUkFUSU9fQkFTRURfQ0RfQlVGRis9aGUsRihTLGgsQSxuLkNELGhlKX0sZ3B1OmZ1bmN0aW9uKFMsaCl7Y29uc3QgQT1TLmNoYXJhY3RlckNvbmRpdGlvbmFscyxfPW8rKGU+PTY/LjM6MCk7cmV0dXJuIE4odGhpcyxgCmlmICgke1goQS5za2lsbENkQnVmZil9KSB7CiAgcmV0dXJuOwp9CgpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5TcGFya2xlQ2RDb25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlQ2RWYWx1ZTogZjMyID0gKCpwX3gpLkNEIC0gKCpwX3gpLlJBVElPX0JBU0VEX0NEX0JVRkY7Cgp2YXIgYnVmZkNEOiBmMzIgPSAke199ICogY29udmVydGlibGVDZFZhbHVlICsgJHtsfTsKdmFyIHN0YXRlQnVmZkNEOiBmMzIgPSAke199ICogc3RhdGVWYWx1ZSArICR7bH07CgooKnBfc3RhdGUpLlNwYXJrbGVDZENvbmRpdGlvbmFsID0gKCpwX3gpLkNEOwoKbGV0IGZpbmFsQnVmZkNkID0gYnVmZkNEIC0gc2VsZWN0KDAsIHN0YXRlQnVmZkNELCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9DRF9CVUZGICs9IGZpbmFsQnVmZkNkOwoKYnVmZk5vblJhdGlvRHluYW1pY0NEKGZpbmFsQnVmZkNkLCBwX3gsIHBfc3RhdGUpOwogICAgYCl9fV19fSxkYT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlVMVF9UQUxFTlRfM19TS0lMTF9CQVNJQ181LG89cyhlLC4yLC4yMSksbD1pKGUsLjMsLjMyNCksZD1lPj02PzI6MSxDPWEoZSwxLDEuMSksRT10KGUsMi4xLDIuMzEpLEQ9dChlLDEsMS4xKSxtPWkoZSwzLjIsMy40NTYpLGY9W3tmb3JtSXRlbToic3dpdGNoIixpZDoidWx0QnVmZmVkU3RhdGUiLG5hbWU6InVsdEJ1ZmZlZFN0YXRlIix0ZXh0OiJVbHQgYnVmZmVkIHN0YXRlIix0aXRsZToiVWx0IGJ1ZmZlZCBzdGF0ZSIsY29udGVudDpgU3VzaGFuZydzIEFUSyBpbmNyZWFzZXMgYnkgJHtCKGwqMTAwKX0lIGFuZCB1c2luZyBoZXIgU2tpbGwgaGFzIDIgZXh0cmEgY2hhbmNlcyB0byB0cmlnZ2VyIFN3b3JkIFN0YW5jZSBmb3IgMiB0dXJuKHMpLgogICAgU3dvcmQgU3RhbmNlIHRyaWdnZXJlZCBmcm9tIHRoZSBleHRyYSBjaGFuY2VzIGRlYWxzIDUwJSBvZiB0aGUgb3JpZ2luYWwgRE1HLmB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxFeHRyYUhpdHMiLG5hbWU6InNraWxsRXh0cmFIaXRzIix0ZXh0OiJTa2lsbCBleHRyYSBoaXRzIix0aXRsZToiU2tpbGwgZXh0cmEgaGl0cyIsY29udGVudDoiSW5jcmVhc2VzIHRoZSBudW1iZXIgb2YgU3dvcmQgU3RhbmNlIGV4dHJhIGhpdHMgb2YgdGhlIFNraWxsLiIsbWluOjAsbWF4OjN9LHtmb3JtSXRlbToic2xpZGVyIixpZDoic2tpbGxUcmlnZ2VyU3RhY2tzIixuYW1lOiJza2lsbFRyaWdnZXJTdGFja3MiLHRleHQ6IlNraWxsIHRyaWdnZXIgc3RhY2tzIix0aXRsZToiU2tpbGwgdHJpZ2dlciBzdGFja3MiLGNvbnRlbnQ6IkZvciBldmVyeSBTd29yZCBTdGFuY2UgdHJpZ2dlcmVkLCB0aGUgRE1HIGRlYWx0IGJ5IFN3b3JkIFN0YW5jZSBpbmNyZWFzZXMgYnkgMi41JS4gU3RhY2tzIHVwIHRvIDEwIHRpbWUocykuIixtaW46MCxtYXg6MTB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoidGFsZW50U3BkQnVmZlN0YWNrcyIsbmFtZToidGFsZW50U3BkQnVmZlN0YWNrcyIsdGV4dDoiVGFsZW50IFNQRCBidWZmIHN0YWNrcyIsdGl0bGU6IlRhbGVudCBTUEQgYnVmZiBzdGFja3MiLGNvbnRlbnQ6YFdoZW4gYW4gZW5lbXkgaGFzIHRoZWlyIFdlYWtuZXNzIEJyb2tlbiBvbiB0aGUgZmllbGQsIFN1c2hhbmcncyBTUEQgaW5jcmVhc2VzIGJ5ICR7QihvKjEwMCl9JSBwZXIgc3RhY2sgZm9yIDIgdHVybihzKS4KICAgIDo6QlI6OgogICAgRTY6IFRhbGVudCdzIFNQRCBCb29zdCBpcyBzdGFja2FibGUgYW5kIGNhbiBzdGFjayB1cCB0byAyIHRpbWVzLmAsbWluOjAsbWF4OmR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJEbWdSZWR1Y3Rpb25CdWZmIixuYW1lOiJlMkRtZ1JlZHVjdGlvbkJ1ZmYiLHRleHQ6IkUyIERNRyByZWR1Y3Rpb24gYnVmZiIsdGl0bGU6IkUyIERNRyByZWR1Y3Rpb24gYnVmZiIsY29udGVudDoiRTI6IEFmdGVyIHRyaWdnZXJpbmcgU3dvcmQgU3RhbmNlLCB0aGUgRE1HIHRha2VuIGJ5IFN1c2hhbmcgaXMgcmVkdWNlZCBieSAyMCUgZm9yIDEgdHVybi4iLGRpc2FibGVkOmU8Mn1dO3JldHVybntjb250ZW50OigpPT5mLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dWx0QnVmZmVkU3RhdGU6ITAsZTJEbWdSZWR1Y3Rpb25CdWZmOiEwLHNraWxsRXh0cmFIaXRzOjMsc2tpbGxUcmlnZ2VyU3RhY2tzOjEwLHRhbGVudFNwZEJ1ZmZTdGFja3M6ZH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Jbbi5CRV0rPWU+PTQ/LjQ6MCxyW24uQVRLX1BdKz1jLnVsdEJ1ZmZlZFN0YXRlP2w6MCxyW24uU1BEX1BdKz1jLnRhbGVudFNwZEJ1ZmZTdGFja3Mqbztjb25zdCBTPUU7bGV0IGg9MDtoKz1jLnNraWxsRXh0cmFIaXRzPj0xP0Q6MCxoKz1jLnVsdEJ1ZmZlZFN0YXRlJiZjLnNraWxsRXh0cmFIaXRzPj0yP0QqLjU6MCxoKz1jLnVsdEJ1ZmZlZFN0YXRlJiZjLnNraWxsRXh0cmFIaXRzPj0zP0QqLjU6MDtjb25zdCBBPWgvKGgrUyk7cmV0dXJuIHIuQkFTSUNfU0NBTElORys9QyxyLlNLSUxMX1NDQUxJTkcrPVMsci5TS0lMTF9TQ0FMSU5HKz1oLHIuVUxUX1NDQUxJTkcrPW0sayhyLFYsYy5za2lsbFRyaWdnZXJTdGFja3MqLjAyNSpBKSxyLkRNR19SRURfTVVMVEkqPWU+PTImJmMuZTJEbWdSZWR1Y3Rpb25CdWZmPzEtLjI6MSxyLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHIuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsci5VTFRfVE9VR0hORVNTX0RNRys9OTAscn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHIsdSk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOnI9Pk8ociksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKX19LFNhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUsbz10KGUsLjI1LC4yNyksbD1pKGUsLjUsLjU2KSxkPXQoZSwuNSwuNTUpLEM9dChlLC40LC40NCkrKGU+PTQ/LjI6MCksRT1zKGUsLjYsLjY2KSsoZT49ND8uMjowKSxEPWEoZSwxLDEuMSksbT10KGUsMCwwKSxmPWkoZSwwLDApLHI9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmVuZWRpY3Rpb25CdWZmIixuYW1lOiJiZW5lZGljdGlvbkJ1ZmYiLHRleHQ6IkJlbmVkaWN0aW9uIGJ1ZmYiLHRpdGxlOiJCZW5lZGljdGlvbiBidWZmIixjb250ZW50OmBHcmFudHMgYSBzaW5nbGUgYWxseSB3aXRoIEJlbmVkaWN0aW9uIHRvIGluY3JlYXNlIHRoZWlyIEFUSyBieSAke0IoZCoxMDApfSUsIHVwIHRvICR7QihvKjEwMCl9JSBvZiBUaW5neXVuJ3MgY3VycmVudCBBVEsuIFdoZW4gdGhlIGFsbHkgd2l0aCBCZW5lZGljdGlvbiBhdHRhY2tzLCBpdCBkZWFscyBsaWdodG5pbmcgZGFtYWdlIGVxdWFsIHRvICR7QihDKjEwMCl9JSBvZiB0aGF0IGFsbHkncyBBVEsuIFRoaXMgZWZmZWN0IGxhc3RzIGZvciAzIHR1cm5zLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxTcGRCdWZmIixuYW1lOiJza2lsbFNwZEJ1ZmYiLHRleHQ6IlNraWxsIFNQRCBidWZmIix0aXRsZToiU2tpbGwgU1BEIGJ1ZmYiLGNvbnRlbnQ6IlRpbmd5dW4ncyBTUEQgaW5jcmVhc2VzIGJ5IDIwJSBmb3IgMSB0dXJuIGFmdGVyIHVzaW5nIFNraWxsLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0RG1nQnVmZiIsbmFtZToidWx0RG1nQnVmZiIsdGV4dDoiVWx0IERNRyBidWZmIix0aXRsZToiVWx0IERNRyBidWZmIixjb250ZW50OmBSZWdlbmVyYXRlcyA1MCBFbmVyZ3kgZm9yIGEgc2luZ2xlIGFsbHkgYW5kIGluY3JlYXNlcyB0aGUgdGFyZ2V0J3MgRE1HIGJ5ICR7QihsKjEwMCl9JSBmb3IgMiB0dXJuKHMpLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0U3BkQnVmZiIsbmFtZToidWx0U3BkQnVmZiIsdGV4dDoiRTEgdWx0IFNQRCBidWZmIix0aXRsZToiRTEgdWx0IFNQRCBidWZmIixjb250ZW50OiJFMTogQWZ0ZXIgdXNpbmcgdGhlaXIgVWx0aW1hdGUsIHRoZSBhbGx5IHdpdGggQmVuZWRpY3Rpb24gZ2FpbnMgYSAyMCUgaW5jcmVhc2UgaW4gU1BEIGZvciAxIHR1cm4uIixkaXNhYmxlZDplPDF9XSx1PVtwKHIsImJlbmVkaWN0aW9uQnVmZiIpLHtmb3JtSXRlbToic2xpZGVyIixpZDoidGVhbW1hdGVBdGtCdWZmVmFsdWUiLG5hbWU6InRlYW1tYXRlQXRrQnVmZlZhbHVlIix0ZXh0OiJTa2lsbCBBVEsgYnVmZiB2YWx1ZSIsdGl0bGU6IkJlbmVkaWN0aW9uIGJ1ZmYiLGNvbnRlbnQ6YEdyYW50cyBhIHNpbmdsZSBhbGx5IHdpdGggQmVuZWRpY3Rpb24gdG8gaW5jcmVhc2UgdGhlaXIgQVRLIGJ5ICR7QihkKjEwMCl9JSwgdXAgdG8gJHtCKG8qMTAwKX0lIG9mIFRpbmd5dW4ncyBjdXJyZW50IEFUSy4gV2hlbiB0aGUgYWxseSB3aXRoIEJlbmVkaWN0aW9uIGF0dGFja3MsIGl0IGRlYWxzIGxpZ2h0bmluZyBkYW1hZ2UgZXF1YWwgdG8gJHtCKEMqMTAwKX0lIG9mIHRoYXQgYWxseSdzIEFUSy4gVGhpcyBlZmZlY3QgbGFzdHMgZm9yIDMgdHVybnMuYCxtaW46MCxtYXg6ZCxwZXJjZW50OiEwfSxwKHIsInVsdERtZ0J1ZmYiKSxwKHIsInVsdFNwZEJ1ZmYiKV07cmV0dXJue2NvbnRlbnQ6KCk9PnIsdGVhbW1hdGVDb250ZW50OigpPT51LGRlZmF1bHRzOigpPT4oe2JlbmVkaWN0aW9uQnVmZjohMSxza2lsbFNwZEJ1ZmY6ITEsdWx0U3BkQnVmZjohMSx1bHREbWdCdWZmOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtiZW5lZGljdGlvbkJ1ZmY6ITAsdWx0U3BkQnVmZjohMSx1bHREbWdCdWZmOiEwLHRlYW1tYXRlQXRrQnVmZlZhbHVlOmR9KSxwcmVjb21wdXRlRWZmZWN0czooYyxTKT0+e2NvbnN0IGg9Uy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGNbbi5TUERfUF0rPWguc2tpbGxTcGRCdWZmPy4yOjAsYy5CQVNJQ19TQ0FMSU5HKz1ELGMuU0tJTExfU0NBTElORys9bSxjLlVMVF9TQ0FMSU5HKz1mLGsoYyxXLC40KSxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihjLFMpPT57Y29uc3QgaD1TLmNoYXJhY3RlckNvbmRpdGlvbmFscztjW24uU1BEX1BdKz1lPj0xJiZoLnVsdFNwZEJ1ZmY/LjI6MCxjLkVMRU1FTlRBTF9ETUcrPWgudWx0RG1nQnVmZj9sOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGMsUyk9Pntjb25zdCBoPVMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Nbbi5BVEtfUF0rPWguYmVuZWRpY3Rpb25CdWZmP2gudGVhbW1hdGVBdGtCdWZmVmFsdWU6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KGMsUyk9Pntjb25zdCBoPVMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2MuQkFTSUNfRE1HKz1jLkJBU0lDX1NDQUxJTkcqY1tuLkFUS10rKGguYmVuZWRpY3Rpb25CdWZmP0MrRTowKSpjW24uQVRLXSxjLlNLSUxMX0RNRys9Yy5TS0lMTF9TQ0FMSU5HKmNbbi5BVEtdLGMuVUxUX0RNRys9Yy5VTFRfU0NBTElORypjW24uQVRLXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+e2NvbnN0IFM9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuYAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKaWYgKCR7JChTLmJlbmVkaWN0aW9uQnVmZil9KSB7CiAgeC5CQVNJQ19ETUcgKz0gKCR7QytFfSkgKiB4LkFUSzsKfQoKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CiAgICBgfSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6IlRpbmd5dW5BdGtDb25kaXRpb25hbCIsdHlwZTp2LkFCSUxJVFksYWN0aXZhdGlvbjpQLkNPTlRJTlVPVVMsZGVwZW5kc09uOltuLkFUS10scmF0aW9Db252ZXJzaW9uOiEwLGNvbmRpdGlvbjpmdW5jdGlvbigpe3JldHVybiEwfSxlZmZlY3Q6ZnVuY3Rpb24oYyxTLGgpe2lmKCFTLmNoYXJhY3RlckNvbmRpdGlvbmFscy5iZW5lZGljdGlvbkJ1ZmYpcmV0dXJuO2NvbnN0IF89aC5jb25kaXRpb25hbFN0YXRlW3RoaXMuaWRdfHwwLEc9Y1tuLkFUS10tYy5SQVRJT19CQVNFRF9BVEtfQlVGRixJPW8qRyxZPW8qXztoLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09Y1tuLkFUS107Y29uc3QgZWU9SS0oXz9ZOjApO2MuUkFUSU9fQkFTRURfQVRLX0JVRkYrPWVlLEYoYyxTLGgsbi5BVEssZWUpfSxncHU6ZnVuY3Rpb24oYyxTKXtjb25zdCBoPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBOKHRoaXMsYAppZiAoJHtYKGguYmVuZWRpY3Rpb25CdWZmKX0pIHsKICByZXR1cm47Cn0KCmxldCBzdGF0ZVZhbHVlOiBmMzIgPSAoKnBfc3RhdGUpLlRpbmd5dW5BdGtDb25kaXRpb25hbDsKbGV0IGNvbnZlcnRpYmxlQXRrVmFsdWU6IGYzMiA9ICgqcF94KS5BVEsgLSAoKnBfeCkuUkFUSU9fQkFTRURfQVRLX0JVRkY7Cgp2YXIgYnVmZkFUSzogZjMyID0gJHtvfSAqIGNvbnZlcnRpYmxlQXRrVmFsdWU7CnZhciBzdGF0ZUJ1ZmZBVEs6IGYzMiA9ICR7b30gKiBzdGF0ZVZhbHVlOwoKKCpwX3N0YXRlKS5UaW5neXVuQXRrQ29uZGl0aW9uYWwgPSAoKnBfeCkuQVRLOwoKbGV0IGZpbmFsQnVmZkF0ayA9IGJ1ZmZBVEsgLSBzZWxlY3QoMCwgc3RhdGVCdWZmQVRLLCBzdGF0ZVZhbHVlID4gMCk7CigqcF94KS5SQVRJT19CQVNFRF9BVEtfQlVGRiArPSBmaW5hbEJ1ZmZBdGs7CgpidWZmTm9uUmF0aW9EeW5hbWljQVRLKGZpbmFsQnVmZkF0aywgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0saGE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPWU+PTY/MzoyLGw9YShlLDEsMS4xKSxkPXQoZSwuNzIsLjc5MiksQz1pKGUsMS41LDEuNjIpLEU9cyhlLC42LC42NiksRD1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteURtZ1Rha2VuRGVidWZmIixuYW1lOiJlbmVteURtZ1Rha2VuRGVidWZmIix0ZXh0OiJVbHQgdnVsbmVyYWJpbGl0eSBkZWJ1ZmYiLHRpdGxlOiJSZXRyaWJ1dGlvbiIsY29udGVudDoiV2hlbiB1c2luZyBVbHRpbWF0ZSwgdGhlcmUgaXMgYSAxMDAlIGJhc2UgY2hhbmNlIHRvIGluY3JlYXNlIHRoZSBETUcgcmVjZWl2ZWQgYnkgdGhlIHRhcmdldHMgYnkgMTIlIGZvciAyIHR1cm4ocykuIn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmVteVNsb3dlZCIsbmFtZToiZW5lbXlTbG93ZWQiLHRleHQ6IkVuZW15IHNsb3dlZCIsdGl0bGU6IlRpbWUgRGlzdG9ydGlvbiIsY29udGVudDpgV2hlbiBoaXR0aW5nIGFuIGVuZW15IHRoYXQgaXMgYWxyZWFkeSBTbG93ZWQsIFdlbHQgZGVhbHMgQWRkaXRpb25hbCBJbWFnaW5hcnkgRE1HIGVxdWFsIHRvICR7QihFKjEwMCl9JSBvZiBoaXMgQVRLIHRvIHRoZSBlbmVteS5gfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InNraWxsRXh0cmFIaXRzIixuYW1lOiJza2lsbEV4dHJhSGl0cyIsdGV4dDoiU2tpbGwgZXh0cmEgaGl0cyBvbiB0YXJnZXQiLHRpdGxlOiJFZGdlIG9mIHRoZSBWb2lkIixjb250ZW50OmBEZWFscyBJbWFnaW5hcnkgRE1HIGVxdWFsIHRvICR7QihkKjEwMCl9JSBvZiBXZWx0J3MgQVRLIHRvIGEgc2luZ2xlIGVuZW15IGFuZCBmdXJ0aGVyIGRlYWxzIERNRyAyIGV4dHJhIHRpbWVzLCB3aXRoIGVhY2ggdGltZSBkZWFsaW5nIEltYWdpbmFyeSBETUcgZXF1YWwgdG8gJHtCKGQqMTAwKX0lIG9mIFdlbHQncyBBVEsgdG8gYSByYW5kb20gZW5lbXkuYCxtaW46MCxtYXg6b30se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMUVuaGFuY2VkU3RhdGUiLG5hbWU6ImUxRW5oYW5jZWRTdGF0ZSIsdGV4dDoiRTEgZW5oYW5jZWQgc3RhdGUiLHRpdGxlOiJFMSBMZWdhY3kgb2YgSG9ub3IiLGNvbnRlbnQ6IkUxOiBBZnRlciBXZWx0IHVzZXMgaGlzIFVsdGltYXRlLCBoaXMgYWJpbGl0aWVzIGFyZSBlbmhhbmNlZC4gVGhlIG5leHQgMiB0aW1lKHMpIGhlIHVzZXMgaGlzIEJhc2ljIEFUSyBvciBTa2lsbCwgZGVhbHMgQWRkaXRpb25hbCBETUcgdG8gdGhlIHRhcmdldCBlcXVhbCB0byA1MCUgb2YgaGlzIEJhc2ljIEFUSydzIERNRyBtdWx0aXBsaWVyIG9yIDgwJSBvZiBoaXMgU2tpbGwncyBETUcgbXVsdGlwbGllciByZXNwZWN0aXZlbHkuIixkaXNhYmxlZDplPDF9XSxtPVtwKEQsImVuZW15RG1nVGFrZW5EZWJ1ZmYiKV07cmV0dXJue2NvbnRlbnQ6KCk9PkQsdGVhbW1hdGVDb250ZW50OigpPT5tLGRlZmF1bHRzOigpPT4oe2VuZW15U2xvd2VkOiEwLGVuZW15RG1nVGFrZW5EZWJ1ZmY6ITAsc2tpbGxFeHRyYUhpdHM6byxlMUVuaGFuY2VkU3RhdGU6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2VuZW15RG1nVGFrZW5EZWJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooZixyKT0+e2NvbnN0IHU9ci5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGYuRUxFTUVOVEFMX0RNRys9Zi5FTkVNWV9XRUFLTkVTU19CUk9LRU4/LjI6MCxmLkJBU0lDX1NDQUxJTkcrPWwsZi5TS0lMTF9TQ0FMSU5HKz1kLGYuVUxUX1NDQUxJTkcrPUMsZi5CQVNJQ19TQ0FMSU5HKz11LmVuZW15U2xvd2VkP0U6MCxmLlNLSUxMX1NDQUxJTkcrPXUuZW5lbXlTbG93ZWQ/RTowLGYuVUxUX1NDQUxJTkcrPXUuZW5lbXlTbG93ZWQ/RTowLGYuQkFTSUNfU0NBTElORys9ZT49MSYmdS5lMUVuaGFuY2VkU3RhdGU/LjUqbDowLGYuU0tJTExfU0NBTElORys9ZT49MSYmdS5lMUVuaGFuY2VkU3RhdGU/LjgqZDowLGYuU0tJTExfU0NBTElORys9dS5za2lsbEV4dHJhSGl0cypkLGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZi5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCszMCp1LnNraWxsRXh0cmFIaXRzLGYuVUxUX1RPVUdITkVTU19ETUcrPTYwLGZ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHIpPT57Y29uc3QgdT1yLmNoYXJhY3RlckNvbmRpdGlvbmFscztmLlZVTE5FUkFCSUxJVFkrPXUuZW5lbXlEbWdUYWtlbkRlYnVmZj8uMTI6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+TyhmKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpfX0sRGE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPWkoZSwuNiwuNjQ4KSxsPWEoZSwxLDEuMSksZD10KGUsMS40LDEuNTQpLEM9aShlLDIuNSwyLjcpLEU9cyhlLC45LC45OSksRD17MDowLDE6eSooMSoxLzEpLDI6eSooMSoxLzIrMioxLzIpLDM6eSooMSoxLzMrMioxLzMrMyoxLzMpfSxtPVt7aWQ6ImJlVG9EbWdCb29zdCIsbmFtZToiYmVUb0RtZ0Jvb3N0Iix0ZXh0OiJCRSB0byBETUcgYm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRpdGxlOiJDbGFpcnZveWFudCBMb29tIixjb250ZW50OiJJbmNyZWFzZXMgRE1HIGRlYWx0IGJ5IHRoaXMgdW5pdCBieSBhbiBhbW91bnQgZXF1YWwgdG8gMTAwJSBvZiBCcmVhayBFZmZlY3QsIHVwIHRvIGEgbWF4aW11bSBETUcgaW5jcmVhc2Ugb2YgMjQwJS4ifSx7aWQ6ImVuZW15VG91Z2huZXNzNTAiLG5hbWU6ImVuZW15VG91Z2huZXNzNTAiLHRleHQ6IkludHJlcGlkIFJvbGxlcmJlYXJpbmdzIixmb3JtSXRlbToic3dpdGNoIix0aXRsZToiSW50cmVwaWQgUm9sbGVyYmVhcmluZ3MiLGNvbnRlbnQ6IklmIHRoZSBlbmVteSB0YXJnZXQncyBUb3VnaG5lc3MgaXMgZXF1YWwgdG8gb3IgaGlnaGVyIHRoYW4gNTAlIG9mIHRoZWlyIE1heCBUb3VnaG5lc3MsIGRlYWxzIDEwJSBtb3JlIERNRyB3aGVuIHVzaW5nIFVsdGltYXRlLiJ9LHtpZDoidG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3QiLG5hbWU6InRvdWdobmVzc1JlZHVjdGlvbkRtZ0Jvb3N0Iix0ZXh0OiJVbHRpbWF0ZSBETUcgYm9vc3QiLGZvcm1JdGVtOiJzbGlkZXIiLHRpdGxlOiJVbHRpbWF0ZTogRGl2aW5lIENhc3RpZ2F0aW9uIixjb250ZW50OmBXaGVuIHVzaW5nIFVsdGltYXRlLCB0aGUgbW9yZSBUb3VnaG5lc3MgaXMgcmVkdWNlZCwgdGhlIGhpZ2hlciB0aGUgRE1HIHdpbGwgYmUgZGVhbHQsIHVwIHRvIGEgbWF4IG9mICR7QihvKjEwMCl9JSBpbmNyZWFzZS5gLG1pbjowLG1heDpvLHBlcmNlbnQ6ITB9LHtpZDoiZnVhSGl0cyIsbmFtZToiZnVhSGl0cyIsdGV4dDoiRlVBIGhpdHMiLGZvcm1JdGVtOiJzbGlkZXIiLHRpdGxlOiJUYWxlbnQ6IEthcm1pYyBQZXJwZXR1YXRpb24iLGNvbnRlbnQ6YFdoZW4gS2FybWEgcmVhY2hlcyB0aGUgbWF4IG51bWJlciBvZiBzdGFja3MsIGNvbnN1bWVzIGFsbCBjdXJyZW50IEthcm1hIHN0YWNrcyBhbmQgaW1tZWRpYXRlbHkgbGF1bmNoZXMgYSBmb2xsb3ctdXAgYXR0YWNrIGFnYWluc3QgYW4gZW5lbXkgdGFyZ2V0LCAKICAgICAgZGVhbGluZyBETUcgZm9yIDMgdGltZXMsIHdpdGggZWFjaCB0aW1lIGRlYWxpbmcgUXVhbnR1bSBETUcgZXF1YWwgdG8gJHtCKEUqMTAwKX0lIG9mIFh1ZXlpJ3MgQVRLIHRvIGEgc2luZ2xlIHJhbmRvbSBlbmVteS5gLG1pbjowLG1heDozfSx7aWQ6ImU0QmVCdWZmIixuYW1lOiJlNEJlQnVmZiIsdGV4dDoiRTQgQkUgYnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGl0bGU6IkU0IGJyZWFrIGVmZmVjdCBidWZmIixjb250ZW50OiJFNDogV2hlbiB1c2luZyBVbHRpbWF0ZSwgaW5jcmVhc2VzIEJyZWFrIEVmZmVjdCBieSA0MCUgZm9yIDIgdHVybihzKS4iLGRpc2FibGVkOmU8NH1dO3JldHVybntjb250ZW50OigpPT5tLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7YmVUb0RtZ0Jvb3N0OiEwLGVuZW15VG91Z2huZXNzNTA6ITAsdG91Z2huZXNzUmVkdWN0aW9uRG1nQm9vc3Q6byxmdWFIaXRzOjMsZTRCZUJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOihmLHIpPT57Y29uc3QgdT1yLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gZltuLkJFXSs9ZT49NCYmdS5lNEJlQnVmZj8uNDowLGYuQkFTSUNfU0NBTElORys9bCxmLlNLSUxMX1NDQUxJTkcrPWQsZi5VTFRfU0NBTElORys9QyxmLkZVQV9TQ0FMSU5HKz1FKnUuZnVhSGl0cyxrKGYsVSx1LnRvdWdobmVzc1JlZHVjdGlvbkRtZ0Jvb3N0KSxrKGYsVSwuMSx1LmVuZW15VG91Z2huZXNzNTApLGsoZixSLC40LGU+PTEpLGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZi5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxmLlVMVF9UT1VHSE5FU1NfRE1HKz0xMjAsZi5GVUFfVE9VR0hORVNTX0RNRys9MTUqdS5mdWFIaXRzLGZ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihmLHIpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZixyKT0+e3EoZixyLERbci5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZnVhSGl0c10pfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpmPT5qKERbZi5jaGFyYWN0ZXJDb25kaXRpb25hbHMuZnVhSGl0c10pLGR5bmFtaWNDb25kaXRpb25hbHM6W2J0XX19LENhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUsbz1pKGUsLjUsLjU0KSxsPWkoZSwuMywuMzMpLGQ9aShlLC4yLC4yMSksQz1hKGUsMSwxLjEpLEU9dChlLDIuMiwyLjQyKSxEPWkoZSwzLjUsMy43OCksbT1zKGUsLjUsLjU1KSxmPXkqKDEqMS8xKSxyPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEJ1ZmZBY3RpdmUiLG5hbWU6InVsdEJ1ZmZBY3RpdmUiLHRleHQ6IlVsdCBidWZmIGFjdGl2ZSIsdGl0bGU6IlVsdCBidWZmIGFjdGl2ZSIsY29udGVudDpgSW5jcmVhc2VzIFlhbnFpbmcncyBDUklUIFJhdGUgYnkgNjAlLiBXaGVuIFNvdWxzdGVlbCBTeW5jIGlzIGFjdGl2ZSwgaW5jcmVhc2VzIFlhbnFpbmcncyBDUklUIERNRyBieSBhbiBleHRyYSAke0IobyoxMDApfSUuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJzb3Vsc3RlZWxCdWZmQWN0aXZlIixuYW1lOiJzb3Vsc3RlZWxCdWZmQWN0aXZlIix0ZXh0OiJTb3Vsc3RlZWwgYnVmZiBhY3RpdmUiLHRpdGxlOiJTb3Vsc3RlZWwgYnVmZiBhY3RpdmUiLGNvbnRlbnQ6YFdoZW4gU291bHN0ZWVsIFN5bmMgaXMgYWN0aXZlLCBZYW5xaW5nJ3MgQ1JJVCBSYXRlIGluY3JlYXNlcyBieSAke0IoZCoxMDApfSUgYW5kIGhpcyBDUklUIERNRyBpbmNyZWFzZXMgYnkgJHtCKGwqMTAwKX0lLiAKICAgIDo6QlI6OgogICAgQmVmb3JlIHVzaW5nIFVsdGltYXRlLCB3aGVuIFNvdWxzdGVlbCBTeW5jIGlzIGFjdGl2ZSwgaW5jcmVhc2VzIFlhbnFpbmcncyBDUklUIERNRyBieSBhbiBleHRyYSAke0IobyoxMDApfSUuCiAgICA6OkJSOjoKICAgIFdoZW4gU291bHN0ZWVsIFN5bmMgaXMgYWN0aXZlLCBFZmZlY3QgUkVTIGluY3JlYXNlcyBieSAyMCUuCiAgICA6OkJSOjoKICAgIEUyOiBXaGVuIFNvdWxzdGVlbCBTeW5jIGlzIGFjdGl2ZSwgRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIGluY3JlYXNlcyBieSBhbiBleHRyYSAxMCUuCiAgICBgfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImNyaXRTcGRCdWZmIixuYW1lOiJjcml0U3BkQnVmZiIsdGV4dDoiQ3JpdCBzcGQgYnVmZiIsdGl0bGU6IkNyaXQgc3BkIGJ1ZmYiLGNvbnRlbnQ6IldoZW4gYSBDUklUIEhpdCBpcyB0cmlnZ2VyZWQsIGluY3JlYXNlcyBTUEQgYnkgMTAlIGZvciAyIHR1cm4ocykuIn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVRhcmdldEZyb3plbiIsbmFtZToiZTFUYXJnZXRGcm96ZW4iLHRleHQ6IkUxIHRhcmdldCBmcm96ZW4iLHRpdGxlOiJFMSB0YXJnZXQgZnJvemVuIixjb250ZW50OiJXaGVuIFlhbnFpbmcgYXR0YWNrcyBhIEZyb3plbiBlbmVteSwgaGUgZGVhbHMgQWRkaXRpb25hbCBJY2UgRE1HIGVxdWFsIHRvIDYwJSBvZiBoaXMgQVRLLiIsZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0Q3VycmVudEhwODAiLG5hbWU6ImU0Q3VycmVudEhwODAiLHRleHQ6IkU0IHNlbGYgSFAg4omlIDgwJSBSRVMgUEVOIGJ1ZmYiLHRpdGxlOiJFNCBzZWxmIEhQIOKJpSA4MCUgUkVTIFBFTiBidWZmIixjb250ZW50OiJXaGVuIHRoZSBjdXJyZW50IEhQIHBlcmNlbnRhZ2UgaXMgODAlIG9yIGhpZ2hlciwgSWNlIFJFUyBQRU4gaW5jcmVhc2VzIGJ5IDEyJS4iLGRpc2FibGVkOmU8NH1dO3JldHVybntjb250ZW50OigpPT5yLHRlYW1tYXRlQ29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7dWx0QnVmZkFjdGl2ZTohMCxzb3Vsc3RlZWxCdWZmQWN0aXZlOiEwLGNyaXRTcGRCdWZmOiEwLGUxVGFyZ2V0RnJvemVuOiEwLGU0Q3VycmVudEhwODA6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOih1LGMpPT57Y29uc3QgUz1jLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gdVtuLkNSXSs9Uy51bHRCdWZmQWN0aXZlPy42OjAsdVtuLkNEXSs9Uy51bHRCdWZmQWN0aXZlJiZTLnNvdWxzdGVlbEJ1ZmZBY3RpdmU/bzowLHVbbi5DUl0rPVMuc291bHN0ZWVsQnVmZkFjdGl2ZT9kOjAsdVtuLkNEXSs9Uy5zb3Vsc3RlZWxCdWZmQWN0aXZlP2w6MCx1W24uUkVTXSs9Uy5zb3Vsc3RlZWxCdWZmQWN0aXZlPy4yOjAsdVtuLlNQRF9QXSs9Uy5jcml0U3BkQnVmZj8uMTowLHVbbi5FUlJdKz1lPj0yJiZTLnNvdWxzdGVlbEJ1ZmZBY3RpdmU/LjE6MCx1LkJBU0lDX1NDQUxJTkcrPUMsdS5TS0lMTF9TQ0FMSU5HKz1FLHUuVUxUX1NDQUxJTkcrPUQsdS5GVUFfU0NBTElORys9bSx1LkJBU0lDX1NDQUxJTkcrPWMuZW5lbXlFbGVtZW50YWxXZWFrPy4zOjAsdS5TS0lMTF9TQ0FMSU5HKz1jLmVuZW15RWxlbWVudGFsV2Vhaz8uMzowLHUuVUxUX1NDQUxJTkcrPWMuZW5lbXlFbGVtZW50YWxXZWFrPy4zOjAsdS5GVUFfU0NBTElORys9Yy5lbmVteUVsZW1lbnRhbFdlYWs/LjM6MCx1LkJBU0lDX1NDQUxJTkcrPWU+PTEmJlMuZTFUYXJnZXRGcm96ZW4/LjY6MCx1LlNLSUxMX1NDQUxJTkcrPWU+PTEmJlMuZTFUYXJnZXRGcm96ZW4/LjY6MCx1LlVMVF9TQ0FMSU5HKz1lPj0xJiZTLmUxVGFyZ2V0RnJvemVuPy42OjAsdS5GVUFfU0NBTElORys9ZT49MSYmUy5lMVRhcmdldEZyb3plbj8uNjowLHUuSUNFX1JFU19QRU4rPWU+PTQmJlMuZTRDdXJyZW50SHA4MD8uMTI6MCx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHUuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsdS5VTFRfVE9VR0hORVNTX0RNRys9OTAsdS5GVUFfVE9VR0hORVNTX0RNRys9MzAsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsYyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOih1LGMpPT57cSh1LGMsZil9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOnU9PmooZil9fSxFYT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89dChlLC44LC44OCksbD10KGUsLjY1LC43MDIpLGQ9dChlLC4yOCwuMjk0KSxDPXMoZSwuOCwuODgpLEU9YShlLDEsMS4xKSxEPXQoZSwwLDApLG09aShlLDMuOCw0LjEwNCksZj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0ZWFtSW1hZ2luYXJ5RG1nQm9vc3QiLG5hbWU6InRlYW1JbWFnaW5hcnlEbWdCb29zdCIsdGV4dDoiVGVhbSBJbWFnaW5hcnkgRE1HIGJvb3N0Iix0aXRsZToiVHJhY2U6IEJvd21hc3RlciIsY29udGVudDoiV2hlbiBZdWtvbmcgaXMgb24gdGhlIGZpZWxkLCBJbWFnaW5hcnkgRE1HIGRlYWx0IGJ5IGFsbCBhbGxpZXMgaW5jcmVhc2VzIGJ5IDEyJS4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlIixuYW1lOiJyb2FyaW5nQm93c3RyaW5nc0FjdGl2ZSIsdGV4dDoiUm9hcmluZyBCb3dzdHJpbmdzIix0aXRsZToiUm9hcmluZyBCb3dzdHJpbmdzIixjb250ZW50OmBXaGVuICJSb2FyaW5nIEJvd3N0cmluZ3MiIGlzIGFjdGl2ZSwgdGhlIEFUSyBvZiBhbGwgYWxsaWVzIGluY3JlYXNlcyBieSAke0IobyoxMDApfSUuCiAgICA6OkJSOjoKICAgIEU0OiBXaGVuICJSb2FyaW5nIEJvd3N0cmluZ3MiIGlzIGFjdGl2ZSwgWXVrb25nIGRlYWxzIDMwJSBtb3JlIERNRyB0byBlbmVtaWVzLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0QnVmZiIsbmFtZToidWx0QnVmZiIsdGV4dDoiVWx0IENSL0NEIGJ1ZmZzIix0aXRsZToiVWx0OiBEaXZpbmcgS2VzdHJlbCIsY29udGVudDpgSWYgIlJvYXJpbmcgQm93c3RyaW5ncyIgaXMgYWN0aXZlIG9uIFl1a29uZyB3aGVuIGhlciBVbHRpbWF0ZSBpcyB1c2VkLCBhZGRpdGlvbmFsbHkgaW5jcmVhc2VzIGFsbCBhbGxpZXMnIENSSVQgUmF0ZSBieSAke0IoZCoxMDApfSUgYW5kIENSSVQgRE1HIGJ5ICR7QihsKjEwMCl9JS4gQXQgdGhlIHNhbWUgdGltZSwgZGVhbHMgSW1hZ2luYXJ5IERNRyBlcXVhbCB0byAke0IobSoxMDApfSUgb2YgWXVrb25nJ3MgQVRLIHRvIGEgc2luZ2xlIGVuZW15LmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiaW5pdGlhbFNwZWVkQnVmZiIsbmFtZToiaW5pdGlhbFNwZWVkQnVmZiIsdGV4dDoiRTEgSW5pdGlhbCBTUEQgYnVmZiIsdGl0bGU6IkUxIEluaXRpYWwgU1BEIGJ1ZmYiLGNvbnRlbnQ6IkUxOiBBdCB0aGUgc3RhcnQgb2YgYmF0dGxlLCBpbmNyZWFzZXMgdGhlIFNQRCBvZiBhbGwgYWxsaWVzIGJ5IDEwJSBmb3IgMiB0dXJuKHMpLiIsZGlzYWJsZWQ6ZTwxfV0scj1bcChmLCJ0ZWFtSW1hZ2luYXJ5RG1nQm9vc3QiKSxwKGYsInJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlIikscChmLCJ1bHRCdWZmIikscChmLCJpbml0aWFsU3BlZWRCdWZmIildO3JldHVybntjb250ZW50OigpPT5mLHRlYW1tYXRlQ29udGVudDooKT0+cixkZWZhdWx0czooKT0+KHt0ZWFtSW1hZ2luYXJ5RG1nQm9vc3Q6ITAscm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU6ITAsdWx0QnVmZjohMCxpbml0aWFsU3BlZWRCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0ZWFtSW1hZ2luYXJ5RG1nQm9vc3Q6ITAscm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU6ITAsdWx0QnVmZjohMCxpbml0aWFsU3BlZWRCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHUsYyk9Pntjb25zdCBTPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiB1LkJBU0lDX1NDQUxJTkcrPUUsdS5CQVNJQ19TQ0FMSU5HKz1DLHUuU0tJTExfU0NBTElORys9RCx1LlVMVF9TQ0FMSU5HKz1tLHUuRUxFTUVOVEFMX0RNRys9ZT49NCYmUy5yb2FyaW5nQm93c3RyaW5nc0FjdGl2ZT8uMzowLHUuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsdS5VTFRfVE9VR0hORVNTX0RNRys9OTAsdX0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHUsYyk9Pntjb25zdCBTPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbbi5BVEtfUF0rPVMucm9hcmluZ0Jvd3N0cmluZ3NBY3RpdmU/bzowLHVbbi5DUl0rPVMudWx0QnVmZiYmUy5yb2FyaW5nQm93c3RyaW5nc0FjdGl2ZT9kOjAsdVtuLkNEXSs9Uy51bHRCdWZmJiZTLnJvYXJpbmdCb3dzdHJpbmdzQWN0aXZlP2w6MCx1W24uU1BEX1BdKz1lPj0xJiZTLmluaXRpYWxTcGVlZEJ1ZmY/LjE6MCx1W24uSW1hZ2luYXJ5X0RNR10rPVMudGVhbUltYWdpbmFyeURtZ0Jvb3N0Py4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczp1PT5PKHUpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxBYT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPXQoZSwxLjYsMS43NiksZD1pKGUsLjI0LC4yNTkyKSxDPWkoZSwuMTUsLjE2MiksRT1pKGUsMS4yLDEuMjk2KSxEPS4yNSxtPXMoZSwuMiwuMjIpLGY9OSxyPWU+PTI/MToyLHU9ezA6MCwxOmU+PTI/LjY6LjE1LDI6LjZ9LGM9W3tmb3JtSXRlbToic2xpZGVyIixpZDoiY3JpbXNvbktub3RTdGFja3MiLG5hbWU6ImNyaW1zb25Lbm90U3RhY2tzIix0ZXh0OiJDcmltc29uIEtub3Qgc3RhY2tzIix0aXRsZToiU2xhc2hlZCBEcmVhbSBDcmllcyBpbiBSZWQiLGNvbnRlbnQ6YAogICAgICBSYWluYmxhZGU6IERlYWxzIExpZ2h0bmluZyBETUcgZXF1YWwgdG8gJHtCKGQqMTAwKX0lIG9mIEFjaGVyb24ncyBBVEsgdG8gYSBzaW5nbGUgdGFyZ2V0IGVuZW15IGFuZCByZW1vdmVzIHVwIHRvIDMgc3RhY2tzIG9mIENyaW1zb24gS25vdCBmcm9tIHRoZSB0YXJnZXQuIFdoZW4gQ3JpbXNvbiBLbm90IGlzIHJlbW92ZWQsIGltbWVkaWF0ZWx5IGRlYWxzIExpZ2h0bmluZyBETUcgZXF1YWwgdG8gJHtCKEMqMTAwKX0lIG9mIEFjaGVyb24ncyBBVEsgdG8gYWxsIGVuZW1pZXMuIEZvciBldmVyeSBzdGFjayBvZiBDcmltc29uIEtub3QgcmVtb3ZlZCwgdGhlIERNRyBNdWx0aXBsaWVyIGZvciB0aGlzIGlzIGFkZGl0aW9uYWxseSBpbmNyZWFzZWQuCiAgICAgIDo6QlI6OgogICAgICBXaGVuIHRoZSBSYWluYmxhZGUgZnJvbSBBY2hlcm9uJ3MgVWx0aW1hdGUgaGl0cyBlbmVteSB0YXJnZXRzIHdpdGggQ3JpbXNvbiBLbm90LCBoZXIgRE1HIGluY3JlYXNlcyBieSAzMCUsIHN0YWNraW5nIHVwIHRvIDMgdGltZShzKS4KICAgICAgYCxtaW46MCxtYXg6Zn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJuaWhpbGl0eVRlYW1tYXRlcyIsbmFtZToibmloaWxpdHlUZWFtbWF0ZXMiLHRleHQ6Ik5paGlsaXR5IHRlYW1tYXRlcyIsdGl0bGU6IlRoZSBBYnlzcyIsY29udGVudDpgV2hlbiB0aGVyZSBhcmUgMSBvciAyIE5paGlsaXR5IGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBBY2hlcm9uIGluIHRoZSB0ZWFtLCB0aGUgRE1HIGRlYWx0IGJ5IEFjaGVyb24ncyBCYXNpYyBBVEssIFNraWxsLCBhbmQgVWx0aW1hdGUgaW5jcmVhc2VzIHRvIDExNSUgb3IgMTYwJSBvZiB0aGUgb3JpZ2luYWwgRE1HIHJlc3BlY3RpdmVseS4KICAgICAgOjpCUjo6CiAgICAgIEUyOiBUaGUgbnVtYmVyIG9mIE5paGlsaXR5IGNoYXJhY3RlcnMgcmVxdWlyZWQgZm9yIHRoZSBUcmFjZSAiVGhlIEFieXNzIiB0byBhY2hpZXZlIGl0cyBoaWdoZXN0IHBvc3NpYmxlIGVmZmVjdCBpcyByZWR1Y2VkIGJ5IDEuIFdoZW4gdGhpcyB1bml0J3MgdHVybiBzdGFydHMsIGdhaW5zIDEgcG9pbnQgb2YgU2xhc2hlZCBEcmVhbSBhbmQgaW5mbGljdHMgMSBzdGFjayBvZiBDcmltc29uIEtub3Qgb24gdGhlIGVuZW15IHdpdGggdGhlIG1vc3QgQ3JpbXNvbiBLbm90IHN0YWNrcy4KICAgICAgYCxtaW46MCxtYXg6cn0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0aHVuZGVyQ29yZVN0YWNrcyIsbmFtZToidGh1bmRlckNvcmVTdGFja3MiLHRleHQ6IlRodW5kZXIgQ29yZSBzdGFja3MiLHRpdGxlOiJUaHVuZGVyIENvcmUiLGNvbnRlbnQ6IldoZW4gdGhlIFJhaW5ibGFkZSBmcm9tIEFjaGVyb24ncyBVbHRpbWF0ZSBoaXRzIGVuZW15IHRhcmdldHMgd2l0aCBDcmltc29uIEtub3QsIGhlciBETUcgaW5jcmVhc2VzIGJ5IDMwJSwgc3RhY2tpbmcgdXAgdG8gMyB0aW1lKHMpIGFuZCBsYXN0aW5nIGZvciAzIHR1cm4ocykuIixtaW46MCxtYXg6M30se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJzdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldCIsbmFtZToic3R5Z2lhblJlc3VyZ2VIaXRzT25UYXJnZXQiLHRleHQ6IlN0eWdpYW4gUmVzdXJnZSBoaXRzIix0aXRsZToiVGh1bmRlciBDb3JlIixjb250ZW50OiJXaGVuIFN0eWdpYW4gUmVzdXJnZSB0cmlnZ2VycywgYWRkaXRpb25hbGx5IGRlYWxzIERNRyBmb3IgNiB0aW1lcy4gRWFjaCB0aW1lIGRlYWxzIExpZ2h0bmluZyBETUcgZXF1YWwgdG8gMjUlIG9mIEFjaGVyb24ncyBBVEsgdG8gYSBzaW5nbGUgcmFuZG9tIGVuZW15IGFuZCBpcyB2aWV3ZWQgYXMgcGFydCBvZiB0aGUgVWx0aW1hdGUgRE1HLiIsbWluOjAsbWF4OjZ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFFbmVteURlYnVmZmVkIixuYW1lOiJlMUVuZW15RGVidWZmZWQiLHRleHQ6IkUxIENSIGJvb3N0Iix0aXRsZToiRTE6IFNpbGVuY2VkIFNreSBTcGFrZSBTb290aCIsY29udGVudDoiV2hlbiBkZWFsaW5nIERNRyB0byBkZWJ1ZmZlZCBlbmVtaWVzLCBpbmNyZWFzZXMgdGhlIENSSVQgUmF0ZSBieSAxOCUuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRVbHRWdWxuZXJhYmlsaXR5IixuYW1lOiJlNFVsdFZ1bG5lcmFiaWxpdHkiLHRleHQ6IkU0IHVsdCB2dWxuZXJhYmlsaXR5Iix0aXRsZToiRTQ6IFNocmluZWQgRmlyZSBmb3IgTWlycm9yZWQgU291bCIsY29udGVudDpgCiAgICAgIFdoZW4gZW5lbXkgdGFyZ2V0cyBlbnRlciBjb21iYXQsIGluZmxpY3RzIHRoZW0gd2l0aCB0aGUgVWx0aW1hdGUgRE1HIFZ1bG5lcmFiaWxpdHksIGluY3JlYXNpbmcgdGhlIGFtb3VudCBvZiBVbHRpbWF0ZSBETUcgdGhleSB0YWtlIGJ5IDglLgogICAgICBgLGRpc2FibGVkOmU8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNlVsdEJ1ZmZzIixuYW1lOiJlNlVsdEJ1ZmZzIix0ZXh0OiJFNiB1bHQgYnVmZnMiLHRpdGxlOiJFNjogQXBvY2FseXBzZSwgdGhlIEVtYW5jaXBhdG9yIixjb250ZW50OmAKICAgICAgSW5jcmVhc2VzIHRoZSBBbGwtVHlwZSBSRVMgUEVOIGZvciB0aGUgVWx0aW1hdGUgRE1HIGRlYWx0IGJ5IEFjaGVyb24gYnkgMjAlLiBUaGUgRE1HIGRlYWx0IGJ5IEJhc2ljIEFUSyBhbmQgU2tpbGwgd2lsbCBhbHNvIGJlIGNvbnNpZGVyZWQgYXMgVWx0aW1hdGUgRE1HIGFuZCBjYW4gcmVkdWNlIGVuZW15IHRvdWdobmVzcyByZWdhcmRsZXNzIG9mIFdlYWtuZXNzIFR5cGVzLiBXaGVuIGJyZWFraW5nIFdlYWtuZXNzZXMsIHRyaWdnZXJzIHRoZSBMaWdodG5pbmcgV2Vha25lc3MgQnJlYWsgZWZmZWN0LgogICAgICBgLGRpc2FibGVkOmU8Nn1dLFM9W3AoYywiZTRVbHRWdWxuZXJhYmlsaXR5IildO3JldHVybntjb250ZW50OigpPT5jLHRlYW1tYXRlQ29udGVudDooKT0+UyxkZWZhdWx0czooKT0+KHtjcmltc29uS25vdFN0YWNrczpmLG5paGlsaXR5VGVhbW1hdGVzOnIsZTFFbmVteURlYnVmZmVkOiEwLHRodW5kZXJDb3JlU3RhY2tzOjMsc3R5Z2lhblJlc3VyZ2VIaXRzT25UYXJnZXQ6NixlNFVsdFZ1bG5lcmFiaWxpdHk6ITAsZTZVbHRCdWZmczohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7ZTRVbHRWdWxuZXJhYmlsaXR5OiEwfSksaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihoLEEpPT57Y29uc3QgXz1BLmNoYXJhY3RlckNvbmRpdGlvbmFscztlPj02JiZfLmU2VWx0QnVmZnMmJihoLkJBU0lDX0RNR19UWVBFPVV8VyxoLlNLSUxMX0RNR19UWVBFPVV8Vil9LHByZWNvbXB1dGVFZmZlY3RzOihoLEEpPT57Y29uc3QgXz1BLmNoYXJhY3RlckNvbmRpdGlvbmFscztoW24uQ1JdKz1lPj0xJiZfLmUxRW5lbXlEZWJ1ZmZlZD8uMTg6MCxoLkVMRU1FTlRBTF9ETUcrPV8udGh1bmRlckNvcmVTdGFja3MqLjMsdWUoaCxVLG0pLHVlKGgsVSwuMixlPj02JiZfLmU2VWx0QnVmZnMpO2NvbnN0IEc9dVtfLm5paGlsaXR5VGVhbW1hdGVzXTtyZXR1cm4gaC5CQVNJQ19PUklHSU5BTF9ETUdfQk9PU1QrPUcsaC5TS0lMTF9PUklHSU5BTF9ETUdfQk9PU1QrPUcsaC5VTFRfT1JJR0lOQUxfRE1HX0JPT1NUKz1HLGguQkFTSUNfU0NBTElORz1vLGguU0tJTExfU0NBTElORz1sLGguVUxUX1NDQUxJTkcrPTMqZCxoLlVMVF9TQ0FMSU5HKz0zKkMsaC5VTFRfU0NBTElORys9QypfLmNyaW1zb25Lbm90U3RhY2tzLGguVUxUX1NDQUxJTkcrPUUsaC5VTFRfU0NBTElORys9Xy5zdHlnaWFuUmVzdXJnZUhpdHNPblRhcmdldCpELGguQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsaC5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxoLlVMVF9UT1VHSE5FU1NfRE1HKz0xMDUsaH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGgsQSk9Pntjb25zdCBfPUEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3RlKGgsVSwuMDgsZT49NCYmXy5lNFVsdFZ1bG5lcmFiaWxpdHkpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpoPT5PKGgpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCl9fSxCYT1lPT57Y29uc3R7YmFzaWM6YSx1bHQ6dCx0YWxlbnQ6aX09Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxzPWEoZSwxLDEuMSksbz10KGUsMi43LDIuOTE2KSxsPXQoZSwuMTUsLjE2MiksZD1pKGUsLjI1LC4yNzUpLEM9aShlLC41LC41NSksRT1lPj00PzEwOjcsRD1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJkZWZUb0NyQm9vc3QiLG5hbWU6ImRlZlRvQ3JCb29zdCIsdGV4dDoiREVGIHRvIENSIGJvb3N0Iix0aXRsZToiTGV2ZXJhZ2UiLGNvbnRlbnQ6IkZvciBldmVyeSAxMDAgb2YgQXZlbnR1cmluZSdzIERFRiB0aGF0IGV4Y2VlZHMgMTYwMCwgaW5jcmVhc2VzIGhpcyBvd24gQ1JJVCBSYXRlIGJ5IDIlLCB1cCB0byBhIG1heGltdW0gaW5jcmVhc2Ugb2YgNDglLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZm9ydGlmaWVkV2FnZXJCdWZmIixuYW1lOiJmb3J0aWZpZWRXYWdlckJ1ZmYiLHRleHQ6IkZvcnRpZmllZCBXYWdlciBidWZmIix0aXRsZToiQ29ybmVyc3RvbmUgRGVsdXhlIixjb250ZW50OmBGb3IgYW55IHNpbmdsZSBhbGx5IHdpdGggRm9ydGlmaWVkIFdhZ2VyLCB0aGVpciBFZmZlY3QgUkVTIGluY3JlYXNlcyBieSAke0IoQyoxMDApfSUsIGFuZCB3aGVuIHRoZXkgZ2V0IGF0dGFja2VkLCBBdmVudHVyaW5lIGdhaW5zIDEgcG9pbnQgb2YgQmxpbmQgQmV0LgogICAgICA6OkJSOjoKICAgICAgRTE6IEluY3JlYXNlcyBDUklUIERNRyBieSAyMCUgZm9yIGFsbGllcyB3aXRoIEZvcnRpZmllZCBXYWdlci4gQWZ0ZXIgdXNpbmcgdGhlIFVsdGltYXRlLCBwcm92aWRlcyBhbGwgYWxsaWVzIHdpdGggYSBGb3J0aWZpZWQgV2FnZXIgc2hpZWxkLCB3aG9zZSBTaGllbGQgZWZmZWN0IGlzIGVxdWFsIHRvIDEwMCUgb2YgdGhlIG9uZSBwcm92aWRlZCBieSB0aGUgU2tpbGwsIGxhc3RpbmcgZm9yIDMgdHVybihzKS5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15VW5uZXJ2ZWREZWJ1ZmYiLG5hbWU6ImVuZW15VW5uZXJ2ZWREZWJ1ZmYiLHRleHQ6IkVuZW15IFVubmVydmVkIix0aXRsZToiUm91bGV0dGUgU2hhcmsiLGNvbnRlbnQ6YFdoZW4gYW4gYWxseSBoaXRzIGFuIFVubmVydmVkIGVuZW15IHRhcmdldCwgdGhlIENSSVQgRE1HIGRlYWx0IGluY3JlYXNlcyBieSAke0IobCoxMDApfSUuYH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJmdWFIaXRzT25UYXJnZXQiLG5hbWU6ImZ1YUhpdHNPblRhcmdldCIsdGV4dDoiRlVBIGhpdHMgb24gdGFyZ2V0Iix0aXRsZToiQmluZ28hIixjb250ZW50OmBVcG9uIHJlYWNoaW5nIDcgcG9pbnRzIG9mIEJsaW5kIEJldCwgQXZlbnR1cmluZSBjb25zdW1lcyB0aGUgNyBwb2ludHMgdG8gbGF1bmNoIGEgNy1oaXQgZm9sbG93LXVwIGF0dGFjaywgd2l0aCBlYWNoIGhpdCBkZWFsaW5nIEltYWdpbmFyeSBETUcgZXF1YWwgdG8gJHtCKGQqMTAwKX0lIG9mIEF2ZW50dXJpbmUncyBERUYgdG8gYSBzaW5nbGUgcmFuZG9tIGVuZW15LiBCbGluZCBCZXQgaXMgY2FwcGVkIGF0IDEwIHBvaW50cy4KICAgICAgOjpCUjo6CiAgICAgIEU0OiBXaGVuIHRyaWdnZXJpbmcgaGlzIFRhbGVudCdzIGZvbGxvdy11cCBhdHRhY2ssIGZpcnN0IGluY3JlYXNlcyBBdmVudHVyaW5lJ3MgREVGIGJ5IDQwJSBmb3IgMiB0dXJuKHMpLCBhbmQgYWRkaXRpb25hbGx5IGluY3JlYXNlcyB0aGUgSGl0cyBQZXIgQWN0aW9uIGZvciBoaXMgdGFsZW50J3MgZm9sbG93LXVwIGF0dGFjayBieSAzLmAsbWluOjAsbWF4OkV9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTJSZXNTaHJlZCIsbmFtZToiZTJSZXNTaHJlZCIsdGV4dDoiRTIgUkVTIHNocmVkIix0aXRsZToiRTI6IEJvdW5kZWQgUmF0aW9uYWxpdHkiLGNvbnRlbnQ6IkUyOiBXaGVuIHVzaW5nIHRoZSBCYXNpYyBBVEssIHJlZHVjZXMgdGhlIHRhcmdldCdzIEFsbC1UeXBlIFJFUyBieSAxMiUgZm9yIDMgdHVybihzKS4iLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNERlZkJ1ZmYiLG5hbWU6ImU0RGVmQnVmZiIsdGV4dDoiRTQgREVGIGJ1ZmYiLHRpdGxlOiJFNDogVW5leHBlY3RlZCBIYW5naW5nIFBhcmFkb3giLGNvbnRlbnQ6IkU0OiBXaGVuIHRyaWdnZXJpbmcgaGlzIFRhbGVudCdzIGZvbGxvdy11cCBhdHRhY2ssIGZpcnN0IGluY3JlYXNlcyBBdmVudHVyaW5lJ3MgREVGIGJ5IDQwJSBmb3IgMiB0dXJuKHMpIixkaXNhYmxlZDplPDR9LHtmb3JtSXRlbToic2xpZGVyIixpZDoiZTZTaGllbGRTdGFja3MiLG5hbWU6ImU2U2hpZWxkU3RhY2tzIix0ZXh0OiJFNiBzaGllbGQgc3RhY2tzIix0aXRsZToiRTY6IFN0YWcgSHVudCBHYW1lIixjb250ZW50OiJFNjogRm9yIGV2ZXJ5IGFsbHkgdGhhdCBob2xkcyBhIFNoaWVsZCwgdGhlIERNRyBkZWFsdCBieSBBdmVudHVyaW5lIGluY3JlYXNlcyBieSA1MCUsIHVwIHRvIGEgbWF4aW11bSBvZiAxNTAlLiIsbWluOjAsbWF4OjMsZGlzYWJsZWQ6ZTw2fV0sbT1bcChELCJmb3J0aWZpZWRXYWdlckJ1ZmYiKSxwKEQsImVuZW15VW5uZXJ2ZWREZWJ1ZmYiKSxwKEQsImUyUmVzU2hyZWQiKV07cmV0dXJue2NvbnRlbnQ6KCk9PkQsdGVhbW1hdGVDb250ZW50OigpPT5tLGRlZmF1bHRzOigpPT4oe2RlZlRvQ3JCb29zdDohMCxmdWFIaXRzT25UYXJnZXQ6RSxmb3J0aWZpZWRXYWdlckJ1ZmY6ITAsZW5lbXlVbm5lcnZlZERlYnVmZjohMCxlMlJlc1NocmVkOiEwLGU0RGVmQnVmZjohMCxlNlNoaWVsZFN0YWNrczozfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtmb3J0aWZpZWRXYWdlckJ1ZmY6ITAsZW5lbXlVbm5lcnZlZERlYnVmZjohMCxlMlJlc1NocmVkOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGYscik9Pntjb25zdCB1PXIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBmW24uREVGX1BdKz1lPj00JiZ1LmU0RGVmQnVmZj8uNDowLGYuRUxFTUVOVEFMX0RNRys9ZT49Nj9NYXRoLm1pbigxLjUsLjUqdS5lNlNoaWVsZFN0YWNrcyk6MCxmLkJBU0lDX1NDQUxJTkcrPXMsZi5VTFRfU0NBTElORys9byxmLkZVQV9TQ0FMSU5HKz1kKnUuZnVhSGl0c09uVGFyZ2V0LGYuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsZi5VTFRfVE9VR0hORVNTX0RNRys9OTAsZi5GVUFfVE9VR0hORVNTX0RNRys9MTAqdS5mdWFIaXRzT25UYXJnZXQsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYscik9Pntjb25zdCB1PXIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2Zbbi5SRVNdKz11LmZvcnRpZmllZFdhZ2VyQnVmZj9DOjAsZltuLkNEXSs9dS5lbmVteVVubmVydmVkRGVidWZmP2w6MCxmW24uQ0RdKz1lPj0xJiZ1LmZvcnRpZmllZFdhZ2VyQnVmZj8uMjowLGYuUkVTX1BFTis9ZT49MiYmdS5lMlJlc1NocmVkPy4xMjowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooZixyKT0+e2YuQkFTSUNfRE1HKz1mLkJBU0lDX1NDQUxJTkcqZltuLkRFRl0sZi5VTFRfRE1HKz1mLlVMVF9TQ0FMSU5HKmZbbi5ERUZdLGYuRlVBX0RNRys9Zi5GVUFfU0NBTElORypmW24uREVGXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PmAKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5ERUY7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5ERUY7CnguRlVBX0RNRyArPSB4LkZVQV9TQ0FMSU5HICogeC5ERUY7CiAgICAgIGAsZHluYW1pY0NvbmRpdGlvbmFsczpbVHRdfX0sX2E9ZT0+e2NvbnN0e2Jhc2ljOmEsdGFsZW50OnR9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUsaT1hKGUsMSwxLjEpLHM9YShlLDIuNSwyLjc1KSxvPWEoZSwxLjUsMS42NSksbD10KGUsLjEyLC4xMzIpLGQ9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiYmFzaWNFbmhhbmNlZCIsbmFtZToiYmFzaWNFbmhhbmNlZCIsdGV4dDoiRW5oYW5jZWQgYmFzaWMiLHRpdGxlOiJOZWN0YXIgQmxpdHoiLGNvbnRlbnQ6IlVsdGltYXRlIGVuaGFuY2VzIGhpcyBuZXh0IEJhc2ljIEFUSyB0byBOZWN0YXIgQmxpdHouIn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJicmVha0VmZmVjdFRvT2hiQm9vc3QiLG5hbWU6ImJyZWFrRWZmZWN0VG9PaGJCb29zdCIsdGV4dDoiQkUgdG8gT0hCIGJvb3N0Iix0aXRsZToiTm92ZWwgQ29uY29jdGlvbiIsY29udGVudDoiSW5jcmVhc2VzIHRoaXMgdW5pdCdzIE91dGdvaW5nIEhlYWxpbmcgYnkgYW4gYW1vdW50IGVxdWFsIHRvIDUwJSBvZiBCcmVhayBFZmZlY3QsIHVwIHRvIGEgbWF4aW11bSBPdXRnb2luZyBIZWFsaW5nIGluY3JlYXNlIG9mIDc1JS4ifSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhcmdldEJlc290dGVkIixuYW1lOiJ0YXJnZXRCZXNvdHRlZCIsdGV4dDoiVGFyZ2V0IEJlc290dGVkIix0aXRsZToiVGFyZ2V0IEJlc290dGVkIixjb250ZW50OmBUaGUgQmVzb3R0ZWQgc3RhdGUgbWFrZXMgdGFyZ2V0cyByZWNlaXZlICR7QigxMDAqbCl9JSBtb3JlIEJyZWFrIERNRy5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxUmVzQnVmZiIsbmFtZToiZTFSZXNCdWZmIix0ZXh0OiJFMSBSRVMgYnVmZiIsdGl0bGU6IkUxOiBTYWx0eSBEb2ciLGNvbnRlbnQ6IldoZW4gZW50ZXJpbmcgdGhlIGJhdHRsZSwgR2FsbGFnaGVyIHJlZ2VuZXJhdGVzIDIwIEVuZXJneSBhbmQgaW5jcmVhc2VzIEVmZmVjdCBSRVMgYnkgNTAlLiIsZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyUmVzQnVmZiIsbmFtZToiZTJSZXNCdWZmIix0ZXh0OiJFMiBSRVMgYnVmZiIsdGl0bGU6IkUyOiBMaW9uJ3MgVGFpbCIsY29udGVudDoiV2hlbiB1c2luZyB0aGUgU2tpbGwsIHJlbW92ZXMgMSBkZWJ1ZmYocykgZnJvbSB0aGUgdGFyZ2V0IGFsbHkuIEF0IHRoZSBzYW1lIHRpbWUsIGluY3JlYXNlcyB0aGVpciBFZmZlY3QgUkVTIGJ5IDMwJSwgbGFzdGluZyBmb3IgMiB0dXJuKHMpLiIsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2QmVCdWZmIixuYW1lOiJlNkJlQnVmZiIsdGV4dDoiRTYgQkUgYnVmZiIsdGl0bGU6IkU2OiBCbG9vZCBhbmQgU2FuZCIsY29udGVudDoiSW5jcmVhc2VzIEdhbGxhZ2hlcidzIEJyZWFrIEVmZmVjdCBieSAyMCUgYW5kIFdlYWtuZXNzIEJyZWFrIEVmZmljaWVuY3kgYnkgMjAlLiIsZGlzYWJsZWQ6ZTw2fV0sQz1bcChkLCJ0YXJnZXRCZXNvdHRlZCIpXTtyZXR1cm57Y29udGVudDooKT0+ZCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PkMsZGVmYXVsdHM6KCk9Pih7YmFzaWNFbmhhbmNlZDohMCxicmVha0VmZmVjdFRvT2hiQm9vc3Q6ITAsZTFSZXNCdWZmOiEwLGUyUmVzQnVmZjohMCxlNkJlQnVmZjohMCx0YXJnZXRCZXNvdHRlZDohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dGFyZ2V0QmVzb3R0ZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooRSxEKT0+e2NvbnN0IG09RC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIEVbbi5SRVNdKz1lPj0xJiZtLmUxUmVzQnVmZj8uNTowLEVbbi5SRVNdKz1lPj0yJiZtLmUyUmVzQnVmZj8uMzowLEVbbi5CRV0rPWU+PTY/LjI6MCxFLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPWU+PTY/LjI6MCxFLkJBU0lDX1NDQUxJTkcrPW0uYmFzaWNFbmhhbmNlZD9zOmksRS5VTFRfU0NBTElORys9byxFLkJBU0lDX1RPVUdITkVTU19ETUcrPW0uYmFzaWNFbmhhbmNlZD85MDozMCxFLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxFfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooRSxEKT0+e2NvbnN0IG09RC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dGUoRSxmZSxsLG0udGFyZ2V0QmVzb3R0ZWQpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpFPT5PKEUpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbTXRdfX0sZ2E9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9VTFRfM19CQVNJQ19UQUxFTlRfNSxvPXQoZSwuNSwuNTUpLGw9cyhlLC4yLC4yMyksZD1pKGUsLjIyOCwuMjQzMiksQz1pKGUsMjAwLDIzMCksRT1hKGUsMSwxLjEpLEQ9aShlLDEuMiwxLjI5NiksbT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJjb25jZXJ0b0FjdGl2ZSIsbmFtZToiY29uY2VydG9BY3RpdmUiLHRleHQ6IkNvbmNlcnRvIGFjdGl2ZSIsdGl0bGU6IkNvbmNlcnRvIGFjdGl2ZSIsY29udGVudDpgV2hpbGUgaW4gdGhlIENvbmNlcnRvIHN0YXRlLCBpbmNyZWFzZXMgYWxsIGFsbGllcycgQVRLIGJ5ICR7QihkKjEwMCl9JSBvZiBSb2JpbidzIEFUSyBwbHVzICR7Q30uIE1vcmVvdmVyLCBhZnRlciBldmVyeSBhdHRhY2sgYnkgYWxsaWVzLCBSb2JpbiBkZWFscyBBZGRpdGlvbmFsIFBoeXNpY2FsIERNRyBlcXVhbCB0byAke0IoRCoxMDApfSUgb2YgaGVyIEFUSyBmb3IgMSB0aW1lLCB3aXRoIGEgZml4ZWQgQ1JJVCBSYXRlIGZvciB0aGlzIGRhbWFnZSBzZXQgYXQgMTAwJSBhbmQgZml4ZWQgQ1JJVCBETUcgc2V0IGF0IDE1MCUuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJza2lsbERtZ0J1ZmYiLG5hbWU6InNraWxsRG1nQnVmZiIsdGV4dDoiU2tpbGwgRE1HIGJ1ZmYiLHRpdGxlOiJTa2lsbCBETUcgYnVmZiIsY29udGVudDpgSW5jcmVhc2UgRE1HIGRlYWx0IGJ5IGFsbCBhbGxpZXMgYnkgJHtCKG8qMTAwKX0lLCBsYXN0aW5nIGZvciAzIHR1cm4ocykuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0YWxlbnRDZEJ1ZmYiLG5hbWU6InRhbGVudENkQnVmZiIsdGV4dDoiVGFsZW50IENEIGJ1ZmYiLHRpdGxlOiJUYWxlbnQgQ0QgYnVmZiIsY29udGVudDpgSW5jcmVhc2UgYWxsIGFsbGllcycgQ1JJVCBETUcgYnkgJHtCKGwqMTAwKX0lLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFVbHRSZXNQZW4iLG5hbWU6ImUxVWx0UmVzUGVuIix0ZXh0OiJFMSBVbHQgUkVTIFBFTiIsdGl0bGU6IkUxIFVsdCBSRVMgUEVOIixjb250ZW50OiJXaGlsZSB0aGUgQ29uY2VydG8gc3RhdGUgaXMgYWN0aXZlLCBhbGwgYWxsaWVzJyBBbGwtVHlwZSBSRVMgUEVOIGluY3JlYXNlcyBieSAyNCUuIixkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTRUZWFtUmVzQnVmZiIsbmFtZToiZTRUZWFtUmVzQnVmZiIsdGV4dDoiRTQgUkVTIHRlYW0gYnVmZiIsdGl0bGU6IkU0IFJFUyB0ZWFtIGJ1ZmYiLGNvbnRlbnQ6IldoZW4gdXNpbmcgdGhlIFVsdGltYXRlLCBkaXNwZWxzIENyb3dkIENvbnRyb2wgZGVidWZmcyBmcm9tIGFsbCBhbGxpZXMuIFdoaWxlIFJvYmluIGlzIGluIHRoZSBDb25jZXJ0byBzdGF0ZSwgaW5jcmVhc2VzIHRoZSBFZmZlY3QgUkVTIG9mIGFsbCBhbGxpZXMgYnkgNTAlLiIsZGlzYWJsZWQ6ZTw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2VWx0Q0RCb29zdCIsbmFtZToiZTZVbHRDREJvb3N0Iix0ZXh0OiJFNiBVbHQgRE1HIENEIGJvb3N0Iix0aXRsZToiRTYgVWx0IERNRyBDRCBib29zdCIsY29udGVudDoiV2hpbGUgdGhlIENvbmNlcnRvIHN0YXRlIGlzIGFjdGl2ZSwgdGhlIENSSVQgRE1HIGZvciB0aGUgQWRkaXRpb25hbCBQaHlzaWNhbCBETUcgY2F1c2VkIGJ5IHRoZSBVbHRpbWF0ZSBpbmNyZWFzZXMgYnkgNDUwJS4gVGhlIGVmZmVjdCBvZiBNb29ubGVzcyBNaWRuaWdodCBjYW4gdHJpZ2dlciB1cCB0byA4IHRpbWUocykuIEFuZCB0aGUgdHJpZ2dlciBjb3VudCByZXNldHMgZWFjaCB0aW1lIHRoZSBVbHRpbWF0ZSBpcyB1c2VkLiIsZGlzYWJsZWQ6ZTw2fV0sZj1bcChtLCJjb25jZXJ0b0FjdGl2ZSIpLHAobSwic2tpbGxEbWdCdWZmIikse2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUFUS1ZhbHVlIixuYW1lOiJ0ZWFtbWF0ZUFUS1ZhbHVlIix0ZXh0OiJSb2JpbidzIENvbWJhdCBBVEsiLHRpdGxlOiJSb2JpbidzIENvbWJhdCBBVEsiLGNvbnRlbnQ6YFdoaWxlIGluIHRoZSBDb25jZXJ0byBzdGF0ZSwgaW5jcmVhc2VzIGFsbCBhbGxpZXMnIEFUSyBieSAke0IoZCoxMDApfSUgb2YgUm9iaW4ncyBBVEsgcGx1cyAke0N9CiAgICAgIDo6QlI6OgogICAgICBTZXQgdGhpcyB0byB0aGUgUm9iaW4ncyBzZWxmIEFUSyBzdGF0IHRoYXQgc2hlIHVzZXMgdG8gYnVmZiB0ZWFtbWF0ZXMuIAogICAgICBgLG1pbjowLG1heDo3ZTN9LHAobSwidGFsZW50Q2RCdWZmIikse2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJ0cmFjZUZ1YUNkQm9vc3QiLG5hbWU6InRyYWNlRnVhQ2RCb29zdCIsdGV4dDoiRlVBIENEIGJvb3N0Iix0aXRsZToiRlVBIENEIGJvb3N0Iixjb250ZW50OiJXaGlsZSB0aGUgQ29uY2VydG8gc3RhdGUgaXMgYWN0aXZlLCB0aGUgQ1JJVCBETUcgZGVhbHQgd2hlbiBhbGwgYWxsaWVzIGxhdW5jaCBmb2xsb3ctdXAgYXR0YWNrcyBpbmNyZWFzZXMgYnkgMjUlLiJ9LHAobSwiZTFVbHRSZXNQZW4iKSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyVWx0U3BkQnVmZiIsbmFtZToiZTJVbHRTcGRCdWZmIix0ZXh0OiJFMiBVbHQgU1BEIGJ1ZmYiLHRpdGxlOiJFMiBVbHQgU1BEIGJ1ZmYiLGNvbnRlbnQ6IldoaWxlIHRoZSBDb25jZXJ0byBzdGF0ZSBpcyBhY3RpdmUsIGFsbCBhbGxpZXMnIFNQRCBpbmNyZWFzZXMgYnkgMTYlLiIsZGlzYWJsZWQ6ZTwyfV0scj17Y29uY2VydG9BY3RpdmU6ITAsc2tpbGxEbWdCdWZmOiEwLHRhbGVudENkQnVmZjohMCxlMVVsdFJlc1BlbjohMCxlNFRlYW1SZXNCdWZmOiExLGU2VWx0Q0RCb29zdDohMH07cmV0dXJue2NvbnRlbnQ6KCk9Pm0sdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT5yLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7Y29uY2VydG9BY3RpdmU6ITAsc2tpbGxEbWdCdWZmOiEwLHRhbGVudENkQnVmZjohMCx0ZWFtbWF0ZUFUS1ZhbHVlOjVlMyx0cmFjZUZ1YUNkQm9vc3Q6ITAsZTFVbHRSZXNQZW46ITAsZTJVbHRTcGRCdWZmOiExLGU0VGVhbVJlc0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoodSxjKT0+e2NvbnN0IFM9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIHUuQkFTSUNfU0NBTElORys9RSx1LlVMVF9TQ0FMSU5HKz1TLmNvbmNlcnRvQWN0aXZlP0Q6MCx1LlVMVF9CT09TVFNfTVVMVEk9MCx1LkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLHV9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOih1LGMpPT57Y29uc3QgUz1jLmNoYXJhY3RlckNvbmRpdGlvbmFsczt1W24uQ0RdKz1TLnRhbGVudENkQnVmZj9sOjAsdVtuLlJFU10rPWU+PTQmJlMuY29uY2VydG9BY3RpdmUmJlMuZTRUZWFtUmVzQnVmZj8uNTowLHUuRUxFTUVOVEFMX0RNRys9Uy5za2lsbERtZ0J1ZmY/bzowLHUuUkVTX1BFTis9ZT49MSYmUy5jb25jZXJ0b0FjdGl2ZSYmUy5lMVVsdFJlc1Blbj8uMjQ6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czoodSxjKT0+e2NvbnN0IFM9Yy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dVtuLkFUS10rPVMuY29uY2VydG9BY3RpdmU/Uy50ZWFtbWF0ZUFUS1ZhbHVlKmQrQzowLHUuUkFUSU9fQkFTRURfQVRLX0JVRkYrPVMuY29uY2VydG9BY3RpdmU/Uy50ZWFtbWF0ZUFUS1ZhbHVlKmQ6MCx1W24uU1BEX1BdKz1lPj0yJiZTLmNvbmNlcnRvQWN0aXZlJiZTLmUyVWx0U3BkQnVmZj8uMTY6MCxzZSh1LFIsLjI1LFMudHJhY2VGdWFDZEJvb3N0JiZTLmNvbmNlcnRvQWN0aXZlKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHUsYyk9Pntjb25zdCBTPWMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Vbbi5BVEtdKz1TLmNvbmNlcnRvQWN0aXZlP3Vbbi5BVEtdKmQrQzowLHBlKHUsVSwxKSx1LlVMVF9DRF9PVkVSUklERT1lPj02JiZTLmNvbmNlcnRvQWN0aXZlJiZTLmU2VWx0Q0RCb29zdD82OjEuNSx1LkJBU0lDX0RNRys9dS5CQVNJQ19TQ0FMSU5HKnVbbi5BVEtdLHUuVUxUX0RNRys9dS5VTFRfU0NBTElORyp1W24uQVRLXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KHUsYyk9Pntjb25zdCBTPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7JChTLmNvbmNlcnRvQWN0aXZlKX0pIHsKICBidWZmRHluYW1pY0FUSyh4LkFUSyAqICR7ZH0gKyAke0N9LCBwX3gsIHBfc3RhdGUpOwp9CgpidWZmQWJpbGl0eUNyKHBfeCwgVUxUX1RZUEUsIDEuMDAsIDEpOwoKaWYgKCR7JChlPj02JiZTLmNvbmNlcnRvQWN0aXZlJiZTLmU2VWx0Q0RCb29zdCl9KSB7CiAgeC5VTFRfQ0RfT1ZFUlJJREUgPSA2LjAwOwp9IGVsc2UgewogIHguVUxUX0NEX09WRVJSSURFID0gMS41MDsKfQoKeC5CQVNJQ19ETUcgKz0geC5CQVNJQ19TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogeC5BVEs7CiAgICAgIGB9fX0scGE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5VTFRfQkFTSUNfM19TS0lMTF9UQUxFTlRfNSxvPXQoZSwuMywuMzMpLGw9YShlLDEsMS4xKSxkPWEoZSwyLjIsMi40MiksQz1pKGUsNCw0LjMyKSxFPXswOjAsMTpzKGUsLjcsLjc3KSwyOnMoZSwxLjIsMS4zMiksMzpzKGUsMS43LDEuODcpfSxEPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InN0YW5kb2ZmQWN0aXZlIixuYW1lOiJzdGFuZG9mZkFjdGl2ZSIsdGV4dDoiU3RhbmRvZmYgQWN0aXZlIix0aXRsZToiU3RhbmRvZmYgQWN0aXZlIixjb250ZW50OmBGb3JjZXMgQm9vdGhpbGwgYW5kIGEgc2luZ2xlIHRhcmdldCBlbmVteSBpbnRvIHRoZSBTdGFuZG9mZiBzdGF0ZS4gQm9vdGhpbGwncyBCYXNpYyBBVEsgZ2V0cyBFbmhhbmNlZCwgYW5kIGhlIGNhbm5vdCB1c2UgaGlzIFNraWxsLCBsYXN0aW5nIGZvciAyIHR1cm4ocykuIFRoaXMgZHVyYXRpb24gcmVkdWNlcyBieSAxIGF0IHRoZSBzdGFydCBvZiBCb290aGlsbCdzIGV2ZXJ5IHR1cm4uClRoZSBlbmVteSB0YXJnZXQgaW4gdGhlIFN0YW5kb2ZmIGJlY29tZXMgVGF1bnRlZC4gV2hlbiB0aGlzIGVuZW15IHRhcmdldC9Cb290aGlsbCBnZXRzIGF0dGFja2VkIGJ5IHRoZSBvdGhlciBwYXJ0eSBpbiB0aGUgU3RhbmRvZmYsIHRoZSBETUcgdGhleSByZWNlaXZlIGluY3JlYXNlcyBieSAke0IobyoxMDApfSUvMTUlLmB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoicG9ja2V0VHJpY2tzaG90U3RhY2tzIixuYW1lOiJwb2NrZXRUcmlja3Nob3RTdGFja3MiLHRleHQ6IlBvY2tldCBUcmlja3Nob3RzIix0aXRsZToiUG9ja2V0IFRyaWNrc2hvdHMiLGNvbnRlbnQ6YEVhY2ggc3RhY2sgb2YgUG9ja2V0IFRyaWNrc2hvdCBpbmNyZWFzZXMgdGhlIEVuaGFuY2VkIEJhc2ljIEF0dGFjaydzIFRvdWdobmVzcyBSZWR1Y3Rpb24gYnkgNTAlLCBzdGFja2luZyB1cCB0byAzIHRpbWUocykuCklmIHRoZSB0YXJnZXQgaXMgV2Vha25lc3MgQnJva2VuIHdoaWxlIHRoZSBFbmhhbmNlZCBCYXNpYyBBVEsgaXMgYmVpbmcgdXNlZCwgYmFzZWQgb24gdGhlIG51bWJlciBvZiBQb2NrZXQgVHJpY2tzaG90IHN0YWNrc2AsbWluOjAsbWF4OjN9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYmVUb0NyaXRCb29zdCIsbmFtZToiYmVUb0NyaXRCb29zdCIsdGV4dDoiQkUgdG8gQ1IgLyBDRCBib29zdCIsdGl0bGU6IkJFIHRvIENSIC8gQ0QgYm9vc3QiLGNvbnRlbnQ6IkluY3JlYXNlIHRoaXMgY2hhcmFjdGVyJ3MgQ1JJVCBSYXRlL0NSSVQgRE1HLCBieSBhbiBhbW91bnQgZXF1YWwgdG8gMTAlLzUwJSBvZiBCcmVhayBFZmZlY3QsIHVwIHRvIGEgbWF4IGluY3JlYXNlIG9mIDMwJS8xNTAlLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50QnJlYWtEbWdTY2FsaW5nIixuYW1lOiJ0YWxlbnRCcmVha0RtZ1NjYWxpbmciLHRleHQ6IlRhbGVudCBCcmVhayBETUcgKGZvcmNlIHdlYWtuZXNzIGJyZWFrKSIsdGl0bGU6IlRhbGVudCBCcmVhayBETUciLGNvbnRlbnQ6YElmIHRoZSB0YXJnZXQgaXMgV2Vha25lc3MgQnJva2VuIHdoaWxlIHRoZSBFbmhhbmNlZCBCYXNpYyBBVEsgaXMgYmVpbmcgdXNlZCwgYmFzZWQgb24gdGhlIG51bWJlciBvZiBQb2NrZXQgVHJpY2tzaG90IHN0YWNrcywgZGVhbHMgQnJlYWsgRE1HIHRvIHRoaXMgdGFyZ2V0IGJhc2VkIG9uIEJvb3RoaWxsJ3MgUGh5c2ljYWwgQnJlYWsgRE1HLiBUaGUgbWF4IFRvdWdobmVzcyB0YWtlbiBpbnRvIGFjY291bnQgZm9yIHRoaXMgRE1HIGNhbm5vdCBleGNlZWQgMTYgdGltZXMgdGhlIGJhc2UgVG91Z2huZXNzIFJlZHVjdGlvbiBvZiB0aGUgQmFzaWMgQXR0YWNrICJTa3VsbGNydXNoIFNwdXJzLiJgfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRGVmU2hyZWQiLG5hbWU6ImUxRGVmU2hyZWQiLHRleHQ6IkUxIERFRiBzaHJlZCIsdGl0bGU6IkUxIERFRiBzaHJlZCIsY29udGVudDoiV2hlbiB0aGUgYmF0dGxlIHN0YXJ0cywgb2J0YWlucyAxIHN0YWNrIG9mIFBvY2tldCBUcmlja3Nob3QuIFdoZW4gQm9vdGhpbGwgZGVhbHMgRE1HLCBpZ25vcmVzIDE2JSBvZiB0aGUgZW5lbXkgdGFyZ2V0J3MgREVGLiIsZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyQmVCdWZmIixuYW1lOiJlMkJlQnVmZiIsdGV4dDoiRTIgQkUgYnVmZiIsdGl0bGU6IkUyIEJFIGJ1ZmYiLGNvbnRlbnQ6IldoZW4gaW4gU3RhbmRvZmYgYW5kIGdhaW5pbmcgUG9ja2V0IFRyaWNrc2hvdCwgcmVjb3ZlcnMgMSBTa2lsbCBQb2ludChzKSBhbmQgaW5jcmVhc2VzIEJyZWFrIEVmZmVjdCBieSAzMCUsIGxhc3RpbmcgZm9yIDIgdHVybihzKS4gQ2FuIGFsc28gdHJpZ2dlciB0aGlzIGVmZmVjdCB3aGVuIGdhaW5pbmcgUG9ja2V0IFRyaWNrc2hvdCBzdGFja3MgdGhhdCBleGNlZWQgdGhlIG1heCBsaW1pdC4gQnV0IGNhbm5vdCB0cmlnZ2VyIHJlcGVhdGVkbHkgd2l0aGluIG9uZSB0dXJuLiIsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0VGFyZ2V0U3RhbmRvZmZWdWxuZXJhYmlsaXR5IixuYW1lOiJlNFRhcmdldFN0YW5kb2ZmVnVsbmVyYWJpbGl0eSIsdGV4dDoiRTQgU2tpbGwgdnVsbmVyYWJpbGl0eSIsdGl0bGU6IkU0IFNraWxsIHZ1bG5lcmFiaWxpdHkiLGNvbnRlbnQ6IldoZW4gdGhlIGVuZW15IHRhcmdldCBpbiB0aGUgU3RhbmRvZmYgaXMgYXR0YWNrZWQgYnkgQm9vdGhpbGwsIHRoZSBETUcgdGhleSByZWNlaXZlIGFkZGl0aW9uYWxseSBpbmNyZWFzZXMgYnkgMTIlLiBXaGVuIEJvb3RoaWxsIGlzIGF0dGFja2VkIGJ5IHRoZSBlbmVteSB0YXJnZXQgaW4gdGhlIFN0YW5kb2ZmLCB0aGUgZWZmZWN0IG9mIGhpbSByZWNlaXZpbmcgaW5jcmVhc2VkIERNRyBpcyBvZmZzZXQgYnkgMTIlLiIsZGlzYWJsZWQ6ZTw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2QWRkaXRpb25hbEJyZWFrRG1nIixuYW1lOiJlNkFkZGl0aW9uYWxCcmVha0RtZyIsdGV4dDoiRTYgQnJlYWsgRE1HIGJvb3N0Iix0aXRsZToiRTYgQnJlYWsgRE1HIGJvb3N0Iixjb250ZW50OiJXaGVuIHRyaWdnZXJpbmcgdGhlIFRhbGVudCdzIEJyZWFrIERNRywgYWRkaXRpb25hbGx5IGRlYWxzIEJyZWFrIERNRyB0byB0aGUgdGFyZ2V0IGVxdWFsIHRvIDQwJSBvZiB0aGUgb3JpZ2luYWwgRE1HIG11bHRpcGxpZXIgYW5kIGFkZGl0aW9uYWxseSBkZWFscyBCcmVhayBETUcgdG8gYWRqYWNlbnQgdGFyZ2V0cyBlcXVhbCB0byA3MCUgb2YgdGhlIG9yaWdpbmFsIERNRyBtdWx0aXBsaWVyLiIsZGlzYWJsZWQ6ZTw2fV0sbT1bXSxmPXtzdGFuZG9mZkFjdGl2ZTohMCxwb2NrZXRUcmlja3Nob3RTdGFja3M6MyxiZVRvQ3JpdEJvb3N0OiEwLHRhbGVudEJyZWFrRG1nU2NhbGluZzohMCxlMURlZlNocmVkOiEwLGUyQmVCdWZmOiEwLGU0VGFyZ2V0U3RhbmRvZmZWdWxuZXJhYmlsaXR5OiEwLGU2QWRkaXRpb25hbEJyZWFrRG1nOiEwfTtyZXR1cm57Y29udGVudDooKT0+RCx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm0sZGVmYXVsdHM6KCk9PmYsdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KHIsdSk9Pnt1LmNoYXJhY3RlckNvbmRpdGlvbmFscy50YWxlbnRCcmVha0RtZ1NjYWxpbmcmJihyLkVORU1ZX1dFQUtORVNTX0JST0tFTj0xKX0scHJlY29tcHV0ZUVmZmVjdHM6KHIsdSk9Pntjb25zdCBjPXUuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3Jbbi5CRV0rPWU+PTImJmMuZTJCZUJ1ZmY/LjM6MCxyLlZVTE5FUkFCSUxJVFkrPWMuc3RhbmRvZmZBY3RpdmU/bzowLHIuREVGX1BFTis9ZT49MSYmYy5lMURlZlNocmVkPy4xNjowLHIuVlVMTkVSQUJJTElUWSs9ZT49NCYmYy5zdGFuZG9mZkFjdGl2ZSYmYy5lNFRhcmdldFN0YW5kb2ZmVnVsbmVyYWJpbGl0eT8uMTI6MCxyLkJBU0lDX1NDQUxJTkcrPWMuc3RhbmRvZmZBY3RpdmU/ZDpsLHIuQkFTSUNfQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9Yy5zdGFuZG9mZkFjdGl2ZT9jLnBvY2tldFRyaWNrc2hvdFN0YWNrcyouNTowLHIuVUxUX1NDQUxJTkcrPUMsci5CQVNJQ19UT1VHSE5FU1NfRE1HKz1jLnN0YW5kb2ZmQWN0aXZlPzYwOjMwLHIuVUxUX1RPVUdITkVTU19ETUcrPTkwO2NvbnN0IFM9TWF0aC5taW4oMTYqMzAsdS5lbmVteU1heFRvdWdobmVzcyksaD0xLyguNSt1LmVuZW15TWF4VG91Z2huZXNzLzEyMCksQT0uNStTLzEyMDtsZXQgXz1FW2MucG9ja2V0VHJpY2tzaG90U3RhY2tzXTtyZXR1cm4gXys9ZT49NiYmYy5lNkFkZGl0aW9uYWxCcmVha0RtZz8uNDowLHIuQkFTSUNfQlJFQUtfRE1HX01PRElGSUVSKz1jLnRhbGVudEJyZWFrRG1nU2NhbGluZyYmYy5zdGFuZG9mZkFjdGl2ZT9oKkEqXzowLHJ9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihyLHUpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihyLHUpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczpyPT5PKHIpLGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT5LKCksZHluYW1pY0NvbmRpdGlvbmFsczpbSXRdfX0sVGE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9CQVNJQ18zX1VMVF9UQUxFTlRfNSxvPXQoZSwuNSwuNTUpLGw9aShlLDEuNSwxLjY1KSxkPWkoZSwuMjUsLjI3NSksQz1hKGUsMSwxLjEpLEU9dChlLDEuNSwxLjY1KSxEPXMoZSwxLjUsMS42NSksbT15KigxKjEvMSksZj15KigxKjEvNysyKjEvNyszKjEvNys0KjEvNys1KjEvNys2KjEvNys3KjEvNykscj15KigxKjEvMTArMioxLzEwKzMqMS8xMCs0KjEvMTArNSoxLzEwKzYqMS8xMCs3KjEvMTArOCozLzEwKSx1PVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImVuZW15UHJvb2ZPZkRlYnREZWJ1ZmYiLG5hbWU6ImVuZW15UHJvb2ZPZkRlYnREZWJ1ZmYiLHRleHQ6IlByb29mIG9mIERlYnQgZGVidWZmIix0aXRsZToiUHJvb2Ygb2YgRGVidCIsY29udGVudDpgSW5mbGljdHMgYSBzaW5nbGUgdGFyZ2V0IGVuZW15IHdpdGggYSBQcm9vZiBvZiBEZWJ0IHN0YXR1cywgaW5jcmVhc2luZyB0aGUgRE1HIGl0IHRha2VzIGZyb20gZm9sbG93LXVwIGF0dGFja3MgYnkgJHtCKG8qMTAwKX0lLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoibnVtYnlFbmhhbmNlZFN0YXRlIixuYW1lOiJudW1ieUVuaGFuY2VkU3RhdGUiLHRleHQ6Ik51bWJ5IGVuaGFuY2VkIHN0YXRlIix0aXRsZToiVHVybiBhIFByb2ZpdCE6IFVsdCBFbmhhbmNlZCBTdGF0ZSIsY29udGVudDpgTnVtYnkgZW50ZXJzIHRoZSBXaW5kZmFsbCBCb25hbnphISBzdGF0ZSBhbmQgaXRzIERNRyBtdWx0aXBsaWVyIGluY3JlYXNlcyBieSAke0IobCoxMDApfSUgYW5kIENSSVQgRE1HIGluY3JlYXNlcyBieSAke0IoZCoxMDApfSUuYH0se2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJlMURlYnRvclN0YWNrcyIsbmFtZToiZTFEZWJ0b3JTdGFja3MiLHRleHQ6IkUxIERlYnRvciBzdGFja3MiLHRpdGxlOiJFMSBJbmNyZWFzZXMgQ3JpdCBETUciLGNvbnRlbnQ6IkUxOiBXaGVuIGVuZW1pZXMgYWZmbGljdGVkIHdpdGggUHJvb2Ygb2YgRGVidCByZWNlaXZlIGZvbGxvdy11cCBhdHRhY2tzLCB0aGV5IHdpbGwgZW50ZXIgdGhlIERlYnRvciBzdGF0ZS4gVGhpcyBjYW4gdGFrZSBlZmZlY3Qgb25seSBvbmNlIHdpdGhpbiBhIHNpbmdsZSBhY3Rpb24uIFRoZSBEZWJ0b3Igc3RhdGUgaW5jcmVhc2VzIHRoZSBDUklUIERNRyBvZiBmb2xsb3ctdXAgYXR0YWNrcyBpbmZsaWN0ZWQgb24gdGhlIHRhcmdldCBlbmVtaWVzIGJ5IDI1JSwgc3RhY2tpbmcgdXAgdG8gMiB0aW1lKHMpLiBXaGVuIFByb29mIG9mIERlYnQgaXMgcmVtb3ZlZCwgdGhlIERlYnRvciBzdGF0ZSBpcyBhbHNvIHJlbW92ZWQuIixtaW46MCxtYXg6MixkaXNhYmxlZDplPDF9XSxjPVtwKHUsImVuZW15UHJvb2ZPZkRlYnREZWJ1ZmYiKSxwKHUsImUxRGVidG9yU3RhY2tzIildO3JldHVybntjb250ZW50OigpPT51LHRlYW1tYXRlQ29udGVudDooKT0+YyxkZWZhdWx0czooKT0+KHtlbmVteVByb29mT2ZEZWJ0RGVidWZmOiEwLG51bWJ5RW5oYW5jZWRTdGF0ZTohMCxlMURlYnRvclN0YWNrczoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtlbmVteVByb29mT2ZEZWJ0RGVidWZmOiEwLGUxRGVidG9yU3RhY2tzOjJ9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KFMsaCk9PntTLkJBU0lDX0RNR19UWVBFPVd8UixTLlNLSUxMX0RNR19UWVBFPVZ8Un0scHJlY29tcHV0ZUVmZmVjdHM6KFMsaCk9Pntjb25zdCBBPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBzZShTLFZ8UixkLEEubnVtYnlFbmhhbmNlZFN0YXRlKSx1ZShTLFZ8UiwuMSxlPj02KSxzZShTLFcsLWQsQS5udW1ieUVuaGFuY2VkU3RhdGUpLHVlKFMsVywtLjEsZT49NiksUy5CQVNJQ19TQ0FMSU5HKz1DLFMuU0tJTExfU0NBTElORys9RSxTLlNLSUxMX1NDQUxJTkcrPUEubnVtYnlFbmhhbmNlZFN0YXRlP2w6MCxTLkZVQV9TQ0FMSU5HKz1ELFMuRlVBX1NDQUxJTkcrPUEubnVtYnlFbmhhbmNlZFN0YXRlP2w6MCxTLkVMRU1FTlRBTF9ETUcrPWguZW5lbXlFbGVtZW50YWxXZWFrPy4xNTowLFMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsUy5TS0lMTF9UT1VHSE5FU1NfRE1HKz02MCxTLkZVQV9UT1VHSE5FU1NfRE1HKz02MCxTfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooUyxoKT0+e2NvbnN0IEE9aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dGUoUyxSLG8sQS5lbmVteVByb29mT2ZEZWJ0RGVidWZmKSxzZShTLFIsLjI1KkEuZTFEZWJ0b3JTdGFja3MsZT49MSYmQS5lbmVteVByb29mT2ZEZWJ0RGVidWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KFMsaCk9Pntjb25zdCBfPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzLm51bWJ5RW5oYW5jZWRTdGF0ZT9yOmYsRz1yZShTLGgsbSksST1yZShTLGgsXyk7Uy5CQVNJQ19ETUcrPVMuQkFTSUNfU0NBTElORyooU1tuLkFUS10rRyksUy5GVUFfRE1HKz1TLkZVQV9TQ0FMSU5HKihTW24uQVRLXStJKSxTLlNLSUxMX0RNRz1TLkZVQV9ETUd9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOlM9Pntjb25zdCBBPVMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzLm51bWJ5RW5oYW5jZWRTdGF0ZT9yOmY7cmV0dXJuYAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiAoeC5BVEsgKyBjYWxjdWxhdGVBc2hibGF6aW5nU2V0KHBfeCwgcF9zdGF0ZSwgJHttfSkpOwp4LkZVQV9ETUcgKz0geC5GVUFfU0NBTElORyAqICh4LkFUSyArIGNhbGN1bGF0ZUFzaGJsYXppbmdTZXQocF94LCBwX3N0YXRlLCAke0F9KSk7CnguU0tJTExfRE1HID0geC5GVUFfRE1HOwogICAgYH19fSxiYT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPWEoZSwyLDIuMiksZD10KGUsMiwyLjIpLEM9dChlLDIsMi4yKSxFPWkoZSw2MCw2NiksRD1pKGUsLjIsLjIyKSxtPXMoZSwuMywuMzQpLGY9cyhlLC40LC40NCkscj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZFN0YXRlQWN0aXZlIixuYW1lOiJlbmhhbmNlZFN0YXRlQWN0aXZlIix0ZXh0OiJFbmhhbmNlZCBzdGF0ZSIsdGl0bGU6IkVuaGFuY2VkIHN0YXRlIixjb250ZW50OmBFbnRlcnMgdGhlIENvbXBsZXRlIENvbWJ1c3Rpb24gc3RhdGUsIGFkdmFuY2VzIHRoaXMgdW5pdCdzIEFjdGlvbiBieSAxMDAlLCBhbmQgZ2FpbnMgRW5oYW5jZWQgQmFzaWMgQVRLIAogICAgICBhbmQgRW5oYW5jZWQgU2tpbGwuYH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZFN0YXRlU3BkQnVmZiIsbmFtZToiZW5oYW5jZWRTdGF0ZVNwZEJ1ZmYiLHRleHQ6IkVuaGFuY2VkIFNQRCBidWZmIix0aXRsZToiRW5oYW5jZWQgU1BEIGJ1ZmYiLGNvbnRlbnQ6YFdoaWxlIGluIENvbXBsZXRlIENvbWJ1c3Rpb24sIGluY3JlYXNlcyBTUEQgYnkgJHtFfS5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InN1cGVyQnJlYWtEbWciLG5hbWU6InN1cGVyQnJlYWtEbWciLHRleHQ6IlN1cGVyIEJyZWFrIGVuYWJsZWQiLHRpdGxlOiJTdXBlciBCcmVhayBlbmFibGVkIixjb250ZW50OmBXaGVuIFNBTSBpcyBpbiBDb21wbGV0ZSBDb21idXN0aW9uIHdpdGggYSBCcmVhayBFZmZlY3QgdGhhdCBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMjAwJS8zNjAlLCAKICAgICAgYXR0YWNraW5nIGEgV2Vha25lc3MtQnJva2VuIGVuZW15IHRhcmdldCB3aWxsIGNvbnZlcnQgdGhlIFRvdWdobmVzcyBSZWR1Y3Rpb24gb2YgdGhpcyBhdHRhY2sgaW50byAxIGluc3RhbmNlIG9mIAogICAgICAzNSUvNTAlIFN1cGVyIEJyZWFrIERNRy5gfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImF0a1RvQmVDb252ZXJzaW9uIixuYW1lOiJhdGtUb0JlQ29udmVyc2lvbiIsdGV4dDoiQVRLIHRvIEJFIGNvbnZlcnNpb24iLHRpdGxlOiJBVEsgdG8gQkUgY29udmVyc2lvbiIsY29udGVudDoiRm9yIGV2ZXJ5IDEwIHBvaW50KHMpIG9mIFNBTSdzIEFUSyB0aGF0IGV4Y2VlZHMgMTgwMCwgaW5jcmVhc2VzIHRoaXMgdW5pdCdzIEJyZWFrIEVmZmVjdCBieSAwLjglLiJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsbmFtZToidGFsZW50RG1nUmVkdWN0aW9uQnVmZiIsdGV4dDoiTWF4IEVIUCBidWZmIix0aXRsZToiTWF4IEVIUCBidWZmIixjb250ZW50OmBUaGUgbG93ZXIgdGhlIEhQLCB0aGUgbGVzcyBETUcgcmVjZWl2ZWQuIFdoZW4gSFAgaXMgMjAlIG9yIGxvd2VyLCB0aGUgRE1HIFJlZHVjdGlvbiByZWFjaGVzIGl0cyBtYXhpbXVtIAogICAgICBlZmZlY3QsIHJlZHVjaW5nIHVwIHRvICR7QihmKjEwMCl9JS4gRHVyaW5nIHRoZSBDb21wbGV0ZSBDb21idXN0aW9uLCB0aGUgRE1HIAogICAgICBSZWR1Y3Rpb24gcmVtYWlucyBhdCBpdHMgbWF4aW11bSBlZmZlY3QsIGFuZCB0aGUgRWZmZWN0IFJFUyBpbmNyZWFzZXMgYnkgJHtCKG0qMTAwKX0lLmB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFEZWZTaHJlZCIsbmFtZToiZTFEZWZTaHJlZCIsdGV4dDoiRTEgREVGIHNocmVkIix0aXRsZToiRTEgREVGIHNocmVkIixjb250ZW50OmBXaGVuIHVzaW5nIHRoZSBFbmhhbmNlZCBTa2lsbCwgaWdub3JlcyAxNSUgb2YgdGhlIHRhcmdldCdzIERFRi4gVGhlIEVuaGFuY2VkIFNraWxsIGRvZXMgbm90IGNvbnN1bWUgCiAgICAgIFNraWxsIFBvaW50cy5gLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFJlc0J1ZmYiLG5hbWU6ImU0UmVzQnVmZiIsdGV4dDoiRTQgUkVTIGJ1ZmYiLHRpdGxlOiJFNCBSRVMgYnVmZiIsY29udGVudDoiV2hpbGUgaW4gQ29tcGxldGUgQ29tYnVzdGlvbiwgaW5jcmVhc2VzIFNBTSdzIEVmZmVjdCBSRVMgYnkgNTAlLiIsZGlzYWJsZWQ6ZTw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2QnVmZnMiLG5hbWU6ImU2QnVmZnMiLHRleHQ6IkU2IGJ1ZmZzIix0aXRsZToiRTYgYnVmZnMiLGNvbnRlbnQ6YFdoaWxlIGluIENvbXBsZXRlIENvbWJ1c3Rpb24sIGluY3JlYXNlcyBTQU0ncyBGaXJlIFJFUyBQRU4gYnkgMjAlLiBXaGVuIHVzaW5nIHRoZSBFbmhhbmNlZCBCYXNpYyBBVEsgb3IgCiAgICAgIEVuaGFuY2VkIFNraWxsLCBpbmNyZWFzZXMgdGhlIFdlYWtuZXNzIEJyZWFrIGVmZmljaWVuY3kgYnkgNTAlLmAsZGlzYWJsZWQ6ZTw2fV0sdT1bXSxjPXtlbmhhbmNlZFN0YXRlQWN0aXZlOiEwLGVuaGFuY2VkU3RhdGVTcGRCdWZmOiEwLHN1cGVyQnJlYWtEbWc6ITAsYXRrVG9CZUNvbnZlcnNpb246ITAsdGFsZW50RG1nUmVkdWN0aW9uQnVmZjohMCxlMURlZlNocmVkOiEwLGU0UmVzQnVmZjohMCxlNkJ1ZmZzOiEwfTtyZXR1cm57Y29udGVudDooKT0+cix0ZWFtbWF0ZUNvbnRlbnQ6KCk9PnUsZGVmYXVsdHM6KCk9PmMsdGVhbW1hdGVEZWZhdWx0czooKT0+KHt9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KFMsaCk9PntoLmNoYXJhY3RlckNvbmRpdGlvbmFscy5zdXBlckJyZWFrRG1nJiYoUy5FTkVNWV9XRUFLTkVTU19CUk9LRU49MSl9LHByZWNvbXB1dGVFZmZlY3RzOihTLGgpPT57Y29uc3QgQT1oLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gU1tuLlJFU10rPUEuZW5oYW5jZWRTdGF0ZUFjdGl2ZT9tOjAsU1tuLlNQRF0rPUEuZW5oYW5jZWRTdGF0ZUFjdGl2ZSYmQS5lbmhhbmNlZFN0YXRlU3BkQnVmZj9FOjAsUy5CUkVBS19FRkZJQ0lFTkNZX0JPT1NUKz1BLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjU6MCxTLkRNR19SRURfTVVMVEkqPUEuZW5oYW5jZWRTdGF0ZUFjdGl2ZSYmQS50YWxlbnREbWdSZWR1Y3Rpb25CdWZmPzEtZjoxLFMuREVGX1BFTis9ZT49MSYmQS5lMURlZlNocmVkJiZBLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjE1OjAsU1tuLlJFU10rPWU+PTQmJkEuZTRSZXNCdWZmJiZBLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjU6MCxTLkZJUkVfUkVTX1BFTis9ZT49NiYmQS5lNkJ1ZmZzJiZBLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjI6MCxTLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPWU+PTYmJkEuZTZCdWZmcyYmQS5lbmhhbmNlZFN0YXRlQWN0aXZlPy41OjAsUy5CQVNJQ19TQ0FMSU5HKz1BLmVuaGFuY2VkU3RhdGVBY3RpdmU/bDpvLFMuQkFTSUNfVE9VR0hORVNTX0RNRys9QS5lbmhhbmNlZFN0YXRlQWN0aXZlPzQ1OjMwLFMuU0tJTExfVE9VR0hORVNTX0RNRys9QS5lbmhhbmNlZFN0YXRlQWN0aXZlPzkwOjYwLFN9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihTLGgpPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihTLGgpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooUyxoKT0+e2NvbnN0IEE9aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7dGUoUyxmZSxELEEuZW5oYW5jZWRTdGF0ZUFjdGl2ZSYmUy5FTkVNWV9XRUFLTkVTU19CUk9LRU4pLFMuU1VQRVJfQlJFQUtfTU9ESUZJRVIrPUEuc3VwZXJCcmVha0RtZyYmQS5lbmhhbmNlZFN0YXRlQWN0aXZlJiZTW24uQkVdPj0yPy4zNTowLFMuU1VQRVJfQlJFQUtfTU9ESUZJRVIrPUEuc3VwZXJCcmVha0RtZyYmQS5lbmhhbmNlZFN0YXRlQWN0aXZlJiZTW24uQkVdPj0zLjY/LjE1OjAsUy5TS0lMTF9TQ0FMSU5HKz1BLmVuaGFuY2VkU3RhdGVBY3RpdmU/LjIqTWF0aC5taW4oMy42LFNbbi5CRV0pK0M6ZCxTLkJBU0lDX0RNRys9Uy5CQVNJQ19TQ0FMSU5HKlNbbi5BVEtdLFMuU0tJTExfRE1HKz1TLlNLSUxMX1NDQUxJTkcqU1tuLkFUS119LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOihTLGgpPT57Y29uc3QgQT1TLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm5gCmJ1ZmZBYmlsaXR5VnVsbmVyYWJpbGl0eShwX3gsIEJSRUFLX1RZUEUsICR7RH0sIHNlbGVjdCgwLCAxLCAkeyQoQS5lbmhhbmNlZFN0YXRlQWN0aXZlKX0gJiYgeC5FTkVNWV9XRUFLTkVTU19CUk9LRU4gPj0gMSkpOwoKaWYgKHguQkUgPj0gMi4wMCAmJiAkeyQoQS5zdXBlckJyZWFrRG1nJiZBLmVuaGFuY2VkU3RhdGVBY3RpdmUpfSkgewogIHguU1VQRVJfQlJFQUtfTU9ESUZJRVIgKz0gMC4zNTsKfQppZiAoeC5CRSA+PSAzLjYwICYmICR7JChBLnN1cGVyQnJlYWtEbWcmJkEuZW5oYW5jZWRTdGF0ZUFjdGl2ZSl9KSB7CiAgeC5TVVBFUl9CUkVBS19NT0RJRklFUiArPSAwLjE1Owp9CgppZiAoJHskKEEuZW5oYW5jZWRTdGF0ZUFjdGl2ZSl9KSB7CiAgeC5TS0lMTF9TQ0FMSU5HICs9IDAuMiAqIG1pbigzLjYwLCB4LkJFKSArICR7Q307Cn0gZWxzZSB7CiAgeC5TS0lMTF9TQ0FMSU5HICs9ICR7ZH07Cn0KCnguQkFTSUNfRE1HICs9IHguQkFTSUNfU0NBTElORyAqIHguQVRLOwp4LlNLSUxMX0RNRyArPSB4LlNLSUxMX1NDQUxJTkcgKiB4LkFUSzsKICAgICAgYH0sZHluYW1pY0NvbmRpdGlvbmFsczpba3RdfX0sa2E9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5TS0lMTF9UQUxFTlRfM19VTFRfQkFTSUNfNSxvPWEoZSwuOSwuOTkpO3QoZSwuMjUsLjI3KTtjb25zdCBsPWkoZSwyLjQsMi42NCksZD1pKGUsLjgsLjg4KSxDPXMoZSwxLjIsMS4zMiksRT1zKGUsLjAyNCwuMDI2NCksRD17MTp5KigxKi4yNSsyKi4yNSszKi4yNSs0Ki4yNSksMzp5KigyKi4yNSs1Ki4yNSs4Ki4yNSs4Ki4yNSksNTp5KigzKi4yNSs4Ki4yNSs4Ki4yNSs4Ki4yNSl9LG09ezE6eSooMSouMSsyKi4xKzMqLjErNCouMSs1Ki42KSwzOnkqKDIqLjErNSouMSs4Ki4xKzgqLjErOCouNiksNTp5KigzKi4xKzgqLjErOCouMSs4Ki4xKzgqLjYpfTtmdW5jdGlvbiBmKGgpe3JldHVybiBoLmNoYXJhY3RlckNvbmRpdGlvbmFscy5lbmhhbmNlZEZvbGxvd1VwP21baC5lbmVteUNvdW50XTpEW2guZW5lbXlDb3VudF19Y29uc3Qgcj1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlbmhhbmNlZEZvbGxvd1VwIixuYW1lOiJlbmhhbmNlZEZvbGxvd1VwIix0ZXh0OiJFbmhhbmNlZCBGb2xsb3d1cCIsdGl0bGU6IkVuaGFuY2VkIEZvbGxvd3VwIixjb250ZW50OmBKYWRlIGVuaGFuY2VzIGhlciBUYWxlbnQncyBmb2xsb3ctdXAgYXR0YWNrLCBpbmNyZWFzaW5nIGl0cyBETUcgbXVsdGlwbGllciAKICAgICAgYnkgJHtCKGQqMTAwKX0lLmB9LHtmb3JtSXRlbToic2xpZGVyIixpZDoicGF3bmVkQXNzZXRTdGFja3MiLG5hbWU6InBhd25lZEFzc2V0U3RhY2tzIix0ZXh0OiJQYXduZWQgQXNzZXQgc3RhY2tzIix0aXRsZToiUGF3bmVkIEFzc2V0IHN0YWNrcyIsY29udGVudDpgV2hlbiBsYXVuY2hpbmcgaGVyIFRhbGVudCdzIGZvbGxvdy11cCBhdHRhY2ssIEphZGUgaW1tZWRpYXRlbHkgZ2FpbnMgNSBzdGFjayhzKSBvZiBQYXduZWQgQXNzZXQsIAogICAgICB3aXRoIGVhY2ggc3RhY2sgaW5jcmVhc2luZyBDUklUIERNRyBieSAke0IoRSoxMDApfSUsIHN0YWNraW5nIHVwIHRvIDUwIHRpbWVzLiAKICAgICAgRWFjaCBQYXduZWQgQXNzZXQgc3RhY2sgZnJvbSB0aGUgVGFsZW50IGFkZGl0aW9uYWxseSBpbmNyZWFzZXMgSmFkZSdzIEFUSyBieSAwLjUlLmAsbWluOjAsbWF4OjUwfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRnVhRG1nQm9vc3QiLG5hbWU6ImUxRnVhRG1nQm9vc3QiLHRleHQ6IkUxIEZVQSBETUcgYm9vc3QiLHRpdGxlOiJFMSBGVUEgRE1HIGJvb3N0Iixjb250ZW50OmBUaGUgZm9sbG93LXVwIGF0dGFjayBETUcgZnJvbSBKYWRlJ3MgVGFsZW50IGluY3JlYXNlcyBieSAzMiUuIEFmdGVyIHRoZSBEZWJ0IENvbGxlY3RvciBjaGFyYWN0ZXIgCiAgICAgIGF0dGFja3MgYW5kIHRoZSBudW1iZXIgb2YgdGhlIGVuZW15IHRhcmdldChzKSBoaXQgaXMgZWl0aGVyIDIgb3IgMSwgSmFkZSBhZGRpdGlvbmFsbHkgZ2FpbnMgMSBvciAyIHBvaW50KHMpIG9mIAogICAgICBDaGFyZ2UgcmVzcGVjdGl2ZWx5LmAsZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyQ3JCdWZmIixuYW1lOiJlMkNyQnVmZiIsdGV4dDoiRTIgQ1IgYnVmZiIsdGl0bGU6IkUyIENSIGJ1ZmYiLGNvbnRlbnQ6IldoZW4gdGhlcmUgYXJlIDE1IHN0YWNrcyBvZiBQYXduZWQgQXNzZXQsIEphZGUncyBDUklUIFJhdGUgaW5jcmVhc2VzIGJ5IDE4JS4iLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNERlZlNocmVkQnVmZiIsbmFtZToiZTREZWZTaHJlZEJ1ZmYiLHRleHQ6IkU0IERFRiBzaHJlZCBidWZmIix0aXRsZToiRTQgREVGIHNocmVkIGJ1ZmYiLGNvbnRlbnQ6YFdoZW4gdXNpbmcgVWx0aW1hdGUsIGVuYWJsZXMgdGhlIERNRyBkZWFsdCBieSBKYWRlIHRvIGlnbm9yZSAxMiUgb2YgZW5lbXkgdGFyZ2V0cycgREVGLCBsYXN0aW5nIAogICAgICBmb3IgMyB0dXJuKHMpLmAsZGlzYWJsZWQ6ZTw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzU2hyZWRCdWZmIixuYW1lOiJlNlJlc1NocmVkQnVmZiIsdGV4dDoiRTYgUkVTIHNocmVkIGJ1ZmYiLHRpdGxlOiJFNiBSRVMgc2hyZWQgYnVmZiIsY29udGVudDpgV2hlbiB0aGUgRGVidCBDb2xsZWN0b3IgY2hhcmFjdGVyIGV4aXN0cyBvbiB0aGUgZmllbGQsIEphZGUncyBRdWFudHVtIFJFUyBQRU4gaW5jcmVhc2VzIGJ5IDIwJSwgCiAgICAgIGFuZCBKYWRlIGdhaW5zIHRoZSBEZWJ0IENvbGxlY3RvciBzdGF0ZS5gLGRpc2FibGVkOmU8Nn1dLHU9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZGVidENvbGxlY3RvclNwZEJ1ZmYiLG5hbWU6ImRlYnRDb2xsZWN0b3JTcGRCdWZmIix0ZXh0OiJEZWJ0IENvbGxlY3RvciBTUEQgYnVmZiIsdGl0bGU6IkRlYnQgQ29sbGVjdG9yIFNQRCBidWZmIixjb250ZW50OiJNYWtlcyBhIHNpbmdsZSB0YXJnZXQgYWxseSBiZWNvbWUgdGhlIERlYnQgQ29sbGVjdG9yIGFuZCBpbmNyZWFzZXMgdGhlaXIgU1BEIGJ5IDMwLCBsYXN0aW5nIGZvciAzIHR1cm4ocykuIn1dLGM9e2VuaGFuY2VkRm9sbG93VXA6ITAscGF3bmVkQXNzZXRTdGFja3M6NTAsZTFGdWFEbWdCb29zdDohMCxlMkNyQnVmZjohMCxlNERlZlNocmVkQnVmZjohMCxlNlJlc1NocmVkQnVmZjohMH0sUz17ZGVidENvbGxlY3RvclNwZEJ1ZmY6ITB9O3JldHVybntjb250ZW50OigpPT5yLHRlYW1tYXRlQ29udGVudDooKT0+dSxkZWZhdWx0czooKT0+Yyx0ZWFtbWF0ZURlZmF1bHRzOigpPT5TLHByZWNvbXB1dGVFZmZlY3RzOihoLEEpPT57Y29uc3QgXz1BLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gaFtuLkNEXSs9Xy5wYXduZWRBc3NldFN0YWNrcypFLGhbbi5BVEtfUF0rPV8ucGF3bmVkQXNzZXRTdGFja3MqLjAwNSxoW24uQ1JdKz1lPj0yJiZfLmUyQ3JCdWZmJiZfLnBhd25lZEFzc2V0U3RhY2tzPj0xNT8uMTg6MCxoLkJBU0lDX1NDQUxJTkcrPW8saC5VTFRfU0NBTElORys9bCxoLkZVQV9TQ0FMSU5HKz1DLGguRlVBX1NDQUxJTkcrPV8uZW5oYW5jZWRGb2xsb3dVcD9kOjAsayhoLFIsLjMyLGU+PTEmJl8uZTFGdWFEbWdCb29zdCksaC5ERUZfUEVOKz1lPj00JiZfLmU0RGVmU2hyZWRCdWZmPy4xMjowLGguUVVBTlRVTV9SRVNfUEVOKz1lPj02JiZfLmU2UmVzU2hyZWRCdWZmPy4yOjAsaC5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxoLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxoLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCxofSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaCxBKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooaCxBKT0+e2NvbnN0IF89QS5jaGFyYWN0ZXJDb25kaXRpb25hbHM7aFtuLlNQRF0rPV8uZGVidENvbGxlY3RvclNwZEJ1ZmY/MzA6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KGgsQSk9PntxKGgsQSxmKEEpKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6aD0+aihmKGgpKX19LElhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuU0tJTExfQkFTSUNfM19VTFRfVEFMRU5UXzUsbz1hKGUsMSwxLjEpLGw9YShlLC44LC44OCksZD1hKGUsLjIsLjIyKSxDPWkoZSwyLjQsMi41OTIpLEU9cyhlLC44LC44OCksRD10KGUsLjEsLjEwOCksbT15KigxKi40KzIqLjYpLGY9W3tmb3JtSXRlbToic3dpdGNoIixpZDoiZW5oYW5jZWRCYXNpYyIsbmFtZToiZW5oYW5jZWRCYXNpYyIsdGV4dDoiRW5oYW5jZWQgQmFzaWMiLHRpdGxlOiJFbmhhbmNlZCBCYXNpYyIsY29udGVudDpMfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImJhc2ljQXR0YWNrSGl0cyIsbmFtZToiYmFzaWNBdHRhY2tIaXRzIix0ZXh0OiJFbmhhbmNlZCBCYXNpYyBoaXRzIix0aXRsZToiRW5oYW5jZWQgQmFzaWMgaGl0cyIsY29udGVudDpMLG1pbjozLG1heDo2fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6Im1hc3RlckFkZGl0aW9uYWxEbWdCdWZmIixuYW1lOiJtYXN0ZXJBZGRpdGlvbmFsRG1nQnVmZiIsdGV4dDoiRFBTIFNoaWZ1IGJ1ZmYiLHRpdGxlOiJEUFMgU2hpZnUgYnVmZiIsY29udGVudDpMfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6Im1hc3RlclRvdWdobmVzc1JlZEJ1ZmYiLG5hbWU6Im1hc3RlclRvdWdobmVzc1JlZEJ1ZmYiLHRleHQ6IlN1cHBvcnQgU2hpZnUgYnVmZiIsdGl0bGU6IlNoaWZ1IHN1cHBvcnQgYnVmZiIsY29udGVudDpMfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InRhbGVudERtZ0J1ZmYiLG5hbWU6InRhbGVudERtZ0J1ZmYiLHRleHQ6IlRhbGVudCBCYXNpYyBETUcgYnVmZiIsdGl0bGU6IlRhbGVudCBCYXNpYyBETUcgYnVmZiIsY29udGVudDpMfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InNlbGZTcGRCdWZmIixuYW1lOiJzZWxmU3BkQnVmZiIsdGV4dDoiRTEgc2VsZiBTUEQgYnVmZiIsdGl0bGU6IkUxIHNlbGYgU1BEIGJ1ZmYiLGNvbnRlbnQ6TCxkaXNhYmxlZDplPDF9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZDZEJ1ZmYiLG5hbWU6ImU2Q2RCdWZmIix0ZXh0OiJFNiBCYXNpYyBDRCBidWZmIix0aXRsZToiRTYgQmFzaWMgQ0QgYnVmZiIsY29udGVudDpMLGRpc2FibGVkOmU8Nn1dLHI9W3tmb3JtSXRlbToic3dpdGNoIixpZDoibWFzdGVyQnVmZiIsbmFtZToibWFzdGVyQnVmZiIsdGV4dDoiU2hpZnUgYnVmZiIsdGl0bGU6IlNoaWZ1IGJ1ZmYiLGNvbnRlbnQ6TH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJtYXN0ZXJDZEJlQnVmZnMiLG5hbWU6Im1hc3RlckNkQmVCdWZmcyIsdGV4dDoiU2hpZnUgQ0QgLyBCRSBidWZmcyIsdGl0bGU6IlNoaWZ1IENEIC8gQkUgYnVmZnMiLGNvbnRlbnQ6TH1dLHU9e2VuaGFuY2VkQmFzaWM6ITAsYmFzaWNBdHRhY2tIaXRzOjYsdGFsZW50RG1nQnVmZjohMCxzZWxmU3BkQnVmZjohMCxtYXN0ZXJBZGRpdGlvbmFsRG1nQnVmZjohMCxtYXN0ZXJUb3VnaG5lc3NSZWRCdWZmOiEwLGU2Q2RCdWZmOiEwfSxjPXttYXN0ZXJCdWZmOiEwLG1hc3RlckNkQmVCdWZmczohMH07cmV0dXJue2NvbnRlbnQ6KCk9PmYsdGVhbW1hdGVDb250ZW50OigpPT5yLGRlZmF1bHRzOigpPT51LHRlYW1tYXRlRGVmYXVsdHM6KCk9PmMscHJlY29tcHV0ZUVmZmVjdHM6KFMsaCk9Pntjb25zdCBBPWguY2hhcmFjdGVyQ29uZGl0aW9uYWxzO1Nbbi5TUERfUF0rPWU+PTEmJkEuc2VsZlNwZEJ1ZmY/LjE6MCxrKFMsVyxFLEEudGFsZW50RG1nQnVmZiksc2UoUyxXLC41LGU+PTYmJkEuZTZDZEJ1ZmYmJkEuZW5oYW5jZWRCYXNpYyk7Y29uc3QgXz1BLm1hc3RlckFkZGl0aW9uYWxEbWdCdWZmP2QqQS5iYXNpY0F0dGFja0hpdHM6MDtTLkJBU0lDX1NDQUxJTkcrPUEuZW5oYW5jZWRCYXNpYz9sKkEuYmFzaWNBdHRhY2tIaXRzOm8sUy5CQVNJQ19TQ0FMSU5HKz1BLmVuaGFuY2VkQmFzaWM/XzpkLFMuVUxUX1NDQUxJTkcrPUMsUy5GVUFfU0NBTElORys9ZT49Mj8uNjowO2NvbnN0IEc9QS5tYXN0ZXJUb3VnaG5lc3NSZWRCdWZmPzI6MTtyZXR1cm4gUy5CQVNJQ19UT1VHSE5FU1NfRE1HKz1HKihBLmVuaGFuY2VkQmFzaWM/MTUqQS5iYXNpY0F0dGFja0hpdHM6MzApLFMuVUxUX1RPVUdITkVTU19ETUcrPTkwLFMuRlVBX1RPVUdITkVTU19ETUcrPWU+PTI/MzA6MCxTfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooUyxoKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooUyxoKT0+e2NvbnN0IEE9aC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7U1tuLlNQRF9QXSs9QS5tYXN0ZXJCdWZmP0Q6MCxTW24uQ0RdKz1BLm1hc3RlckJ1ZmYmJkEubWFzdGVyQ2RCZUJ1ZmZzPy42OjAsU1tuLkJFXSs9QS5tYXN0ZXJCdWZmJiZBLm1hc3RlckNkQmVCdWZmcz8uMzY6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KFMsaCk9PntxKFMsaCxtKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Uz0+aihtKX19LHlhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuVUxUX0JBU0lDXzNfU0tJTExfVEFMRU5UXzUsbz1hKGUsMSwxLjEpLGw9dChlLDEuMiwxLjMyKSxkPWkoZSwyLjIsMi4zNzYpLEM9aShlLDIuMiwyLjM3NiksRT1pKGUsLjcyLC43Nzc2KSxEPWkoZSwxLDEuMDgpLG09cyhlLDEuMiwxLjMyKSxmPWU+PTE/OTo2LHI9ezE6eSooMSoxLzEpLDM6eSooMioxLzEpLDU6eSooMyoxLzEpfSx1PXsxOnkqKDEqLjEyKzIqLjEyKzMqLjEyKzQqLjEyKzUqLjEyKzYqLjEyKzcqLjEyKzgqLjE2KSwzOnkqKDIqLjEyKzUqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjE2KSw1OnkqKDMqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjEyKzgqLjE2KX07ZnVuY3Rpb24gYyhfKXtjb25zdCBHPV8uY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBHLmJsb2NrQWN0aXZlJiZHLnVsdEN1bGw/dVtfLmVuZW15Q291bnRdOnJbXy5lbmVteUNvdW50XX1jb25zdCBTPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImJsb2NrQWN0aXZlIixuYW1lOiJibG9ja0FjdGl2ZSIsdGV4dDoiUGFycnkgYWN0aXZlIix0aXRsZToiUGFycnkgYWN0aXZlIixjb250ZW50Okx9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidWx0Q3VsbCIsbmFtZToidWx0Q3VsbCIsdGV4dDoiSW50dWl0OiBDdWxsIGVuYWJsZWQiLHRpdGxlOiJJbnR1aXQ6IEN1bGwgZW5hYmxlZCIsY29udGVudDpMfSx7Zm9ybUl0ZW06InNsaWRlciIsaWQ6InVsdEN1bGxIaXRzIixuYW1lOiJ1bHRDdWxsSGl0cyIsdGV4dDoiSW50dWl0OiBDdWxsIGhpdHMiLHRpdGxlOiJJbnR1aXQ6IEN1bGwgaGl0cyIsY29udGVudDpMLG1pbjowLG1heDpmfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImNvdW50ZXJBdGtCdWZmIixuYW1lOiJjb3VudGVyQXRrQnVmZiIsdGV4dDoiQ291bnRlciBBVEsgYnVmZiIsdGl0bGU6IkNvdW50ZXIgQVRLIGJ1ZmYiLGNvbnRlbnQ6TH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMVVsdEJ1ZmYiLG5hbWU6ImUxVWx0QnVmZiIsdGV4dDoiRTEgVWx0IGJ1ZmYiLHRpdGxlOiJFMSBVbHQgYnVmZiIsY29udGVudDpMLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRlZlNocmVkIixuYW1lOiJlMkRlZlNocmVkIix0ZXh0OiJFMiBGVUEgREVGIHNocmVkIix0aXRsZToiRTIgRlVBIERFRiBzaHJlZCIsY29udGVudDpMLGRpc2FibGVkOmU8Mn0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNFJlc0J1ZmYiLG5hbWU6ImU0UmVzQnVmZiIsdGV4dDoiRTQgUkVTIGJ1ZmYiLHRpdGxlOiJFNCBSRVMgYnVmZiIsY29udGVudDpMLGRpc2FibGVkOmU8NH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlNkJ1ZmZzIixuYW1lOiJlNkJ1ZmZzIix0ZXh0OiJFNiBidWZmcyIsdGl0bGU6IkU2IGJ1ZmZzIixjb250ZW50OkwsZGlzYWJsZWQ6ZTw2fV0saD1bXSxBPXtibG9ja0FjdGl2ZTohMCx1bHRDdWxsOiEwLHVsdEN1bGxIaXRzOmYsY291bnRlckF0a0J1ZmY6ITAsZTFVbHRCdWZmOiEwLGUyRGVmU2hyZWQ6ITAsZTRSZXNCdWZmOiEwLGU2QnVmZnM6ITB9O3JldHVybntjb250ZW50OigpPT5TLHRlYW1tYXRlQ29udGVudDooKT0+aCxkZWZhdWx0czooKT0+QSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe30pLGluaXRpYWxpemVDb25maWd1cmF0aW9uczooXyxHKT0+e2NvbnN0IEk9Ry5jaGFyYWN0ZXJDb25kaXRpb25hbHM7SS5ibG9ja0FjdGl2ZSYmSS51bHRDdWxsJiYoXy5GVUFfRE1HX1RZUEU9VXxSKX0scHJlY29tcHV0ZUVmZmVjdHM6KF8sRyk9Pntjb25zdCBJPUcuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBJLmJsb2NrQWN0aXZlP0kudWx0Q3VsbD9fLkZVQV9TQ0FMSU5HKz1DK0kudWx0Q3VsbEhpdHMqRTpfLkZVQV9TQ0FMSU5HKz1kOl8uRlVBX1NDQUxJTkcrPW0sc2UoXyxSLEQsSS5ibG9ja0FjdGl2ZSksX1tuLkFUS19QXSs9SS5jb3VudGVyQXRrQnVmZj8uMzowLF8uRE1HX1JFRF9NVUxUSSo9SS5ibG9ja0FjdGl2ZT8xLS4yOjEsayhfLFIsLjIsZT49MSYmSS5lMVVsdEJ1ZmYmJkkuYmxvY2tBY3RpdmUpLGFlKF8sUiwuMixlPj0yJiZJLmUyRGVmU2hyZWQpLF9bbi5SRVNdKz1lPj00JiZJLmU0UmVzQnVmZj8uNTowLHBlKF8sUiwuMTUsZT49NiYmSS5lNkJ1ZmZzJiZJLmJsb2NrQWN0aXZlKSx1ZShfLFIsLjIsZT49NiYmSS5lNkJ1ZmZzJiZJLmJsb2NrQWN0aXZlKSxfLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLF8uU0tJTExfVE9VR0hORVNTX0RNRys9NjAsXy5GVUFfVE9VR0hORVNTX0RNRys9SS5ibG9ja0FjdGl2ZT82MDozMCxfLkZVQV9UT1VHSE5FU1NfRE1HKz1JLmJsb2NrQWN0aXZlJiZJLnVsdEN1bGw/SS51bHRDdWxsSGl0cyoxNTowLF8uQkFTSUNfU0NBTElORys9byxfLlNLSUxMX1NDQUxJTkcrPWwsX30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KF8sRyk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KF8sRyk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihfLEcpPT57cShfLEcsYyhHKSl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOl89PmooYyhfKSl9fSxMYT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlNLSUxMX0JBU0lDXzNfVUxUX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPXQoZSwxLjUsMS42NSksZD1pKGUsMSwxLjA4KSxDPWkoZSwuMTUsLjE2MiksRT1zKGUsLjE1LC4xNjUpLEQ9cyhlLC4wNSwuMDU1KSxtPXMoZSwxLjgsMS45OCksZj1lPj02Pzk6NSxyPVt7Zm9ybUl0ZW06InNsaWRlciIsaWQ6ImFzaGVuUm9hc3RTdGFja3MiLG5hbWU6ImFzaGVuUm9hc3RTdGFja3MiLHRleHQ6IkFzaGVuIFJvYXN0IHN0YWNrcyIsdGl0bGU6IkFzaGVuIFJvYXN0IHN0YWNrcyIsY29udGVudDpMLG1pbjowLG1heDpmfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InVsdEZpZWxkQWN0aXZlIixuYW1lOiJ1bHRGaWVsZEFjdGl2ZSIsdGV4dDoiVWx0IGZpZWxkIGFjdGl2ZSIsdGl0bGU6IlVsdCBmaWVsZCBhY3RpdmUiLGNvbnRlbnQ6TH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlaHJUb0F0a0Jvb3N0IixuYW1lOiJlaHJUb0F0a0Jvb3N0Iix0ZXh0OiJFSFIgdG8gQVRLIGJvb3N0Iix0aXRsZToiRUhSIHRvIEFUSyBib29zdCIsY29udGVudDpMfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUxRG1nQm9vc3QiLG5hbWU6ImUxRG1nQm9vc3QiLHRleHQ6IkUxIERNRyBib29zdCIsdGl0bGU6IkUxIERNRyBib29zdCIsY29udGVudDpMLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkRvdCIsbmFtZToiZTJEb3QiLHRleHQ6IkUyIERPVCBzY2FsaW5nIix0aXRsZToiRTIgRE9UIHNjYWxpbmciLGNvbnRlbnQ6TCxkaXNhYmxlZDplPDJ9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZSZXNTaHJlZCIsbmFtZToiZTZSZXNTaHJlZCIsdGV4dDoiRTYgUkVTIHNocmVkIix0aXRsZToiRTYgUkVTIHNocmVkIixjb250ZW50OkwsZGlzYWJsZWQ6ZTw2fV0sdT1bcChyLCJhc2hlblJvYXN0U3RhY2tzIikscChyLCJ1bHRGaWVsZEFjdGl2ZSIpLHAociwiZTFEbWdCb29zdCIpLHAociwiZTZSZXNTaHJlZCIpXSxjPXthc2hlblJvYXN0U3RhY2tzOmYsdWx0RmllbGRBY3RpdmU6ITAsZWhyVG9BdGtCb29zdDohMCxlMURtZ0Jvb3N0OiEwLGUyRG90OiEwLGU2UmVzU2hyZWQ6ITB9LFM9e2FzaGVuUm9hc3RTdGFja3M6Zix1bHRGaWVsZEFjdGl2ZTohMCxlMURtZ0Jvb3N0OiEwLGU2UmVzU2hyZWQ6ITB9O3JldHVybntjb250ZW50OigpPT5yLHRlYW1tYXRlQ29udGVudDooKT0+dSxkZWZhdWx0czooKT0+Yyx0ZWFtbWF0ZURlZmF1bHRzOigpPT5TLHByZWNvbXB1dGVFZmZlY3RzOihoLEEpPT57Y29uc3QgXz1BLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gaC5CQVNJQ19TQ0FMSU5HKz1vLGguU0tJTExfU0NBTElORys9bCxoLlVMVF9TQ0FMSU5HKz1kLGguRE9UX1NDQUxJTkcrPV8uYXNoZW5Sb2FzdFN0YWNrcz4wP206MCxoLkRPVF9TQ0FMSU5HKz1lPj0yJiZfLmUyRG90JiZfLmFzaGVuUm9hc3RTdGFja3M+MD8zOjAsaC5ET1RfQ0hBTkNFPTEwMCxoLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGguU0tJTExfVE9VR0hORVNTX0RNRys9NjAsaC5VTFRfVE9VR0hORVNTX0RNRys9NjAsaH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGgsQSk9Pntjb25zdCBfPUEuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3RlKGgsVSxDLF8udWx0RmllbGRBY3RpdmUpLGguVlVMTkVSQUJJTElUWSs9Xy5hc2hlblJvYXN0U3RhY2tzPjA/RTowLGguVlVMTkVSQUJJTElUWSs9TWF0aC5tYXgoMCxfLmFzaGVuUm9hc3RTdGFja3MtMSkqRCxoLkVMRU1FTlRBTF9ETUcrPWU+PTEmJl8uZTFEbWdCb29zdCYmXy5hc2hlblJvYXN0U3RhY2tzPjA/LjQ6MCxoLlJFU19QRU4rPWU+PTYmJl8uZTZSZXNTaHJlZD9fLmFzaGVuUm9hc3RTdGFja3MqLjAzOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGgsQSk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOmg9Pk8oaCksZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6KCk9PksoKSxkeW5hbWljQ29uZGl0aW9uYWxzOltQdF19fSxHYT1lPT57Y29uc3R7YmFzaWM6YSxza2lsbDp0LHVsdDppLHRhbGVudDpzfT1iLlVMVF9CQVNJQ18zX1NLSUxMX1RBTEVOVF81LG89YShlLDEsMS4xKSxsPXQoZSwyLDIuMiksZD1pKGUsLjYsLjY0OCksQz1pKGUsLjMsLjMzKSxFPWkoZSwxLjYsMS43MjgpLEQ9cyhlLDEuMSwxLjIxKSxtPXMoZSwuNiwuNjYpLGY9MSouMTI4NSsyKi4xMjg1KzMqLjEyODUrNCouMTI4NSs1Ki4xMjg1KzYqLjEyODUrNyouMjI4NSxyPTEqLjEyODUqLjErMiouMTI4NSouOSszKi4xMjg1Ki4xKzQqLjEyODUqLjkrNSouMTI4NSouMSs2Ki4xMjg1Ki45KzcqLjEyODUqLjErOCouMTI4NSouOSs4Ki4xMjg1Ki4xKzgqLjEyODUqLjkrOCouMTI4NSouMSs4Ki4xMjg1Ki45KzgqLjIyODU7ZnVuY3Rpb24gdShBKXtyZXR1cm4gQS5jaGFyYWN0ZXJDb25kaXRpb25hbHMud2Vha25lc3NCcm9rZW5VbHQ/eSpyOnkqZn1jb25zdCBjPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6IndlYWtuZXNzQnJva2VuVWx0IixuYW1lOiJ3ZWFrbmVzc0Jyb2tlblVsdCIsdGV4dDoiV2Vha25lc3MgYnJva2VuIHVsdCAoZm9yY2Ugd2Vha25lc3MgYnJlYWspIix0aXRsZToiV2Vha25lc3MgYnJva2VuIHVsdCAoZm9yY2Ugd2Vha25lc3MgYnJlYWspIixjb250ZW50OmBPdmVycmlkZXMgd2Vha25lc3MgYnJlYWsgdG8gYmUgZW5hYmxlZC4gJHtMfWB9LHtmb3JtSXRlbToic3dpdGNoIixpZDoidGFsZW50RG1nQnVmZiIsbmFtZToidGFsZW50RG1nQnVmZiIsdGV4dDoiVGFsZW50IERNRyBidWZmIix0aXRsZToiVGFsZW50IERNRyBidWZmIixjb250ZW50Okx9LHtmb3JtSXRlbToic3dpdGNoIixpZDoic2tpbGxBdGtCdWZmIixuYW1lOiJza2lsbEF0a0J1ZmYiLHRleHQ6IlNraWxsIEFUSyBidWZmIix0aXRsZToiU2tpbGwgQVRLIGJ1ZmYiLGNvbnRlbnQ6TH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMU9yaWdpbmFsRG1nQm9vc3QiLG5hbWU6ImUxT3JpZ2luYWxEbWdCb29zdCIsdGV4dDoiRTEgb3JpZ2luYWwgRE1HIGJvb3N0Iix0aXRsZToiRTEgb3JpZ2luYWwgRE1HIGJvb3N0Iixjb250ZW50OkwsZGlzYWJsZWQ6ZTwxfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0QnVmZnMiLG5hbWU6ImU0QnVmZnMiLHRleHQ6IkU0IGJ1ZmZzIix0aXRsZToiRTQgYnVmZnMiLGNvbnRlbnQ6TCxkaXNhYmxlZDplPDR9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTZCdWZmcyIsbmFtZToiZTZCdWZmcyIsdGV4dDoiRTYgYnVmZnMiLHRpdGxlOiJFNiBidWZmcyIsY29udGVudDpMLGRpc2FibGVkOmU8Nn1dLFM9W10saD17dWx0U3RhY2tzOjYsd2Vha25lc3NCcm9rZW5VbHQ6ITAsdGFsZW50RG1nQnVmZjohMCxza2lsbEF0a0J1ZmY6ITAsZTFPcmlnaW5hbERtZ0Jvb3N0OiEwLGU0QnVmZnM6ITAsZTZCdWZmczohMH07cmV0dXJue2NvbnRlbnQ6KCk9PmMsdGVhbW1hdGVDb250ZW50OigpPT5TLGRlZmF1bHRzOigpPT5oLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSksaW5pdGlhbGl6ZUNvbmZpZ3VyYXRpb25zOihBLF8pPT57Y29uc3QgRz1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztBLlVMVF9ETUdfVFlQRT1VfFIsRy53ZWFrbmVzc0Jyb2tlblVsdCYmKEEuRU5FTVlfV0VBS05FU1NfQlJPS0VOPTEpLGU+PTYmJkcuZTZCdWZmcyYmKEEuRlVBX0RNR19UWVBFPVV8Uil9LHByZWNvbXB1dGVFZmZlY3RzOihBLF8pPT57Y29uc3QgRz1fLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gRy53ZWFrbmVzc0Jyb2tlblVsdHx8KEEuVUxUX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPTEpLHNlKEEsUiwuMzYpLEFbbi5BVEtfUF0rPUcuc2tpbGxBdGtCdWZmPy40ODowLEEuRUxFTUVOVEFMX0RNRys9Ry50YWxlbnREbWdCdWZmP206MCxBLkJBU0lDX1NDQUxJTkcrPW8sQS5TS0lMTF9TQ0FMSU5HKz1sLEEuRlVBX1NDQUxJTkcrPUQsQS5VTFRfU0NBTElORys9NiooZCtDKStFLEEuVUxUX09SSUdJTkFMX0RNR19CT09TVCs9ZT49MSYmRy5lMU9yaWdpbmFsRG1nQm9vc3Q/LjMwNzE6MCxlPj00JiYoQVtuLlNQRF9QXSs9LjA4LEEuRlVBX1RPVUdITkVTU19ETUcrPTE1KSxlPj02JiZHLmU2QnVmZnMmJihBLlJFU19QRU4rPS4yLEEuRlVBX1NDQUxJTkcrPTEuNCksQS5CQVNJQ19UT1VHSE5FU1NfRE1HKz0zMCxBLlNLSUxMX1RPVUdITkVTU19ETUcrPTYwLEEuVUxUX1RPVUdITkVTU19ETUcrPTkwLEEuRlVBX1RPVUdITkVTU19ETUcrPTE1LEF9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihBLF8pPT57fSxwcmVjb21wdXRlVGVhbW1hdGVFZmZlY3RzOihBLF8pPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooQSxfKT0+e0EuQkFTSUNfRE1HKz1BLkJBU0lDX1NDQUxJTkcqQVtuLkFUS10sQS5TS0lMTF9ETUcrPUEuU0tJTExfU0NBTElORypBW24uQVRLXSxBLlVMVF9ETUcrPUEuVUxUX1NDQUxJTkcqKEFbbi5BVEtdK3JlKEEsXyx1KF8pKSksQS5GVUFfRE1HKz1BLkZVQV9TQ0FMSU5HKihBW24uQVRLXStyZShBLF8seSooMSoxKSkpLEEuRE9UX0RNRys9QS5ET1RfU0NBTElORypBW24uQVRLXX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6QT0+YAp4LkJBU0lDX0RNRyArPSB4LkJBU0lDX1NDQUxJTkcgKiB4LkFUSzsKeC5TS0lMTF9ETUcgKz0geC5TS0lMTF9TQ0FMSU5HICogeC5BVEs7CnguVUxUX0RNRyArPSB4LlVMVF9TQ0FMSU5HICogKHguQVRLICsgY2FsY3VsYXRlQXNoYmxhemluZ1NldChwX3gsIHBfc3RhdGUsICR7dShBKX0pKTsKeC5GVUFfRE1HICs9IHguRlVBX1NDQUxJTkcgKiAoeC5BVEsgKyBjYWxjdWxhdGVBc2hibGF6aW5nU2V0KHBfeCwgcF9zdGF0ZSwgJHt5KigxKjEpfSkpOwp4LkRPVF9ETUcgKz0geC5ET1RfU0NBTElORyAqIHguQVRLOwogICAgYH19LE1hPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuVUxUX1RBTEVOVF8zX1NLSUxMX0JBU0lDXzUsbz1hKGUsMSwxLjEpLGw9dChlLC44LC44OCksZD1pKGUsMS41LDEuNjUpLEM9aShlLC4yNSwuMjcpLEU9cyhlLC43NSwuODI1KSxEPXsxOnkqKDEqMS8yKzIqMS8yKSwzOnkqKDIqMS8yKzMqMS8yKSw1OnkqKDMqMS8yKzQqMS8yKX0sbT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiZUNvbnZlcnNpb24iLG5hbWU6ImJlQ29udmVyc2lvbiIsdGV4dDoiQkUgdG8gQVRLL09IQiIsdGl0bGU6IkJFIHRvIEFUSy9PSEIiLGNvbnRlbnQ6TH0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJiZWZvZ1N0YXRlIixuYW1lOiJiZWZvZ1N0YXRlIix0ZXh0OiJCZWZvZyBzdGF0ZSIsdGl0bGU6IkJlZm9nIHN0YXRlIixjb250ZW50Okx9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFEZWZTaHJlZCIsbmFtZToiZTFEZWZTaHJlZCIsdGV4dDoiRTEgd2Vha25lc3MgYnJlYWsgYnVmZnMiLHRpdGxlOiJFMSB3ZWFrbmVzcyBicmVhayBidWZmcyIsY29udGVudDpMLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkJlQnVmZiIsbmFtZToiZTJCZUJ1ZmYiLHRleHQ6IkUyIEJFIGJ1ZmYiLHRpdGxlOiJFMiBCRSBidWZmIixjb250ZW50OkwsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2UmVzU2hyZWQiLG5hbWU6ImU2UmVzU2hyZWQiLHRleHQ6IkU2IFJFUyBzaHJlZCIsdGl0bGU6IkU2IFJFUyBzaHJlZCIsY29udGVudDpMLGRpc2FibGVkOmU8Nn1dLGY9W3AobSwiYmVmb2dTdGF0ZSIpLHAobSwiZTFEZWZTaHJlZCIpLHAobSwiZTJCZUJ1ZmYiKSxwKG0sImU2UmVzU2hyZWQiKV0scj17YmVDb252ZXJzaW9uOiEwLGJlZm9nU3RhdGU6ITAsZTFEZWZTaHJlZDohMCxlMkJlQnVmZjohMCxlNlJlc1NocmVkOiEwfSx1PXtiZWZvZ1N0YXRlOiEwLGUxRGVmU2hyZWQ6ITAsZTJCZUJ1ZmY6ITAsZTZSZXNTaHJlZDohMH07cmV0dXJue2NvbnRlbnQ6KCk9Pm0sdGVhbW1hdGVDb250ZW50OigpPT5mLGRlZmF1bHRzOigpPT5yLHRlYW1tYXRlRGVmYXVsdHM6KCk9PnUscHJlY29tcHV0ZUVmZmVjdHM6KGMsUyk9Pntjb25zdCBoPVMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3JldHVybiBjLkJBU0lDX1NDQUxJTkcrPW8sYy5TS0lMTF9TQ0FMSU5HKz1sLGMuRlVBX1NDQUxJTkcrPUUqMixjLlVMVF9TQ0FMSU5HKz1kLGMuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9ZT49MT8uNTowLGMuRlVBX1NDQUxJTkcrPWU+PTYmJmguZTZSZXNTaHJlZD8uNTowLGMuQkFTSUNfVE9VR0hORVNTX0RNRys9MzAsYy5TS0lMTF9UT1VHSE5FU1NfRE1HKz0zMCxjLlVMVF9UT1VHSE5FU1NfRE1HKz02MCxjLkZVQV9UT1VHSE5FU1NfRE1HKz0zMCoyLGMuRlVBX1RPVUdITkVTU19ETUcrPWU+PTY/MTU6MCxjfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooYyxTKT0+e2NvbnN0IGg9Uy5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Yy5FTkVNWV9XRUFLTkVTU19CUk9LRU4mJihjLkRFRl9QRU4rPWU+PTEmJmguZTFEZWZTaHJlZD8uMjowKSx0ZShjLGZlLEMsaC5iZWZvZ1N0YXRlKSxjW24uQkVdKz1lPj0yJiZoLmUyQmVCdWZmPy40OjAsYy5SRVNfUEVOKz1lPj02JiZoLmU2UmVzU2hyZWQ/LjI6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooYyxTKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGMsUyk9PntxKGMsUyxEW1MuZW5lbXlDb3VudF0pfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczpjPT5qKERbYy5lbmVteUNvdW50XSksZHluYW1pY0NvbmRpdGlvbmFsczpbVXRdfX0sUmE9ZT0+e2NvbnN0e2Jhc2ljOmEsc2tpbGw6dCx1bHQ6aSx0YWxlbnQ6c309Yi5VTFRfVEFMRU5UXzNfU0tJTExfQkFTSUNfNSxvPWEoZSwxLDEuMSksbD10KGUsMS41LDEuNjUpLGQ9aShlLDIuNywyLjkxNiksQz1zKGUsMS42LDEuNzYpLEU9cyhlLC4zLC4zMyksRD15KigxKi4wOCsyKi4wOCszKi4wOCs0Ki4wOCs1Ki4wOCs2Ki42KSxtPVt7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6InByZXlNYXJrIixuYW1lOiJwcmV5TWFyayIsdGV4dDoiUHJleSBtYXJrZWQiLHRpdGxlOiJQcmV5IG1hcmtlZCIsY29udGVudDpMfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImUyQ2RCb29zdCIsbmFtZToiZTJDZEJvb3N0Iix0ZXh0OiJFMiBDRCBib29zdCIsdGl0bGU6IkUyIENEIGJvb3N0Iixjb250ZW50OkwsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0RG1nQnVmZiIsbmFtZToiZTREbWdCdWZmIix0ZXh0OiJFNCBETUcgYnVmZiIsdGl0bGU6IkU0IERNRyBidWZmIixjb250ZW50OkwsZGlzYWJsZWQ6ZTw0fSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU2TXVsdGlwbGllckluY3JlYXNlIixuYW1lOiJlNk11bHRpcGxpZXJJbmNyZWFzZSIsdGV4dDoiRTYgRlVBIG11bHRpcGxpZXIgYnVmZiIsdGl0bGU6IkU2IEZVQSBtdWx0aXBsaWVyIGJ1ZmYiLGNvbnRlbnQ6TCxkaXNhYmxlZDplPDZ9XSxmPVtwKG0sInByZXlNYXJrIikscChtLCJlMkNkQm9vc3QiKV0scj17cHJleU1hcms6ITAsZTJDZEJvb3N0OiEwLGU0RG1nQnVmZjohMCxlNk11bHRpcGxpZXJJbmNyZWFzZTohMH0sdT17cHJleU1hcms6ITAsZTJDZEJvb3N0OiEwfTtyZXR1cm57Y29udGVudDooKT0+bSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmYsZGVmYXVsdHM6KCk9PnIsdGVhbW1hdGVEZWZhdWx0czooKT0+dSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KGMsUyk9PntjLlVMVF9ETUdfVFlQRT1VfFJ9LHByZWNvbXB1dGVFZmZlY3RzOihjLFMpPT57Y29uc3QgaD1TLmNoYXJhY3RlckNvbmRpdGlvbmFscztyZXR1cm4gYy5FTEVNRU5UQUxfRE1HKz1lPj00JiZoLmU0RG1nQnVmZj8uMzowLGMuQkFTSUNfU0NBTElORys9bysoaC5wcmV5TWFyaz9FOjApLGMuU0tJTExfU0NBTElORys9bCsoaC5wcmV5TWFyaz9FOjApLGMuRlVBX1NDQUxJTkcrPUMrKGgucHJleU1hcms/RTowKSxjLkZVQV9TQ0FMSU5HKz1lPj02JiZoLmU2TXVsdGlwbGllckluY3JlYXNlPy4yNTowLGMuVUxUX1NDQUxJTkcrPWQrKGgucHJleU1hcms/RTowKSxjLkJBU0lDX1RPVUdITkVTU19ETUcrPTMwLGMuU0tJTExfVE9VR0hORVNTX0RNRys9NjAsYy5VTFRfVE9VR0hORVNTX0RNRys9OTAsYy5GVUFfVE9VR0hORVNTX0RNRys9MzAsY30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGMsUyk9Pntjb25zdCBoPVMuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO3RlKGMsUiwuMjUsaC5wcmV5TWFyayksY1tuLkNEXSs9ZT49MiYmaC5wcmV5TWFyayYmaC5lMkNkQm9vc3Q/LjQ6MH0scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czooYyxTKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGMsUyk9PntxKGMsUyxEKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6Yz0+aihEKX19LFBhPWU9Pntjb25zdHtiYXNpYzphLHNraWxsOnQsdWx0OmksdGFsZW50OnN9PWIuU0tJTExfVEFMRU5UXzNfVUxUX0JBU0lDXzUsbz1hKGUsMSwxLjEpLGw9YShlLDIsMi4zMiksZD10KGUsMS4yLDEuMzIpLEM9aShlLC4zLC4zNCksRT1be2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJzZWFsZm9ybUFjdGl2ZSIsbmFtZToic2VhbGZvcm1BY3RpdmUiLHRleHQ6IlNlYWxmb3JtIHN0YXRlIChmb3JjZSB3ZWFrbmVzcyBicmVhaykiLHRpdGxlOiJTZWFsZm9ybSBzdGF0ZSAoZm9yY2Ugd2Vha25lc3MgYnJlYWspIixjb250ZW50Okx9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHkiLG5hbWU6ImF0a1RvQnJlYWtWdWxuZXJhYmlsaXR5Iix0ZXh0OiJBVEsgdG8gQnJlYWsgdnVsbmVyYWJpbGl0eSIsdGl0bGU6IkFUSyB0byBCcmVhayB2dWxuZXJhYmlsaXR5Iixjb250ZW50Okx9LHtmb3JtSXRlbToic3dpdGNoIixpZDoiZTFEZWZQZW4iLG5hbWU6ImUxRGVmUGVuIix0ZXh0OiJFMSBERUYgcGVuIix0aXRsZToiRTEgREVGIHBlbiIsY29udGVudDpMLGRpc2FibGVkOmU8MX0se2Zvcm1JdGVtOiJzd2l0Y2giLGlkOiJlMkJ1ZmZzIixuYW1lOiJlMkJ1ZmZzIix0ZXh0OiJFMiBicmVhayBidWZmcyIsdGl0bGU6IkUyIGJyZWFrIGJ1ZmZzIixjb250ZW50OkwsZGlzYWJsZWQ6ZTwyfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0U3BkQnVmZiIsbmFtZToiZTRTcGRCdWZmIix0ZXh0OiJFNCBTUEQgYnVmZiIsdGl0bGU6IkU0IFNQRCBidWZmIixjb250ZW50OkwsZGlzYWJsZWQ6ZTw0fV0sRD1be2Zvcm1JdGVtOiJzbGlkZXIiLGlkOiJ0ZWFtbWF0ZUJyZWFrVnVsbmVyYWJpbGl0eSIsbmFtZToidGVhbW1hdGVCcmVha1Z1bG5lcmFiaWxpdHkiLHRleHQ6IkJyZWFrIHZ1bG5lcmFiaWxpdHkiLHRpdGxlOiJCcmVhayB2dWxuZXJhYmlsaXR5Iixjb250ZW50OkwsbWluOjAsbWF4Oi4xNSxwZXJjZW50OiEwfSx7Zm9ybUl0ZW06InN3aXRjaCIsaWQ6ImU0U3BkQnVmZiIsbmFtZToiZTRTcGRCdWZmIix0ZXh0OiJFNCBTUEQgYnVmZiIsdGl0bGU6IkU0IFNQRCBidWZmIixjb250ZW50OkwsZGlzYWJsZWQ6ZTw0fV0sbT17c2VhbGZvcm1BY3RpdmU6ITAsYXRrVG9CcmVha1Z1bG5lcmFiaWxpdHk6ITAsZTFEZWZQZW46ITAsZTJCdWZmczohMCxlNFNwZEJ1ZmY6ITB9O3JldHVybntjb250ZW50OigpPT5FLHRlYW1tYXRlQ29udGVudDooKT0+RCxkZWZhdWx0czooKT0+bSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RlYW1tYXRlQnJlYWtWdWxuZXJhYmlsaXR5Oi4xNSxlNFNwZEJ1ZmY6ITB9KSxpbml0aWFsaXplQ29uZmlndXJhdGlvbnM6KGYscik9PntyLmNoYXJhY3RlckNvbmRpdGlvbmFscy5zZWFsZm9ybUFjdGl2ZSYmKGYuRU5FTVlfV0VBS05FU1NfQlJPS0VOPTEpfSxwcmVjb21wdXRlRWZmZWN0czooZixyKT0+e2NvbnN0IHU9ci5jaGFyYWN0ZXJDb25kaXRpb25hbHM7cmV0dXJuIGZbbi5CRV0rPXUuc2VhbGZvcm1BY3RpdmU/QzowLGYuQlJFQUtfRUZGSUNJRU5DWV9CT09TVCs9dS5zZWFsZm9ybUFjdGl2ZT8uNTowLGYuREVGX1BFTis9ZT49MSYmdS5zZWFsZm9ybUFjdGl2ZSYmdS5lMURlZlBlbj8uMTU6MCxmW24uU1BEX1BdKz1lPj00JiZ1LnNlYWxmb3JtQWN0aXZlJiZ1LmU0U3BkQnVmZj8uMTI6MCxmLkJBU0lDX1NVUEVSX0JSRUFLX01PRElGSUVSKz11LnNlYWxmb3JtQWN0aXZlPy42OjAsZi5CQVNJQ19TQ0FMSU5HKz11LnNlYWxmb3JtQWN0aXZlP2w6byxmLlNLSUxMX1NDQUxJTkcrPWQsZi5CQVNJQ19UT1VHSE5FU1NfRE1HKz11LnNlYWxmb3JtQWN0aXZlPzc1OjMwLGYuU0tJTExfVE9VR0hORVNTX0RNRys9MzAsZn0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KGYscik9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KGYscik9Pntjb25zdCB1PXIuY2hhcmFjdGVyQ29uZGl0aW9uYWxzO2YuQlJFQUtfVlVMTkVSQUJJTElUWSs9dS50ZWFtbWF0ZUJyZWFrVnVsbmVyYWJpbGl0eSxmW24uU1BEX1BdKz1lPj00JiZ1LmU0U3BkQnVmZj8uMTI6MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6Zj0+TyhmKSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+SygpLGR5bmFtaWNDb25kaXRpb25hbHM6W0d0XX19O2NvbnN0IFVhPXsxMDAxOmFhLDEwMDI6S3QsMTAwMzpZdCwxMDA0OmhhLDEwMDU6WHQsMTAwNjp1YSwxMDA4OkF0LDEwMDk6QnQsMTAxMzokdCwxMTAxOkh0LDExMDI6Y2EsMTEwMzpmYSwxMTA0OlZ0LDExMDU6aWEsMTEwNjpzYSwxMTA3Ok90LDExMDg6cmEsMTEwOTp4dCwxMTEwOnRhLDExMTE6WnQsMTExMjpUYSwxMjAxOm9hLDEyMDI6U2EsMTIwMzplYSwxMjA0Okp0LDEyMDU6TnQsMTIwNjpkYSwxMjA3OkVhLDEyMDg6RnQsMTIwOTpDYSwxMjEwOld0LDEyMTE6X3QsMTIxMjpRdCwxMjEzOmp0LDEyMTQ6RGEsMTIxNTp6dCwxMjE3OnF0LDEyMTg6TGEsMTIyMDpHYSwxMjIxOnlhLDEyMjI6TWEsMTIyMzpSYSwxMjI0OklhLDEzMDE6X2EsMTMwMjpFdCwxMzAzOmxhLDEzMDQ6QmEsMTMwNTp3dCwxMzA2Om1hLDEzMDc6dnQsMTMwODpBYSwxMzA5OmdhLDEzMTA6YmEsMTMxMjpuYSwxMzE0OmthLDEzMTU6cGEsMTMxNzpQYSw4MDAxOldlLDgwMDI6V2UsODAwMzokZSw4MDA0OiRlLDgwMDU6emUsODAwNjp6ZX0sbWU9e2dldDplPT57Y29uc3QgYT1VYVtlLmNoYXJhY3RlcklkXTtyZXR1cm4gYShlLmNoYXJhY3RlckVpZG9sb24pfX0sZz0oZSxhKT0+e3ZhciBzO2NvbnN0IHQ9YS5wYXJhbXNbZV07bGV0IGk9YS5kZXNjO3JldHVybiB0JiYoKHM9YS5kZXNjLm1hdGNoKC8jKFxkKylcW1x3K1xdL2cpKT09bnVsbHx8cy5mb3JFYWNoKG89Pnt2YXIgbDsobD1vLm1hdGNoKC8jKFxkKykvKSk9PW51bGx8fGwuZm9yRWFjaCgoZCxDKT0+e2lmKEM+MCl7bGV0IEU9dFtwYXJzZUludChkKS0xXTtFPDEmJihFPUIoRSoxMDApKSxpPWkucmVwbGFjZShvLEUudG9TdHJpbmcoKSl9fSl9KSksaX07dmFyIHZhPWU9Pntjb25zdCBhPVsuMSwuMTIsLjE0LC4xNiwuMThdLHQ9e2lkOiIyMDAxNCIsc2tpbGw6IkFsbGlhbmNlIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgZGVmZWF0cyBhbiBlbmVteSwgaW5jcmVhc2VzIFNQRCBieSAjMVtpXSUgZm9yICMyW2ldIHR1cm4ocykuIixwYXJhbXM6W1suMSwyXSxbLjEyLDJdLFsuMTQsMl0sWy4xNiwyXSxbLjE4LDJdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19LGk9W3tsYzohMCxpZDoiZGVmZWF0ZWRFbmVteVNwZEJ1ZmYiLG5hbWU6ImRlZmVhdGVkRW5lbXlTcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJEZWZlYXRlZCBlbmVteSBTUEQgYnVmZiIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2RlZmVhdGVkRW5lbXlTcGRCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbbi5TUERfUF0rPWwuZGVmZWF0ZWRFbmVteVNwZEJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxOYT1lPT57Y29uc3QgYT1bLjE2LC4yLC4yNCwuMjgsLjMyXSx0PXtpZDoiMjAwMDMiLHNraWxsOiJTdGFzaXMiLGRlc2M6IklmIHRoZSB3ZWFyZXIncyBjdXJyZW50IEhQIGlzIGxvd2VyIHRoYW4gIzJbaV0lLCBpbmNyZWFzZXMgdGhlaXIgREVGIGJ5IGEgZnVydGhlciAjM1tpXSUuIixwYXJhbXM6W1suMTYsLjUsLjE2XSxbLjIsLjUsLjJdLFsuMjQsLjUsLjI0XSxbLjI4LC41LC4yOF0sWy4zMiwuNSwuMzJdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMTZ9XSxbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMn1dLFt7dHlwZToiRGVmZW5jZUFkZGVkUmF0aW8iLHZhbHVlOi4yNH1dLFt7dHlwZToiRGVmZW5jZUFkZGVkUmF0aW8iLHZhbHVlOi4yOH1dLFt7dHlwZToiRGVmZW5jZUFkZGVkUmF0aW8iLHZhbHVlOi4zMn1dXX0saT1be2xjOiEwLGlkOiJocDUwRGVmQnVmZiIsbmFtZToiaHA1MERlZkJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkhQIDwgNTAlIERFRiBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7aHA1MERlZkJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkRFRl9QXSs9bC5ocDUwRGVmQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LEhhPWU9Pntjb25zdCBhPVsuMDAzNiwuMDA0MiwuMDA0OCwuMDA1NCwuMDA2XSx0PXtpZDoiMjMwMTgiLHNraWxsOiJBIEtuaWdodCdzIFBpbGdyaW1hZ2UiLGRlc2M6IldoZW4gdGhlIHdlYXJlciB1c2VzIFVsdGltYXRlLCBpbmNyZWFzZXMgdGhlIHdlYXJlcidzIFVsdGltYXRlIERNRyBiYXNlZCBvbiB0aGVpciBNYXggRW5lcmd5LiBFYWNoIHBvaW50IG9mIEVuZXJneSBpbmNyZWFzZXMgdGhlIFVsdGltYXRlIERNRyBieSAjMltmMl0lLCB1cCB0byAjM1tpXSBwb2ludHMgb2YgRW5lcmd5LiIscGFyYW1zOltbLjM2LC4wMDM2LDE4MF0sWy40MiwuMDA0MiwxODBdLFsuNDgsLjAwNDgsMTgwXSxbLjU0LC4wMDU0LDE4MF0sWy42LC4wMDYsMTgwXV0scHJvcGVydGllczpbW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4zNn1dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouNDJ9XSxbe3R5cGU6IkNyaXRpY2FsRGFtYWdlQmFzZSIsdmFsdWU6LjQ4fV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi41NH1dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouNn1dXX0saT1be2xjOiEwLGlkOiJtYXhFbmVyZ3lVbHREbWdTdGFja3MiLG5hbWU6Im1heEVuZXJneVVsdERtZ1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDoiTWF4IEVuZXJneSIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KSxtaW46MCxtYXg6MTgwfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7bWF4RW5lcmd5VWx0RG1nU3RhY2tzOjE4MH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztrKHMsVSxsLm1heEVuZXJneVVsdERtZ1N0YWNrcyphW2VdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sT2E9ZT0+e2NvbnN0IGE9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLHQ9e2lkOiIyMDAwMCIsc2tpbGw6IkNyaXNpcyIsZGVzYzoiQXQgdGhlIHN0YXJ0IG9mIHRoZSBiYXR0bGUsIHRoZSB3ZWFyZXIncyBDUklUIFJhdGUgaW5jcmVhc2VzIGJ5ICMxW2ldJSBmb3IgIzJbaV0gdHVybihzKS4iLHBhcmFtczpbWy4xMiwzXSxbLjE1LDNdLFsuMTgsM10sWy4yMSwzXSxbLjI0LDNdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19LGk9W3tsYzohMCxpZDoiY3JpdEJ1ZmYiLG5hbWU6ImNyaXRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJJbml0aWFsIENSIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtjcml0QnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW24uQ1JdKz1sLmNyaXRCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sS2E9ZT0+e2NvbnN0IGE9Wy4yLC4yNSwuMywuMzUsLjRdLHQ9e2lkOiIyMTAxMiIsc2tpbGw6IlNwYXJlIE5vIEVmZm9ydCIsZGVzYzoiVGhlIHdlYXJlciBhbHNvIGRlYWxzIGFuIGV4dHJhICMyW2ldJSBvZiBETUcgdG8gZW5lbWllcyB3aG9zZSBjdXJyZW50IEhQIHBlcmNlbnRhZ2UgaXMgZXF1YWwgdG8gb3IgaGlnaGVyIHRoYW4gdGhlIHdlYXJlcidzIGN1cnJlbnQgSFAgcGVyY2VudGFnZS4iLHBhcmFtczpbWy4yLC4yXSxbLjI1LC4yNV0sWy4zLC4zXSxbLjM1LC4zNV0sWy40LC40XV0scHJvcGVydGllczpbW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjJ9XSxbe3R5cGU6IkFsbERhbWFnZVR5cGVBZGRlZFJhdGlvIix2YWx1ZTouMjV9XSxbe3R5cGU6IkFsbERhbWFnZVR5cGVBZGRlZFJhdGlvIix2YWx1ZTouM31dLFt7dHlwZToiQWxsRGFtYWdlVHlwZUFkZGVkUmF0aW8iLHZhbHVlOi4zNX1dLFt7dHlwZToiQWxsRGFtYWdlVHlwZUFkZGVkUmF0aW8iLHZhbHVlOi40fV1dfSxpPVt7bGM6ITAsaWQ6ImVuZW15SHBIaWdoZXJEbWdCb29zdCIsbmFtZToiZW5lbXlIcEhpZ2hlckRtZ0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSBIUCAlIGhpZ2hlciBETUcgYm9vc3QiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe2VuZW15SHBIaWdoZXJEbWdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLkVMRU1FTlRBTF9ETUcrPWFbZV0scy5FTEVNRU5UQUxfRE1HKz1sLmVuZW15SHBIaWdoZXJEbWdCb29zdD9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19O2NvbnN0IFRlPXtpZDoiMjMwMjAiLHNraWxsOiJNZW50YWwgVHJhaW5pbmciLGRlc2M6IkZvciBldmVyeSBkZWJ1ZmYgb24gdGhlIGVuZW15IHRhcmdldCwgdGhlIHdlYXJlcidzIENSSVQgRE1HIGRlYWx0IGFnYWluc3QgdGhpcyB0YXJnZXQgaW5jcmVhc2VzIGJ5ICMyW2ldJSwgc3RhY2tpbmcgdXAgdG8gIzNbaV0gdGltZXMuIixwYXJhbXM6W1suMiwuMDgsMywuMzYsLjI0LDJdLFsuMjMsLjA5LDMsLjQyLC4yOCwyXSxbLjI2LC4xLDMsLjQ4LC4zMiwyXSxbLjI5LC4xMSwzLC41NCwuMzYsMl0sWy4zMiwuMTIsMywuNiwuNCwyXV0scHJvcGVydGllczpbW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4yfV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4yM31dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouMjZ9XSxbe3R5cGU6IkNyaXRpY2FsRGFtYWdlQmFzZSIsdmFsdWU6LjI5fV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4zMn1dXX0sWWU9ey4uLlRlLGRlc2M6IldoZW4gdXNpbmcgVWx0aW1hdGUgdG8gYXR0YWNrIHRoZSBlbmVteSB0YXJnZXQsIHRoZSB3ZWFyZXIgcmVjZWl2ZXMgdGhlIERpc3B1dGF0aW9uIGVmZmVjdCwgd2hpY2ggaW5jcmVhc2VzIERNRyBkZWFsdCBieSAjNFtpXSUgYW5kIGVuYWJsZXMgdGhlaXIgZm9sbG93LXVwIGF0dGFja3MgdG8gaWdub3JlICM1W2ldJSBvZiB0aGUgdGFyZ2V0J3MgREVGLiBUaGlzIGVmZmVjdCBsYXN0cyBmb3IgIzZbaV0gdHVybnMuIn0sd2E9ZT0+e2NvbnN0IGE9Wy4wOCwuMDksLjEsLjExLC4xMl0sdD1bLjM2LC40MiwuNDgsLjU0LC42XSxpPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHM9W3tsYzohMCxmb3JtSXRlbToic2xpZGVyIixpZDoiZGVidWZmQ2RTdGFja3MiLG5hbWU6ImRlYnVmZkNkU3RhY2tzIix0ZXh0OiJEZWJ1ZmYgY3JpdCBkbWcgc3RhY2tzIix0aXRsZTpUZS5za2lsbCxjb250ZW50OmcoZSxUZSksbWluOjAsbWF4OjN9LHtsYzohMCxmb3JtSXRlbToic3dpdGNoIixpZDoicG9zdFVsdEJ1ZmYiLG5hbWU6InBvc3RVbHRCdWZmIix0ZXh0OiJEaXNwdXRhdGlvbiB1bHQgQ0QgLyBGVUEgREVGIFBFTiBidWZmIix0aXRsZTpZZS5za2lsbCxjb250ZW50OmcoZSxZZSl9XTtyZXR1cm57Y29udGVudDooKT0+cyxkZWZhdWx0czooKT0+KHtkZWJ1ZmZDZFN0YWNrczozLHBvc3RVbHRCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8sbCk9Pntjb25zdCBkPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bbi5DRF0rPWQuZGVidWZmQ2RTdGFja3MqYVtlXSxvLkVMRU1FTlRBTF9ETUcrPWQucG9zdFVsdEJ1ZmY/dFtlXTowLGFlKG8sUixpW2VdLGQucG9zdFVsdEJ1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fTt2YXIgRmE9ZT0+e2NvbnN0IGE9Wy4xOCwuMjEsLjI0LC4yNywuM10sdD1bLjQ4LC41NiwuNjQsLjcyLC44XSxpPXtpZDoiMjMwMTAiLHNraWxsOiJMb25nIE5pZ2h0IixkZXNjOiJJbmNyZWFzZXMgdGhlIHdlYXJlcidzIENSSVQgRE1HIGJ5ICMxW2ldJS4gSW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBTa2lsbCBhbmQgVWx0aW1hdGUgRE1HIGJ5ICMyW2ldJS4iLHBhcmFtczpbWy4zNiwuMTgsLjQ4XSxbLjQyLC4yMSwuNTZdLFsuNDgsLjI0LC42NF0sWy41NCwuMjcsLjcyXSxbLjYsLjMsLjhdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkNyaXRpY2FsRGFtYWdlQmFzZSIsdmFsdWU6LjM2fV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi40Mn1dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouNDh9XSxbe3R5cGU6IkNyaXRpY2FsRGFtYWdlQmFzZSIsdmFsdWU6LjU0fV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi42fV1dfSxzPXsuLi5pLGRlc2M6IkFmdGVyIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBTa2lsbCBvciBVbHRpbWF0ZSwgdGhleSBnYWluIFNvbW51cyBDb3JwdXMuIFVwb24gdHJpZ2dlcmluZyBhIGZvbGxvdy11cCBhdHRhY2ssIFNvbW51cyBDb3JwdXMgd2lsbCBiZSBjb25zdW1lZCBhbmQgdGhlIGZvbGxvdy11cCBhdHRhY2sgRE1HIGluY3JlYXNlcyBieSAjM1tpXSUuIn0sbz1be2xjOiEwLGlkOiJmdWFEbWdCb29zdCIsbmFtZToiZnVhRG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkZVQSBETUcgYm9vc3QiLHRpdGxlOmkuc2tpbGwsY29udGVudDpnKGUscyl9XTtyZXR1cm57Y29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHtmdWFEbWdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihsLGQpPT57Y29uc3QgQz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztrKGwsVnxVLGFbZV0pLGsobCxSLHRbZV0sQy5mdWFEbWdCb29zdCl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFZhPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxXYT1lPT57Y29uc3QgYT1bLjE4LC4yMSwuMjQsLjI3LC4zXSx0PVsuMDYsLjA3LC4wOCwuMDksLjFdLGk9e2lkOiIyMzAxNSIsc2tpbGw6IkRlZmlhbnQgVGlsbCBEZWF0aCIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIHVzZXMgdGhlaXIgQmFzaWMgQVRLLCB0aGV5IHdpbGwgZ2FpbiAxIHN0YWNrIG9mIERyYWdvbidzIENhbGwsIGxhc3RpbmcgZm9yICMyW2ldIHR1cm5zLiBFYWNoIHN0YWNrIG9mIERyYWdvbidzIENhbGwgaW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBBVEsgYnkgIzRbaV0lIGFuZCBFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUgYnkgIzVbZjFdJS4gRHJhZ29uJ3MgQ2FsbCBjYW4gYmUgc3RhY2tlZCB1cCB0byAjM1tpXSB0aW1lcy4iLHBhcmFtczpbWy4xOCwyLDIsLjE4LC4wNl0sWy4yMSwyLDIsLjIxLC4wN10sWy4yNCwyLDIsLjI0LC4wOF0sWy4yNywyLDIsLjI3LC4wOV0sWy4zLDIsMiwuMywuMV1dLHByb3BlcnRpZXM6W1t7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMTh9XSxbe3R5cGU6IkNyaXRpY2FsQ2hhbmNlQmFzZSIsdmFsdWU6LjIxfV0sW3t0eXBlOiJDcml0aWNhbENoYW5jZUJhc2UiLHZhbHVlOi4yNH1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMjd9XSxbe3R5cGU6IkNyaXRpY2FsQ2hhbmNlQmFzZSIsdmFsdWU6LjN9XV19LHM9W3tsYzohMCxpZDoiZHJhZ29uc0NhbGxTdGFja3MiLG5hbWU6ImRyYWdvbnNDYWxsU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJEcmFnb24ncyBDYWxsIHN0YWNrcyIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKSxtaW46MCxtYXg6Mn1dO3JldHVybntjb250ZW50OigpPT5zLGRlZmF1bHRzOigpPT4oe2RyYWdvbnNDYWxsU3RhY2tzOjJ9KSxwcmVjb21wdXRlRWZmZWN0czoobyxsKT0+e2NvbnN0IGQ9bC5saWdodENvbmVDb25kaXRpb25hbHM7b1tuLkFUS19QXSs9ZC5kcmFnb25zQ2FsbFN0YWNrcyphW2VdLG9bbi5FUlJdKz1kLmRyYWdvbnNDYWxsU3RhY2tzKnRbZV19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHphPWU9Pntjb25zdCBhPVsuMywuMzUsLjQsLjQ1LC41XSx0PXtpZDoiMjMwMDMiLHNraWxsOiJIZWlyIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBTa2lsbCwgdGhlIG5leHQgYWxseSB0YWtpbmcgYWN0aW9uIChleGNlcHQgdGhlIHdlYXJlcikgZGVhbHMgIzJbaV0lIG1vcmUgRE1HIGZvciAjM1tpXSB0dXJuKHMpLiIscGFyYW1zOltbLjEsLjMsMV0sWy4xMiwuMzUsMV0sWy4xNCwuNCwxXSxbLjE2LC40NSwxXSxbLjE4LC41LDFdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IlNQUmF0aW9CYXNlIix2YWx1ZTouMX1dLFt7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4xMn1dLFt7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4xNH1dLFt7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4xNn1dLFt7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4xOH1dXX0saT1be2xjOiEwLGlkOiJwb3N0U2tpbGxEbWdCdWZmIixuYW1lOiJwb3N0U2tpbGxEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJQb3N0IHNraWxsIERNRyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PltdLHRlYW1tYXRlQ29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHt9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3Bvc3RTa2lsbERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5FTEVNRU5UQUxfRE1HKz1sLnBvc3RTa2lsbERtZ0J1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSwkYT1lPT57Y29uc3QgYT1bLjEsLjEyNSwuMTUsLjE3NSwuMl0sdD1bLjEyLC4xNSwuMTgsLjIxLC4yNF0saT1bLjA2LC4wNzUsLjA5LC4xMDUsLjEyXSxzPXtpZDoiMjEwMzIiLHNraWxsOiJTZWNyZXQiLGRlc2M6YAogICAgICBBdCB0aGUgc3RhcnQgb2YgdGhlIGJhdHRsZSBhbmQgd2hlbmV2ZXIgdGhlIHdlYXJlcidzIHR1cm4gYmVnaW5zLCBvbmUgb2YgdGhlIGZvbGxvd2luZyBlZmZlY3RzIGlzIGFwcGxpZWQgcmFuZG9tbHk6CiAgICAgIDo6QlI6OgogICAgICBBbGwgYWxsaWVzJyBBVEsgaW5jcmVhc2VzIGJ5ICMxW2ldJQogICAgICA6OkJSOjoKICAgICAgQWxsIGFsbGllcycgQ1JJVCBETUcgaW5jcmVhc2VzIGJ5ICMyW2ldJQogICAgICA6OkJSOjoKICAgICAgQWxsIGFsbGllcycgRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIGluY3JlYXNlcyBieSAjM1tpXSUuCiAgICAgIDo6QlI6OgogICAgICBUaGUgYXBwbGllZCBlZmZlY3QgY2Fubm90IGJlIGlkZW50aWNhbCB0byB0aGUgbGFzdCBlZmZlY3QgYXBwbGllZCwgYW5kIHdpbGwgcmVwbGFjZSB0aGUgcHJldmlvdXMgZWZmZWN0LiBUaGUgYXBwbGllZCBlZmZlY3Qgd2lsbCBiZSByZW1vdmVkIHdoZW4gdGhlIHdlYXJlciBoYXMgYmVlbiBrbm9ja2VkIGRvd24uIEVmZmVjdHMgb2YgdGhlIHNpbWlsYXIgdHlwZSBjYW5ub3QgYmUgc3RhY2tlZC5gLHBhcmFtczpbWy4xLC4xMiwuMDZdLFsuMTI1LC4xNSwuMDc1XSxbLjE1LC4xOCwuMDldLFsuMTc1LC4yMSwuMTA1XSxbLjIsLjI0LC4xMl1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0sbz1be2xjOiEwLGlkOiJhdGtCdWZmQWN0aXZlIixuYW1lOiJhdGtCdWZmQWN0aXZlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJBVEsgYnVmZiBhY3RpdmUiLHRpdGxlOnMuc2tpbGwsY29udGVudDpnKGUscyl9LHtsYzohMCxpZDoiY2RCdWZmQWN0aXZlIixuYW1lOiJjZEJ1ZmZBY3RpdmUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkNEIGJ1ZmYgYWN0aXZlIix0aXRsZTpzLnNraWxsLGNvbnRlbnQ6ZyhlLHMpfSx7bGM6ITAsaWQ6ImVyckJ1ZmZBY3RpdmUiLG5hbWU6ImVyckJ1ZmZBY3RpdmUiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkVSUiBidWZmIGFjdGl2ZSIsdGl0bGU6cy5za2lsbCxjb250ZW50OmcoZSxzKX1dO3JldHVybntjb250ZW50OigpPT5vLHRlYW1tYXRlQ29udGVudDooKT0+byxkZWZhdWx0czooKT0+KHthdGtCdWZmQWN0aXZlOiEwLGNkQnVmZkFjdGl2ZTohMSxlcnJCdWZmQWN0aXZlOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHthdGtCdWZmQWN0aXZlOiEwLGNkQnVmZkFjdGl2ZTohMSxlcnJCdWZmQWN0aXZlOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihsLGQpPT57Y29uc3QgQz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsW24uQVRLX1BdKz1DLmF0a0J1ZmZBY3RpdmU/YVtlXTowLGxbbi5DRF0rPUMuY2RCdWZmQWN0aXZlP3RbZV06MCxsW24uRVJSXSs9Qy5lcnJCdWZmQWN0aXZlP2lbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWWE9ZT0+e2NvbnN0IGE9Wy4wOCwuMDksLjEsLjExLC4xMl0sdD17aWQ6IjIwMDA1Iixza2lsbDoiQ29uY2VydGVkIixkZXNjOiJBZnRlciBlbnRlcmluZyBiYXR0bGUsIGluY3JlYXNlcyB0aGUgQVRLIG9mIGFsbCBhbGxpZXMgYnkgIzFbaV0lLiBFZmZlY3RzIG9mIHRoZSBzYW1lIHR5cGUgY2Fubm90IHN0YWNrLiIscGFyYW1zOltbLjA4XSxbLjA5XSxbLjFdLFsuMTFdLFsuMTJdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19LGk9W3tsYzohMCxpZDoiaW5CYXR0bGVBdGtCdWZmIixuYW1lOiJpbkJhdHRsZUF0a0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkluaXRpYWwgQVRLIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7aW5CYXR0bGVBdGtCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtpbkJhdHRsZUF0a0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbbi5BVEtfUF0rPWwuaW5CYXR0bGVBdGtCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0seGE9ZT0+e2NvbnN0IGE9Wy4yLC4yNSwuMywuMzUsLjRdLHQ9e2lkOiIyMDAwMiIsc2tpbGw6Ikhhdm9jIixkZXNjOiJJbmNyZWFzZXMgdGhlIHdlYXJlcidzIEJhc2ljIEFUSyBhbmQgU2tpbGwgRE1HIGJ5ICMxW2ldJS4iLHBhcmFtczpbWy4yXSxbLjI1XSxbLjNdLFsuMzVdLFsuNF1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJiYXNpY1NraWxsRG1nQnVmZiIsbmFtZToiYmFzaWNTa2lsbERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkJhc2ljL1NraWxsIERNRyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YmFzaWNTa2lsbERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7ayhzLFd8VixhW2VdLGwuYmFzaWNTa2lsbERtZ0J1ZmYpfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxxYT1lPT57Y29uc3QgYT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sdD17aWQ6IjIwMDAxIixza2lsbDoiUHJvc3Blcml0eSIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIHVzZXMgdGhlaXIgU2tpbGwgb3IgVWx0aW1hdGUsIHRoZWlyIE91dGdvaW5nIEhlYWxpbmcgaW5jcmVhc2VzIGJ5ICMxW2ldJS4iLHBhcmFtczpbWy4xMl0sWy4xNV0sWy4xOF0sWy4yMV0sWy4yNF1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJoZWFsaW5nQnVmZiIsbmFtZToiaGVhbGluZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkhlYWxpbmcgYnVmZiIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2hlYWxpbmdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbbi5PSEJdKz1sLmhlYWxpbmdCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0samE9ZT0+e2NvbnN0IGE9Wy4wOCwuMSwuMTIsLjE0LC4xNl0sdD1bLjIsLjI1LC4zLC4zNSwuNF0saT17aWQ6IjI0MDAxIixza2lsbDoiQ2hhc2UiLGRlc2M6IkluY3JlYXNlcyB0aGUgd2VhcmVyJ3MgQ1JJVCByYXRlIGFnYWluc3QgZW5lbWllcyB3aXRoIEhQIGxlc3MgdGhhbiBvciBlcXVhbCB0byAjMltpXSUgYnkgYW4gZXh0cmEgIzNbaV0lLiIscGFyYW1zOltbLjA4LC41LC4wOCwuMiwyXSxbLjEsLjUsLjEsLjI1LDJdLFsuMTIsLjUsLjEyLC4zLDJdLFsuMTQsLjUsLjE0LC4zNSwyXSxbLjE2LC41LC4xNiwuNCwyXV0scHJvcGVydGllczpbW3t0eXBlOiJDcml0aWNhbENoYW5jZUJhc2UiLHZhbHVlOi4wOH1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMX1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMTJ9XSxbe3R5cGU6IkNyaXRpY2FsQ2hhbmNlQmFzZSIsdmFsdWU6LjE0fV0sW3t0eXBlOiJDcml0aWNhbENoYW5jZUJhc2UiLHZhbHVlOi4xNn1dXX0scz17Li4uaSxkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgZGVmZWF0cyBhbiBlbmVteSwgdGhlaXIgQVRLIGlzIGluY3JlYXNlZCBieSAjNFtpXSUgZm9yICM1W2ldIHR1cm4ocykuIn0sbz1be2xjOiEwLGlkOiJlbmVteUhwNTBDckJvb3N0IixuYW1lOiJlbmVteUhwNTBDckJvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSBIUCDiiaQgNTAlIENSIGJ1ZmYiLHRpdGxlOmkuc2tpbGwsY29udGVudDpnKGUsaSl9LHtsYzohMCxpZDoiZW5lbXlEZWZlYXRlZEF0a0J1ZmYiLG5hbWU6ImVuZW15RGVmZWF0ZWRBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSBkZWZlYXRlZCBBVEsgYnVmZiIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxzKX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2VuZW15SHA1MENyQm9vc3Q6ITEsZW5lbXlEZWZlYXRlZEF0a0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobCxkKT0+e2NvbnN0IEM9ZC5saWdodENvbmVDb25kaXRpb25hbHM7bFtuLkNSXSs9Qy5lbmVteUhwNTBDckJvb3N0P2FbZV06MCxsW24uQVRLX1BdKz1DLmVuZW15RGVmZWF0ZWRBdGtCdWZmP3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUWE9KCk9Pih7Y29udGVudDooKT0+W10sdGVhbW1hdGVDb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksSmE9ZT0+e2NvbnN0IGE9Wy4yNCwuMywuMzYsLjQyLC40OF0sdD17aWQ6IjIwMDA3Iixza2lsbDoiV2FyIENyeSIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIGRlZmVhdHMgYW4gZW5lbXksIGluY3JlYXNlcyBBVEsgYnkgIzFbaV0lIGZvciAjMltpXSB0dXJuKHMpLiIscGFyYW1zOltbLjI0LDNdLFsuMywzXSxbLjM2LDNdLFsuNDIsM10sWy40OCwzXV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6ImRlZmVhdGVkRW5lbXlBdGtCdWZmIixuYW1lOiJkZWZlYXRlZEVuZW15QXRrQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRGVmZWF0ZWQgZW5lbXkgQVRLIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkZWZlYXRlZEVuZW15QXRrQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW24uQVRLX1BdKz1sLmRlZmVhdGVkRW5lbXlBdGtCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWGE9ZT0+e2NvbnN0IGE9Wy4yOCwuMzUsLjQyLC40OSwuNTZdLHQ9e2lkOiIyMDAwNiIsc2tpbGw6IkxlYXJuZWQiLGRlc2M6IkluY3JlYXNlcyB0aGUgd2VhcmVyJ3MgVWx0aW1hdGUgRE1HIGJ5ICMxW2ldJS4iLHBhcmFtczpbWy4yOF0sWy4zNV0sWy40Ml0sWy40OV0sWy41Nl1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJ1bHREbWdCdWZmIixuYW1lOiJ1bHREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJVbHQgRE1HIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHt1bHREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2socyxVLGFbZV0sbC51bHREbWdCdWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sWmE9ZT0+e2NvbnN0IGE9Wy4wOCwuMDksLjEsLjExLC4xMl0sdD17aWQ6IjIxMDAyIixza2lsbDoiQXQgVGhpcyBWZXJ5IE1vbWVudCIsZGVzYzoiQWZ0ZXIgZW50ZXJpbmcgYmF0dGxlLCBpbmNyZWFzZXMgQWxsLVR5cGUgUkVTIG9mIGFsbCBhbGxpZXMgYnkgIzJbaV0lLiBFZmZlY3RzIG9mIHRoZSBzYW1lIHR5cGUgY2Fubm90IHN0YWNrLiIscGFyYW1zOltbLjE2LC4wOF0sWy4xOCwuMDldLFsuMiwuMV0sWy4yMiwuMTFdLFsuMjQsLjEyXV0scHJvcGVydGllczpbW3t0eXBlOiJEZWZlbmNlQWRkZWRSYXRpbyIsdmFsdWU6LjE2fV0sW3t0eXBlOiJEZWZlbmNlQWRkZWRSYXRpbyIsdmFsdWU6LjE4fV0sW3t0eXBlOiJEZWZlbmNlQWRkZWRSYXRpbyIsdmFsdWU6LjJ9XSxbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMjJ9XSxbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMjR9XV19LGk9W3tsYzohMCxpZDoiZG1nUmVzQnVmZiIsbmFtZToiZG1nUmVzQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRG1nIFJFUyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2RtZ1Jlc0J1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2RtZ1Jlc0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRE1HX1JFRF9NVUxUSSo9bC5kbWdSZXNCdWZmPzEtYVtlXToxfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxlbj0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksdG49ZT0+e2NvbnN0IGE9Wy4xLC4xMSwuMTIsLjEzLC4xNF0sdD1bLjI4LC4zNSwuNDIsLjQ5LC41Nl0saT17aWQ6IjIzMDIxIixza2lsbDoiQ2FwcmljaW91c25lc3MiLGRlc2M6IkF0IHRoZSBzdGFydCBvZiB0aGUgYmF0dGxlLCB0aGUgd2VhcmVyIGdhaW5zIE1hc2ssIGxhc3RpbmcgZm9yICM2W2ldIHR1cm4ocykuIFdoaWxlIHRoZSB3ZWFyZXIgaGFzIE1hc2ssIHRoZSB3ZWFyZXIncyBhbGxpZXMgaGF2ZSB0aGVpciBDUklUIFJhdGUgaW5jcmVhc2VkIGJ5ICM1W2ldJSBhbmQgdGhlaXIgQ1JJVCBETUcgaW5jcmVhc2VkIGJ5ICMyW2ldJS4gRm9yIGV2ZXJ5IDEgU2tpbGwgUG9pbnQgdGhlIHdlYXJlciByZWNvdmVycyAoaW5jbHVkaW5nIFNraWxsIFBvaW50cyB0aGF0IGV4Y2VlZCB0aGUgbGltaXQpLCB0aGV5IGdhaW4gMSBzdGFjayBvZiBSYWRpYW50IEZsYW1lLiBBbmQgd2hlbiB0aGUgd2VhcmVyIGhhcyAjNFtpXSBzdGFja3Mgb2YgUmFkaWFudCBGbGFtZSwgYWxsIHRoZSBzdGFja3MgYXJlIHJlbW92ZWQsIGFuZCB0aGV5IGdhaW4gTWFzayBmb3IgIzNbaV0gdHVybihzKS4iLHBhcmFtczpbWy4zMiwuMjgsNCw0LC4xLDNdLFsuMzksLjM1LDQsNCwuMTEsM10sWy40NiwuNDIsNCw0LC4xMiwzXSxbLjUzLC40OSw0LDQsLjEzLDNdLFsuNiwuNTYsNCw0LC4xNCwzXV0scHJvcGVydGllczpbW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4zMn1dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouMzl9XSxbe3R5cGU6IkNyaXRpY2FsRGFtYWdlQmFzZSIsdmFsdWU6LjQ2fV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi41M31dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouNn1dXX0scz1be2xjOiEwLGlkOiJtYXNrQWN0aXZlIixuYW1lOiJtYXNrQWN0aXZlIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJNYXNrIGFjdGl2ZSIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKX1dO3JldHVybntjb250ZW50OigpPT5zLHRlYW1tYXRlQ29udGVudDooKT0+cyxkZWZhdWx0czooKT0+KHttYXNrQWN0aXZlOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHttYXNrQWN0aXZlOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KG8sbCk9Pntjb25zdCBkPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bbi5DUl0rPWQubWFza0FjdGl2ZT9hW2VdOjAsb1tuLkNEXSs9ZC5tYXNrQWN0aXZlP3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sYW49ZT0+e2NvbnN0IGE9WzEyLDE0LDE2LDE4LDIwXSx0PXtpZDoiMjMwMDgiLHNraWxsOiJUaG9ybnMiLGRlc2M6IkFmdGVyIHRoZSB3ZWFyZXIgdXNlcyBhbiBhdHRhY2ssIGZvciBlYWNoIGRpZmZlcmVudCBlbmVteSB0YXJnZXQgdGhlIHdlYXJlciBoaXRzLCByZWdlbmVyYXRlcyAjM1tmMV0gRW5lcmd5LiBFYWNoIGF0dGFjayBjYW4gcmVnZW5lcmF0ZSBFbmVyZ3kgdXAgdG8gIzRbaV0gdGltZShzKSB0aGlzIHdheS4gQWZ0ZXIgdGhlIHdlYXJlciB1c2VzIHRoZWlyIFVsdGltYXRlLCBhbGwgYWxsaWVzIGdhaW4gIzJbaV0gU1BEIGZvciAxIHR1cm4uIixwYXJhbXM6W1suMjQsMTIsMywzXSxbLjI4LDE0LDMuNSwzXSxbLjMyLDE2LDQsM10sWy4zNiwxOCw0LjUsM10sWy40LDIwLDUsM11dLHByb3BlcnRpZXM6W1t7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjI0fV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMjh9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4zMn1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjM2fV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouNH1dXX0saT1be2xjOiEwLGlkOiJwb3N0VWx0U3BkQnVmZiIsbmFtZToicG9zdFVsdFNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlBvc3QgdWx0IFNQRCBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3Bvc3RVbHRTcGRCdWZmOiExfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtwb3N0VWx0U3BkQnVmZjohMX0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLlNQRF0rPWwucG9zdFVsdFNwZEJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxubj1lPT57Y29uc3QgYT1bLjI0LC4zLC4zNiwuNDIsLjQ4XTtyZXR1cm57Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6dD0+e2sodCxpZSxhW2VdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sc249ZT0+e2NvbnN0IGE9Wy4xNiwuMiwuMjQsLjI4LC4zMl0sdD17aWQ6IjIxMDIyIixza2lsbDoiU2VtaWJyZXZlIFJlc3QiLGRlc2M6IkluY3JlYXNlcyB0aGUgd2VhcmVyJ3MgRE1HIHRvIGVuZW1pZXMgYWZmbGljdGVkIHdpdGggU2hvY2sgb3IgV2luZCBTaGVhciBieSAjMltpXSUuIFRoaXMgYWxzbyBhcHBsaWVzIHRvIERvVC4iLHBhcmFtczpbWy4xNiwuMTZdLFsuMiwuMl0sWy4yNCwuMjRdLFsuMjgsLjI4XSxbLjMyLC4zMl1dLHByb3BlcnRpZXM6W1t7dHlwZToiQnJlYWtEYW1hZ2VBZGRlZFJhdGlvQmFzZSIsdmFsdWU6LjE2fV0sW3t0eXBlOiJCcmVha0RhbWFnZUFkZGVkUmF0aW9CYXNlIix2YWx1ZTouMn1dLFt7dHlwZToiQnJlYWtEYW1hZ2VBZGRlZFJhdGlvQmFzZSIsdmFsdWU6LjI0fV0sW3t0eXBlOiJCcmVha0RhbWFnZUFkZGVkUmF0aW9CYXNlIix2YWx1ZTouMjh9XSxbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOi4zMn1dXX0saT1be2xjOiEwLGlkOiJlbmVteVNob2NrV2luZFNoZWFyIixuYW1lOiJlbmVteVNob2NrV2luZFNoZWFyIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSBzaG9ja2VkIC8gd2luZCBzaGVhcmVkIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZW5lbXlTaG9ja1dpbmRTaGVhcjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLkVMRU1FTlRBTF9ETUcrPWwuZW5lbXlTaG9ja1dpbmRTaGVhcj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LG9uPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxsbj1lPT57Y29uc3QgYT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSx0PXtpZDoiMjEwMjAiLHNraWxsOiJFYWNoIE5vdyBIYXMgYSBSb2xlIHRvIFBsYXkiLGRlc2M6IldoZW4gdGhlIHdlYXJlciBkZWZlYXRzIGFuIGVuZW15LCB0aGUgd2VhcmVyJ3MgQ1JJVCBETUcgaW5jcmVhc2VzIGJ5ICMyW2ldJSBmb3IgIzNbaV0gdHVybihzKS4iLHBhcmFtczpbWy4xNiwuMjQsM10sWy4yLC4zLDNdLFsuMjQsLjM2LDNdLFsuMjgsLjQyLDNdLFsuMzIsLjQ4LDNdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4xNn1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjJ9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4yNH1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjI4fV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMzJ9XV19LGk9W3tsYzohMCxpZDoiZGVmZWF0ZWRFbmVteUNkQnVmZiIsbmFtZToiZGVmZWF0ZWRFbmVteUNkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRGVmZWF0ZWQgZW5lbXkgQ0QgYnVmZiIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2RlZmVhdGVkRW5lbXlDZEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkNEXSs9bC5kZWZlYXRlZEVuZW15Q2RCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scm49ZT0+e2NvbnN0IGE9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLHQ9e2lkOiIyMTAwMSIsc2tpbGw6IlRvaWxlciIsZGVzYzoiRm9yIGV2ZXJ5IGRlYnVmZiB0aGUgdGFyZ2V0IGVuZW15IGhhcywgdGhlIERNRyBkZWFsdCBieSB0aGUgd2VhcmVyIGluY3JlYXNlcyBieSAjMVtpXSUsIHN0YWNraW5nIHVwIHRvICMyW2ldIHRpbWUocykuIFRoaXMgZWZmZWN0IGFsc28gYXBwbGllcyB0byBEb1QuIixwYXJhbXM6W1suMTIsM10sWy4xNSwzXSxbLjE4LDNdLFsuMjEsM10sWy4yNCwzXV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6ImRlYnVmZlN0YWNrc0RtZ0luY3JlYXNlIixuYW1lOiJkZWJ1ZmZTdGFja3NEbWdJbmNyZWFzZSIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDoiRGVidWZmIHN0YWNrcyBETUcgaW5jcmVhc2UiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCksbWluOjAsbWF4OjN9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkZWJ1ZmZTdGFja3NEbWdJbmNyZWFzZTozfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5kZWJ1ZmZTdGFja3NEbWdJbmNyZWFzZSphW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxjbj1lPT57Y29uc3QgYT1bLjE2LC4xOSwuMjIsLjI1LC4yOF0sdD17aWQ6IjIyMDAxIixza2lsbDoiSSdtIE5vdCBBZnJhaWQhIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBTa2lsbCwgaW5jcmVhc2VzIE91dGdvaW5nIEhlYWxpbmcgYnkgIzJbaV0lLCBsYXN0aW5nIGZvciAjM1tpXSB0dXJuKHMpLiIscGFyYW1zOltbLjA4LC4xNiwyXSxbLjA5LC4xOSwyXSxbLjEsLjIyLDJdLFsuMTEsLjI1LDJdLFsuMTIsLjI4LDJdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkhQQWRkZWRSYXRpbyIsdmFsdWU6LjA4fV0sW3t0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4wOX1dLFt7dHlwZToiSFBBZGRlZFJhdGlvIix2YWx1ZTouMX1dLFt7dHlwZToiSFBBZGRlZFJhdGlvIix2YWx1ZTouMTF9XSxbe3R5cGU6IkhQQWRkZWRSYXRpbyIsdmFsdWU6LjEyfV1dfSxpPVt7bGM6ITAsaWQ6InBvc3RTa2lsbEhlYWxCdWZmIixuYW1lOiJwb3N0U2tpbGxIZWFsQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiUG9zdCBza2lsbCBoZWFsIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtwb3N0U2tpbGxIZWFsQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW24uT0hCXSs9bC5wb3N0U2tpbGxIZWFsQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGZuPWU9Pntjb25zdCBhPVsuNiwuNzUsLjksMS4wNSwxLjJdLHQ9e2lkOiIyMDAxOCIsc2tpbGw6Ik1lY2hhbmlzbSIsZGVzYzoiQWZ0ZXIgdXNpbmcgU2tpbGwsIHRoZSB3ZWFyZXIncyBuZXh0IEJhc2ljIEFUSyBkZWFscyBBZGRpdGlvbmFsIERNRyBlcXVhbCB0byAjMVtpXSUgb2YgQVRLIHRvIHRoZSB0YXJnZXQgZW5lbXkuIixwYXJhbXM6W1suNl0sWy43NV0sWy45XSxbMS4wNV0sWzEuMl1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJiYXNpY0F0a0J1ZmYiLG5hbWU6ImJhc2ljQXRrQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiQmFzaWMgQVRLIEFkZGl0aW9uYWwgRE1HIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YmFzaWNBdGtCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuQkFTSUNfU0NBTElORys9bC5iYXNpY0F0a0J1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx1bj1lPT57Y29uc3QgYT1bLjEyLC4xNCwuMTYsLjE4LC4yXSx0PVsuMTIsLjE0LC4xNiwuMTgsLjJdLGk9e2lkOiIyMzAwNyIsc2tpbGw6Ik1pcmFnZSBvZiBSZWFsaXR5IixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgZGVhbHMgRE1HIHRvIGFuIGVuZW15IHRoYXQgY3VycmVudGx5IGhhcyAjNFtpXSBvciBtb3JlIGRlYnVmZnMsIGluY3JlYXNlcyB0aGUgd2VhcmVyJ3MgQ1JJVCBSYXRlIGJ5ICM1W2ldJS4iLHBhcmFtczpbWy4yNCwxLC4xMiwzLC4xMl0sWy4yOCwxLC4xNCwzLC4xNF0sWy4zMiwxLC4xNiwzLC4xNl0sWy4zNiwxLC4xOCwzLC4xOF0sWy40LDEsLjIsMywuMl1dLHByb3BlcnRpZXM6W1t7dHlwZToiU3RhdHVzUHJvYmFiaWxpdHlCYXNlIix2YWx1ZTouMjR9XSxbe3R5cGU6IlN0YXR1c1Byb2JhYmlsaXR5QmFzZSIsdmFsdWU6LjI4fV0sW3t0eXBlOiJTdGF0dXNQcm9iYWJpbGl0eUJhc2UiLHZhbHVlOi4zMn1dLFt7dHlwZToiU3RhdHVzUHJvYmFiaWxpdHlCYXNlIix2YWx1ZTouMzZ9XSxbe3R5cGU6IlN0YXR1c1Byb2JhYmlsaXR5QmFzZSIsdmFsdWU6LjR9XV19LHM9ey4uLmksZGVzYzoiQWZ0ZXIgdGhlIHdlYXJlciB1c2VzIHRoZWlyIEJhc2ljIEFUSywgU2tpbGwsIG9yIFVsdGltYXRlLCB0aGVyZSBpcyBhIGNoYW5jZSB0byBpbXBsYW50IEFldGhlciBDb2RlIG9uIGEgcmFuZG9tIGhpdCB0YXJnZXQgdGhhdCBkb2VzIG5vdCB5ZXQgaGF2ZSBpdC4gVGFyZ2V0cyB3aXRoIEFldGhlciBDb2RlIHJlY2VpdmUgIzNbaV0lIGluY3JlYXNlZCBETUcgZm9yIDEgdHVybi4ifSxvPVt7bGM6ITAsaWQ6ImVuZW15M0RlYnVmZnNDckJvb3N0IixuYW1lOiJlbmVteTNEZWJ1ZmZzQ3JCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRW5lbXkg4omkIDMgZGVidWZmcyBDUiBidWZmIix0aXRsZTppLnNraWxsLGNvbnRlbnQ6ZyhlLGkpfSx7bGM6ITAsaWQ6InRhcmdldENvZGVEZWJ1ZmYiLG5hbWU6InRhcmdldENvZGVEZWJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlRhcmdldCBBZXRoZXIgQ29kZSBkZWJ1ZmYiLHRpdGxlOmkuc2tpbGwsY29udGVudDpnKGUscyl9XSxsPVtwKG8sInRhcmdldENvZGVEZWJ1ZmYiKV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sdGVhbW1hdGVDb250ZW50OigpPT5sLGRlZmF1bHRzOigpPT4oe2VuZW15M0RlYnVmZnNDckJvb3N0OiEwLHRhcmdldENvZGVEZWJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3RhcmdldENvZGVEZWJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooZCxDKT0+e2NvbnN0IEU9Qy5saWdodENvbmVDb25kaXRpb25hbHM7ZFtuLkNSXSs9RS5lbmVteTNEZWJ1ZmZzQ3JCb29zdD9hW2VdOjB9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihkLEMpPT57Y29uc3QgRT1DLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztkLlZVTE5FUkFCSUxJVFkrPUUudGFyZ2V0Q29kZURlYnVmZj90W2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LG1uPWU9Pntjb25zdCBhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHQ9e2lkOiIyMzAwNCIsc2tpbGw6IkluaGVyaXRvciIsZGVzYzoiSW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBETUcgdG8gZGVidWZmZWQgZW5lbWllcyBieSAjMVtpXSUuIixwYXJhbXM6W1suMjQsLjE4LC4yNF0sWy4yOCwuMjEsLjI4XSxbLjMyLC4yNCwuMzJdLFsuMzYsLjI3LC4zNl0sWy40LC4zLC40XV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPXsuLi50LGRlc2M6IldoZW4gdGhlIHdlYXJlciB1c2VzIHRoZWlyIFNraWxsLCB0aGUgRWZmZWN0IEhpdCBSYXRlIGZvciB0aGlzIGF0dGFjayBpbmNyZWFzZXMgYnkgIzJbaV0lLCBhbmQgQVRLIGluY3JlYXNlcyBieSAjM1tpXSUuIn0scz1be2xjOiEwLGlkOiJlbmVteURlYnVmZmVkRG1nQm9vc3QiLG5hbWU6ImVuZW15RGVidWZmZWREbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRW5lbXkgZGVidWZmZWQgRE1HIGJvb3N0Iix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfSx7bGM6ITAsaWQ6InNraWxsQXRrQm9vc3QiLG5hbWU6InNraWxsQXRrQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlNraWxsIEFUSyBib29zdCAobm90IGltcGxlbWVudGVkKSIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSxpKX1dO3JldHVybntjb250ZW50OigpPT5zLGRlZmF1bHRzOigpPT4oe2VuZW15RGVidWZmZWREbWdCb29zdDohMCxza2lsbEF0a0Jvb3N0OiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8sbCk9Pntjb25zdCBkPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO28uRUxFTUVOVEFMX0RNRys9ZC5lbmVteURlYnVmZmVkRG1nQm9vc3Q/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxkbj1lPT57Y29uc3QgYT1bLjA2LC4wNywuMDgsLjA5LC4xXSx0PVsuMTIsLjE0LC4xNiwuMTgsLjJdLGk9e2lkOiIyMzAwMSIsc2tpbGw6IkZsb3dlcnMgYW5kIEJ1dHRlcmZsaWVzIixkZXNjOiJXaGlsZSB0aGUgd2VhcmVyIGlzIGluIGJhdHRsZSwgZm9yIGV2ZXJ5ICMyW2ldIFNQRCB0aGF0IGV4Y2VlZHMgMTAwLCB0aGUgRE1HIG9mIHRoZSB3ZWFyZXIncyBCYXNpYyBBVEsgYW5kIFNraWxsIGlzIGluY3JlYXNlZCBieSAjM1tpXSUgYW5kIHRoZSBDUklUIERNRyBvZiB0aGVpciBVbHRpbWF0ZSBpcyBpbmNyZWFzZWQgYnkgIzRbaV0lLiBUaGlzIGVmZmVjdCBjYW4gc3RhY2sgdXAgdG8gIzVbaV0gdGltZShzKS4iLHBhcmFtczpbWy4xOCwxMCwuMDYsLjEyLDZdLFsuMjEsMTAsLjA3LC4xNCw2XSxbLjI0LDEwLC4wOCwuMTYsNl0sWy4yNywxMCwuMDksLjE4LDZdLFsuMywxMCwuMSwuMiw2XV0scHJvcGVydGllczpbW3t0eXBlOiJDcml0aWNhbENoYW5jZUJhc2UiLHZhbHVlOi4xOH1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMjF9XSxbe3R5cGU6IkNyaXRpY2FsQ2hhbmNlQmFzZSIsdmFsdWU6LjI0fV0sW3t0eXBlOiJDcml0aWNhbENoYW5jZUJhc2UiLHZhbHVlOi4yN31dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouM31dXX0scz1be2xjOiEwLGlkOiJzcGRTY2FsaW5nQnVmZnMiLG5hbWU6InNwZFNjYWxpbmdCdWZmcyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiU3BlZWQgc2NhbGluZyBidWZmcyBlbmFibGVkIix0aXRsZTppLnNraWxsLGNvbnRlbnQ6ZyhlLGkpfV07cmV0dXJue2NvbnRlbnQ6KCk9PnMsZGVmYXVsdHM6KCk9Pih7c3BkU2NhbGluZ0J1ZmZzOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOihvLGwpPT57Y29uc3QgZD1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscyxDPU1hdGgubWF4KDAsTWF0aC5taW4oNixNYXRoLmZsb29yKChvW24uU1BEXS0xMDApLzEwKSkpO2sobyxXfFYsQyphW2VdLGQuc3BkU2NhbGluZ0J1ZmZzKSxzZShvLFUsQyp0W2VdLGQuc3BkU2NhbGluZ0J1ZmZzKX0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6bz0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cmV0dXJuYAppZiAoJHskKGwuc3BkU2NhbGluZ0J1ZmZzKX0pIHsKICBsZXQgc3RhY2tzID0gbWF4KDAsIG1pbig2LCBmbG9vcigoeC5TUEQgLSAxMDApIC8gMTApKSk7CgogIGJ1ZmZBYmlsaXR5RG1nKHBfeCwgQkFTSUNfVFlQRSB8IFNLSUxMX1RZUEUsIHN0YWNrcyAqICR7YVtlXX0sIDEpOwogIGJ1ZmZBYmlsaXR5Q2QocF94LCBVTFRfVFlQRSwgc3RhY2tzICogJHt0W2VdfSwgMSk7Cn0KICAgIGB9fX0sU249ZT0+e2NvbnN0IGE9Wy4xNCwuMTY1LC4xOSwuMjE1LC4yNF0sdD1bLjEyLC4xNCwuMTYsLjE4LC4yXSxpPXtpZDoiMjMwMTQiLHNraWxsOiJXaXRoIFRoaXMgRXZlbmluZyBKYWRlIixkZXNjOiJXaGVuIGFuIGFsbHkgKGV4Y2x1ZGluZyB0aGUgd2VhcmVyKSBnZXRzIGF0dGFja2VkIG9yIGxvc2VzIEhQLCB0aGUgd2VhcmVyIGdhaW5zIDEgc3RhY2sgb2YgRWNsaXBzZSwgdXAgdG8gYSBtYXggb2YgIzJbaV0gc3RhY2socykuIEVhY2ggc3RhY2sgb2YgRWNsaXBzZSBpbmNyZWFzZXMgdGhlIERNRyBvZiB0aGUgd2VhcmVyJ3MgbmV4dCBhdHRhY2sgYnkgIzNbZjFdJS4iLHBhcmFtczpbWy4yLDMsLjE0LC4xMl0sWy4yMywzLC4xNjUsLjE0XSxbLjI2LDMsLjE5LC4xNl0sWy4yOSwzLC4yMTUsLjE4XSxbLjMyLDMsLjI0LC4yXV0scHJvcGVydGllczpbW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4yfV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4yM31dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouMjZ9XSxbe3R5cGU6IkNyaXRpY2FsRGFtYWdlQmFzZSIsdmFsdWU6LjI5fV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4zMn1dXX0scz17Li4uaSxkZXNjOiJXaGVuICMyW2ldIHN0YWNrKHMpIGFyZSByZWFjaGVkLCBhZGRpdGlvbmFsbHkgZW5hYmxlcyB0aGF0IGF0dGFjayB0byBpZ25vcmUgIzRbaV0lIG9mIHRoZSBlbmVteSdzIERFRi4gVGhpcyBlZmZlY3Qgd2lsbCBiZSByZW1vdmVkIGFmdGVyIHRoZSB3ZWFyZXIgdXNlcyBhbiBhdHRhY2suIn0sbz1be2xjOiEwLGlkOiJlY2xpcHNlU3RhY2tzIixuYW1lOiJlY2xpcHNlU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJFY2xpcHNlIHN0YWNrcyIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKSxtaW46MCxtYXg6M30se2xjOiEwLGlkOiJtYXhTdGFja0RlZlBlbiIsbmFtZToibWF4U3RhY2tEZWZQZW4iLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6Ik1heCBzdGFjayBERUYgcGVuIix0aXRsZTppLnNraWxsLGNvbnRlbnQ6ZyhlLHMpfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7ZWNsaXBzZVN0YWNrczozLG1heFN0YWNrRGVmUGVuOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGwsZCk9Pntjb25zdCBDPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO2wuRUxFTUVOVEFMX0RNRys9Qy5lY2xpcHNlU3RhY2tzKmFbZV0sbC5ERUZfUEVOKz1DLm1heFN0YWNrRGVmUGVuJiZDLmVjbGlwc2VTdGFja3M9PTM/dFtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxobj1lPT57Y29uc3QgYT1bLjE2LC4xOCwuMiwuMjIsLjI0XTtyZXR1cm57Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6dD0+e3QuRE1HX1JFRF9NVUxUSSo9MS1hW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxEbj1lPT57Y29uc3QgYT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSx0PXtpZDoiMjAwMTEiLHNraWxsOiJQdXJzdWl0IixkZXNjOiJJbmNyZWFzZXMgRE1HIGRlYWx0IGZyb20gaXRzIHdlYXJlciB0byBTbG93ZWQgZW5lbWllcyBieSAjMVtpXSUuIixwYXJhbXM6W1suMjRdLFsuM10sWy4zNl0sWy40Ml0sWy40OF1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJlbmVteVNsb3dlZERtZ0J1ZmYiLG5hbWU6ImVuZW15U2xvd2VkRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRW5lbXkgc2xvd2VkIERNRyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZW5lbXlTbG93ZWREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5lbmVteVNsb3dlZERtZ0J1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxDbj1lPT57Y29uc3QgYT1bLjMyLC40LC40OCwuNTYsLjY0XSx0PXtpZDoiMjEwMTMiLHNraWxsOiJUaGUgUG93ZXIgb2YgU291bmQiLGRlc2M6IlRoZSB3ZWFyZXIgcmVnZW5lcmF0ZXMgIzJbaV0gRW5lcmd5IGltbWVkaWF0ZWx5IHVwb24gZW50ZXJpbmcgYmF0dGxlLCBhbmQgaW5jcmVhc2VzIFVsdGltYXRlIERNRyBieSAjMVtpXSUuIixwYXJhbXM6W1suMzIsMjBdLFsuNCwyM10sWy40OCwyNl0sWy41NiwyOV0sWy42NCwzMl1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJ1bHREbWdCdWZmIixuYW1lOiJ1bHREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJVbHQgRE1HIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHt1bHREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2socyxVLGFbZV0sbC51bHREbWdCdWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRW49ZT0+e2NvbnN0IGE9WzEyLDE0LDE2LDE4LDIwXSx0PXtpZDoiMjAwMTkiLHNraWxsOiJGYW1pbHkiLGRlc2M6IlVwb24gZW50ZXJpbmcgYmF0dGxlLCBpbmNyZWFzZXMgU1BEIG9mIGFsbCBhbGxpZXMgYnkgIzFbaV0gcG9pbnRzIGZvciAjMltpXSB0dXJuKHMpLiIscGFyYW1zOltbMTIsMV0sWzE0LDFdLFsxNiwxXSxbMTgsMV0sWzIwLDFdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19LGk9W3tsYzohMCxpZDoiaW5pdGlhbFNwZEJ1ZmYiLG5hbWU6ImluaXRpYWxTcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJJbml0aWFsIFNQRCBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2luaXRpYWxTcGRCdWZmOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtpbml0aWFsU3BkQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLlNQRF0rPWwuaW5pdGlhbFNwZEJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxBbj0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksQm49KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLF9uPWU9Pntjb25zdCBhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHQ9e2lkOiIyMzAwNSIsc2tpbGw6IlZlcmRpY3QiLGRlc2M6IkluY3JlYXNlcyB0aGUgY2hhbmNlIGZvciB0aGUgd2VhcmVyIHRvIGJlIGF0dGFja2VkIGJ5IGVuZW1pZXMuIFdoZW4gdGhlIHdlYXJlciBpcyBhdHRhY2tlZCwgaW5jcmVhc2UgdGhlaXIgREVGIGJ5IGFuIGV4dHJhICMzW2ldJSB1bnRpbCB0aGUgZW5kIG9mIHRoZSB3ZWFyZXIncyB0dXJuLiIscGFyYW1zOltbMiwuMjQsLjI0LC4yNF0sWzIsLjI4LC4yOCwuMjhdLFsyLC4zMiwuMzIsLjMyXSxbMiwuMzYsLjM2LC4zNl0sWzIsLjQsLjQsLjRdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMjR9LHt0eXBlOiJTdGF0dXNQcm9iYWJpbGl0eUJhc2UiLHZhbHVlOi4yNH1dLFt7dHlwZToiRGVmZW5jZUFkZGVkUmF0aW8iLHZhbHVlOi4yOH0se3R5cGU6IlN0YXR1c1Byb2JhYmlsaXR5QmFzZSIsdmFsdWU6LjI4fV0sW3t0eXBlOiJEZWZlbmNlQWRkZWRSYXRpbyIsdmFsdWU6LjMyfSx7dHlwZToiU3RhdHVzUHJvYmFiaWxpdHlCYXNlIix2YWx1ZTouMzJ9XSxbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMzZ9LHt0eXBlOiJTdGF0dXNQcm9iYWJpbGl0eUJhc2UiLHZhbHVlOi4zNn1dLFt7dHlwZToiRGVmZW5jZUFkZGVkUmF0aW8iLHZhbHVlOi40fSx7dHlwZToiU3RhdHVzUHJvYmFiaWxpdHlCYXNlIix2YWx1ZTouNH1dXX0saT1be2xjOiEwLGlkOiJzZWxmQXR0YWNrZWREZWZCdWZmIixuYW1lOiJzZWxmQXR0YWNrZWREZWZCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJTZWxmIGF0dGFja2VkIERFRiBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7c2VsZkF0dGFja2VkRGVmQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW24uREVGX1BdKz1sLnNlbGZBdHRhY2tlZERlZkJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxnbj0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSkscG49ZT0+e2NvbnN0IGE9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLHQ9e2lkOiIyMDAxNiIsc2tpbGw6IkxlZ2lvbiIsZGVzYzoiSWYgdGhlIHdlYXJlcidzIGN1cnJlbnQgSFAgaXMgbG93ZXIgdGhhbiAjMVtpXSUsIENSSVQgUmF0ZSBpbmNyZWFzZXMgYnkgIzJbaV0lLiIscGFyYW1zOltbLjgsLjEyXSxbLjgsLjE1XSxbLjgsLjE4XSxbLjgsLjIxXSxbLjgsLjI0XV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6InNlbGZIcDgwQ3JCdWZmIixuYW1lOiJzZWxmSHA4MENyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiU2VsZiBIUCA8IDgwJSBDUiBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7c2VsZkhwODBDckJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkNSXSs9bC5zZWxmSHA4MENyQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFRuPWU9Pntjb25zdCBhPVsuMDI0LC4wMjgsLjAzMiwuMDM2LC4wNF0sdD17aWQ6IjIzMDE3Iixza2lsbDoiRGVlcCwgRGVlcCBCcmVhdGhzIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgcHJvdmlkZXMgaGVhbGluZyBmb3IgYW4gYWxseSwgaW5jcmVhc2VzIHRoZSBoZWFsZWQgYWxseSdzIEFUSyBieSAjM1tmMV0lLiBUaGlzIGVmZmVjdCBjYW4gc3RhY2sgdXAgdG8gIzRbaV0gdGltZXMgYW5kIGxhc3RzIGZvciAjNVtpXSB0dXJuKHMpLiIscGFyYW1zOltbLjEyLC4xLC4wMjQsNSwyXSxbLjE0LC4xMSwuMDI4LDUsMl0sWy4xNiwuMTIsLjAzMiw1LDJdLFsuMTgsLjEzLC4wMzYsNSwyXSxbLjIsLjE0LC4wNCw1LDJdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IlNQUmF0aW9CYXNlIix2YWx1ZTouMTJ9XSxbe3R5cGU6IlNQUmF0aW9CYXNlIix2YWx1ZTouMTR9XSxbe3R5cGU6IlNQUmF0aW9CYXNlIix2YWx1ZTouMTZ9XSxbe3R5cGU6IlNQUmF0aW9CYXNlIix2YWx1ZTouMTh9XSxbe3R5cGU6IlNQUmF0aW9CYXNlIix2YWx1ZTouMn1dXX0saT1be2xjOiEwLGlkOiJhdGtCdWZmU3RhY2tzIixuYW1lOiJhdGtCdWZmU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJBVEsgYnVmZiBzdGFja3MiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCksbWluOjAsbWF4OjV9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YXRrQnVmZlN0YWNrczo1fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHthdGtCdWZmU3RhY2tzOjV9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbbi5BVEtfUF0rPWwuYXRrQnVmZlN0YWNrcyphW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxibj1lPT57Y29uc3QgYT1bLjA5LC4xMDUsLjEyLC4xMzUsLjE1XSx0PVsuMywuMzUsLjQsLjQ1LC41XSxpPXtpZDoiMjMwMDAiLHNraWxsOiJNZXRlb3IgU3dhcm0iLGRlc2M6IkZvciBldmVyeSBlbmVteSBvbiB0aGUgZmllbGQsIGluY3JlYXNlcyB0aGUgd2VhcmVyJ3MgQVRLIGJ5ICMyW2YxXSUsIHVwIHRvIDUgc3RhY2tzLiIscGFyYW1zOltbLjMsLjA5XSxbLjM1LC4xMDVdLFsuNCwuMTJdLFsuNDUsLjEzNV0sWy41LC4xNV1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0scz17Li4uaSxkZXNjOiJXaGVuIGFuIGVuZW15IGlzIGluZmxpY3RlZCB3aXRoIFdlYWtuZXNzIEJyZWFrLCB0aGUgRE1HIGRlYWx0IGJ5IHRoZSB3ZWFyZXIgaW5jcmVhc2VzIGJ5ICMxW2ldJSBmb3IgMSB0dXJuLiJ9LG89W3tsYzohMCxpZDoiZW5lbXlDb3VudEF0a0J1ZmYiLG5hbWU6ImVuZW15Q291bnRBdGtCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSBjb3VudCBhdGsgYnVmZiIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKX0se2xjOiEwLGlkOiJlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmIixuYW1lOiJlbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSB3ZWFrbmVzcyBicmVhayBkbWcgYnVmZiIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxzKX1dO3JldHVybntjb250ZW50OigpPT5vLGRlZmF1bHRzOigpPT4oe2VuZW15Q291bnRBdGtCdWZmOiEwLGVuZW15V2Vha25lc3NCcmVha0RtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoobCxkKT0+e2NvbnN0IEM9ZC5saWdodENvbmVDb25kaXRpb25hbHM7bFtuLkFUS19QXSs9Qy5lbmVteUNvdW50QXRrQnVmZj9kLmVuZW15Q291bnQqYVtlXTowLGwuRUxFTUVOVEFMX0RNRys9Qy5lbmVteVdlYWtuZXNzQnJlYWtEbWdCdWZmP3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sa249KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLEluPWU9Pntjb25zdCBhPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSx0PXtpZDoiMjEwMDMiLHNraWxsOiJSZWNvcmQiLGRlc2M6IklmIHRoZXJlIGFyZSAyIG9yIGZld2VyIGVuZW1pZXMgb24gdGhlIGZpZWxkLCBpbmNyZWFzZXMgd2VhcmVyJ3MgQ1JJVCBSYXRlIGJ5ICMyW2ldJS4iLHBhcmFtczpbWy4xNiwuMTJdLFsuMiwuMTVdLFsuMjQsLjE4XSxbLjI4LC4yMV0sWy4zMiwuMjRdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4xNn1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjJ9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4yNH1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjI4fV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMzJ9XV19LGk9W3tsYzohMCxpZDoiZW5lbWllczJDckJ1ZmYiLG5hbWU6ImVuZW1pZXMyQ3JCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiLiiaQgMiBlbmVtaWVzIENSIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtlbmVtaWVzMkNyQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW24uQ1JdKz1sLmVuZW1pZXMyQ3JCdWZmJiZvLmVuZW15Q291bnQ8PTI/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx5bj1lPT57Y29uc3QgYT1bLjA4LC4xLC4xMiwuMTQsLjE2XSx0PVsuMTIsLjE1LC4xOCwuMjEsLjI0XSxpPXtpZDoiMjQwMDAiLHNraWxsOiJNb3RoIHRvIEZsYW1lcyIsZGVzYzoiV2hlbmV2ZXIgdGhlIHdlYXJlciBhdHRhY2tzLCB0aGVpciBBVEsgaXMgaW5jcmVhc2VkIGJ5ICMxW2ldJSBpbiB0aGlzIGJhdHRsZS4gVGhpcyBlZmZlY3QgY2FuIHN0YWNrIHVwIHRvICMyW2ldIHRpbWUocykuIixwYXJhbXM6W1suMDgsNCwuMTIsMl0sWy4xLDQsLjE1LDJdLFsuMTIsNCwuMTgsMl0sWy4xNCw0LC4yMSwyXSxbLjE2LDQsLjI0LDJdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19LHM9ey4uLmksZGVzYzoiQWZ0ZXIgYSBjaGFyYWN0ZXIgaW5mbGljdHMgV2Vha25lc3MgQnJlYWsgb24gYW4gZW5lbXksIHRoZSB3ZWFyZXIncyBETUcgaW5jcmVhc2VzIGJ5ICMzW2ldJSBmb3IgIzRbaV0gdHVybihzKS4ifSxvPVt7bGM6ITAsaWQ6ImF0a0Jvb3N0U3RhY2tzIixuYW1lOiJhdGtCb29zdFN0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDoiQVRLIGJvb3N0IHN0YWNrcyIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKSxtaW46MCxtYXg6NH0se2xjOiEwLGlkOiJ3ZWFrbmVzc0JyZWFrRG1nQnVmZiIsbmFtZToid2Vha25lc3NCcmVha0RtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IldlYWtuZXNzIGJyZWFrIERNRyBidWZmIix0aXRsZTppLnNraWxsLGNvbnRlbnQ6ZyhlLHMpfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7YXRrQm9vc3RTdGFja3M6NCx3ZWFrbmVzc0JyZWFrRG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihsLGQpPT57Y29uc3QgQz1kLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztsW24uQVRLX1BdKz1DLmF0a0Jvb3N0U3RhY2tzKmFbZV0sbC5FTEVNRU5UQUxfRE1HKz1DLndlYWtuZXNzQnJlYWtEbWdCdWZmP3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sTG49KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLEduPWU9Pntjb25zdCBhPVsuMTYsLjIsLjI0LC4yOCwuMzJdLGk9W3tsYzohMCxpZDoicG9zdFNraWxsRG1nQnVmZiIsbmFtZToicG9zdFNraWxsRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiUG9zdCBza2lsbCBETUcgYnVmZiIsdGl0bGU6IlBvc3Qgc2tpbGwgRE1HIGJ1ZmYiLGNvbnRlbnQ6ZyhlLHtpZDoiMjEwMjUiLHNraWxsOiJLaXRlcyBGcm9tIHRoZSBQYXN0IixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBTa2lsbCwgdGhlIG5leHQgYWxseSB0YWtpbmcgYWN0aW9uIChleGNlcHQgdGhlIHdlYXJlcikgZGVhbHMgIzFbaV0lIGluY3JlYXNlZCBETUcgZm9yICMyW2ldIHR1cm4ocykuIixwYXJhbXM6W1suMTYsMV0sWy4yLDFdLFsuMjQsMV0sWy4yOCwxXSxbLjMyLDFdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19KX1dO3JldHVybntjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7fSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtwb3N0U2tpbGxEbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5wb3N0U2tpbGxEbWdCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sTW49ZT0+e2NvbnN0IGE9Wy4yNCwuMjgsLjMyLC4zNiwuNF0sdD17aWQ6IjIzMDE5Iixza2lsbDoiVGhlIFBsdW0gRnJhZ3JhbmNlIEluIE15IEJvbmVzIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBVbHRpbWF0ZSwgaW5jcmVhc2VzIGFsbCBhbGxpZXMnIERNRyBieSAjMltpXSUsIGxhc3RpbmcgZm9yICMzW2ldIHR1cm4ocykuIixwYXJhbXM6W1suNiwuMjQsMywxLjUsMTBdLFsuNywuMjgsMywxLjUsMTIuNV0sWy44LC4zMiwzLDEuNSwxNV0sWy45LC4zNiwzLDEuNSwxNy41XSxbMSwuNCwzLDEuNSwyMF1dLHByb3BlcnRpZXM6W1t7dHlwZToiQnJlYWtEYW1hZ2VBZGRlZFJhdGlvQmFzZSIsdmFsdWU6LjZ9XSxbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOi43fV0sW3t0eXBlOiJCcmVha0RhbWFnZUFkZGVkUmF0aW9CYXNlIix2YWx1ZTouOH1dLFt7dHlwZToiQnJlYWtEYW1hZ2VBZGRlZFJhdGlvQmFzZSIsdmFsdWU6Ljl9XSxbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOjF9XV19LGk9W3tsYzohMCxpZDoicG9zdFVsdERtZ0J1ZmYiLG5hbWU6InBvc3RVbHREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJQb3N0IFVsdCBETUcgYnVmZiIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX1dO3JldHVybntjb250ZW50OigpPT5pLHRlYW1tYXRlQ29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtwb3N0VWx0RG1nQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7cG9zdFVsdERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5wb3N0VWx0RG1nQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFJuPWU9Pntjb25zdCBhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHQ9Wy4wNDgsLjA1NiwuMDY0LC4wNzIsLjA4XSxpPXtpZDoiMjMwMDYiLHNraWxsOiJTcGlkZXIgV2ViIixkZXNjOiJJbmNyZWFzZXMgRE1HIGRlYWx0IGJ5IHRoZSB3ZWFyZXIgYnkgIzJbaV0lLiIscGFyYW1zOltbLjYsLjI0LC4wNDgsMywxXSxbLjcsLjI4LC4wNTYsMywxXSxbLjgsLjMyLC4wNjQsMywxXSxbLjksLjM2LC4wNzIsMywxXSxbMSwuNCwuMDgsMywxXV0scHJvcGVydGllczpbW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjI0fV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjI4fV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjMyfV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjM2fV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjR9XV19LHM9ey4uLmksZGVzYzoiQWZ0ZXIgZXZlcnkgYXR0YWNrIGxhdW5jaGVkIGJ5IHdlYXJlciwgdGhlaXIgU1BEIGluY3JlYXNlcyBieSAjM1tmMV0lLCBzdGFja2luZyB1cCB0byAjNFtpXSB0aW1lcy4ifSxvPXsuLi5pLGRlc2M6IklmIHRoZSB3ZWFyZXIgaGl0cyBhbiBlbmVteSB0YXJnZXQgdGhhdCBpcyBub3QgYWZmbGljdGVkIGJ5IEVyb2RlLCB0aGVyZSBpcyBhIDEwMCUgYmFzZSBjaGFuY2UgdG8gaW5mbGljdCBFcm9kZSB0byB0aGUgdGFyZ2V0LiBFbmVtaWVzIGFmZmxpY3RlZCB3aXRoIEVyb2RlIGFyZSBhbHNvIGNvbnNpZGVyZWQgdG8gYmUgU2hvY2tlZCBhbmQgd2lsbCByZWNlaXZlIExpZ2h0bmluZyBEb1QgYXQgdGhlIHN0YXJ0IG9mIGVhY2ggdHVybiBlcXVhbCB0byAjMVtpXSUgb2YgdGhlIHdlYXJlcidzIEFUSywgbGFzdGluZyBmb3IgIzVbaV0gdHVybihzKS4ifSxsPVt7bGM6ITAsaWQ6InNwZFN0YWNrcyIsbmFtZToic3BkU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJTUEQgU3RhY2tzIix0aXRsZTppLnNraWxsLGNvbnRlbnQ6ZyhlLHMpLG1pbjowLG1heDozfSx7bGM6ITAsaWQ6ImRvdEVmZmVjdCIsbmFtZToiZG90RWZmZWN0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJEb1QgRWZmZWN0IChub3QgaW1wbGVtZW50ZWQpIix0aXRsZTppLnNraWxsLGNvbnRlbnQ6ZyhlLG8pfV07cmV0dXJue2NvbnRlbnQ6KCk9PmwsZGVmYXVsdHM6KCk9Pih7c3BkU3RhY2tzOjMsZG90RWZmZWN0OiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KGQsQyk9Pntjb25zdCBFPUMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2Rbbi5TUERfUF0rPUUuc3BkU3RhY2tzKnRbZV0sZC5FTEVNRU5UQUxfRE1HKz1hW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxQbj1lPT57Y29uc3QgYT1bLjMzLC4zNiwuMzksLjQyLC40NV0sdD1bLjE1LC4xOCwuMjEsLjI0LC4yN10saT17aWQ6IjIxMDE0Iixza2lsbDoiUmVmcmFjdGlvbiBvZiBTaWdodGxpbmUiLGRlc2M6IkluY3JlYXNlcyB0aGUgd2VhcmVyJ3MgT3V0Z29pbmcgSGVhbGluZyBieSBhbiBhbW91bnQgdGhhdCBpcyBlcXVhbCB0byAjMltpXSUgb2YgRWZmZWN0IFJFUy4gT3V0Z29pbmcgSGVhbGluZyBjYW4gYmUgaW5jcmVhc2VkIHRoaXMgd2F5IGJ5IHVwIHRvICMzW2ldJS4iLHBhcmFtczpbWy4xNiwuMzMsLjE1XSxbLjIsLjM2LC4xOF0sWy4yNCwuMzksLjIxXSxbLjI4LC40MiwuMjRdLFsuMzIsLjQ1LC4yN11dLHByb3BlcnRpZXM6W1t7dHlwZToiU3RhdHVzUmVzaXN0YW5jZUJhc2UiLHZhbHVlOi4xNn1dLFt7dHlwZToiU3RhdHVzUmVzaXN0YW5jZUJhc2UiLHZhbHVlOi4yfV0sW3t0eXBlOiJTdGF0dXNSZXNpc3RhbmNlQmFzZSIsdmFsdWU6LjI0fV0sW3t0eXBlOiJTdGF0dXNSZXNpc3RhbmNlQmFzZSIsdmFsdWU6LjI4fV0sW3t0eXBlOiJTdGF0dXNSZXNpc3RhbmNlQmFzZSIsdmFsdWU6LjMyfV1dfSxzPVt7bGM6ITAsaWQ6InJlc1RvSGVhbGluZ0Jvb3N0IixuYW1lOiJyZXNUb0hlYWxpbmdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiUkVTIHRvIGhlYWxpbmcgYm9vc3QiLHRpdGxlOmkuc2tpbGwsY29udGVudDpnKGUsaSl9XTtyZXR1cm57Y29udGVudDooKT0+cyxkZWZhdWx0czooKT0+KHtyZXNUb0hlYWxpbmdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobyxsKT0+e30sZHluYW1pY0NvbmRpdGlvbmFsczpbe2lkOiJQZXJmZWN0VGltaW5nQ29uZGl0aW9uYWwiLHR5cGU6di5BQklMSVRZLGFjdGl2YXRpb246UC5TSU5HTEUsZGVwZW5kc09uOltuLlJFU10sY29uZGl0aW9uOmZ1bmN0aW9uKG8sbCxkKXtyZXR1cm4gbC5saWdodENvbmVDb25kaXRpb25hbHMucmVzVG9IZWFsaW5nQm9vc3R9LGVmZmVjdDoobyxsLGQpPT57Y29uc3QgQz1NYXRoLm1pbih0W2VdLGFbZV0qb1tuLlJFU10pO0YobyxsLGQsbi5PSEIsQyl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgKCpwX3N0YXRlKS5QZXJmZWN0VGltaW5nQ29uZGl0aW9uYWwgPT0gMC4wCikgewogICgqcF9zdGF0ZSkuUGVyZmVjdFRpbWluZ0NvbmRpdGlvbmFsID0gMS4wOwogIAogIGxldCBib29zdCA9IG1pbigke3RbZV19LCAke2FbZV19ICogeC5SRVMpOwogIGJ1ZmZEeW5hbWljT0hCKGJvb3N0LCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19XX19LFVuPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSx2bj1lPT57Y29uc3QgYT1bLjEyLC4xNSwuMTgsLjIxLC4yNF0sdD17aWQ6IjIxMDExIixza2lsbDoiRGVwYXJ0dXJlIixkZXNjOiJBZnRlciBlbnRlcmluZyBiYXR0bGUsIGlmIGFuIGFsbHkgZGVhbHMgdGhlIHNhbWUgRE1HIFR5cGUgYXMgdGhlIHdlYXJlciwgRE1HIGRlYWx0IGluY3JlYXNlcyBieSAjMVtpXSUuIixwYXJhbXM6W1suMTJdLFsuMTVdLFsuMThdLFsuMjFdLFsuMjRdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19LGk9W3tsYzohMCxpZDoiYWxsaWVzU2FtZUVsZW1lbnQiLG5hbWU6ImFsbGllc1NhbWVFbGVtZW50Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJTYW1lIGVsZW1lbnQgYWxseSBETUcgYm9vc3QiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YWxsaWVzU2FtZUVsZW1lbnQ6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2FsbGllc1NhbWVFbGVtZW50OiEwfSkscHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5FTEVNRU5UQUxfRE1HKz1sLmFsbGllc1NhbWVFbGVtZW50P2FbZV06MH0scHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5hbGxpZXNTYW1lRWxlbWVudD9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LE5uPWU9Pntjb25zdCBhPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSx0PXtpZDoiMjEwMDAiLHNraWxsOiJNdXR1YWwgSGVhbGluZyIsZGVzYzoiSW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBPdXRnb2luZyBIZWFsaW5nIHdoZW4gdGhleSB1c2UgdGhlaXIgVWx0aW1hdGUgYnkgIzJbaV0lLiIscGFyYW1zOltbLjA4LC4xMl0sWy4xLC4xNV0sWy4xMiwuMThdLFsuMTQsLjIxXSxbLjE2LC4yNF1dLHByb3BlcnRpZXM6W1t7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4wOH1dLFt7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4xfV0sW3t0eXBlOiJTUFJhdGlvQmFzZSIsdmFsdWU6LjEyfV0sW3t0eXBlOiJTUFJhdGlvQmFzZSIsdmFsdWU6LjE0fV0sW3t0eXBlOiJTUFJhdGlvQmFzZSIsdmFsdWU6LjE2fV1dfSxpPVt7bGM6ITAsaWQ6InBvc3RVbHRIZWFsaW5nQm9vc3QiLG5hbWU6InBvc3RVbHRIZWFsaW5nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlVsdCBoZWFsaW5nIGJvb3N0Iix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7cG9zdFVsdEhlYWxpbmdCb29zdDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW24uT0hCXSs9bC5wb3N0VWx0SGVhbGluZ0Jvb3N0P2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSG49KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLE9uPWU9Pntjb25zdCBhPVsuMDUsLjA2LC4wNywuMDgsLjA5XSx0PVsuMDcyLC4wNzksLjA4NiwuMDkzLC4xXSxpPXtpZDoiMjMwMjIiLHNraWxsOiJDcnlzdGFsbGl6ZSIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIGRlYWxzIERNRyB0byBhbiBlbmVteSBpbmZsaWN0ZWQgd2l0aCBXaW5kIFNoZWFyLCBCdXJuLCBTaG9jaywgb3IgQmxlZWQsIGVhY2ggcmVzcGVjdGl2ZWx5IGdyYW50cyAxIHN0YWNrIG9mIFByb3BoZXQsIHN0YWNraW5nIHVwIHRvICM0W2ldIHRpbWUocykuIEluIGEgc2luZ2xlIGJhdHRsZSwgb25seSAxIHN0YWNrIG9mIFByb3BoZXQgY2FuIGJlIGdyYW50ZWQgZm9yIGVhY2ggdHlwZSBvZiBEb1QuIEV2ZXJ5IHN0YWNrIG9mIFByb3BoZXQgaW5jcmVhc2VzIHdlYXJlcidzIEFUSyBieSAjMltpXSUgYW5kIGVuYWJsZXMgdGhlIERvVCBkZWFsdCB0byBpZ25vcmUgIzNbZjFdJSBvZiB0aGUgdGFyZ2V0J3MgREVGLiIscGFyYW1zOltbLjQsLjA1LC4wNzIsNF0sWy40NSwuMDYsLjA3OSw0XSxbLjUsLjA3LC4wODYsNF0sWy41NSwuMDgsLjA5Myw0XSxbLjYsLjA5LC4xLDRdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IlN0YXR1c1Byb2JhYmlsaXR5QmFzZSIsdmFsdWU6LjR9XSxbe3R5cGU6IlN0YXR1c1Byb2JhYmlsaXR5QmFzZSIsdmFsdWU6LjQ1fV0sW3t0eXBlOiJTdGF0dXNQcm9iYWJpbGl0eUJhc2UiLHZhbHVlOi41fV0sW3t0eXBlOiJTdGF0dXNQcm9iYWJpbGl0eUJhc2UiLHZhbHVlOi41NX1dLFt7dHlwZToiU3RhdHVzUHJvYmFiaWxpdHlCYXNlIix2YWx1ZTouNn1dXX0scz1be2xjOiEwLGlkOiJwcm9waGV0U3RhY2tzIixuYW1lOiJwcm9waGV0U3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJQcm9waGV0IHN0YWNrcyIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKSxtaW46MCxtYXg6NH1dO3JldHVybntjb250ZW50OigpPT5zLGRlZmF1bHRzOigpPT4oe3Byb3BoZXRTdGFja3M6NH0pLHByZWNvbXB1dGVFZmZlY3RzOihvLGwpPT57Y29uc3QgZD1sLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztvW24uQVRLX1BdKz1kLnByb3BoZXRTdGFja3MqYVtlXSxhZShvLGllLGQucHJvcGhldFN0YWNrcyp0W2VdKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sS249ZT0+e2NvbnN0IGE9Wy4xMiwuMTMsLjE0LC4xNSwuMTZdLHQ9e2lkOiIyMTAxNSIsc2tpbGw6IkdsYW5jZSBCYWNrIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgaGl0cyBhbiBlbmVteSBhbmQgaWYgdGhlIGhpdCBlbmVteSBpcyBub3QgYWxyZWFkeSBFbnNuYXJlZCwgdGhlbiB0aGVyZSBpcyBhIGNoYW5jZSB0byBFbnNuYXJlIHRoZSBoaXQgZW5lbXkuIEVuc25hcmVkIGVuZW1pZXMnIERFRiBkZWNyZWFzZXMgYnkgIzJbaV0lIGZvciAjM1tpXSB0dXJuKHMpLiIscGFyYW1zOltbLjYsLjEyLDFdLFsuNywuMTMsMV0sWy44LC4xNCwxXSxbLjksLjE1LDFdLFsxLC4xNiwxXV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6InRhcmdldEVuc25hcmVkIixuYW1lOiJ0YXJnZXRFbnNuYXJlZCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiVGFyZ2V0IGVuc25hcmVkIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3RhcmdldEVuc25hcmVkOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRFbnNuYXJlZDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5ERUZfUEVOKz1sLnRhcmdldEVuc25hcmVkP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sd249KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLEZuPWU9Pntjb25zdCBhPVsuMDgsLjA5LC4xLC4xMSwuMTJdLHQ9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLGk9e2lkOiIyMTAyNCIsc2tpbGw6IlN0YXZlIE9mZiB0aGUgTGluZ2VyaW5nIENvbGQiLGRlc2M6IkFmdGVyIGVudGVyaW5nIGJhdHRsZSwgaW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBTUEQgYnkgIzFbaV0lIGFuZCBETUcgYnkgIzJbaV0lLiBXaGVuIHRoZSB3ZWFyZXIgdGFrZXMgRE1HLCB0aGlzIGVmZmVjdCB3aWxsIGRpc2FwcGVhci4gVGhpcyBlZmZlY3Qgd2lsbCByZXN1bWUgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgd2VhcmVyJ3MgbmV4dCB0dXJuLiIscGFyYW1zOltbLjA4LC4xMl0sWy4wOSwuMTVdLFsuMSwuMThdLFsuMTEsLjIxXSxbLjEyLC4yNF1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0scz1be2xjOiEwLGlkOiJzcGREbWdCdWZmIixuYW1lOiJzcGREbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJTUEQgLyBETUcgYnVmZiBhY3RpdmUiLHRpdGxlOmkuc2tpbGwsY29udGVudDpnKGUsaSl9XTtyZXR1cm57Y29udGVudDooKT0+cyxkZWZhdWx0czooKT0+KHtzcGREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8sbCk9Pntjb25zdCBkPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bbi5TUERfUF0rPWQuc3BkRG1nQnVmZj9hW2VdOjAsby5FTEVNRU5UQUxfRE1HKz1kLnNwZERtZ0J1ZmY/dFtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxWbj1lPT57Y29uc3QgYT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSx0PXtpZDoiMjAwMjAiLHNraWxsOiJHZW5pdXMiLGRlc2M6IldoZW4gdGhlIHdlYXJlciB1c2VzIHRoZWlyIFVsdGltYXRlLCBpbmNyZWFzZXMgQVRLIGJ5ICMxW2ldJSBmb3IgIzJbaV0gdHVybihzKS4iLHBhcmFtczpbWy4yNCwyXSxbLjMsMl0sWy4zNiwyXSxbLjQyLDJdLFsuNDgsMl1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJwb3N0VWx0QXRrQnVmZiIsbmFtZToicG9zdFVsdEF0a0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlBvc3QgdWx0IEFUSyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7cG9zdFVsdEF0a0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkFUS19QXSs9bC5wb3N0VWx0QXRrQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFduPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSx6bj1lPT57Y29uc3QgYT1bLjIsLjI1LC4zLC4zNSwuNF0sdD17aWQ6IjIwMDA5Iixza2lsbDoiRXJhZGljYXRpb24iLGRlc2M6IlRoZSB3ZWFyZXIgZGVhbHMgIzJbaV0lIG1vcmUgRE1HIHRvIGVuZW15IHRhcmdldHMgd2hvc2UgSFAgcGVyY2VudGFnZSBpcyBncmVhdGVyIHRoYW4gIzFbaV0lLiIscGFyYW1zOltbLjUsLjJdLFsuNSwuMjVdLFsuNSwuM10sWy41LC4zNV0sWy41LC40XV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6ImVuZW15SHA1MEJ1ZmYiLG5hbWU6ImVuZW15SHA1MEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkVuZW15IEhQID4gNTAlIERNRyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZW5lbXlIcDUwQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLkVMRU1FTlRBTF9ETUcrPWwuZW5lbXlIcDUwQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LCRuPWU9Pntjb25zdCBhPVsuMDksLjEwNSwuMTIsLjEzNSwuMTVdLHQ9e2lkOiIyMzAxMSIsc2tpbGw6IlZpc2lvc2NhcGUiLGRlc2M6IldoZW4gdGhlIHdlYXJlcidzIEhQIGlzIHJlZHVjZWQsIGFsbCBhbGxpZXMnIERNRyBkZWFsdCBpbmNyZWFzZXMgYnkgIzJbZjFdJSwgbGFzdGluZyBmb3IgIzVbaV0gdHVybihzKS4iLHBhcmFtczpbWy4yNCwuMDksLjgsLjEyLDJdLFsuMjgsLjEwNSwuODUsLjE0LDJdLFsuMzIsLjEyLC45LC4xNiwyXSxbLjM2LC4xMzUsLjk1LC4xOCwyXSxbLjQsLjE1LDEsLjIsMl1dLHByb3BlcnRpZXM6W1t7dHlwZToiSFBBZGRlZFJhdGlvIix2YWx1ZTouMjR9LHt0eXBlOiJTUFJhdGlvQmFzZSIsdmFsdWU6LjEyfV0sW3t0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4yOH0se3R5cGU6IlNQUmF0aW9CYXNlIix2YWx1ZTouMTR9XSxbe3R5cGU6IkhQQWRkZWRSYXRpbyIsdmFsdWU6LjMyfSx7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4xNn1dLFt7dHlwZToiSFBBZGRlZFJhdGlvIix2YWx1ZTouMzZ9LHt0eXBlOiJTUFJhdGlvQmFzZSIsdmFsdWU6LjE4fV0sW3t0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi40fSx7dHlwZToiU1BSYXRpb0Jhc2UiLHZhbHVlOi4yfV1dfSxpPVt7bGM6ITAsaWQ6ImhwTG9zdERtZ0J1ZmYiLG5hbWU6ImhwTG9zdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkhQIGxvc3QgRE1HIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7aHBMb3N0RG1nQnVmZjohMH0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7aHBMb3N0RG1nQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5FTEVNRU5UQUxfRE1HKz1sLmhwTG9zdERtZ0J1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxZbj1lPT57Y29uc3QgYT1bLjM2LC40MiwuNDgsLjU0LC42XSx0PXtpZDoiMjMwMTIiLHNraWxsOiJTd2VldCBEcmVhbXMiLGRlc2M6IldoZW4gdGhlIHdlYXJlcidzIEJhc2ljIEFUSyBvciBTa2lsbCBkb2VzIG5vdCByZXN1bHQgaW4gYSBDUklUIEhpdCwgaW5jcmVhc2VzIHRoZWlyIENSSVQgUmF0ZSBieSAjMltpXSUgZm9yICMzW2ldIHR1cm4ocykuIFRoaXMgZWZmZWN0IGNhbiBvbmx5IHRyaWdnZXIgb25jZSBldmVyeSAjNFtpXSB0dXJuKHMpLiIscGFyYW1zOltbLjMsLjM2LDEsM10sWy4zNSwuNDIsMSwzXSxbLjQsLjQ4LDEsM10sWy40NSwuNTQsMSwzXSxbLjUsLjYsMSwzXV0scHJvcGVydGllczpbW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4zfV0sW3t0eXBlOiJDcml0aWNhbERhbWFnZUJhc2UiLHZhbHVlOi4zNX1dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouNH1dLFt7dHlwZToiQ3JpdGljYWxEYW1hZ2VCYXNlIix2YWx1ZTouNDV9XSxbe3R5cGU6IkNyaXRpY2FsRGFtYWdlQmFzZSIsdmFsdWU6LjV9XV19LGk9W3tsYzohMCxpZDoibWlzc2VkQ3JpdENyQnVmZiIsbmFtZToibWlzc2VkQ3JpdENyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiTWlzc2VkIGNyaXQgQ1IgYnVmZiIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe21pc3NlZENyaXRDckJ1ZmY6ITF9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkNSXSs9bC5taXNzZWRDcml0Q3JCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0seG49ZT0+e2NvbnN0IGE9Wy4yNCwuMywuMzYsLjQyLC40OF0sdD17aWQ6IjI0MDAzIixza2lsbDoiQ2hhb3MgRWxpeGlyIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBVbHRpbWF0ZSwgaW5jcmVhc2VzIERvVCBkZWFsdCBieSB0aGUgd2VhcmVyIGJ5ICMyW2ldJSwgbGFzdGluZyBmb3IgIzNbaV0gdHVybihzKS4iLHBhcmFtczpbWy4yLC4yNCwyLDRdLFsuMjUsLjMsMiw0LjVdLFsuMywuMzYsMiw1XSxbLjM1LC40MiwyLDUuNV0sWy40LC40OCwyLDZdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOi4yfV0sW3t0eXBlOiJCcmVha0RhbWFnZUFkZGVkUmF0aW9CYXNlIix2YWx1ZTouMjV9XSxbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOi4zfV0sW3t0eXBlOiJCcmVha0RhbWFnZUFkZGVkUmF0aW9CYXNlIix2YWx1ZTouMzV9XSxbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOi40fV1dfSxpPVt7bGM6ITAsaWQ6InBvc3RVbHREb3REbWdCdWZmIixuYW1lOiJwb3N0VWx0RG90RG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiUG9zdCB1bHQgRG9UIERNRyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7cG9zdFVsdERvdERtZ0J1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7ayhzLGllLGFbZV0sbC5wb3N0VWx0RG90RG1nQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHFuPWU9Pntjb25zdCBhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHQ9e2lkOiIyMzAwMiIsc2tpbGw6IktpbnNoaXAiLGRlc2M6IldoZW4gdGhlIHdlYXJlciBkZWZlYXRzIGFuIGVuZW15IG9yIGlzIGhpdCwgaW1tZWRpYXRlbHkgcmVzdG9yZXMgSFAgZXF1YWwgdG8gIzJbaV0lIG9mIHRoZSB3ZWFyZXIncyBBVEsuIEF0IHRoZSBzYW1lIHRpbWUsIHRoZSB3ZWFyZXIncyBETUcgaXMgaW5jcmVhc2VkIGJ5ICMzW2ldJSB1bnRpbCB0aGUgZW5kIG9mIHRoZWlyIG5leHQgdHVybi4gVGhpcyBlZmZlY3QgY2Fubm90IHN0YWNrIGFuZCBjYW4gb25seSB0cmlnZ2VyIDEgdGltZSBwZXIgdHVybi4iLHBhcmFtczpbWy4yNCwuMDgsLjI0XSxbLjI4LC4wOSwuMjhdLFsuMzIsLjEsLjMyXSxbLjM2LC4xMSwuMzZdLFsuNCwuMTIsLjRdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4yNH1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjI4fV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMzJ9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4zNn1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjR9XV19LGk9W3tsYzohMCxpZDoiZG1nQnVmZiIsbmFtZToiZG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRW5lbXkgZGVmZWF0ZWQgb3Igc2VsZiBoaXQgRE1HIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5kbWdCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sam49ZT0+e2NvbnN0IGE9Wy4yNCwuMywuMzYsLjQyLC40OF0sdD17aWQ6IjIxMDE3Iixza2lsbDoiTGlrZSBCZWZvcmUgWW91IExlYXZlISIsZGVzYzoiSW5jcmVhc2VzIHRoZSBETUcgb2YgdGhlIHdlYXJlcidzIEJhc2ljIEFUSyBhbmQgU2tpbGwgYnkgIzFbaV0lLiBUaGlzIGVmZmVjdCBpbmNyZWFzZXMgYnkgYW4gZXh0cmEgIzJbaV0lIHdoZW4gdGhlIHdlYXJlcidzIGN1cnJlbnQgRW5lcmd5IHJlYWNoZXMgaXRzIG1heCBsZXZlbC4iLHBhcmFtczpbWy4yNCwuMjRdLFsuMywuM10sWy4zNiwuMzZdLFsuNDIsLjQyXSxbLjQ4LC40OF1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJtYXhFbmVyZ3lEbWdCb29zdCIsbmFtZToibWF4RW5lcmd5RG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6Ik1heCBlbmVyZ3kgRE1HIGJvb3N0Iix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7bWF4RW5lcmd5RG1nQm9vc3Q6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7ayhzLFd8VixhW2VdKSxrKHMsV3xWLGFbZV0sbC5tYXhFbmVyZ3lEbWdCb29zdCl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFFuPWU9Pntjb25zdCBhPVsuMDgsLjEsLjEyLC4xNCwuMTZdLHQ9e2lkOiIyMTAxMCIsc2tpbGw6IkFuc3dlcnMgb2YgVGhlaXIgT3duIixkZXNjOiJGb3IgZWFjaCB0aW1lIHRoZSB3ZWFyZXIgaGl0cyB0aGUgc2FtZSB0YXJnZXQsIERNRyBkZWFsdCBpbmNyZWFzZXMgYnkgIzFbaV0lLCBzdGFja2luZyB1cCB0byAjMltpXSB0aW1lKHMpLiBUaGlzIGVmZmVjdCB3aWxsIGJlIGRpc3BlbGxlZCB3aGVuIHRoZSB3ZWFyZXIgY2hhbmdlcyB0YXJnZXRzLiIscGFyYW1zOltbLjA4LDVdLFsuMSw1XSxbLjEyLDVdLFsuMTQsNV0sWy4xNiw1XV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6InNhbWVUYXJnZXRIaXRTdGFja3MiLG5hbWU6InNhbWVUYXJnZXRIaXRTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6IlNhbWUgdGFyZ2V0IGhpdCBzdGFja3MiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCksbWluOjAsbWF4OjV9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtzYW1lVGFyZ2V0SGl0U3RhY2tzOjV9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5FTEVNRU5UQUxfRE1HKz1sLnNhbWVUYXJnZXRIaXRTdGFja3MqYVtlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSm49ZT0+e2NvbnN0IGE9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLHQ9e2lkOiIyNDAwMiIsc2tpbGw6IlRyZWFzdXJlIixkZXNjOiJJZiB0aGUgd2VhcmVyIGlzIGF0dGFja2VkIGFuZCBoYXMgbm8gU2hpZWxkLCB0aGV5IGdhaW4gYSBTaGllbGQgZXF1YWwgdG8gIzJbaV0lIG9mIHRoZWlyIE1heCBIUCBmb3IgIzNbaV0gdHVybihzKS4gVGhpcyBlZmZlY3QgY2FuIG9ubHkgYmUgdHJpZ2dlcmVkIG9uY2UgZXZlcnkgIzRbaV0gdHVybihzKS4gSWYgdGhlIHdlYXJlciBoYXMgYSBTaGllbGQgd2hlbiBhdHRhY2tlZCwgdGhlIERNRyB0aGV5IHJlY2VpdmUgZGVjcmVhc2VzIGJ5ICM1W2ldJS4iLHBhcmFtczpbWy4wOCwuMTYsMiwzLC4xMl0sWy4xLC4yLDIsMywuMTVdLFsuMTIsLjI0LDIsMywuMThdLFsuMTQsLjI4LDIsMywuMjFdLFsuMTYsLjMyLDIsMywuMjRdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IlN0YXR1c1Jlc2lzdGFuY2VCYXNlIix2YWx1ZTouMDh9XSxbe3R5cGU6IlN0YXR1c1Jlc2lzdGFuY2VCYXNlIix2YWx1ZTouMX1dLFt7dHlwZToiU3RhdHVzUmVzaXN0YW5jZUJhc2UiLHZhbHVlOi4xMn1dLFt7dHlwZToiU3RhdHVzUmVzaXN0YW5jZUJhc2UiLHZhbHVlOi4xNH1dLFt7dHlwZToiU3RhdHVzUmVzaXN0YW5jZUJhc2UiLHZhbHVlOi4xNn1dXX0saT1be2xjOiEwLGlkOiJhY3RpdmVTaGllbGREbWdEZWNyZWFzZSIsbmFtZToiYWN0aXZlU2hpZWxkRG1nRGVjcmVhc2UiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkFjdGl2ZSBzaGllbGQgRE1HIHRha2VuIGRlY3JlYXNlIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YWN0aXZlU2hpZWxkRG1nRGVjcmVhc2U6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5ETUdfUkVEX01VTFRJKj1sLmFjdGl2ZVNoaWVsZERtZ0RlY3JlYXNlPzEtYVtlXToxfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxYbj1lPT57Y29uc3QgYT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSx0PXtpZDoiMjEwMDYiLHNraWxsOiJUaGUgTWFpZGVuIGluIHRoZSBQYWludGluZyIsZGVzYzoiSWYgdGhlIGN1cnJlbnQgSFAgb2YgdGhlIHRhcmdldCBlbmVteSBpcyBiZWxvdyBvciBlcXVhbCB0byAjMltpXSUsIGluY3JlYXNlcyBETUcgZGVhbHQgYnkgZm9sbG93LXVwIGF0dGFja3MgYnkgYW4gZXh0cmEgIzNbaV0lLiIscGFyYW1zOltbLjI0LC41LC4yNF0sWy4zLC41LC4zXSxbLjM2LC41LC4zNl0sWy40MiwuNSwuNDJdLFsuNDgsLjUsLjQ4XV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6ImVuZW15SHA1MEZ1YUJ1ZmYiLG5hbWU6ImVuZW15SHA1MEZ1YUJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkVuZW15IEhQIDwgNTAlIGZ1YSBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZW5lbXlIcDUwRnVhQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztrKHMsUixhW2VdKSxrKHMsUixhW2VdLGwuZW5lbXlIcDUwRnVhQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LFpuPWU9Pntjb25zdCBhPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSx0PXtpZDoiMjEwMDUiLHNraWxsOiJGYW50YXN0aWMgQWR2ZW50dXJlIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgdXNlcyBCYXNpYyBBVEssIFNraWxsLCBvciBVbHRpbWF0ZSB0byBhdHRhY2sgZW5lbWllcywgdGhlIHdlYXJlciBnYWlucyBvbmUgc3RhY2sgb2YgTWlzY2hpZXZvdXMuIEVhY2ggc3RhY2sgaW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBBVEsgYnkgIzFbaV0lLiIscGFyYW1zOltbLjEyXSxbLjE1XSxbLjE4XSxbLjIxXSxbLjI0XV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLG5hbWU6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6IkFUSyBidWZmIHN0YWNrcyIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KSxtaW46MCxtYXg6M31dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2F0a0J1ZmZTdGFja3M6M30pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzW24uQVRLX1BdKz1sLmF0a0J1ZmZTdGFja3MqYVtlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZWk9ZT0+e2NvbnN0IGE9Wy4xMiwuMTUsLjE4LC4yMSwuMjRdLHQ9Wy4wNCwuMDUsLjA2LC4wNywuMDhdLGk9e2lkOiIyMTAyNyIsc2tpbGw6IkdldCBSZWFkeSIsZGVzYzoiSW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBETUcgYnkgIzFbaV0lLiIscGFyYW1zOltbLjEyLC4wNCwzXSxbLjE1LC4wNSwzXSxbLjE4LC4wNiwzXSxbLjIxLC4wNywzXSxbLjI0LC4wOCwzXV0scHJvcGVydGllczpbW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjEyfV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjE1fV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjE4fV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjIxfV0sW3t0eXBlOiJBbGxEYW1hZ2VUeXBlQWRkZWRSYXRpbyIsdmFsdWU6LjI0fV1dfSxzPXsuLi5pLGRlc2M6IkZvciBldmVyeSBlbmVteSBkZWZlYXRlZCBieSB0aGUgd2VhcmVyLCB0aGUgd2VhcmVyJ3MgQVRLIGluY3JlYXNlcyBieSAjMltpXSUsIHN0YWNraW5nIHVwIHRvICMzW2ldIHRpbWUocykuIn0sbz1be2xjOiEwLGlkOiJkbWdCb29zdCIsbmFtZToiZG1nQm9vc3QiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkRNRyBib29zdCIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKX0se2xjOiEwLGlkOiJkZWZlYXRlZEVuZW15QXRrU3RhY2tzIixuYW1lOiJkZWZlYXRlZEVuZW15QXRrU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJEZWZlYXRlZCBlbmVteSBBVEsgc3RhY2tzIix0aXRsZTppLnNraWxsLGNvbnRlbnQ6ZyhlLHMpLG1pbjowLG1heDozfV07cmV0dXJue2NvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7ZG1nQm9vc3Q6ITAsZGVmZWF0ZWRFbmVteUF0a1N0YWNrczozfSkscHJlY29tcHV0ZUVmZmVjdHM6KGwsZCk9Pntjb25zdCBDPWQubGlnaHRDb25lQ29uZGl0aW9uYWxzO2xbbi5BVEtfUF0rPUMuZGVmZWF0ZWRFbmVteUF0a1N0YWNrcyp0W2VdLGwuRUxFTUVOVEFMX0RNRys9Qy5kbWdCb29zdD9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHRpPWU9Pntjb25zdCBhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHQ9e2lkOiIyMzAwOSIsc2tpbGw6IlVuZnVsZmlsbGVkIFllYXJuaW5nIixkZXNjOiJXaGVuIHRoZSB3ZWFyZXIgaXMgYXR0YWNrZWQgb3IgY29uc3VtZXMgdGhlaXIgb3duIEhQLCB0aGVpciBETUcgaW5jcmVhc2VzIGJ5ICMzW2ldJS4gVGhpcyBlZmZlY3QgaXMgcmVtb3ZlZCBhZnRlciB0aGUgd2VhcmVyIHVzZXMgYW4gYXR0YWNrLiIscGFyYW1zOltbLjE4LC4xOCwuMjRdLFsuMjEsLjIxLC4yOF0sWy4yNCwuMjQsLjMyXSxbLjI3LC4yNywuMzZdLFsuMywuMywuNF1dLHByb3BlcnRpZXM6W1t7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMTh9LHt0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4xOH1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMjF9LHt0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4yMX1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMjR9LHt0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4yNH1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMjd9LHt0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4yN31dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouM30se3R5cGU6IkhQQWRkZWRSYXRpbyIsdmFsdWU6LjN9XV19LGk9W3tsYzohMCxpZDoiZG1nQnVmZiIsbmFtZToiZG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiSFAgY29uc3VtZWQgb3IgYXR0YWNrZWQgRE1HIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5kbWdCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sYWk9ZT0+e2NvbnN0IGE9e2lkOiIyMTAzMCIsc2tpbGw6Ik5ldyBDaGFwdGVyIixkZXNjOiJJbmNyZWFzZXMgdGhlIERNRyBvZiB0aGUgd2VhcmVyIHdoZW4gdGhleSB1c2UgdGhlaXIgVWx0aW1hdGUgYnkgIzJbaV0lIG9mIHRoZSB3ZWFyZXIncyBERUYuIFRoaXMgZWZmZWN0IG9ubHkgYXBwbGllcyAxIHRpbWUgcGVyIGVuZW15IHRhcmdldCBkdXJpbmcgZWFjaCB1c2Ugb2YgdGhlIHdlYXJlcidzIFVsdGltYXRlLiIscGFyYW1zOltbLjE2LC42XSxbLjIsLjc1XSxbLjI0LC45XSxbLjI4LDEuMDVdLFsuMzIsMS4yXV0scHJvcGVydGllczpbW3t0eXBlOiJEZWZlbmNlQWRkZWRSYXRpbyIsdmFsdWU6LjE2fV0sW3t0eXBlOiJEZWZlbmNlQWRkZWRSYXRpbyIsdmFsdWU6LjJ9XSxbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMjR9XSxbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMjh9XSxbe3R5cGU6IkRlZmVuY2VBZGRlZFJhdGlvIix2YWx1ZTouMzJ9XV19LHQ9W3tsYzohMCxpZDoiZGVmU2NhbGluZ1VsdERtZyIsbmFtZToiZGVmU2NhbGluZ1VsdERtZyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiREVGIHNjYWxpbmcgdWx0IERNRyAoTm90IGltcGxlbWVudGVkKSIsdGl0bGU6YS5za2lsbCxjb250ZW50OmcoZSxhKX1dO3JldHVybntjb250ZW50OigpPT50LGRlZmF1bHRzOigpPT4oe2RlZlNjYWxpbmdVbHREbWc6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sbmk9ZT0+e2NvbnN0IGE9e2lkOiIyMzAxMyIsc2tpbGw6Ik1vcm4sIE5vb24sIER1c2ssIGFuZCBOaWdodCIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIGhlYWxzIGFsbGllcywgcmVjb3JkIHRoZSBhbW91bnQgb2YgT3V0Z29pbmcgSGVhbGluZy4gV2hlbiBhbnkgYWxseSBsYXVuY2hlcyBhbiBhdHRhY2ssIGEgcmFuZG9tIGF0dGFja2VkIGVuZW15IHRha2VzIEFkZGl0aW9uYWwgRE1HIGVxdWFsIHRvICMzW2ldJSBvZiB0aGUgcmVjb3JkZWQgT3V0Z29pbmcgSGVhbGluZyB2YWx1ZS4gVGhlIHR5cGUgb2YgdGhpcyBBZGRpdGlvbmFsIERNRyBpcyBvZiB0aGUgc2FtZSBUeXBlIGFzIHRoZSB3ZWFyZXIncy4gVGhpcyBBZGRpdGlvbmFsIERNRyBpcyBub3QgYWZmZWN0ZWQgYnkgb3RoZXIgYnVmZnMsIGFuZCBjYW4gb25seSBvY2N1ciAxIHRpbWUgcGVyIHR1cm4uIixwYXJhbXM6W1suMTgsLjEyLC4zNl0sWy4yMSwuMTQsLjQyXSxbLjI0LC4xNiwuNDhdLFsuMjcsLjE4LC41NF0sWy4zLC4yLC42XV0scHJvcGVydGllczpbW3t0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4xOH0se3R5cGU6IkhlYWxSYXRpb0Jhc2UiLHZhbHVlOi4xMn1dLFt7dHlwZToiSFBBZGRlZFJhdGlvIix2YWx1ZTouMjF9LHt0eXBlOiJIZWFsUmF0aW9CYXNlIix2YWx1ZTouMTR9XSxbe3R5cGU6IkhQQWRkZWRSYXRpbyIsdmFsdWU6LjI0fSx7dHlwZToiSGVhbFJhdGlvQmFzZSIsdmFsdWU6LjE2fV0sW3t0eXBlOiJIUEFkZGVkUmF0aW8iLHZhbHVlOi4yN30se3R5cGU6IkhlYWxSYXRpb0Jhc2UiLHZhbHVlOi4xOH1dLFt7dHlwZToiSFBBZGRlZFJhdGlvIix2YWx1ZTouM30se3R5cGU6IkhlYWxSYXRpb0Jhc2UiLHZhbHVlOi4yfV1dfSx0PVt7bGM6ITAsaWQ6ImhlYWxpbmdCYXNlZERtZ1Byb2MiLG5hbWU6ImhlYWxpbmdCYXNlZERtZ1Byb2MiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkhlYWxpbmcgYmFzZWQgZG1nIHByb2MgKE5vdCBpbXBsZW1lbnRlZCkiLHRpdGxlOmEuc2tpbGwsY29udGVudDpnKGUsYSl9XTtyZXR1cm57Y29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHtoZWFsaW5nQmFzZWREbWdQcm9jOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGlpPWU9Pntjb25zdCBhPVsuMDAyLC4wMDI1LC4wMDMsLjAwMzUsLjAwNF0sdD17aWQ6IjIxMDM0Iixza2lsbDoiQSBTdG9ybSBJcyBDb21pbmciLGRlc2M6IkFmdGVyIGVudGVyaW5nIGJhdHRsZSwgaW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBETUcgYmFzZWQgb24gdGhlaXIgTWF4IEVuZXJneS4gRE1HIGluY3JlYXNlcyBieSAjMVtpXSUgcGVyIHBvaW50IG9mIEVuZXJneSwgdXAgdG8gIzJbaV0gRW5lcmd5LiIscGFyYW1zOltbLjAwMiwxNjBdLFsuMDAyNSwxNjBdLFsuMDAzLDE2MF0sWy4wMDM1LDE2MF0sWy4wMDQsMTYwXV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6Im1heEVuZXJneVN0YWNrcyIsbmFtZToibWF4RW5lcmd5U3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJNYXggZW5lcmd5Iix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpLG1pbjowLG1heDoxNjB9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHttYXhFbmVyZ3lTdGFja3M6MTYwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5tYXhFbmVyZ3lTdGFja3MqYVtlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sc2k9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLG9pPWU9Pntjb25zdCBhPVsuMTIsLjE1LC4xOCwuMjEsLjI0XSx0PXtpZDoiMjEwMTkiLHNraWxsOiJSeWUgVW5kZXIgdGhlIFN1biIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIGRlZmVhdHMgYW4gZW5lbXksIHRoZSB3ZWFyZXIncyBDUklUIFJhdGUgaW5jcmVhc2VzIGJ5ICMyW2ldJSBmb3IgIzNbaV0gdHVybihzKS4iLHBhcmFtczpbWy4xNiwuMTIsM10sWy4yLC4xNSwzXSxbLjI0LC4xOCwzXSxbLjI4LC4yMSwzXSxbLjMyLC4yNCwzXV0scHJvcGVydGllczpbW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMTZ9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4yfV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMjR9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4yOH1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjMyfV1dfSxpPVt7bGM6ITAsaWQ6ImRlZmVhdGVkRW5lbXlDckJ1ZmYiLG5hbWU6ImRlZmVhdGVkRW5lbXlDckJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkRlZmVhdGVkIGVuZW15IENSIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkZWZlYXRlZEVuZW15Q3JCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbbi5DUl0rPWwuZGVmZWF0ZWRFbmVteUNyQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGxpPWU9Pntjb25zdCBhPVsuMiwuMjUsMCwzMCwuMzUsLjRdLHQ9e2lkOiIyMDAwNCIsc2tpbGw6IkZhbGxlbiIsZGVzYzoiQXQgdGhlIHN0YXJ0IG9mIHRoZSBiYXR0bGUsIHRoZSB3ZWFyZXIncyBFZmZlY3QgSGl0IFJhdGUgaW5jcmVhc2VzIGJ5ICMxW2ldJSBmb3IgIzJbaV0gdHVybihzKS4iLHBhcmFtczpbWy4yLDNdLFsuMjUsM10sWy4zLDNdLFsuMzUsM10sWy40LDNdXSxwcm9wZXJ0aWVzOltbXSxbXSxbXSxbXSxbXV19LGk9W3tsYzohMCxpZDoiaW5pdGlhbEVockJ1ZmYiLG5hbWU6ImluaXRpYWxFaHJCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJJbml0aWFsIEVIUiBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7aW5pdGlhbEVockJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkVIUl0rPWwuaW5pdGlhbEVockJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxyaT0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSksY2k9ZT0+e2NvbnN0IGE9Wy4wOCwuMSwuMTIsLjE0LC4xNl0sdD17aWQ6IjIxMDIzIixza2lsbDoiVGVhcnktRXllZCIsZGVzYzoiQXQgdGhlIHN0YXJ0IG9mIHRoZSBiYXR0bGUsIHRoZSBETUcgZGVhbHQgdG8gYWxsIGFsbGllcyBkZWNyZWFzZXMgYnkgIzJbaV0lIGZvciAjM1tpXSB0dXJuKHMpLiBBdCB0aGUgc2FtZSB0aW1lLCBpbW1lZGlhdGVseSByZXN0b3JlcyBIUCB0byBhbGwgYWxsaWVzIGVxdWFsIHRvICMxW2ldJSBvZiB0aGUgcmVzcGVjdGl2ZSBIUCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGNoYXJhY3RlcnMnIE1heCBIUCBhbmQgY3VycmVudCBIUC4iLHBhcmFtczpbWy4zLC4wOCw1XSxbLjM1LC4xLDVdLFsuNCwuMTIsNV0sWy40NSwuMTQsNV0sWy41LC4xNiw1XV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6ImluaXRpYWxEbWdSZWR1Y3Rpb25CdWZmIixuYW1lOiJpbml0aWFsRG1nUmVkdWN0aW9uQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiSW5pdGlhbCBETUcgcmVkdWN0aW9uIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7aW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2luaXRpYWxEbWdSZWR1Y3Rpb25CdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLkRNR19SRURfTVVMVEkqPWwuaW5pdGlhbERtZ1JlZHVjdGlvbkJ1ZmY/MS1hW2VdOjF9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGZpPWU9Pntjb25zdCBhPVsuNDgsLjYsLjcyLC44NCwuOTZdLHQ9e2lkOiIyMTAyOSIsc2tpbGw6IkEgRGlzY291cnNlIGluIEFybXMiLGRlc2M6IkFmdGVyIHRoZSB3ZWFyZXIgdXNlcyBCYXNpYyBBVEsgb3IgU2tpbGwsIGRlYWxzIEFkZGl0aW9uYWwgRE1HIGVxdWFsIHRvICMxW2ldJSBvZiB0aGUgd2VhcmVyJ3MgQVRLIHRvIGEgcmFuZG9tIGVuZW15IHRoYXQgaGFzIGJlZW4gYXR0YWNrZWQuIixwYXJhbXM6W1suNDhdLFsuNl0sWy43Ml0sWy44NF0sWy45Nl1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJleHRyYURtZ1Byb2MiLG5hbWU6ImV4dHJhRG1nUHJvYyIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiQWRkaXRpb25hbCBETUcgcHJvYyIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2V4dHJhRG1nUHJvYzohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLkJBU0lDX1NDQUxJTkcrPWwuZXh0cmFEbWdQcm9jP2FbZV06MCxzLlNLSUxMX1NDQUxJTkcrPWwuZXh0cmFEbWdQcm9jP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sdWk9ZT0+e2NvbnN0IGE9Wy4xNiwuMiwuMjQsLjI4LC4zMl0sdD17aWQ6IjIxMDI2Iixza2lsbDoiUnVuISIsZGVzYzoiSW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBETUcgdG8gZW5lbWllcyBhZmZsaWN0ZWQgd2l0aCBCdXJuIG9yIEJsZWVkIGJ5ICMyW2ldJS4gVGhpcyBhbHNvIGFwcGxpZXMgdG8gRG9ULiIscGFyYW1zOltbLjEsLjE2XSxbLjEyNSwuMl0sWy4xNSwuMjRdLFsuMTc1LC4yOF0sWy4yLC4zMl1dLHByb3BlcnRpZXM6W1t7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjF9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4xMjV9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4xNX1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjE3NX1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjJ9XV19LGk9W3tsYzohMCxpZDoiYXRrQm9vc3QiLG5hbWU6ImF0a0Jvb3N0Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSBCdXJuL0JsZWVkIEFUSyBib29zdCIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2VuZW15QnVybmVkQmxlZWRpbmc6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5FTEVNRU5UQUxfRE1HKz1sLmVuZW15QnVybmVkQmxlZWRpbmc/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxtaT1lPT57Y29uc3QgYT1bLjMsLjM1LC40LC40NSwuNV0sdD1bLjEyLC4xNCwuMTYsLjE4LC4yXSxpPXtpZDoiMjMwMTYiLHNraWxsOiJPbmUgQXQgQSBUaW1lIixkZXNjOiJJbmNyZWFzZSB0aGUgd2VhcmVyJ3MgQ1JJVCBSYXRlIGJ5ICMxW2ldJSBhbmQgdGhlaXIgZm9sbG93LXVwIGF0dGFja3MnIERNRyBieSAjMltpXSUuIixwYXJhbXM6W1suMTgsLjMsLjEyLDJdLFsuMjEsLjM1LC4xNCwyXSxbLjI0LC40LC4xNiwyXSxbLjI3LC40NSwuMTgsMl0sWy4zLC41LC4yLDJdXSxwcm9wZXJ0aWVzOltbe3R5cGU6IkNyaXRpY2FsQ2hhbmNlQmFzZSIsdmFsdWU6LjE4fV0sW3t0eXBlOiJDcml0aWNhbENoYW5jZUJhc2UiLHZhbHVlOi4yMX1dLFt7dHlwZToiQ3JpdGljYWxDaGFuY2VCYXNlIix2YWx1ZTouMjR9XSxbe3R5cGU6IkNyaXRpY2FsQ2hhbmNlQmFzZSIsdmFsdWU6LjI3fV0sW3t0eXBlOiJDcml0aWNhbENoYW5jZUJhc2UiLHZhbHVlOi4zfV1dfSxzPXsuLi5pLGRlc2M6IkFmdGVyIHRoZSB3ZWFyZXIgdXNlcyBhIGZvbGxvdy11cCBhdHRhY2ssIGFwcGx5IHRoZSBUYW1lIHN0YXRlIHRvIHRoZSB0YXJnZXQsIHN0YWNraW5nIHVwIHRvICM0W2ldIHN0YWNrcy4gV2hlbiBhbGxpZXMgaGl0IGVuZW15IHRhcmdldHMgdW5kZXIgdGhlIFRhbWUgc3RhdGUsIGV2ZXJ5IFRhbWUgc3RhY2sgaW5jcmVhc2VzIHRoZSBDUklUIERNRyBkZWFsdCBieSAjM1tpXSUuIn0sbz1be2xjOiEwLGlkOiJ0YXJnZXRUYW1lU3RhY2tzIixuYW1lOiJ0YXJnZXRUYW1lU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJUYXJnZXQgVGFtZSBzdGFja3MiLHRpdGxlOmkuc2tpbGwsY29udGVudDpnKGUscyksbWluOjAsbWF4OjJ9XTtyZXR1cm57Y29udGVudDooKT0+byx0ZWFtbWF0ZUNvbnRlbnQ6KCk9Pm8sZGVmYXVsdHM6KCk9Pih7dGFyZ2V0VGFtZVN0YWNrczoyfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRUYW1lU3RhY2tzOjJ9KSxwcmVjb21wdXRlRWZmZWN0czoobCxkKT0+e2sobCxSLGFbZV0pfSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobCxkKT0+e2NvbnN0IEM9ZC5saWdodENvbmVDb25kaXRpb25hbHM7bFtuLkNEXSs9Qy50YXJnZXRUYW1lU3RhY2tzKnRbZV19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGRpPSgpPT4oe2NvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319KSxTaT1lPT57Y29uc3QgYT1bLjEyLC4xNCwuMTYsLjE4LC4yXSx0PXtpZDoiMjEwMzYiLHNraWxsOiJTb2xpZGFyaXR5IixkZXNjOiJBZnRlciB0aGUgd2VhcmVyIHVzZXMgYSBjZXJ0YWluIHR5cGUgb2YgYWJpbGl0eSBzdWNoIGFzIEJhc2ljIEFUSywgU2tpbGwsIG9yIFVsdGltYXRlLCBhbGwgYWxsaWVzIGdhaW4gQ2hpbGRpc2huZXNzLCB3aGljaCBpbmNyZWFzZXMgYWxsaWVzJyBETUcgZm9yIHRoZSBzYW1lIHR5cGUgb2YgYWJpbGl0eSBhcyB1c2VkIGJ5IHRoZSB3ZWFyZXIgYnkgIzFbaV0lLiBDaGlsZGlzaG5lc3Mgb25seSB0YWtlcyBlZmZlY3QgZm9yIHRoZSBtb3N0IHJlY2VudCB0eXBlIG9mIGFiaWxpdHkgdGhlIHdlYXJlciB1c2VkIGFuZCBjYW5ub3QgYmUgc3RhY2tlZC4iLHBhcmFtczpbWy4xMl0sWy4xNF0sWy4xNl0sWy4xOF0sWy4yXV0scHJvcGVydGllczpbW10sW10sW10sW10sW11dfSxpPVt7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLG5hbWU6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlVsdCBETUcgYnVmZiIsdGl0bGU6dC5za2lsbCxjb250ZW50OmcoZSx0KX0se2xjOiEwLGlkOiJza2lsbERtZ0J1ZmYiLG5hbWU6InNraWxsRG1nQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiU2tpbGwgRE1HIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9LHtsYzohMCxpZDoiYmFzaWNEbWdCdWZmIixuYW1lOiJiYXNpY0RtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkJhc2ljIERNRyBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3VsdERtZ0J1ZmY6ITAsc2tpbGxEbWdCdWZmOiExLGJhc2ljRG1nQnVmZjohMX0pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7dWx0RG1nQnVmZjohMCxza2lsbERtZ0J1ZmY6ITEsYmFzaWNEbWdCdWZmOiExfSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LHByZWNvbXB1dGVNdXR1YWxFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztrKHMsVyxhW2VdLGwuYmFzaWNEbWdCdWZmKSxrKHMsVixhW2VdLGwuc2tpbGxEbWdCdWZmKSxrKHMsVSxhW2VdLGwudWx0RG1nQnVmZil9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LGhpPWU9Pntjb25zdCBhPVsuMDgsLjA5LC4xLC4xMSwuMTJdLHQ9e2lkOiIyMTAzNyIsc2tpbGw6IkFsbCBJbiIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIGxhbmRzIGEgQ1JJVCBoaXQgb24gZW5lbWllcywgZ2FpbnMgYSBzdGFjayBvZiBHb29kIEZvcnR1bmUsIHN0YWNraW5nIHVwIHRvICMzW2ldIHRpbWUocykuIEV2ZXJ5IHN0YWNrIG9mIEdvb2QgRm9ydHVuZSB0aGUgd2VhcmVyIGhhcyB3aWxsIGluY3JlYXNlIHRoZWlyIENSSVQgRE1HIGJ5ICMyW2ldJS4gR29vZCBGb3J0dW5lIHdpbGwgYmUgcmVtb3ZlZCBhdCB0aGUgZW5kIG9mIHRoZSB3ZWFyZXIncyB0dXJuLiIscGFyYW1zOltbLjEyLC4wOCw0XSxbLjE0LC4wOSw0XSxbLjE2LC4xLDRdLFsuMTgsLjExLDRdLFsuMiwuMTIsNF1dLHByb3BlcnRpZXM6W1t7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjEyfV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMTR9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4xNn1dLFt7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjE4fV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMn1dXX0saT1be2xjOiEwLGlkOiJnb29kRm9ydHVuZVN0YWNrcyIsbmFtZToiZ29vZEZvcnR1bmVTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6Ikdvb2QgRm9ydHVuZSBzdGFja3MiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCksbWluOjAsbWF4OjR9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtnb29kRm9ydHVuZVN0YWNrczo0fSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbbi5DRF0rPWwuZ29vZEZvcnR1bmVTdGFja3MqYVtlXX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sRGk9ZT0+e2NvbnN0IGE9Wy4yNSwuMzEyNSwuMzc1LC40Mzc1LC41XSx0PXtpZDoiMjEwMzgiLHNraWxsOiJEZWZsYWdyYXRpb24iLGRlc2M6IldoZW4gdGhlIGN1bXVsYXRpdmUgSFAgbG9zcyBvZiB0aGUgd2VhcmVyIGR1cmluZyBhIHNpbmdsZSBhdHRhY2sgZXhjZWVkcyAjMVtpXSUgb2YgdGhlaXIgTWF4IEhQLCBvciBpZiB0aGUgYW1vdW50IG9mIHRoZWlyIG93biBIUCB0aGV5IGNvbnN1bWUgYXQgb25lIHRpbWUgaXMgZ3JlYXRlciB0aGFuICMxW2ldJSBvZiB0aGVpciBNYXggSFAsIGltbWVkaWF0ZWx5IGhlYWxzIHRoZSB3ZWFyZXIgZm9yICMzW2ldJSBvZiB0aGVpciBNYXggSFAsIGFuZCBhdCB0aGUgc2FtZSB0aW1lLCBpbmNyZWFzZXMgdGhlIERNRyB0aGV5IGRlYWwgYnkgIzJbaV0lIGZvciAjNFtpXSB0dXJuKHMpLiBUaGlzIGVmZmVjdCBjYW4gb25seSBiZSB0cmlnZ2VyZWQgb25jZSBldmVyeSAjNVtpXSB0dXJuKHMpLiIscGFyYW1zOltbLjI1LC4yNSwuMTUsMiwzXSxbLjI1LC4zMTI1LC4xNSwyLDNdLFsuMjUsLjM3NSwuMTUsMiwzXSxbLjI1LC40Mzc1LC4xNSwyLDNdLFsuMjUsLjUsLjE1LDIsM11dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0saT1be2xjOiEwLGlkOiJkbWdCdWZmIixuYW1lOiJkbWdCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJETUcgaW5jcmVhc2VkIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtkbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3MuRUxFTUVOVEFMX0RNRys9bC5kbWdCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sQ2k9ZT0+e2NvbnN0IGE9Wy4wMDgsLjAwOSwuMDEsLjAxMSwuMDEyXSx0PVsuMzIsLjM2LC40LC40NCwuNDhdO3JldHVybntjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KGkscyk9PntpLkVMRU1FTlRBTF9ETUcrPU1hdGgubWluKHRbZV0sTWF0aC5mbG9vcihpW24uREVGXS8xMDApKmFbZV0pfSxncHVGaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+YAp4LkVMRU1FTlRBTF9ETUcgKz0gbWluKCR7dFtlXX0sIGZsb29yKHguREVGIC8gMTAwKSAqICR7YVtlXX0pOwogICAgICBgfX0sRWk9ZT0+e2NvbnN0IGE9Wy4yLC4yNSwuMywuMzUsLjRdLHQ9e2lkOiIyMTA0MCIsc2tpbGw6IlN0cmF0YWdlbSIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIHVzZXMgYW4gYXR0YWNrIGFuZCBhdCBsZWFzdCAyIGF0dGFja2VkIGVuZW1pZXMgaGF2ZSB0aGUgY29ycmVzcG9uZGluZyBXZWFrbmVzcywgdGhlIHdlYXJlcidzIENSSVQgRE1HIGluY3JlYXNlcyBieSAjMltpXSUgZm9yICMzW2ldIHR1cm4ocykuIixwYXJhbXM6W1suMTYsLjIsMl0sWy4xOCwuMjUsMl0sWy4yLC4zLDJdLFsuMjIsLjM1LDJdLFsuMjQsLjQsMl1dLHByb3BlcnRpZXM6W1t7dHlwZToiQXR0YWNrQWRkZWRSYXRpbyIsdmFsdWU6LjE2fV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMTh9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4yfV0sW3t0eXBlOiJBdHRhY2tBZGRlZFJhdGlvIix2YWx1ZTouMjJ9XSxbe3R5cGU6IkF0dGFja0FkZGVkUmF0aW8iLHZhbHVlOi4yNH1dXX0saT1be2xjOiEwLGlkOiJjZEJ1ZmZBY3RpdmUiLG5hbWU6ImNkQnVmZkFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoi4omlIDIgd2Vha25lc3MgdGFyZ2V0cyBDRCBidWZmIix0aXRsZTp0LnNraWxsLGNvbnRlbnQ6ZyhlLHQpfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7Y2RCdWZmQWN0aXZlOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO3Nbbi5DRF0rPWwuY2RCdWZmQWN0aXZlP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sQWk9ZT0+e2NvbnN0IGE9Wy4wNiwuMDcsLjA4LC4wOSwuMV0sdD1bLjIsLjI0LC4yOCwuMzIsLjM2XSxpPXtpZDoiMjEwNDEiLHNraWxsOiJTZWxmLUFtdXNlbWVudCIsZGVzYzoiV2hlbiB0aGUgd2VhcmVyIGluZmxpY3RzIGEgZGVidWZmIG9uIGFuIGVuZW15LCBnYWlucyBhIHN0YWNrIG9mIFRyaWNrLiBFdmVyeSBzdGFjayBvZiBUcmljayBpbmNyZWFzZXMgdGhlIHdlYXJlcidzIERNRyBkZWFsdCBieSAjMVtpXSUsIHN0YWNraW5nIHVwIHRvICMyW2ldIHRpbWUocykuIFRoaXMgZWZmZWN0IGxhc3RzIGZvciAjM1tpXSB0dXJuKHMpLiBXaGVuIHRoZSB3ZWFyZXIncyBFZmZlY3QgSGl0IFJhdGUgaXMgIzRbaV0lIG9yIGhpZ2hlciwgaW5jcmVhc2VzIEFUSyBieSAjNVtpXSUuIixwYXJhbXM6W1suMDYsMywxLC44LC4yXSxbLjA3LDMsMSwuOCwuMjRdLFsuMDgsMywxLC44LC4yOF0sWy4wOSwzLDEsLjgsLjMyXSxbLjEsMywxLC44LC4zNl1dLHByb3BlcnRpZXM6W1tdLFtdLFtdLFtdLFtdXX0scz1be2xjOiEwLGlkOiJ0cmlja1N0YWNrcyIsbmFtZToidHJpY2tTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6IlRyaWNrIHN0YWNrcyIsdGl0bGU6aS5za2lsbCxjb250ZW50OmcoZSxpKSxtaW46MCxtYXg6M31dO3JldHVybntjb250ZW50OigpPT5zLGRlZmF1bHRzOigpPT4oe3RyaWNrU3RhY2tzOjN9KSxwcmVjb21wdXRlRWZmZWN0czoobyxsKT0+e2NvbnN0IGQ9bC5saWdodENvbmVDb25kaXRpb25hbHM7by5FTEVNRU5UQUxfRE1HKz1kLnRyaWNrU3RhY2tzKmFbZV19LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fSxkeW5hbWljQ29uZGl0aW9uYWxzOlt7aWQ6Ikl0c1Nob3d0aW1lQ29udmVyc2lvbkNvbmRpdGlvbmFsIix0eXBlOnYuQUJJTElUWSxhY3RpdmF0aW9uOlAuQ09OVElOVU9VUyxkZXBlbmRzT246W24uRUhSXSxjb25kaXRpb246ZnVuY3Rpb24obyxsLGQpe3JldHVybiBvW24uRUhSXT49Ljh9LGVmZmVjdDpmdW5jdGlvbihvLGwsZCl7bC5jaGFyYWN0ZXJDb25kaXRpb25hbHM7Y29uc3QgQz1kLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF18fDAsRT10W2VdKmwuYmFzZUF0aztkLmNvbmRpdGlvbmFsU3RhdGVbdGhpcy5pZF09RSxGKG8sbCxkLG4uQVRLLEUtQyl9LGdwdTpmdW5jdGlvbihvLGwpe3JldHVybiBOKHRoaXMsYAppZiAoeC5FSFIgPCAwLjgwKSB7CiAgcmV0dXJuOwp9CgpsZXQgc3RhdGVWYWx1ZTogZjMyID0gKCpwX3N0YXRlKS5JdHNTaG93dGltZUNvbnZlcnNpb25Db25kaXRpb25hbDsKbGV0IGJ1ZmZWYWx1ZTogZjMyID0gJHt0W2VdfTsKCigqcF9zdGF0ZSkuSXRzU2hvd3RpbWVDb252ZXJzaW9uQ29uZGl0aW9uYWwgPSBidWZmVmFsdWU7CmJ1ZmZEeW5hbWljQVRLX1AoYnVmZlZhbHVlIC0gc3RhdGVWYWx1ZSwgcF94LCBwX3N0YXRlKTsKICAgIGApfX1dfX0sQmk9ZT0+e2NvbnN0IGE9Wy4xNSwuMTg3NSwuMjI1LC4yNjI1LC4zXSx0PXtpZDoiMjEwNDIiLHNraWxsOiJJbmhlcml0YW5jZSIsZGVzYzoiSW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBCcmVhayBFZmZlY3QgYnkgIzFbaV0lLiBXaGVuIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBVbHRpbWF0ZSwgaW5jcmVhc2VzIENSSVQgUmF0ZSBieSAjMltpXSUsIGxhc3RpbmcgZm9yICMzW2ldIHR1cm4ocykuIixwYXJhbXM6W1suMjgsLjE1LDJdLFsuMzUsLjE4NzUsMl0sWy40MiwuMjI1LDJdLFsuNDksLjI2MjUsMl0sWy41NiwuMywyXV0scHJvcGVydGllczpbW3t0eXBlOiJCcmVha0RhbWFnZUFkZGVkUmF0aW9CYXNlIix2YWx1ZTouMjh9XSxbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOi4zNX1dLFt7dHlwZToiQnJlYWtEYW1hZ2VBZGRlZFJhdGlvQmFzZSIsdmFsdWU6LjQyfV0sW3t0eXBlOiJCcmVha0RhbWFnZUFkZGVkUmF0aW9CYXNlIix2YWx1ZTouNDl9XSxbe3R5cGU6IkJyZWFrRGFtYWdlQWRkZWRSYXRpb0Jhc2UiLHZhbHVlOi41Nn1dXX0saT1be2xjOiEwLGlkOiJjckJ1ZmYiLG5hbWU6ImNyQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiVWx0IENSIGJ1ZmYiLHRpdGxlOnQuc2tpbGwsY29udGVudDpnKGUsdCl9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHtjckJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkNSXSs9bC5jckJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxfaT1lPT57Y29uc3QgYT1bLjQsLjQ2LC41MiwuNTgsLjY0XSx0PVsuMSwuMTE1LC4xMywuMTQ1LC4xNl0saT1be2xjOiEwLGlkOiJzaGllbGRDZEJ1ZmYiLG5hbWU6InNoaWVsZENkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiU2hpZWxkIENEIGJ1ZmYiLHRpdGxlOiJBbGwtSW4iLGNvbnRlbnQ6YFdoZW4gdGhlIHdlYXJlciBwcm92aWRlcyBhIFNoaWVsZCB0byBhbiBhbGx5LCB0aGUgd2VhcmVyJ3MgQ1JJVCBETUcgaW5jcmVhc2VzIGJ5ICR7QihhW2VdKjEwMCl9JSwgbGFzdGluZyBmb3IgMiB0dXJuKHMpLmB9LHtsYzohMCxpZDoidGFyZ2V0VnVsbmVyYWJpbGl0eSIsbmFtZToidGFyZ2V0VnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiVGFyZ2V0IHZ1bG5lcmFiaWxpdHkgZGVidWZmIix0aXRsZToiQWxsLUluIixjb250ZW50OmBXaGVuIHRoZSB3ZWFyZXIncyBmb2xsb3ctdXAgYXR0YWNrIGhpdHMgYW4gZW5lbXkgdGFyZ2V0LCB0aGVyZSBpcyBhIDEwMCUgYmFzZSBjaGFuY2UgdG8gaW5jcmVhc2UgdGhlIERNRyB0YWtlbiBieSB0aGUgYXR0YWNrZWQgZW5lbXkgdGFyZ2V0IGJ5ICR7Qih0W2VdKjEwMCl9JSwgbGFzdGluZyBmb3IgMiB0dXJuKHMpLmB9XSxzPVtwKGksInRhcmdldFZ1bG5lcmFiaWxpdHkiKV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5zLGRlZmF1bHRzOigpPT4oe3NoaWVsZENkQnVmZjohMCx0YXJnZXRWdWxuZXJhYmlsaXR5OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt0YXJnZXRWdWxuZXJhYmlsaXR5OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KG8sbCk9Pntjb25zdCBkPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO29bbi5DRF0rPWQuc2hpZWxkQ2RCdWZmP2FbZV06MH0scHJlY29tcHV0ZU11dHVhbEVmZmVjdHM6KG8sbCk9Pntjb25zdCBkPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO28uVlVMTkVSQUJJTElUWSs9ZC50YXJnZXRWdWxuZXJhYmlsaXR5P3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sZ2k9ZT0+e2NvbnN0IGE9Wy4yNCwuMjgsLjMyLC4zNiwuNF0sdD1bLjI0LC4yOCwuMzIsLjM2LC40XSxpPVt7bGM6ITAsaWQ6ImVtcHR5QnViYmxlc0RlYnVmZiIsbmFtZToiZW1wdHlCdWJibGVzRGVidWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJNaXJhZ2UgRml6emxlIGRlYnVmZiIsdGl0bGU6IlN0ZWVyZXIiLGNvbnRlbnQ6YFdoZW4gdGhlIHdlYXJlciBoaXRzIGFuIGVuZW15IHRhcmdldCwgaW5mbGljdHMgTWlyYWdlIEZpenpsZSBvbiB0aGUgZW5lbXksIGxhc3RpbmcgZm9yIDEgdHVybi4gRWFjaCB0aW1lIHRoZSB3ZWFyZXIgYXR0YWNrcywgdGhpcyBlZmZlY3QgY2FuIG9ubHkgdHJpZ2dlciAxIHRpbWUgb24gZWFjaCB0YXJnZXQuIFRoZSB3ZWFyZXIgZGVhbHMgJHtCKGFbZV0qMTAwKX0lIGluY3JlYXNlZCBETUcgdG8gdGFyZ2V0cyBhZmZsaWN0ZWQgd2l0aCBNaXJhZ2UgRml6emxlLCBhbmQgdGhlIERNRyBkZWFsdCBieSB0aGUgd2VhcmVyJ3MgVWx0aW1hdGUgYWRkaXRpb25hbGx5IGluY3JlYXNlcyBieSAke0IodFtlXSoxMDApfSUuYH1dO3JldHVybntjb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe2VtcHR5QnViYmxlc0RlYnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmxpZ2h0Q29uZUNvbmRpdGlvbmFscztzLkVMRU1FTlRBTF9ETUcrPWwuZW1wdHlCdWJibGVzRGVidWZmP2FbZV06MCxrKHMsVSx0W2VdLGwuZW1wdHlCdWJibGVzRGVidWZmKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0scGk9ZT0+e2NvbnN0IGE9Wy4wNCwuMDUsLjA2LC4wNywuMDhdLHQ9W3tsYzohMCxpZDoidGVhbW1hdGVTaGllbGRTdGFja3MiLG5hbWU6InRlYW1tYXRlU2hpZWxkU3RhY2tzIixmb3JtSXRlbToic2xpZGVyIix0ZXh0OiJUZWFtbWF0ZSBzaGllbGQgRE1HIHN0YWNrcyIsdGl0bGU6Ikluc3BpcmUiLGNvbnRlbnQ6YEZvciBldmVyeSBvbi1maWVsZCBjaGFyYWN0ZXIgdGhhdCBoYXMgYSBTaGllbGQsIHRoZSBETUcgZGVhbHQgYnkgdGhlIHdlYXJlciBpbmNyZWFzZXMgYnkgJHtCKGFbZV0qMTAwKX0lLmAsbWluOjAsbWF4OjR9XTtyZXR1cm57Y29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHt0ZWFtbWF0ZVNoaWVsZFN0YWNrczo0fSkscHJlY29tcHV0ZUVmZmVjdHM6KGkscyk9Pntjb25zdCBvPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9by50ZWFtbWF0ZVNoaWVsZFN0YWNrcyphW2VdfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxUaT1lPT57Y29uc3QgYT1bLjI0LC4zLC4zNiwuNDIsLjQ4XSx0PVt7bGM6ITAsaWQ6ImVuZW15RGVmUmVkdWNlZFNsb3dlZCIsbmFtZToiZW5lbXlEZWZSZWR1Y2VkU2xvd2VkIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJFbmVteSBERUYgcmVkdWNlZCAvIHNsb3dlZCIsdGl0bGU6IkVuZW15IERFRiByZWR1Y2VkIC8gc2xvd2VkIixjb250ZW50OmBUaGUgd2VhcmVyIGRlYWxzICR7QihhW2VdKjEwMCl9JSBtb3JlIENSSVQgRE1HIHRvIGVuZW1pZXMgdGhhdCBhcmUgY3VycmVudGx5IFNsb3dlZCBvciBoYXZlIHJlZHVjZWQgREVGLmB9XTtyZXR1cm57Y29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHtlbmVteURlZlJlZHVjZWRTbG93ZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxzKT0+e2NvbnN0IG89cy5saWdodENvbmVDb25kaXRpb25hbHM7aVtuLkNEXSs9by5lbmVteURlZlJlZHVjZWRTbG93ZWQ/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxiaT1lPT57Y29uc3QgYT1bLjE4LC4yMSwuMjQsLjI3LC4zXSx0PVt7bGM6ITAsaWQ6InVsdERtZ0J1ZmYiLG5hbWU6InVsdERtZ0J1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlVsdCB1c2FnZSBETUcgYnVmZiIsdGl0bGU6IlVsdCB1c2FnZSBETUcgYnVmZiIsY29udGVudDpgQWZ0ZXIgdGhlIHdlYXJlciB1c2VzIHRoZWlyIFVsdGltYXRlLCBpbmNyZWFzZXMgdGhlaXIgRE1HIGRlYWx0IGJ5ICR7QihhW2VdKjEwMCl9JSwgbGFzdGluZyBmb3IgMSB0dXJuKHMpLmB9XTtyZXR1cm57Y29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHt1bHREbWdCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGkscyk9Pntjb25zdCBvPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuRUxFTUVOVEFMX0RNRys9by51bHREbWdCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sa2k9ZT0+e2NvbnN0IGE9Wy4wMywuMDM1LC4wNCwuMDQ1LC4wNV0sdD1bLjQ4LC42LC43MiwuODQsLjk2XSxpPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHM9W3tsYzohMCxpZDoiY2FkZW56YUFjdGl2ZSIsbmFtZToiY2FkZW56YUFjdGl2ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiQ2FkZW56YSBhY3RpdmUiLHRpdGxlOiJDYWRlbnphIGFjdGl2ZSIsY29udGVudDpgRXZlcnkgdGltZSBhbiBhbGx5IGF0dGFja3MsIHRoZSB3ZWFyZXIgZ2FpbnMgMSBzdGFjayBvZiBDYW50aWxsYXRpb24uIEVhY2ggc3RhY2sgb2YgQ2FudGlsbGF0aW9uIGluY3JlYXNlcyB0aGUgd2VhcmVyJ3MgRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIGJ5ICR7QihhW2VdKjEwMCl9JSwgc3RhY2tpbmcgdXAgdG8gNSB0aW1lKHMpLiBXaGVuIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBVbHRpbWF0ZSwgcmVtb3ZlcyBDYW50aWxsYXRpb24gYW5kIGdhaW5zIENhZGVuemEuIENhZGVuemEgaW5jcmVhc2VzIHRoZSBXZWFyZXIncyBBVEsgYnkgJHtCKHRbZV0qMTAwKX0lIGFuZCBpbmNyZWFzZXMgYWxsIGFsbGllcycgRE1HIGRlYWx0IGJ5ICR7QihpW2VdKjEwMCl9JSwgbGFzdGluZyBmb3IgMSB0dXJuKHMpLmB9LHtsYzohMCxpZDoiY2FudGlsbGF0aW9uU3RhY2tzIixuYW1lOiJjYW50aWxsYXRpb25TdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6IkNhbnRpbGxhdGlvbiBzdGFja3MiLHRpdGxlOiJDYW50aWxsYXRpb24gc3RhY2tzIixjb250ZW50OmBFdmVyeSB0aW1lIGFuIGFsbHkgYXR0YWNrcywgdGhlIHdlYXJlciBnYWlucyAxIHN0YWNrIG9mIENhbnRpbGxhdGlvbi4gRWFjaCBzdGFjayBvZiBDYW50aWxsYXRpb24gaW5jcmVhc2VzIHRoZSB3ZWFyZXIncyBFbmVyZ3kgUmVnZW5lcmF0aW9uIFJhdGUgYnkgJHtCKGFbZV0qMTAwKX0lLCBzdGFja2luZyB1cCB0byA1IHRpbWUocykuIFdoZW4gdGhlIHdlYXJlciB1c2VzIHRoZWlyIFVsdGltYXRlLCByZW1vdmVzIENhbnRpbGxhdGlvbiBhbmQgZ2FpbnMgQ2FkZW56YS4gQ2FkZW56YSBpbmNyZWFzZXMgdGhlIFdlYXJlcidzIEFUSyBieSAke0IodFtlXSoxMDApfSUgYW5kIGluY3JlYXNlcyBhbGwgYWxsaWVzJyBETUcgZGVhbHQgYnkgJHtCKGlbZV0qMTAwKX0lLCBsYXN0aW5nIGZvciAxIHR1cm4ocykuYCxtaW46MCxtYXg6NX1dO3JldHVybntjb250ZW50OigpPT5zLHRlYW1tYXRlQ29udGVudDooKT0+W3AocywiY2FkZW56YUFjdGl2ZSIpXSxkZWZhdWx0czooKT0+KHtjYW50aWxsYXRpb25TdGFja3M6NSxjYWRlbnphQWN0aXZlOiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHtjYWRlbnphQWN0aXZlOiEwfSkscHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0czoobyxsKT0+e2NvbnN0IGQ9bC5saWdodENvbmVDb25kaXRpb25hbHM7by5FTEVNRU5UQUxfRE1HKz1kLmNhZGVuemFBY3RpdmU/aVtlXTowfSxwcmVjb21wdXRlRWZmZWN0czoobyxsKT0+e2NvbnN0IGQ9bC5saWdodENvbmVDb25kaXRpb25hbHM7b1tuLkVSUl0rPWQuY2FudGlsbGF0aW9uU3RhY2tzKmFbZV0sb1tuLkFUS19QXSs9ZC5jYWRlbnphQWN0aXZlP3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sSWk9ZT0+e2NvbnN0IGE9Wy4xMiwuMTQsLjE2LC4xOCwuMl0sdD1bLjIsLjIzLC4yNiwuMjksLjMyXSxpPVt7bGM6ITAsaWQ6ImJyZWFrRG1nRGVmU2hyZWQiLG5hbWU6ImJyZWFrRG1nRGVmU2hyZWQiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkJyZWFrIERNRyBERUYgc2hyZWQiLHRpdGxlOiJCcmVhayBETUcgREVGIHNocmVkIixjb250ZW50OmBUaGUgQnJlYWsgRE1HIGRlYWx0IGJ5IHRoZSB3ZWFyZXIgaWdub3JlcyAke0IodFtlXSoxMDApfSUgb2YgdGhlIHRhcmdldCdzIERFRi5gfSx7bGM6ITAsaWQ6InNwZEJ1ZmZDb25kaXRpb25hbCIsbmFtZToic3BkQnVmZkNvbmRpdGlvbmFsIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJCRSDiiaUgMTUwIFNQRCBidWZmIix0aXRsZToiQkUg4omlIDE1MCBTUEQgYnVmZiIsY29udGVudDpgV2hlbiB0aGUgd2VhcmVyJ3MgQnJlYWsgRWZmZWN0IGluIGJhdHRsZSBpcyBhdCAxNTAlIG9yIGdyZWF0ZXIsIGluY3JlYXNlcyB0aGVpciBTUEQgYnkgJHtCKGFbZV0qMTAwKX0lLmB9XTtyZXR1cm57Y29udGVudDooKT0+aSxkZWZhdWx0czooKT0+KHticmVha0RtZ0RlZlNocmVkOiEwLHNwZEJ1ZmZDb25kaXRpb25hbDohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihzLG8pPT57Y29uc3QgbD1vLmNoYXJhY3RlckNvbmRpdGlvbmFsczthZShzLGZlLHRbZV0sbC5icmVha0RtZ0RlZlNocmVkKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHMsbyk9Pnt9LGR5bmFtaWNDb25kaXRpb25hbHM6W3tpZDoiU2FpbGluZ1Rvd2FyZHNBU2Vjb25kTGlmZUNvbmRpdGlvbmFsIix0eXBlOnYuQUJJTElUWSxhY3RpdmF0aW9uOlAuU0lOR0xFLGRlcGVuZHNPbjpbbi5CRV0sY29uZGl0aW9uOmZ1bmN0aW9uKHMsbyxsKXtyZXR1cm4gby5saWdodENvbmVDb25kaXRpb25hbHMuc3BkQnVmZkNvbmRpdGlvbmFsJiZzW24uQkVdPj0xLjV9LGVmZmVjdDoocyxvLGwpPT57RihzLG8sbCxuLlNQRCxhW2VdKm8uYmFzZVNwZCl9LGdwdTpmdW5jdGlvbigpe3JldHVybiBOKHRoaXMsYAppZiAoCiAgKCpwX3N0YXRlKS5TYWlsaW5nVG93YXJkc0FTZWNvbmRMaWZlQ29uZGl0aW9uYWwgPT0gMC4wICYmCiAgKCpwX3gpLkJFID49IDEuNTAKKSB7CiAgKCpwX3N0YXRlKS5TYWlsaW5nVG93YXJkc0FTZWNvbmRMaWZlQ29uZGl0aW9uYWwgPSAxLjA7CiAgYnVmZkR5bmFtaWNTUERfUCgke2FbZV19LCBwX3gsIHBfc3RhdGUpOwp9CiAgICBgKX19XX19LHlpPWU9Pntjb25zdCBhPVsuMDgsLjEsLjEyLC4xNCwuMTZdLHQ9W3tsYzohMCxpZDoic3BkQnVmZiIsbmFtZToic3BkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiU1BEIGJ1ZmYiLHRpdGxlOiJTUEQgYnVmZiIsY29udGVudDpgQWZ0ZXIgdGhlIHdlYXJlciB1c2VzIFVsdGltYXRlLCBpbmNyZWFzZXMgU1BEIGJ5ICR7YVtlXSoxMDB9JSwgbGFzdGluZyBmb3IgMiB0dXJuKHMpLmB9XTtyZXR1cm57Y29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHtzcGRCdWZmOiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGkscyk9Pntjb25zdCBvPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2lbbi5TUERfUF0rPW8uc3BkQnVmZj9hW2VdOjB9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LExpPWU9Pntjb25zdCBhPVsuMjQsLjI4LC4zMiwuMzYsLjRdLHQ9W3tsYzohMCxpZDoicm91dGVkVnVsbmVyYWJpbGl0eSIsbmFtZToicm91dGVkVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiUm91dGVkIHZ1bG5lcmFiaWxpdHkiLHRpdGxlOiJSb3V0ZWQgdnVsbmVyYWJpbGl0eSIsY29udGVudDpgV2hlbiB0aGUgd2VhcmVyIGRlYWxzIEJyZWFrIERNRyB0byBhbiBlbmVteSB0YXJnZXQsIGluZmxpY3RzIFJvdXRlZCBvbiB0aGUgZW5lbXksIGxhc3RpbmcgZm9yIDIgdHVybihzKS4gCiAgICAgIFRhcmdldHMgYWZmbGljdGVkIHdpdGggUm91dGVkIHJlY2VpdmUgJHthW2VdKjEwMH0lIGluY3JlYXNlZCBCcmVhayBETUcgZnJvbSB0aGUgd2VhcmVyLCBhbmQgdGhlaXIgU1BEIGlzIGxvd2VyZWQgYnkgMjAlLiAKICAgICAgRWZmZWN0cyBvZiB0aGUgc2ltaWxhciB0eXBlIGNhbm5vdCBiZSBzdGFja2VkLmB9XTtyZXR1cm57Y29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHtyb3V0ZWRWdWxuZXJhYmlsaXR5OiEwfSkscHJlY29tcHV0ZUVmZmVjdHM6KGkscyk9Pntjb25zdCBvPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO2kuVlVMTkVSQUJJTElUWSs9by5yb3V0ZWRWdWxuZXJhYmlsaXR5P2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sR2k9ZT0+e2NvbnN0IGE9Wy4xMiwuMTQsLjE2LC4xOCwuMl0sdD1bLjIsLjI0LC4yOCwuMzIsLjM2XSxpPVt7bGM6ITAsaWQ6ImZ1YURtZ0Jvb3N0IixuYW1lOiJmdWFEbWdCb29zdCIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiQ0QgdG8gRlVBIERNRyBib29zdCIsdGl0bGU6IkNEIHRvIEZVQSBETUcgYm9vc3QiLGNvbnRlbnQ6YFdoaWxlIHRoZSB3ZWFyZXIgaXMgaW4gYmF0dGxlLCBmb3IgZXZlcnkgMjAlIENSSVQgRE1HIHRoYXQgZXhjZWVkcyAxMjAlLCB0aGUgRE1HIGRlYWx0IGJ5IGZvbGxvdy11cCAKICAgICAgYXR0YWNrIGluY3JlYXNlcyBieSAke0IoYVtlXSoxMDApfSUuIFRoaXMgZWZmZWN0IGNhbiBzdGFjayB1cCB0byA0IHRpbWUocykuYH0se2xjOiEwLGlkOiJ1bHRGdWFEZWZTaHJlZCIsbmFtZToidWx0RnVhRGVmU2hyZWQiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlVsdCAvIEZVQSBERUYgc2hyZWQiLHRpdGxlOiJVbHQgLyBGVUEgREVGIHNocmVkIixjb250ZW50OmBXaGVuIHRoZSBiYXR0bGUgc3RhcnRzIG9yIGFmdGVyIHRoZSB3ZWFyZXIgdXNlcyB0aGVpciBCYXNpYyBBVEssIGVuYWJsZXMgVWx0aW1hdGUgb3IgdGhlIERNRyBkZWFsdCBieSAKICAgICAgZm9sbG93LXVwIGF0dGFjayB0byBpZ25vcmUgJHt0W2VdKjEwMH0lIG9mIHRoZSB0YXJnZXQncyBERUYsIGxhc3RpbmcgZm9yIDIgdHVybihzKS5gfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7ZnVhRG1nQm9vc3Q6ITAsdWx0RnVhRGVmU2hyZWQ6ITB9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7YWUocyxVfFIsdFtlXSxsLnVsdEZ1YURlZlNocmVkKX0sZmluYWxpemVDYWxjdWxhdGlvbnM6KHMsbyk9Pntjb25zdCBsPW8ubGlnaHRDb25lQ29uZGl0aW9uYWxzO2socyxSLGFbZV0qTWF0aC5taW4oNCxNYXRoLmZsb29yKHNbbi5DRF0tMS4yKS8uMiksbC5mdWFEbWdCb29zdCl9LGdwdUZpbmFsaXplQ2FsY3VsYXRpb25zOnM9Pntjb25zdCBvPXMubGlnaHRDb25lQ29uZGl0aW9uYWxzO3JldHVybmAKaWYgKCR7JChvLmZ1YURtZ0Jvb3N0KX0pIHsKICBidWZmQWJpbGl0eURtZyhwX3gsIEZVQV9UWVBFLCAke2FbZV19ICogbWluKDQsIGZsb29yKHguQ0QgLSAxLjIwKSAvIDAuMjApLCAxKTsKfQogICAgYH19fSxNaT1lPT57Y29uc3QgYT1bLjA0LC4wNSwuMDYsLjA3LC4wOF0sdD1bLjA4LC4xLC4xMiwuMTQsLjE2XSxpPVt7bGM6ITAsaWQ6ImF0a0J1ZmZTdGFja3MiLG5hbWU6ImF0a0J1ZmZTdGFja3MiLGZvcm1JdGVtOiJzbGlkZXIiLHRleHQ6IkFUSyBidWZmIHN0YWNrcyIsdGl0bGU6IkFUSyBidWZmIHN0YWNrcyIsY29udGVudDpgQWZ0ZXIgdXNpbmcgYW4gYXR0YWNrLCBmb3IgZWFjaCBlbmVteSB0YXJnZXQgaGl0LCBhZGRpdGlvbmFsbHkgaW5jcmVhc2VzIEFUSyBieSAke0IoYVtlXSoxMDApfSUuIAogICAgICBUaGlzIGVmZmVjdCBjYW4gc3RhY2sgdXAgdG8gNSB0aW1lcyBhbmQgbGFzdCB1bnRpbCB0aGUgbmV4dCBhdHRhY2suYCxtaW46MCxtYXg6NX0se2xjOiEwLGlkOiJzcGRCdWZmIixuYW1lOiJzcGRCdWZmIixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiIzIHRhcmdldHMgaGl0IFNQRCBidWZmIix0aXRsZToiMyB0YXJnZXRzIGhpdCBTUEQgYnVmZiIsY29udGVudDpgSWYgdGhlcmUgYXJlIDMgb3IgbW9yZSBlbmVteSB0YXJnZXRzIGhpdCwgdGhpcyB1bml0J3MgU1BEIGluY3JlYXNlcyBieSAke3RbZV0qMTAwfSUsIGxhc3RpbmcgZm9yIDEgdHVybihzKS5gfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksZGVmYXVsdHM6KCk9Pih7YXRrQnVmZlN0YWNrczo1LHNwZEJ1ZmY6ITF9KSxwcmVjb21wdXRlRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7c1tuLkFUS19QXSs9bC5hdGtCdWZmU3RhY2tzKmFbZV0sc1tuLlNQRF9QXSs9bC5zcGRCdWZmP3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sUmk9ZT0+e2NvbnN0IGE9Wy4xNiwuMiwuMjQsLjI4LC4zMl0sdD1be2xjOiEwLGlkOiJjZEJ1ZmYiLG5hbWU6ImNkQnVmZiIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiRG91YmxlIHBhdGggQ0QgYnVmZiIsdGl0bGU6IkRvdWJsZSBwYXRoIENEIGJ1ZmYiLGNvbnRlbnQ6TH1dO3JldHVybntjb250ZW50OigpPT50LHRlYW1tYXRlQ29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHtjZEJ1ZmY6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe2NkQnVmZjohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czooaSxzKT0+e2NvbnN0IG89cy5saWdodENvbmVDb25kaXRpb25hbHM7aVtuLkNEXSs9by5jZEJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxQaT1lPT57Y29uc3QgYT1bLjEsLjEyLC4xNCwuMTYsLjE4XSx0PVsuMTQsLjE2LC4xOCwuMiwuMjJdLGk9W3tsYzohMCxpZDoidW5hcm1vcmVkVnVsbmVyYWJpbGl0eSIsbmFtZToidW5hcm1vcmVkVnVsbmVyYWJpbGl0eSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiVW5hcm1vcmVkIHZ1bG5lcmFiaWxpdHkiLHRpdGxlOiJVbmFybW9yZWQgdnVsbmVyYWJpbGl0eSIsY29udGVudDpMfSx7bGM6ITAsaWQ6ImNvcm5lcmVkVnVsbmVyYWJpbGl0eSIsbmFtZToiY29ybmVyZWRWdWxuZXJhYmlsaXR5Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJDb3JuZXJlZCB2dWxuZXJhYmlsaXR5Iix0aXRsZToiQ29ybmVyZWQgdnVsbmVyYWJpbGl0eSIsY29udGVudDpMfV07cmV0dXJue2NvbnRlbnQ6KCk9PmksdGVhbW1hdGVDb250ZW50OigpPT5pLGRlZmF1bHRzOigpPT4oe3VuYXJtb3JlZFZ1bG5lcmFiaWxpdHk6ITAsY29ybmVyZWRWdWxuZXJhYmlsaXR5OiEwfSksdGVhbW1hdGVEZWZhdWx0czooKT0+KHt1bmFybW9yZWRWdWxuZXJhYmlsaXR5OiEwLGNvcm5lcmVkVnVsbmVyYWJpbGl0eTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOigpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoocyxvKT0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cy5WVUxORVJBQklMSVRZKz1sLnVuYXJtb3JlZFZ1bG5lcmFiaWxpdHl8fGwuY29ybmVyZWRWdWxuZXJhYmlsaXR5P2FbZV06MCxzLlZVTE5FUkFCSUxJVFkrPWwuY29ybmVyZWRWdWxuZXJhYmlsaXR5P3RbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sVWk9ZT0+e2NvbnN0IGE9Wy4zNiwuNDIsLjQ4LC41NCwuNl0sdD1be2xjOiEwLGlkOiJmdWFEbWdTdGFja3MiLG5hbWU6ImZ1YURtZ1N0YWNrcyIsZm9ybUl0ZW06InNsaWRlciIsdGV4dDoiRlVBIERNRyBzdGFja3MiLHRpdGxlOiJGVUEgRE1HIHN0YWNrcyIsY29udGVudDpMLG1pbjowLG1heDoyfV07cmV0dXJue2NvbnRlbnQ6KCk9PnQsZGVmYXVsdHM6KCk9Pih7ZnVhRG1nU3RhY2tzOjJ9KSxwcmVjb21wdXRlRWZmZWN0czooaSxzKT0+e2NvbnN0IG89cy5saWdodENvbmVDb25kaXRpb25hbHM7ayhpLFIsby5mdWFEbWdTdGFja3MqYVtlXSl9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX19LHZpPWU9Pntjb25zdCBhPVsuMSwuMTIsLjE0LC4xNiwuMThdLHQ9Wy4wOCwuMSwuMTIsLjE0LC4xNl0saT1be2xjOiEwLGlkOiJ3b2VmcmVlU3RhdGUiLG5hbWU6IndvZWZyZWVTdGF0ZSIsZm9ybUl0ZW06InN3aXRjaCIsdGV4dDoiV29lZnJlZSB2dWxuZXJhYmlsaXR5Iix0aXRsZToiV29lZnJlZSB2dWxuZXJhYmlsaXR5Iixjb250ZW50Okx9XSxzPVtwKGksIndvZWZyZWVTdGF0ZSIpLHtsYzohMCxpZDoiYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHkiLG5hbWU6ImFkZGl0aW9uYWxWdWxuZXJhYmlsaXR5Iixmb3JtSXRlbToic3dpdGNoIix0ZXh0OiJBZGRpdGlvbmFsIHZ1bG5lcmFiaWxpdHkiLHRpdGxlOiJBZGRpdGlvbmFsIHZ1bG5lcmFiaWxpdHkiLGNvbnRlbnQ6TH1dO3JldHVybntjb250ZW50OigpPT5pLHRlYW1tYXRlQ29udGVudDooKT0+cyxkZWZhdWx0czooKT0+KHt3b2VmcmVlU3RhdGU6ITB9KSx0ZWFtbWF0ZURlZmF1bHRzOigpPT4oe3dvZWZyZWVTdGF0ZTohMCxhZGRpdGlvbmFsVnVsbmVyYWJpbGl0eTohMH0pLHByZWNvbXB1dGVFZmZlY3RzOihvLGwpPT57fSxwcmVjb21wdXRlTXV0dWFsRWZmZWN0czoobyxsKT0+e2NvbnN0IGQ9bC5saWdodENvbmVDb25kaXRpb25hbHM7by5WVUxORVJBQklMSVRZKz1kLndvZWZyZWVTdGF0ZT9hW2VdOjB9LHByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHM6KG8sbCk9Pntjb25zdCBkPWwubGlnaHRDb25lQ29uZGl0aW9uYWxzO28uVlVMTkVSQUJJTElUWSs9ZC53b2VmcmVlU3RhdGUmJmQuYWRkaXRpb25hbFZ1bG5lcmFiaWxpdHk/dFtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczoobyxsKT0+e2NvbnN0IGQ9bC5saWdodENvbmVDb25kaXRpb25hbHM7by5WVUxORVJBQklMSVRZKz1kLndvZWZyZWVTdGF0ZSYmb1tuLkJFXT49MS41P3RbZV06MH0sZ3B1RmluYWxpemVDYWxjdWxhdGlvbnM6bz0+e2NvbnN0IGw9by5saWdodENvbmVDb25kaXRpb25hbHM7cmV0dXJuYAppZiAoJHskKGwud29lZnJlZVN0YXRlKX0gJiYgeC5CRSA+PSAxLjUwKSB7CiAgeC5WVUxORVJBQklMSVRZICs9ICR7dFtlXX07Cn0KICAgICAgYH19fSxOaT1lPT57Y29uc3QgYT1bLjI3LC4zLC4zMywuMzYsLjM5XSx0PVt7bGM6ITAsZm9ybUl0ZW06InNsaWRlciIsaWQ6Imx1bWluZmx1eFVsdFN0YWNrcyIsbmFtZToibHVtaW5mbHV4VWx0U3RhY2tzIix0ZXh0OiJMdW1pbmZsdXggc3RhY2tzIix0aXRsZToiTHVtaW5mbHV4IHN0YWNrcyIsY29udGVudDpMLG1pbjowLG1heDoyfV07cmV0dXJue2NvbnRlbnQ6KCk9PnQsZGVmYXVsdHM6KCk9Pih7bHVtaW5mbHV4VWx0U3RhY2tzOjJ9KSxwcmVjb21wdXRlRWZmZWN0czooaSxzKT0+e2NvbnN0IG89cy5saWdodENvbmVDb25kaXRpb25hbHM7YWUoaSxVLG8ubHVtaW5mbHV4VWx0U3RhY2tzKmFbZV0pfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSxIaT1lPT57Y29uc3QgYT1bLjA4LC4wOSwuMSwuMTEsLjEyXSx0PVt7bGM6ITAsaWQ6InNwZEJ1ZmYiLG5hbWU6InNwZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IlNQRCBidWZmIix0aXRsZToiU1BEIGJ1ZmYiLGNvbnRlbnQ6TH1dO3JldHVybntjb250ZW50OigpPT50LGRlZmF1bHRzOigpPT4oe3NwZEJ1ZmY6ITF9KSxwcmVjb21wdXRlRWZmZWN0czooaSxzKT0+e2NvbnN0IG89cy5saWdodENvbmVDb25kaXRpb25hbHM7aVtuLlNQRF9QXSs9by5zcGRCdWZmP2FbZV06MH0sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fX0sT2k9KCk9Pih7Y29udGVudDooKT0+W10sZGVmYXVsdHM6KCk9Pih7fSkscHJlY29tcHV0ZUVmZmVjdHM6KCk9Pnt9LGZpbmFsaXplQ2FsY3VsYXRpb25zOigpPT57fX0pLEtpPWU9Pntjb25zdCBhPVsuMTgsLjIyNSwuMjcsLjMxNSwuMzZdLHQ9W3tsYzohMCxpZDoiY2RCdWZmIixuYW1lOiJjZEJ1ZmYiLGZvcm1JdGVtOiJzd2l0Y2giLHRleHQ6IkNEIGJ1ZmYiLHRpdGxlOiJDRCBidWZmIixjb250ZW50Okx9XTtyZXR1cm57Y29udGVudDooKT0+dCxkZWZhdWx0czooKT0+KHtjZEJ1ZmY6ITB9KSxwcmVjb21wdXRlRWZmZWN0czooaSxzKT0+e2NvbnN0IG89cy5saWdodENvbmVDb25kaXRpb25hbHM7aVtuLkNEXSs9by5jZEJ1ZmY/YVtlXTowfSxmaW5hbGl6ZUNhbGN1bGF0aW9uczooKT0+e319fSx3aT0oKT0+KHtjb250ZW50OigpPT5bXSxkZWZhdWx0czooKT0+KHt9KSxwcmVjb21wdXRlRWZmZWN0czooKT0+e30sZmluYWxpemVDYWxjdWxhdGlvbnM6KCk9Pnt9fSk7Y29uc3QgRmk9ey4uLnsyM2UzOmJuLDIzMDAxOmRuLDIzMDAyOnFuLDIzMDAzOnphLDIzMDA0Om1uLDIzMDA1Ol9uLDIzMDA2OlJuLDIzMDA3OnVuLDIzMDA4OmFuLDIzMDA5OnRpLDIzMDEwOkZhLDIzMDExOiRuLDIzMDEyOlluLDIzMDEzOm5pLDIzMDE0OlNuLDIzMDE1OldhLDIzMDE2Om1pLDIzMDE3OlRuLDIzMDE4OkhhLDIzMDE5Ok1uLDIzMDIwOndhLDIzMDIxOnRuLDIzMDIyOk9uLDIzMDIzOl9pLDIzMDI0OmdpLDIzMDI1OkxpLDIzMDI2OmtpLDIzMDI3OklpLDIzMDI4OkdpLDIzMDI5OlBpLDIzMDMwOlVpLDIzMDMxOk5pLDIzMDMyOnZpLDIzMDMzOk9pLDI0ZTM6eW4sMjQwMDE6amEsMjQwMDI6Sm4sMjQwMDM6eG4sMjQwMDQ6TWl9LC4uLnsyMWUzOk5uLDIxMDAxOnJuLDIxMDAyOlphLDIxMDAzOkluLDIxMDA0OkFuLDIxMDA1OlpuLDIxMDA2OlhuLDIxMDA3OlduLDIxMDA4Om5uLDIxMDA5OmhuLDIxMDEwOlFuLDIxMDExOnZuLDIxMDEyOkthLDIxMDEzOkNuLDIxMDE0OlBuLDIxMDE1OktuLDIxMDE2OnNpLDIxMDE3OmpuLDIxMDE4OlFhLDIxMDE5Om9pLDIxMDIwOmxuLDIxMDIxOkhuLDIxMDIyOnNuLDIxMDIzOmNpLDIxMDI0OkZuLDIxMDI1OkduLDIxMDI2OnVpLDIxMDI3OmVpLDIxMDI4OnJpLDIxMDI5OmZpLDIxMDMwOmFpLDIxMDMxOnduLDIxMDMyOiRhLDIxMDMzOmtuLDIxMDM0OmlpLDIxMDM1OmRpLDIxMDM2OlNpLDIxMDM3OmhpLDIxMDM4OkRpLDIxMDM5OkNpLDIxMDQwOkVpLDIxMDQxOkFpLDIxMDQyOkJpLDIxMDQzOnBpLDIxMDQ0OlRpLDIxMDQ1OnlpLDIxMDQ2OlJpLDIxMDQ3OkhpLDIxMDQ4OndpLDIyZTM6VmEsMjIwMDE6Y24sMjIwMDI6YmksMjIwMDM6S2l9LC4uLnsyZTQ6T2EsMjAwMDE6cWEsMjAwMDI6eGEsMjAwMDM6TmEsMjAwMDQ6bGksMjAwMDU6WWEsMjAwMDY6WGEsMjAwMDc6SmEsMjAwMDg6b24sMjAwMDk6em4sMjAwMTA6ZW4sMjAwMTE6RG4sMjAwMTI6Qm4sMjAwMTM6TG4sMjAwMTQ6dmEsMjAwMTU6Z24sMjAwMTY6cG4sMjAwMTc6VW4sMjAwMTg6Zm4sMjAwMTk6RW4sMjAwMjA6Vm59fSxkZT17Z2V0OmU9Pntjb25zdCBhPUZpW2UubGlnaHRDb25lXTtyZXR1cm4gYT9hKGUubGlnaHRDb25lU3VwZXJpbXBvc2l0aW9uLTEpOntjb250ZW50OigpPT5bXSx0ZWFtbWF0ZUNvbnRlbnQ6KCk9PltdLGRlZmF1bHRzOigpPT4oe30pLHRlYW1tYXRlRGVmYXVsdHM6KCk9Pih7fSl9fX07ZnVuY3Rpb24gVmkoZSxhLHQsaSxzLG8sbCl7cmV0dXJuIGUueC5zZXRzPXtQYXNzZXJieU9mV2FuZGVyaW5nQ2xvdWQ6KDE+PihhXjApKSsoMT4+KHReMCkpKygxPj4oaV4wKSkrKDE+PihzXjApKSxNdXNrZXRlZXJPZldpbGRXaGVhdDooMT4+KGFeMSkpKygxPj4odF4xKSkrKDE+PihpXjEpKSsoMT4+KHNeMSkpLEtuaWdodE9mUHVyaXR5UGFsYWNlOigxPj4oYV4yKSkrKDE+Pih0XjIpKSsoMT4+KGleMikpKygxPj4oc14yKSksSHVudGVyT2ZHbGFjaWFsRm9yZXN0OigxPj4oYV4zKSkrKDE+Pih0XjMpKSsoMT4+KGleMykpKygxPj4oc14zKSksQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmc6KDE+PihhXjQpKSsoMT4+KHReNCkpKygxPj4oaV40KSkrKDE+PihzXjQpKSxHdWFyZE9mV3V0aGVyaW5nU25vdzooMT4+KGFeNSkpKygxPj4odF41KSkrKDE+PihpXjUpKSsoMT4+KHNeNSkpLEZpcmVzbWl0aE9mTGF2YUZvcmdpbmc6KDE+PihhXjYpKSsoMT4+KHReNikpKygxPj4oaV42KSkrKDE+PihzXjYpKSxHZW5pdXNPZkJyaWxsaWFudFN0YXJzOigxPj4oYV43KSkrKDE+Pih0XjcpKSsoMT4+KGleNykpKygxPj4oc143KSksQmFuZE9mU2l6emxpbmdUaHVuZGVyOigxPj4oYV44KSkrKDE+Pih0XjgpKSsoMT4+KGleOCkpKygxPj4oc144KSksRWFnbGVPZlR3aWxpZ2h0TGluZTooMT4+KGFeOSkpKygxPj4odF45KSkrKDE+PihpXjkpKSsoMT4+KHNeOSkpLFRoaWVmT2ZTaG9vdGluZ01ldGVvcjooMT4+KGFeMTApKSsoMT4+KHReMTApKSsoMT4+KGleMTApKSsoMT4+KHNeMTApKSxXYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQ6KDE+PihhXjExKSkrKDE+Pih0XjExKSkrKDE+PihpXjExKSkrKDE+PihzXjExKSksTG9uZ2V2b3VzRGlzY2lwbGU6KDE+PihhXjEyKSkrKDE+Pih0XjEyKSkrKDE+PihpXjEyKSkrKDE+PihzXjEyKSksTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlOigxPj4oYV4xMykpKygxPj4odF4xMykpKygxPj4oaV4xMykpKygxPj4oc14xMykpLFRoZUFzaGJsYXppbmdHcmFuZER1a2U6KDE+PihhXjE0KSkrKDE+Pih0XjE0KSkrKDE+PihpXjE0KSkrKDE+PihzXjE0KSksUHJpc29uZXJJbkRlZXBDb25maW5lbWVudDooMT4+KGFeMTUpKSsoMT4+KHReMTUpKSsoMT4+KGleMTUpKSsoMT4+KHNeMTUpKSxQaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnM6KDE+PihhXjE2KSkrKDE+Pih0XjE2KSkrKDE+PihpXjE2KSkrKDE+PihzXjE2KSksV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnM6KDE+PihhXjE3KSkrKDE+Pih0XjE3KSkrKDE+PihpXjE3KSkrKDE+PihzXjE3KSksSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZTooMT4+KGFeMTgpKSsoMT4+KHReMTgpKSsoMT4+KGleMTgpKSsoMT4+KHNeMTgpKSxUaGVXaW5kU29hcmluZ1ZhbG9yb3VzOigxPj4oYV4xOSkpKygxPj4odF4xOSkpKygxPj4oaV4xOSkpKygxPj4oc14xOSkpLFNhY2VyZG9zUmVsaXZlZE9yZGVhbDooMT4+KGFeMjApKSsoMT4+KHReMjApKSsoMT4+KGleMjApKSsoMT4+KHNeMjApKSxTY2hvbGFyTG9zdEluRXJ1ZGl0aW9uOigxPj4oYV4yMSkpKygxPj4odF4yMSkpKygxPj4oaV4yMSkpKygxPj4oc14yMSkpLFNwYWNlU2VhbGluZ1N0YXRpb246KDE+PihvXjApKSsoMT4+KGxeMCkpLEZsZWV0T2ZUaGVBZ2VsZXNzOigxPj4ob14xKSkrKDE+PihsXjEpKSxQYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZTooMT4+KG9eMikpKygxPj4obF4yKSksQmVsb2JvZ09mVGhlQXJjaGl0ZWN0czooMT4+KG9eMykpKygxPj4obF4zKSksQ2VsZXN0aWFsRGlmZmVyZW50aWF0b3I6KDE+PihvXjQpKSsoMT4+KGxeNCkpLEluZXJ0U2Fsc290dG86KDE+PihvXjUpKSsoMT4+KGxeNSkpLFRhbGlhS2luZ2RvbU9mQmFuZGl0cnk6KDE+PihvXjYpKSsoMT4+KGxeNikpLFNwcmlnaHRseVZvbndhY3E6KDE+PihvXjcpKSsoMT4+KGxeNykpLFJ1dGlsYW50QXJlbmE6KDE+PihvXjgpKSsoMT4+KGxeOCkpLEJyb2tlbktlZWw6KDE+PihvXjkpKSsoMT4+KGxeOSkpLEZpcm1hbWVudEZyb250bGluZUdsYW1vdGg6KDE+PihvXjEwKSkrKDE+PihsXjEwKSksUGVuYWNvbnlMYW5kT2ZUaGVEcmVhbXM6KDE+PihvXjExKSkrKDE+PihsXjExKSksU2lnb25pYVRoZVVuY2xhaW1lZERlc29sYXRpb246KDE+PihvXjEyKSkrKDE+PihsXjEyKSksSXp1bW9HZW5zZWlBbmRUYWthbWFEaXZpbmVSZWFsbTooMT4+KG9eMTMpKSsoMT4+KGxeMTMpKSxEdXJhbkR5bmFzdHlPZlJ1bm5pbmdXb2x2ZXM6KDE+PihvXjE0KSkrKDE+PihsXjE0KSksRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybjooMT4+KG9eMTUpKSsoMT4+KGxeMTUpKSxMdXNoYWthVGhlU3Vua2VuU2VhczooMT4+KG9eMTYpKSsoMT4+KGxeMTYpKSxUaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyazooMT4+KG9eMTcpKSsoMT4+KGxeMTcpKX0sZS54LnNldHN9ZnVuY3Rpb24gV2koZSxhLHQpe2NvbnN0IGk9dC5jaGFyYWN0ZXIuYmFzZSxzPXQuY2hhcmFjdGVyLnRyYWNlcyxvPXQuY2hhcmFjdGVyLmxpZ2h0Q29uZSxsPWUueC5zZXRzO3N3aXRjaChlLkVMRU1FTlRBTF9ETUc9MCx0LkVMRU1FTlRBTF9ETUdfVFlQRSl7Y2FzZSBuLlBoeXNpY2FsX0RNRzplLkVMRU1FTlRBTF9ETUc9UShuLlBoeXNpY2FsX0RNRyxpLG8scyxlLC4xKlQobC5DaGFtcGlvbk9mU3RyZWV0d2lzZUJveGluZykpO2JyZWFrO2Nhc2Ugbi5GaXJlX0RNRzplLkVMRU1FTlRBTF9ETUc9UShuLkZpcmVfRE1HLGksbyxzLGUsLjEqVChsLkZpcmVzbWl0aE9mTGF2YUZvcmdpbmcpKTticmVhaztjYXNlIG4uSWNlX0RNRzplLkVMRU1FTlRBTF9ETUc9UShuLkljZV9ETUcsaSxvLHMsZSwuMSpUKGwuSHVudGVyT2ZHbGFjaWFsRm9yZXN0KSk7YnJlYWs7Y2FzZSBuLkxpZ2h0bmluZ19ETUc6ZS5FTEVNRU5UQUxfRE1HPVEobi5MaWdodG5pbmdfRE1HLGksbyxzLGUsLjEqVChsLkJhbmRPZlNpenpsaW5nVGh1bmRlcikpO2JyZWFrO2Nhc2Ugbi5XaW5kX0RNRzplLkVMRU1FTlRBTF9ETUc9UShuLldpbmRfRE1HLGksbyxzLGUsLjEqVChsLkVhZ2xlT2ZUd2lsaWdodExpbmUpKTticmVhaztjYXNlIG4uUXVhbnR1bV9ETUc6ZS5FTEVNRU5UQUxfRE1HPVEobi5RdWFudHVtX0RNRyxpLG8scyxlLC4xKlQobC5HZW5pdXNPZkJyaWxsaWFudFN0YXJzKSk7YnJlYWs7Y2FzZSBuLkltYWdpbmFyeV9ETUc6ZS5FTEVNRU5UQUxfRE1HPVEobi5JbWFnaW5hcnlfRE1HLGksbyxzLGUsLjEqVChsLldhc3RlbGFuZGVyT2ZCYW5kaXRyeURlc2VydCkpO2JyZWFrfX1mdW5jdGlvbiB6aShlLGEsdCl7Y29uc3QgaT10LmNoYXJhY3Rlci5iYXNlLHM9dC5jaGFyYWN0ZXIubGlnaHRDb25lLG89dC5jaGFyYWN0ZXIudHJhY2VzLGw9ZS54LnNldHM7ZVtuLlNQRF09QmUobi5TUEQsbi5TUERfUCxhLmJhc2VTcGQscyxvLGUsLjA2KlQobC5NZXNzZW5nZXJUcmF2ZXJzaW5nSGFja2Vyc3BhY2UpKy4wNipUKGwuRm9yZ2VPZlRoZUthbHBhZ25pTGFudGVybikrLjA2KncobC5NdXNrZXRlZXJPZldpbGRXaGVhdCkrLjA2KlQobC5TYWNlcmRvc1JlbGl2ZWRPcmRlYWwpKSxlW24uSFBdPUJlKG4uSFAsbi5IUF9QLGEuYmFzZUhwLHMsbyxlLC4xMipUKGwuRmxlZXRPZlRoZUFnZWxlc3MpKy4xMipUKGwuTG9uZ2V2b3VzRGlzY2lwbGUpKSxlW24uQVRLXT1CZShuLkFUSyxuLkFUS19QLGEuYmFzZUF0ayxzLG8sZSwuMTIqVChsLlNwYWNlU2VhbGluZ1N0YXRpb24pKy4xMipUKGwuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCkrLjEyKlQobC5NdXNrZXRlZXJPZldpbGRXaGVhdCkrLjEyKlQobC5Qcmlzb25lckluRGVlcENvbmZpbmVtZW50KSsuMTIqVChsLkl6dW1vR2Vuc2VpQW5kVGFrYW1hRGl2aW5lUmVhbG0pKy4xMipUKGwuVGhlV2luZFNvYXJpbmdWYWxvcm91cykpLGVbbi5ERUZdPUJlKG4uREVGLG4uREVGX1AsYS5iYXNlRGVmLHMsbyxlLC4xNSpUKGwuQmVsb2JvZ09mVGhlQXJjaGl0ZWN0cykrLjE1KlQobC5LbmlnaHRPZlB1cml0eVBhbGFjZSkpLGVbbi5DUl09UShuLkNSLGkscyxvLGUsLjA4KlQobC5JbmVydFNhbHNvdHRvKSsuMDgqVChsLlJ1dGlsYW50QXJlbmEpKy4wNCp3KGwuUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzKSsuMDQqVChsLlNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uKSsuMDYqdyhsLlRoZVdpbmRTb2FyaW5nVmFsb3JvdXMpKy4wNipUKGwuU2Nob2xhckxvc3RJbkVydWRpdGlvbikpLGVbbi5DRF09UShuLkNELGkscyxvLGUsLjE2KlQobC5DZWxlc3RpYWxEaWZmZXJlbnRpYXRvcikrLjE2KlQobC5UaGVXb25kcm91c0JhbmFuQW11c2VtZW50UGFyaykpLGVbbi5FSFJdPVEobi5FSFIsaSxzLG8sZSwuMSpUKGwuUGFuQ29zbWljQ29tbWVyY2lhbEVudGVycHJpc2UpKSxlW24uUkVTXT1RKG4uUkVTLGkscyxvLGUsLjEqVChsLkJyb2tlbktlZWwpKSxlW24uQkVdPVEobi5CRSxpLHMsbyxlLC4xNipUKGwuVGFsaWFLaW5nZG9tT2ZCYW5kaXRyeSkrLjE2KlQobC5UaGllZk9mU2hvb3RpbmdNZXRlb3IpKy4xNip3KGwuVGhpZWZPZlNob290aW5nTWV0ZW9yKSsuMTYqVChsLldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zKSsuMTYqVChsLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpKSxlW24uRVJSXT1RKG4uRVJSLGkscyxvLGUsLjA1KlQobC5TcHJpZ2h0bHlWb253YWNxKSsuMDUqVChsLlBlbmFjb255TGFuZE9mVGhlRHJlYW1zKSsuMDUqVChsLkx1c2hha2FUaGVTdW5rZW5TZWFzKSksZVtuLk9IQl09UShuLk9IQixpLHMsbyxlLC4xKlQobC5QYXNzZXJieU9mV2FuZGVyaW5nQ2xvdWQpKX1mdW5jdGlvbiAkaShlLGEsdCl7dC5jaGFyYWN0ZXJDb25kaXRpb25hbHM9bWUuZ2V0KGEpLHQubGlnaHRDb25lQ29uZGl0aW9uYWxzPWRlLmdldChhKTtjb25zdCBpPWUueCxzPWkuc2V0cztpW24uQVRLXSs9ZVtuLkFUS10saVtuLkRFRl0rPWVbbi5ERUZdLGlbbi5IUF0rPWVbbi5IUF0saVtuLlNQRF0rPWVbbi5TUERdLGlbbi5DRF0rPWVbbi5DRF0saVtuLkNSXSs9ZVtuLkNSXSxpW24uRUhSXSs9ZVtuLkVIUl0saVtuLlJFU10rPWVbbi5SRVNdLGlbbi5CRV0rPWVbbi5CRV0saVtuLkVSUl0rPWVbbi5FUlJdLGlbbi5PSEJdKz1lW24uT0hCXSxpW3QuRUxFTUVOVEFMX0RNR19UWVBFXSs9ZS5FTEVNRU5UQUxfRE1HLGlbbi5BVEtdKz1hLmNvbWJhdEJ1ZmZzLkFUSythLmNvbWJhdEJ1ZmZzLkFUS19QKmEuYmFzZUF0ayxpW24uREVGXSs9YS5jb21iYXRCdWZmcy5ERUYrYS5jb21iYXRCdWZmcy5ERUZfUCphLmJhc2VEZWYsaVtuLkhQXSs9YS5jb21iYXRCdWZmcy5IUCthLmNvbWJhdEJ1ZmZzLkhQX1AqYS5iYXNlSHAsaVtuLkNEXSs9YS5jb21iYXRCdWZmcy5DRCxpW24uQ1JdKz1hLmNvbWJhdEJ1ZmZzLkNSLGlbbi5TUERdKz1hLmNvbWJhdEJ1ZmZzLlNQRF9QKmEuYmFzZVNwZCthLmNvbWJhdEJ1ZmZzLlNQRCxpW24uQkVdKz1hLmNvbWJhdEJ1ZmZzLkJFLGkuRUxFTUVOVEFMX0RNRys9YS5jb21iYXRCdWZmcy5ETUdfQk9PU1QsaS5FRkZFQ1RfUkVTX1BFTis9YS5jb21iYXRCdWZmcy5FRkZFQ1RfUkVTX1BFTixpLlZVTE5FUkFCSUxJVFkrPWEuY29tYmF0QnVmZnMuVlVMTkVSQUJJTElUWSxpLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QrPWEuY29tYmF0QnVmZnMuQlJFQUtfRUZGSUNJRU5DWSx3KHMuTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlKSYmdC5lbmFibGVkTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlJiYoaVtuLlNQRF9QXSs9LjEyKSxpW24uU1BEXSs9aVtuLlNQRF9QXSphLmJhc2VTcGQsdyhzLkNoYW1waW9uT2ZTdHJlZXR3aXNlQm94aW5nKSYmKGlbbi5BVEtfUF0rPS4wNSp0LnZhbHVlQ2hhbXBpb25PZlN0cmVldHdpc2VCb3hpbmcpLHcocy5CYW5kT2ZTaXp6bGluZ1RodW5kZXIpJiZ0LmVuYWJsZWRCYW5kT2ZTaXp6bGluZ1RodW5kZXImJihpW24uQVRLX1BdKz0uMiksdyhzLlRoZUFzaGJsYXppbmdHcmFuZER1a2UpJiYoaVtuLkFUS19QXSs9LjA2KnQudmFsdWVUaGVBc2hibGF6aW5nR3JhbmREdWtlKSxpW24uQVRLXSs9aVtuLkFUS19QXSphLmJhc2VBdGssaVtuLkRFRl0rPWlbbi5ERUZfUF0qYS5iYXNlRGVmLGlbbi5IUF0rPWlbbi5IUF9QXSphLmJhc2VIcCx3KHMuSHVudGVyT2ZHbGFjaWFsRm9yZXN0KSYmdC5lbmFibGVkSHVudGVyT2ZHbGFjaWFsRm9yZXN0JiYoaVtuLkNEXSs9LjI1KSx3KHMuV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0KSYmKGlbbi5DRF0rPS4xKih0LnZhbHVlV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0PT0yPzE6MCkpLHcocy5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpJiYoaVtuLkNEXSs9eGlbdC52YWx1ZVBpb25lZXJEaXZlck9mRGVhZFdhdGVyc10pLFQocy5TaWdvbmlhVGhlVW5jbGFpbWVkRGVzb2xhdGlvbikmJihpW24uQ0RdKz0uMDQqdC52YWx1ZVNpZ29uaWFUaGVVbmNsYWltZWREZXNvbGF0aW9uKSxUKHMuRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzKSYmdC52YWx1ZUR1cmFuRHluYXN0eU9mUnVubmluZ1dvbHZlcz49NSYmKGlbbi5DRF0rPS4yNSksVChzLlRoZVdvbmRyb3VzQmFuYW5BbXVzZW1lbnRQYXJrKSYmdC5lbmFibGVkVGhlV29uZHJvdXNCYW5hbkFtdXNlbWVudFBhcmsmJihpW24uQ0RdKz0uMzIpLHcocy5XYXN0ZWxhbmRlck9mQmFuZGl0cnlEZXNlcnQpJiZ0LnZhbHVlV2FzdGVsYW5kZXJPZkJhbmRpdHJ5RGVzZXJ0PjAmJihpW24uQ1JdKz0uMSksdyhzLkxvbmdldm91c0Rpc2NpcGxlKSYmKGlbbi5DUl0rPS4wOCp0LnZhbHVlTG9uZ2V2b3VzRGlzY2lwbGUpLHcocy5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpJiZ0LnZhbHVlUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzPjImJihpW24uQ1JdKz0uMDQpLFQocy5JenVtb0dlbnNlaUFuZFRha2FtYURpdmluZVJlYWxtKSYmdC5lbmFibGVkSXp1bW9HZW5zZWlBbmRUYWthbWFEaXZpbmVSZWFsbSYmKGlbbi5DUl0rPS4xMiksdyhzLldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zKSYmdC5lbmFibGVkV2F0Y2htYWtlck1hc3Rlck9mRHJlYW1NYWNoaW5hdGlvbnMmJihpW24uQkVdKz0uMyksVChzLkZvcmdlT2ZUaGVLYWxwYWduaUxhbnRlcm4pJiZ0LmVuYWJsZWRGb3JnZU9mVGhlS2FscGFnbmlMYW50ZXJuJiYoaVtuLkJFXSs9LjQpLHcocy5NdXNrZXRlZXJPZldpbGRXaGVhdCkmJmsoaSxXLC4xKSx3KHMuRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZykmJmsoaSxWLC4xMiksVChzLlRoZUFzaGJsYXppbmdHcmFuZER1a2UpJiZrKGksUiwuMiksVChzLkR1cmFuRHluYXN0eU9mUnVubmluZ1dvbHZlcykmJmsoaSxSLC4wNSp0LnZhbHVlRHVyYW5EeW5hc3R5T2ZSdW5uaW5nV29sdmVzKSx3KHMuVGhlV2luZFNvYXJpbmdWYWxvcm91cykmJmsoaSxVLC4zNip0LmVuYWJsZWRUaGVXaW5kU29hcmluZ1ZhbG9yb3VzKSx3KHMuU2Nob2xhckxvc3RJbkVydWRpdGlvbikmJmsoaSxVfFYsLjIpLHcocy5HZW5pdXNPZkJyaWxsaWFudFN0YXJzKSYmKGkuREVGX1BFTis9dC5lbmFibGVkR2VuaXVzT2ZCcmlsbGlhbnRTdGFycz8uMjouMSksdyhzLlByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQpJiYoaS5ERUZfUEVOKz0uMDYqdC52YWx1ZVByaXNvbmVySW5EZWVwQ29uZmluZW1lbnQpLFQocy5QaW9uZWVyRGl2ZXJPZkRlYWRXYXRlcnMpJiZ0LnZhbHVlUGlvbmVlckRpdmVyT2ZEZWFkV2F0ZXJzPj0wJiYoaS5FTEVNRU5UQUxfRE1HKz0uMTIpLFQocy5GaXJlc21pdGhPZkxhdmFGb3JnaW5nKSYmdC5lbmFibGVkRmlyZXNtaXRoT2ZMYXZhRm9yZ2luZyYmKGlbbi5GaXJlX0RNR10rPS4xMiksdyhzLlNjaG9sYXJMb3N0SW5FcnVkaXRpb24pJiZ0LmVuYWJsZWRTY2hvbGFyTG9zdEluRXJ1ZGl0aW9uJiZrKGksViwuMjUpLFQocy5TcGFjZVNlYWxpbmdTdGF0aW9uKSYmeChSZSxpLGEsdCksVChzLlJ1dGlsYW50QXJlbmEpJiZ4KEdlLGksYSx0KSxUKHMuSW5lcnRTYWxzb3R0bykmJngoTWUsaSxhLHQpLFQocy5GbGVldE9mVGhlQWdlbGVzcykmJngoUGUsaSxhLHQpLFQocy5CZWxvYm9nT2ZUaGVBcmNoaXRlY3RzKSYmeChVZSxpLGEsdCksdyhzLklyb25DYXZhbHJ5QWdhaW5zdFRoZVNjb3VyZ2UpJiZ4KHZlLGksYSx0KSx3KHMuSXJvbkNhdmFscnlBZ2FpbnN0VGhlU2NvdXJnZSkmJngoTmUsaSxhLHQpLFQocy5QYW5Db3NtaWNDb21tZXJjaWFsRW50ZXJwcmlzZSkmJngoSGUsaSxhLHQpLFQocy5Ccm9rZW5LZWVsKSYmeChPZSxpLGEsdCksVChzLkNlbGVzdGlhbERpZmZlcmVudGlhdG9yKSYmeChLZSxpLGEsdCksVChzLlRhbGlhS2luZ2RvbU9mQmFuZGl0cnkpJiZ4KHdlLGksYSx0KSxUKHMuRmlybWFtZW50RnJvbnRsaW5lR2xhbW90aCkmJngoRmUsaSxhLHQpLFQocy5GaXJtYW1lbnRGcm9udGxpbmVHbGFtb3RoKSYmeChWZSxpLGEsdCk7Y29uc3Qgbz10LmNoYXJhY3RlckNvbmRpdGlvbmFscyxsPXQubGlnaHRDb25lQ29uZGl0aW9uYWxzO2Zvcihjb25zdCBkIG9mIG8uZHluYW1pY0NvbmRpdGlvbmFsc3x8W10peChkLGksYSx0KTtmb3IoY29uc3QgZCBvZiBsLmR5bmFtaWNDb25kaXRpb25hbHN8fFtdKXgoZCxpLGEsdCk7cmV0dXJuIGl9ZnVuY3Rpb24gWWkoZSxhLHQsaSxzLG8sbCl7Zm9yKGNvbnN0IGQgb2ZbYSx0LGkscyxvLGxdKWlmKGQucGFydClmb3IoY29uc3QgQyBvZiBkLmNvbmRlbnNlZFN0YXRzKWVbQ1swXV0rPUNbMV07ZS54LldFSUdIVD1hLndlaWdodFNjb3JlK3Qud2VpZ2h0U2NvcmUraS53ZWlnaHRTY29yZStzLndlaWdodFNjb3JlK28ud2VpZ2h0U2NvcmUrbC53ZWlnaHRTY29yZX1mdW5jdGlvbiBRKGUsYSx0LGkscyxvKXtyZXR1cm4gYVtlXSt0W2VdK3NbZV0raVtlXStvfWZ1bmN0aW9uIEJlKGUsYSx0LGkscyxvLGwpe3JldHVybiB0KigxK2wrb1thXStzW2FdK2lbYV0pK29bZV0rc1tlXX1jb25zdCB4aT17Wy0xXTowLDA6MCwxOi4wOCwyOi4xMiwzOi4xNiw0Oi4yNH0scWk9e1tuLkhQX1BdOjAsW24uQVRLX1BdOjAsW24uREVGX1BdOjAsW24uSFBdOjFlLTYsW24uQVRLXToxZS02LFtuLkRFRl06MWUtNixbbi5TUERdOjFlLTYsW24uU1BEX1BdOjAsW24uQ1JdOjFlLTYsW24uQ0RdOjFlLTYsW24uRUhSXToxZS02LFtuLlJFU106MWUtNixbbi5CRV06MWUtNixbbi5FUlJdOjFlLTYsW24uT0hCXToxZS02LFtuLlBoeXNpY2FsX0RNR106MWUtNixbbi5GaXJlX0RNR106MWUtNixbbi5JY2VfRE1HXToxZS02LFtuLkxpZ2h0bmluZ19ETUddOjFlLTYsW24uV2luZF9ETUddOjFlLTYsW24uUXVhbnR1bV9ETUddOjFlLTYsW24uSW1hZ2luYXJ5X0RNR106MWUtNn07ZnVuY3Rpb24gamkoZSxhLHQpe2NvbnN0IGk9dC5saWdodENvbmVDb25kaXRpb25hbHMscz10LmNoYXJhY3RlckNvbmRpdGlvbmFscztpLmZpbmFsaXplQ2FsY3VsYXRpb25zJiZpLmZpbmFsaXplQ2FsY3VsYXRpb25zKGUsYSkscy5maW5hbGl6ZUNhbGN1bGF0aW9ucyYmcy5maW5hbGl6ZUNhbGN1bGF0aW9ucyhlLGEpfWZ1bmN0aW9uIFFpKGUsYSx0KXtjb25zdCBpPWUuc2V0cyxzPTgwLG89YS5lbmVteUxldmVsLGw9ZS5ERUZfUEVOK2EuY29tYmF0QnVmZnMuREVGX1BFTixkPTA7ZS5FTEVNRU5UQUxfRE1HKz1lW3QuRUxFTUVOVEFMX0RNR19UWVBFXTtjb25zdCBDPTErZS5FTEVNRU5UQUxfRE1HLEU9MTtsZXQgRD1lW24uSFBdLygxLWVbbi5ERUZdLyhlW24uREVGXSsyMDArMTAqYS5lbmVteUxldmVsKSk7RCo9MS8oKDEtLjA4KlQoaS5HdWFyZE9mV3V0aGVyaW5nU25vdykpKmUuRE1HX1JFRF9NVUxUSSksZS5FSFA9RCx0LmJyb2tlbk11bHRpcGxpZXI9ZS5FTkVNWV9XRUFLTkVTU19CUk9LRU4/MTouOTtjb25zdCBtPUUqdC5icm9rZW5NdWx0aXBsaWVyLGY9dC5yZXNpc3RhbmNlLWUuUkVTX1BFTi1lW3QuUkVTX1BFTl9UWVBFXSxyPWUuVUxUX0NEX09WRVJSSURFfHxlW24uQ0RdK2UuVUxUX0NEX0JPT1NULHU9MStlLlZVTE5FUkFCSUxJVFkrZS5CUkVBS19WVUxORVJBQklMSVRZLGM9MStlLlZVTE5FUkFCSUxJVFkrZS5CQVNJQ19WVUxORVJBQklMSVRZLFM9MStlLlZVTE5FUkFCSUxJVFkrZS5TS0lMTF9WVUxORVJBQklMSVRZLGg9MStlLlZVTE5FUkFCSUxJVFkrZS5VTFRfVlVMTkVSQUJJTElUWSplLlVMVF9CT09TVFNfTVVMVEksQT0xK2UuVlVMTkVSQUJJTElUWStlLkZVQV9WVUxORVJBQklMSVRZLF89MStlLlZVTE5FUkFCSUxJVFkrZS5ET1RfVlVMTkVSQUJJTElUWSxHPWEuZW5lbXlFZmZlY3RSZXNpc3RhbmNlLEk9TWF0aC5taW4oMSxlLkRPVF9DSEFOQ0UqKDErZVtuLkVIUl0pKigxLUcrZS5FRkZFQ1RfUkVTX1BFTikpLFk9ZS5ET1RfU1BMSVQ/KDErZS5ET1RfU1BMSVQqSSooZS5ET1RfU1RBQ0tTLTEpKS8oMSsuMDUqKGUuRE9UX1NUQUNLUy0xKSk6SSxlZT1hLmVuZW15TWF4VG91Z2huZXNzO2UuQlJFQUtfRE1HPW0qMzc2Ny41NTMzKnQuRUxFTUVOVEFMX0JSRUFLX1NDQUxJTkcqbGUocyxvLGwsZCxlLkJSRUFLX0RFRl9QRU4pKiguNStlZS8xMjApKnUqKDEtZikqKDErZVtuLkJFXSksZS5TVVBFUl9CUkVBS19ETUc9bSozNzY3LjU1MzMqbGUocyxvLGwsZCxlLkJSRUFLX0RFRl9QRU4rZS5TVVBFUl9CUkVBS19ERUZfUEVOKSp1KigxLWYpKigxK2Vbbi5CRV0pKihlLlNVUEVSX0JSRUFLX01PRElGSUVSK2UuU1VQRVJfQlJFQUtfSE1DX01PRElGSUVSKSooMS8zMCkqKDErZS5CUkVBS19FRkZJQ0lFTkNZX0JPT1NUKTtjb25zdCBvZT1tKjM3NjcuNTUzMypsZShzLG8sbCxkLGUuQlJFQUtfREVGX1BFTitlLlNVUEVSX0JSRUFLX0RFRl9QRU4pKnUqKDEtZikqKDErZVtuLkJFXSkqKGUuQkFTSUNfU1VQRVJfQlJFQUtfTU9ESUZJRVIrZS5TVVBFUl9CUkVBS19ITUNfTU9ESUZJRVIpKigxLzMwKSooMStlLkJSRUFLX0VGRklDSUVOQ1lfQk9PU1QpO2UuQkFTSUNfRE1HPWUuQkFTSUNfRE1HKm0qKEMrZS5CQVNJQ19CT09TVCkqbGUocyxvLGwsZCxlLkJBU0lDX0RFRl9QRU4pKihjKk1hdGgubWluKDEsZVtuLkNSXStlLkJBU0lDX0NSX0JPT1NUKSooMStlW24uQ0RdK2UuQkFTSUNfQ0RfQk9PU1QpK2MqKDEtTWF0aC5taW4oMSxlW24uQ1JdK2UuQkFTSUNfQ1JfQk9PU1QpKSkqKDEtKGYtZS5CQVNJQ19SRVNfUEVOKSkqKDErZS5CQVNJQ19PUklHSU5BTF9ETUdfQk9PU1QpK2UuQkFTSUNfQlJFQUtfRE1HX01PRElGSUVSKmUuQlJFQUtfRE1HKyhvZXx8ZS5TVVBFUl9CUkVBS19ETUcpKmUuQkFTSUNfVE9VR0hORVNTX0RNRyooMStlLkJBU0lDX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1QpLGUuU0tJTExfRE1HPWUuU0tJTExfRE1HKm0qKEMrZS5TS0lMTF9CT09TVCkqbGUocyxvLGwsZCxlLlNLSUxMX0RFRl9QRU4pKihTKk1hdGgubWluKDEsZVtuLkNSXStlLlNLSUxMX0NSX0JPT1NUKSooMStlW24uQ0RdK2UuU0tJTExfQ0RfQk9PU1QpK1MqKDEtTWF0aC5taW4oMSxlW24uQ1JdK2UuU0tJTExfQ1JfQk9PU1QpKSkqKDEtKGYtZS5TS0lMTF9SRVNfUEVOKSkqKDErZS5TS0lMTF9PUklHSU5BTF9ETUdfQk9PU1QpK2UuU1VQRVJfQlJFQUtfRE1HKmUuU0tJTExfVE9VR0hORVNTX0RNRyxlLlVMVF9ETUc9ZS5VTFRfRE1HKm0qKEMrZS5VTFRfQk9PU1QqZS5VTFRfQk9PU1RTX01VTFRJKSpsZShzLG8sbCxkLGUuVUxUX0RFRl9QRU4qZS5VTFRfQk9PU1RTX01VTFRJKSooaCpNYXRoLm1pbigxLGVbbi5DUl0rZS5VTFRfQ1JfQk9PU1QpKigxK3IpK2gqKDEtTWF0aC5taW4oMSxlW24uQ1JdK2UuVUxUX0NSX0JPT1NUKSkpKigxLShmLWUuVUxUX1JFU19QRU4qZS5VTFRfQk9PU1RTX01VTFRJKSkqKDErZS5VTFRfT1JJR0lOQUxfRE1HX0JPT1NUKStlLlNVUEVSX0JSRUFLX0RNRyplLlVMVF9UT1VHSE5FU1NfRE1HKigxK2UuVUxUX0JSRUFLX0VGRklDSUVOQ1lfQk9PU1QpLGUuRlVBX0RNRz1lLkZVQV9ETUcqbSooQytlLkZVQV9CT09TVCkqbGUocyxvLGwsZCxlLkZVQV9ERUZfUEVOKSooQSpNYXRoLm1pbigxLGVbbi5DUl0rZS5GVUFfQ1JfQk9PU1QpKigxK2Vbbi5DRF0rZS5GVUFfQ0RfQk9PU1QpK0EqKDEtTWF0aC5taW4oMSxlW24uQ1JdK2UuRlVBX0NSX0JPT1NUKSkpKigxLShmLWUuRlVBX1JFU19QRU4pKStlLlNVUEVSX0JSRUFLX0RNRyplLkZVQV9UT1VHSE5FU1NfRE1HLGUuRE9UX0RNRz1lLkRPVF9ETUcqbSooQytlLkRPVF9CT09TVCkqbGUocyxvLGwsZCxlLkRPVF9ERUZfUEVOKSpfKigxLShmLWUuRE9UX1JFU19QRU4pKSpZLGUuQ09NQk9fRE1HPWEuY29tYm8uQkFTSUMqZS5CQVNJQ19ETUcrYS5jb21iby5TS0lMTCplLlNLSUxMX0RNRythLmNvbWJvLlVMVCplLlVMVF9ETUcrYS5jb21iby5GVUEqZS5GVUFfRE1HK2EuY29tYm8uRE9UKmUuRE9UX0RNRythLmNvbWJvLkJSRUFLKmUuQlJFQUtfRE1HfWZ1bmN0aW9uIGxlKGUsYSx0LGkscyl7cmV0dXJuKGUrMjApLygoYSsyMCkqTWF0aC5tYXgoMCwxLXQtaS1zKStlKzIwKX1mdW5jdGlvbiBKaShlLGEpe2NvbnN0IHQ9YS5wcmVjb21wdXRlZFgsaT17fSxzPVtlLnRlYW1tYXRlMCxlLnRlYW1tYXRlMSxlLnRlYW1tYXRlMl0uZmlsdGVyKG89PiEhbyYmISFvLmNoYXJhY3RlcklkKTtmb3IobGV0IG89MDtvPHMubGVuZ3RoO28rKyl7c1tvXS5saWdodENvbmU9c1tvXS5saWdodENvbmV8fG51bGw7Y29uc3QgbD1PYmplY3QuYXNzaWduKHt9LGUsc1tvXSksZD1tZS5nZXQobCksQz1kZS5nZXQobCk7c3dpdGNoKGQucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMmJmQucHJlY29tcHV0ZU11dHVhbEVmZmVjdHModCxsKSxkLnByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHMmJmQucHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0cyh0LGwpLEMucHJlY29tcHV0ZU11dHVhbEVmZmVjdHMmJkMucHJlY29tcHV0ZU11dHVhbEVmZmVjdHModCxsKSxDLnByZWNvbXB1dGVUZWFtbWF0ZUVmZmVjdHMmJkMucHJlY29tcHV0ZVRlYW1tYXRlRWZmZWN0cyh0LGwpLGwudGVhbU9ybmFtZW50U2V0KXtjYXNlIG5lLkJyb2tlbktlZWw6dFtuLkNEXSs9LjE7YnJlYWs7Y2FzZSBuZS5GbGVldE9mVGhlQWdlbGVzczp0W24uQVRLX1BdKz0uMDg7YnJlYWs7Y2FzZSBuZS5QZW5hY29ueUxhbmRPZlRoZURyZWFtczppZihsLkVMRU1FTlRBTF9ETUdfVFlQRSE9YS5FTEVNRU5UQUxfRE1HX1RZUEUpYnJlYWs7dC5FTEVNRU5UQUxfRE1HKz0uMTticmVhaztjYXNlIG5lLkx1c2hha2FUaGVTdW5rZW5TZWFzOnRbbi5BVEtfUF0rPS4xMjticmVha31zd2l0Y2gobC50ZWFtUmVsaWNTZXQpe2Nhc2UgbmUuTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlOmlmKGlbbmUuTWVzc2VuZ2VyVHJhdmVyc2luZ0hhY2tlcnNwYWNlXSlicmVhazt0W24uU1BEX1BdKz0uMTI7YnJlYWs7Y2FzZSBuZS5XYXRjaG1ha2VyTWFzdGVyT2ZEcmVhbU1hY2hpbmF0aW9uczppZihpW25lLldhdGNobWFrZXJNYXN0ZXJPZkRyZWFtTWFjaGluYXRpb25zXSlicmVhazt0W24uQkVdKz0uMzticmVhaztjYXNlIFN0OnRbbi5DRF0rPS4xODticmVhaztjYXNlIGh0OnRbbi5DRF0rPS4zNjticmVha31pW2wudGVhbU9ybmFtZW50U2V0XT0hMCxpW2wudGVhbVJlbGljU2V0XT0hMH19ZnVuY3Rpb24gWGkoZSxhKXt2YXIgbCxkLEMsRSxELG0sZixyO2NvbnN0IHQ9bWUuZ2V0KGUpLGk9ZGUuZ2V0KGUpO2UuY2hhcmFjdGVyQ29uZGl0aW9uYWxzfHwoZS5jaGFyYWN0ZXJDb25kaXRpb25hbHM9dC5kZWZhdWx0cygpKSxlLmxpZ2h0Q29uZUNvbmRpdGlvbmFsc3x8KGUubGlnaHRDb25lQ29uZGl0aW9uYWxzPWkuZGVmYXVsdHMoKSk7Y29uc3Qgcz1PYmplY3QuYXNzaWduKHt9LER0KTsobD1pLmluaXRpYWxpemVDb25maWd1cmF0aW9ucyk9PW51bGx8fGwuY2FsbChpLHMsZSksKGQ9dC5pbml0aWFsaXplQ29uZmlndXJhdGlvbnMpPT1udWxsfHxkLmNhbGwodCxzLGUpO2NvbnN0IG89W2UudGVhbW1hdGUwLGUudGVhbW1hdGUxLGUudGVhbW1hdGUyXS5maWx0ZXIodT0+ISF1JiYhIXUuY2hhcmFjdGVySWQpO2ZvcihsZXQgdT0wO3U8by5sZW5ndGg7dSsrKXtjb25zdCBjPU9iamVjdC5hc3NpZ24oe30sZSxvW3VdKSxTPW1lLmdldChjKSxoPWRlLmdldChjKTsoQz1TLmluaXRpYWxpemVUZWFtbWF0ZUNvbmZpZ3VyYXRpb25zKT09bnVsbHx8Qy5jYWxsKFMscyxjKSwoRT1oLmluaXRpYWxpemVUZWFtbWF0ZUNvbmZpZ3VyYXRpb25zKT09bnVsbHx8RS5jYWxsKGgscyxjKX1yZXR1cm4oRD1pLnByZWNvbXB1dGVFZmZlY3RzKT09bnVsbHx8RC5jYWxsKGkscyxlKSwobT10LnByZWNvbXB1dGVFZmZlY3RzKT09bnVsbHx8bS5jYWxsKHQscyxlKSwoZj1pLnByZWNvbXB1dGVNdXR1YWxFZmZlY3RzKT09bnVsbHx8Zi5jYWxsKGkscyxlKSwocj10LnByZWNvbXB1dGVNdXR1YWxFZmZlY3RzKT09bnVsbHx8ci5jYWxsKHQscyxlKSxzLkVORU1ZX1dFQUtORVNTX0JST0tFTj1zLkVORU1ZX1dFQUtORVNTX0JST0tFTnx8KGUuZW5lbXlXZWFrbmVzc0Jyb2tlbj8xOjApLGEucHJlY29tcHV0ZWRYPXMsc31mdW5jdGlvbiBaaShlLGEpe2NvbnN0IHQ9bWUuZ2V0KGUpLGk9ZGUuZ2V0KGUpLHM9ZXMoKTtiZShzLGkuZHluYW1pY0NvbmRpdGlvbmFscz8/W10pLGJlKHMsdC5keW5hbWljQ29uZGl0aW9uYWxzPz9bXSksYmUocyxndHx8W10pLGEuY29uZGl0aW9uYWxSZWdpc3RyeT1zLGEuY29uZGl0aW9uYWxTdGF0ZT17fX1mdW5jdGlvbiBlcygpe3JldHVybntbbi5IUF06W10sW24uQVRLXTpbXSxbbi5ERUZdOltdLFtuLlNQRF06W10sW24uQ1JdOltdLFtuLkNEXTpbXSxbbi5FSFJdOltdLFtuLlJFU106W10sW24uQkVdOltdLFtuLk9IQl06W10sW24uRVJSXTpbXX19ZnVuY3Rpb24gYmUoZSxhKXtmb3IoY29uc3QgdCBvZiBhKWZvcihjb25zdCBpIG9mIHQuZGVwZW5kc09uKWVbaV0ucHVzaCh0KX1jb25zdCB0cz17QVRLOntrZXk6IkFUSyIsZ3B1UHJvcGVydHk6IkFUSyIsYmFzaWNQcm9wZXJ0eToiQVRLIixjb21iYXRQcm9wZXJ0eToiQVRLIixiYXNpY0dyaWRDb2x1bW46IkFUSyIsY29tYmF0R3JpZENvbHVtbjoieEFUSyJ9LERFRjp7a2V5OiJERUYiLGdwdVByb3BlcnR5OiJERUYiLGJhc2ljUHJvcGVydHk6IkRFRiIsY29tYmF0UHJvcGVydHk6IkRFRiIsYmFzaWNHcmlkQ29sdW1uOiJERUYiLGNvbWJhdEdyaWRDb2x1bW46InhERUYifSxIUDp7a2V5OiJIUCIsZ3B1UHJvcGVydHk6IkhQIixiYXNpY1Byb3BlcnR5OiJIUCIsY29tYmF0UHJvcGVydHk6IkhQIixiYXNpY0dyaWRDb2x1bW46IkhQIixjb21iYXRHcmlkQ29sdW1uOiJ4SFAifSxTUEQ6e2tleToiU1BEIixncHVQcm9wZXJ0eToiU1BEIixiYXNpY1Byb3BlcnR5OiJTUEQiLGNvbWJhdFByb3BlcnR5OiJTUEQiLGJhc2ljR3JpZENvbHVtbjoiU1BEIixjb21iYXRHcmlkQ29sdW1uOiJ4U1BEIn0sQ1I6e2tleToiQ1IiLGdwdVByb3BlcnR5OiJDUiIsYmFzaWNQcm9wZXJ0eToiQ1JJVCBSYXRlIixjb21iYXRQcm9wZXJ0eToiQ1JJVCBSYXRlIixiYXNpY0dyaWRDb2x1bW46IkNSSVQgUmF0ZSIsY29tYmF0R3JpZENvbHVtbjoieENSIn0sQ0Q6e2tleToiQ0QiLGdwdVByb3BlcnR5OiJDRCIsYmFzaWNQcm9wZXJ0eToiQ1JJVCBETUciLGNvbWJhdFByb3BlcnR5OiJDUklUIERNRyIsYmFzaWNHcmlkQ29sdW1uOiJDUklUIERNRyIsY29tYmF0R3JpZENvbHVtbjoieENEIn0sRUhSOntrZXk6IkVIUiIsZ3B1UHJvcGVydHk6IkVIUiIsYmFzaWNQcm9wZXJ0eToiRWZmZWN0IEhpdCBSYXRlIixjb21iYXRQcm9wZXJ0eToiRWZmZWN0IEhpdCBSYXRlIixiYXNpY0dyaWRDb2x1bW46IkVmZmVjdCBIaXQgUmF0ZSIsY29tYmF0R3JpZENvbHVtbjoieEVIUiJ9LFJFUzp7a2V5OiJSRVMiLGdwdVByb3BlcnR5OiJSRVMiLGJhc2ljUHJvcGVydHk6IkVmZmVjdCBSRVMiLGNvbWJhdFByb3BlcnR5OiJFZmZlY3QgUkVTIixiYXNpY0dyaWRDb2x1bW46IkVmZmVjdCBSRVMiLGNvbWJhdEdyaWRDb2x1bW46InhSRVMifSxCRTp7a2V5OiJCRSIsZ3B1UHJvcGVydHk6IkJFIixiYXNpY1Byb3BlcnR5OiJCcmVhayBFZmZlY3QiLGNvbWJhdFByb3BlcnR5OiJCcmVhayBFZmZlY3QiLGJhc2ljR3JpZENvbHVtbjoiQnJlYWsgRWZmZWN0Iixjb21iYXRHcmlkQ29sdW1uOiJ4QkUifSxPSEI6e2tleToiT0hCIixncHVQcm9wZXJ0eToiT0hCIixiYXNpY1Byb3BlcnR5OiJPdXRnb2luZyBIZWFsaW5nIEJvb3N0Iixjb21iYXRQcm9wZXJ0eToiT3V0Z29pbmcgSGVhbGluZyBCb29zdCIsYmFzaWNHcmlkQ29sdW1uOiJPdXRnb2luZyBIZWFsaW5nIEJvb3N0Iixjb21iYXRHcmlkQ29sdW1uOiJ4T0hCIn0sRVJSOntrZXk6IkVSUiIsZ3B1UHJvcGVydHk6IkVSUiIsYmFzaWNQcm9wZXJ0eToiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixjb21iYXRQcm9wZXJ0eToiRW5lcmd5IFJlZ2VuZXJhdGlvbiBSYXRlIixiYXNpY0dyaWRDb2x1bW46IkVuZXJneSBSZWdlbmVyYXRpb24gUmF0ZSIsY29tYmF0R3JpZENvbHVtbjoieEVSUiJ9LEVMRU1FTlRBTF9ETUc6e2tleToiRUxFTUVOVEFMX0RNRyIsZ3B1UHJvcGVydHk6IkVMRU1FTlRBTF9ETUciLGJhc2ljUHJvcGVydHk6IkVMRU1FTlRBTF9ETUciLGNvbWJhdFByb3BlcnR5OiJFTEVNRU5UQUxfRE1HIixiYXNpY0dyaWRDb2x1bW46IkVEIixjb21iYXRHcmlkQ29sdW1uOiJ4RUxFTUVOVEFMX0RNRyIsaXNDb21wdXRlZFJhdGluZzohMH0sV0VJR0hUOntrZXk6IldFSUdIVCIsZ3B1UHJvcGVydHk6IldFSUdIVCIsYmFzaWNQcm9wZXJ0eToiV0VJR0hUIixjb21iYXRQcm9wZXJ0eToiV0VJR0hUIixiYXNpY0dyaWRDb2x1bW46IldFSUdIVCIsY29tYmF0R3JpZENvbHVtbjoiV0VJR0hUIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxFSFA6e2tleToiRUhQIixncHVQcm9wZXJ0eToiRUhQIixiYXNpY1Byb3BlcnR5OiJFSFAiLGNvbWJhdFByb3BlcnR5OiJFSFAiLGJhc2ljR3JpZENvbHVtbjoiRUhQIixjb21iYXRHcmlkQ29sdW1uOiJFSFAiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LEJBU0lDOntrZXk6IkJBU0lDIixncHVQcm9wZXJ0eToiQkFTSUNfRE1HIixiYXNpY1Byb3BlcnR5OiJCQVNJQ19ETUciLGNvbWJhdFByb3BlcnR5OiJCQVNJQ19ETUciLGJhc2ljR3JpZENvbHVtbjoiQkFTSUMiLGNvbWJhdEdyaWRDb2x1bW46IkJBU0lDIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxTS0lMTDp7a2V5OiJTS0lMTCIsZ3B1UHJvcGVydHk6IlNLSUxMX0RNRyIsYmFzaWNQcm9wZXJ0eToiU0tJTExfRE1HIixjb21iYXRQcm9wZXJ0eToiU0tJTExfRE1HIixiYXNpY0dyaWRDb2x1bW46IlNLSUxMIixjb21iYXRHcmlkQ29sdW1uOiJTS0lMTCIsaXNDb21wdXRlZFJhdGluZzohMH0sVUxUOntrZXk6IlVMVCIsZ3B1UHJvcGVydHk6IlVMVF9ETUciLGJhc2ljUHJvcGVydHk6IlVMVF9ETUciLGNvbWJhdFByb3BlcnR5OiJVTFRfRE1HIixiYXNpY0dyaWRDb2x1bW46IlVMVCIsY29tYmF0R3JpZENvbHVtbjoiVUxUIixpc0NvbXB1dGVkUmF0aW5nOiEwfSxGVUE6e2tleToiRlVBIixncHVQcm9wZXJ0eToiRlVBX0RNRyIsYmFzaWNQcm9wZXJ0eToiRlVBX0RNRyIsY29tYmF0UHJvcGVydHk6IkZVQV9ETUciLGJhc2ljR3JpZENvbHVtbjoiRlVBIixjb21iYXRHcmlkQ29sdW1uOiJGVUEiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LERPVDp7a2V5OiJET1QiLGdwdVByb3BlcnR5OiJET1RfRE1HIixiYXNpY1Byb3BlcnR5OiJET1RfRE1HIixjb21iYXRQcm9wZXJ0eToiRE9UX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJET1QiLGNvbWJhdEdyaWRDb2x1bW46IkRPVCIsaXNDb21wdXRlZFJhdGluZzohMH0sQlJFQUs6e2tleToiQlJFQUsiLGdwdVByb3BlcnR5OiJCUkVBS19ETUciLGJhc2ljUHJvcGVydHk6IkJSRUFLX0RNRyIsY29tYmF0UHJvcGVydHk6IkJSRUFLX0RNRyIsYmFzaWNHcmlkQ29sdW1uOiJCUkVBSyIsY29tYmF0R3JpZENvbHVtbjoiQlJFQUsiLGlzQ29tcHV0ZWRSYXRpbmc6ITB9LENPTUJPOntrZXk6IkNPTUJPIixncHVQcm9wZXJ0eToiQ09NQk9fRE1HIixiYXNpY1Byb3BlcnR5OiJDT01CT19ETUciLGNvbWJhdFByb3BlcnR5OiJDT01CT19ETUciLGJhc2ljR3JpZENvbHVtbjoiQ09NQk8iLGNvbWJhdEdyaWRDb2x1bW46IkNPTUJPIixpc0NvbXB1dGVkUmF0aW5nOiEwfX0sU2U9T2JqZWN0LnZhbHVlcyhEZSkubGVuZ3RoLGFzPU9iamVjdC52YWx1ZXMoQ2UpLmxlbmd0aDtzZWxmLm9ubWVzc2FnZT1mdW5jdGlvbihlKXtjb25zdCBhPWUuZGF0YSx0PWEucmVxdWVzdCxpPWEucGFyYW1zLHM9YS5yZWxpY3Msbz1uZXcgRmxvYXQ2NEFycmF5KGEuYnVmZmVyKSxsPXMuTGlua1JvcGUubGVuZ3RoLGQ9cy5QbGFuYXJTcGhlcmUubGVuZ3RoLEM9cy5GZWV0Lmxlbmd0aCxFPXMuQm9keS5sZW5ndGgsRD1zLkhhbmRzLmxlbmd0aCxtPXMuSGVhZC5sZW5ndGgsZj1hLnJlbGljU2V0U29sdXRpb25zLHI9YS5vcm5hbWVudFNldFNvbHV0aW9ucyx1PXQuc3RhdERpc3BsYXk9PSJjb21iYXQiLGM9IXU7bGV0IFM9MDtjb25zdHtmYWlsc0Jhc2ljRmlsdGVyOmgsZmFpbHNDb21iYXRGaWx0ZXI6QX09bnModCx1KTtpLmNoYXJhY3RlckNvbmRpdGlvbmFscz1tZS5nZXQodCksaS5saWdodENvbmVDb25kaXRpb25hbHM9ZGUuZ2V0KHQpLFhpKHQsaSksSmkodCxpKTtjb25zdCBfPU1hdGgubWluKGEucGVybXV0YXRpb25zLGEuV0lEVEgpO2ZvcihsZXQgRz0wO0c8XztHKyspe2NvbnN0IEk9YS5za2lwK0c7aWYoST49YS5wZXJtdXRhdGlvbnMpYnJlYWs7WmkodCxpKTtjb25zdCBZPUklbCxlZT0oSS1ZKS9sJWQsb2U9KEktZWUqbC1ZKS8obCpkKSVDLGhlPShJLW9lKmQqbC1lZSpsLVkpLyhsKmQqQyklRSx4ZT0oSS1oZSpDKmQqbC1vZSpkKmwtZWUqbC1ZKS8obCpkKkMqRSklRCxpcz0oSS14ZSpFKkMqZCpsLWhlKkMqZCpsLW9lKmQqbC1lZSpsLVkpLyhsKmQqQypFKkQpJW0scWU9cy5IZWFkW2lzXSxqZT1zLkhhbmRzW3hlXSxRZT1zLkJvZHlbaGVdLEplPXMuRmVldFtvZV0sWGU9cy5QbGFuYXJTcGhlcmVbZWVdLFplPXMuTGlua1JvcGVbWV0sZXQ9Y2VbcWUuc2V0XSx0dD1jZVtqZS5zZXRdLGF0PWNlW1FlLnNldF0sbnQ9Y2VbSmUuc2V0XSxpdD1FZVtYZS5zZXRdLHN0PUVlW1plLnNldF0sb3Q9ZXQrYXQqU2UrdHQqU2UqU2UrbnQqU2UqU2UqU2UsbHQ9aXQrc3QqYXM7aWYoZltvdF0hPTF8fHJbbHRdIT0xKWNvbnRpbnVlO2NvbnN0IEg9ey4uLnFpfSxNPXsuLi5pLnByZWNvbXB1dGVkWH07SC5yZWxpY1NldEluZGV4PW90LEgub3JuYW1lbnRTZXRJbmRleD1sdCxILng9TSxZaShILHFlLGplLFFlLEplLFhlLFplKSxWaShILGV0LHR0LGF0LG50LGl0LHN0KSx6aShILHQsaSksV2koSCx0LGkpLCEoYyYmKGgoSCl8fEhbbi5TUERdPHQubWluU3BkfHxIW24uU1BEXT50Lm1heFNwZHx8SFtuLkhQXTx0Lm1pbkhwfHxIW24uSFBdPnQubWF4SHB8fEhbbi5BVEtdPHQubWluQXRrfHxIW24uQVRLXT50Lm1heEF0a3x8SFtuLkRFRl08dC5taW5EZWZ8fEhbbi5ERUZdPnQubWF4RGVmfHxIW24uQ1JdPHQubWluQ3J8fEhbbi5DUl0+dC5tYXhDcnx8SFtuLkNEXTx0Lm1pbkNkfHxIW24uQ0RdPnQubWF4Q2R8fEhbbi5FSFJdPHQubWluRWhyfHxIW24uRUhSXT50Lm1heEVocnx8SFtuLlJFU108dC5taW5SZXN8fEhbbi5SRVNdPnQubWF4UmVzfHxIW24uQkVdPHQubWluQmV8fEhbbi5CRV0+dC5tYXhCZXx8SFtuLkVSUl08dC5taW5FcnJ8fEhbbi5FUlJdPnQubWF4RXJyKXx8KCRpKEgsdCxpKSxqaShNLHQsaSksUWkoTSx0LGkpLEEoTSkpfHx1JiYoTVtuLkhQXTx0Lm1pbkhwfHxNW24uSFBdPnQubWF4SHB8fE1bbi5BVEtdPHQubWluQXRrfHxNW24uQVRLXT50Lm1heEF0a3x8TVtuLkRFRl08dC5taW5EZWZ8fE1bbi5ERUZdPnQubWF4RGVmfHxNW24uU1BEXTx0Lm1pblNwZHx8TVtuLlNQRF0+dC5tYXhTcGR8fE1bbi5DUl08dC5taW5Dcnx8TVtuLkNSXT50Lm1heENyfHxNW24uQ0RdPHQubWluQ2R8fE1bbi5DRF0+dC5tYXhDZHx8TVtuLkVIUl08dC5taW5FaHJ8fE1bbi5FSFJdPnQubWF4RWhyfHxNW24uUkVTXTx0Lm1pblJlc3x8TVtuLlJFU10+dC5tYXhSZXN8fE1bbi5CRV08dC5taW5CZXx8TVtuLkJFXT50Lm1heEJlfHxNW24uRVJSXTx0Lm1pbkVycnx8TVtuLkVSUl0+dC5tYXhFcnIpfHxNLkVIUDx0Lm1pbkVocHx8TS5FSFA+dC5tYXhFaHB8fE0uV0VJR0hUPHQubWluV2VpZ2h0fHxNLldFSUdIVD50Lm1heFdlaWdodHx8TS5CQVNJQ19ETUc8dC5taW5CYXNpY3x8TS5CQVNJQ19ETUc+dC5tYXhCYXNpY3x8TS5TS0lMTF9ETUc8dC5taW5Ta2lsbHx8TS5TS0lMTF9ETUc+dC5tYXhTa2lsbHx8TS5VTFRfRE1HPHQubWluVWx0fHxNLlVMVF9ETUc+dC5tYXhVbHR8fE0uRlVBX0RNRzx0Lm1pbkZ1YXx8TS5GVUFfRE1HPnQubWF4RnVhfHxNLkRPVF9ETUc8dC5taW5Eb3R8fE0uRE9UX0RNRz50Lm1heERvdHx8TS5CUkVBS19ETUc8dC5taW5CcmVha3x8TS5CUkVBS19ETUc+dC5tYXhCcmVha3x8TS5DT01CT19ETUc8dC5taW5Db21ib3x8TS5DT01CT19ETUc+dC5tYXhDb21ibykmJihILmlkPUksa2UucGFja0NoYXJhY3RlcihvLFMsSCksUysrKX1zZWxmLnBvc3RNZXNzYWdlKHtyb3dzOltdLGJ1ZmZlcjphLmJ1ZmZlcn0sW2EuYnVmZmVyXSl9O2Z1bmN0aW9uIG5zKGUsYSl7Y29uc3QgdD1lLnJlc3VsdE1pbkZpbHRlcixpPXRzW2UucmVzdWx0U29ydF0scz1pLmlzQ29tcHV0ZWRSYXRpbmc7aWYoYXx8cyl7Y29uc3Qgbz1pLmNvbWJhdFByb3BlcnR5O3JldHVybntmYWlsc0Jhc2ljRmlsdGVyOigpPT4hMSxmYWlsc0NvbWJhdEZpbHRlcjpsPT5sW29dPHR9fWVsc2V7Y29uc3Qgbz1pLmJhc2ljUHJvcGVydHk7cmV0dXJue2ZhaWxzQmFzaWNGaWx0ZXI6bD0+bFtvXTx0LGZhaWxzQ29tYmF0RmlsdGVyOigpPT4hMX19fX0pKCk7Cg==",eb=e=>Uint8Array.from(atob(e),a=>a.charCodeAt(0)),Zo=typeof self<"u"&&self.Blob&&new Blob([eb(m0)],{type:"text/javascript;charset=utf-8"});function tb(e){let a;try{if(a=Zo&&(self.URL||self.webkitURL).createObjectURL(Zo),!a)throw"";const i=new Worker(a,{name:e==null?void 0:e.name});return i.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(a)}),i}catch{return new Worker("data:text/javascript;base64,"+m0,{name:e==null?void 0:e.name})}finally{a&&(self.URL||self.webkitURL).revokeObjectURL(a)}}const Yi=Math.min(8,Math.max(1,(navigator.hardwareConcurrency||4)-1));let Ks=0;console.log("Using pool size "+Yi);const _s=[],Ti=[];let fs=[];const Di={},Da={initializeWorker:()=>{if(Ks<Yi){const e=new tb;_s.push(e),Ks++,console.log("Initialized workers: "+Ks)}},initializeAllWorkers:()=>{for(let e=0;e<Yi;e++)setTimeout(()=>{Da.initializeWorker()},500*e)},nextTask:()=>{if(fs.length==0)return;const{task:e,callback:a}=fs.shift();Da.execute(e,a)},execute:(e,a,i)=>{if(Di[i]==null&&(Di[i]=!0),Di[i]!=!1){if(e.attempts==null&&(e.attempts=0),e.attempts>10)return console.log("Too many failures, abandoning task");if(Da.initializeWorker(),_s.length>0){const n=_s.shift();let l;Ti.length>0?(l=Ti.pop(),ci.cleanFloatBuffer(l)):l=ci.createFloatBuffer(d.THREAD_BUFFER_LENGTH),e.input.buffer=l,n.onmessage=o=>{_s.push(n),Da.nextTask(),a&&a(o.data),Ti.push(o.data.buffer)},n.onerror=o=>{console.warn("Worker error",o),Ks--,e.attempts++,fs.push({task:e,callback:a}),n.terminate(),setTimeout(()=>{Da.initializeWorker(),Da.nextTask()},100)},e.input.request.resultMinFilter=e.getMinFilter(),n.postMessage(e.input,[e.input.buffer])}else fs.push({task:e,callback:a})}},cancel:e=>{Di[e]=!1,fs=[]},state:()=>{console.log({poolSize:Yi,workers:_s,taskQueue:fs,buffers:Ti,initializedWorkers:Ks})}};function ab(e){const a=d.SetsRelicsNames.length,i=e.relicSets||[],n=[],l=[];for(const o of i){if(o[0]==Ct.relic4Piece){if(o.length==1)for(let r=0;r<a;r++){const c=C.arrayOfZeroes(a);c[r]=4,n.push(c.join());const h=Jt(c);l.push(h)}if(o.length==2){const r=d.RelicSetToIndex[o[1]],c=C.arrayOfZeroes(a);c[r]=4,n.push(c.join());const h=Jt(c);l.push(h)}}if(o[0]==Ct.relic2PlusAny){if(o.length==1)for(let r=0;r<a;r++){const c=C.arrayOfZeroes(a);c[r]=4,n.push(c.join());const h=Jt(c);l.push(h)}if(o.length==2){const r=d.RelicSetToIndex[o[1]];for(let R=0;R<a;R++){const S=C.arrayOfZeroes(a);S[r]=2,S[R]+=2,n.push(S.join());const u=Jt(S);l.push(u)}const c=C.arrayOfZeroes(a);c[r]=2,n.push(c.join());const h=Jt(c),b=Zi(h,a);l.push(...b)}}if(o[0]==Ct.relic2Plus2Piece||o[0]=="2 Piece"){if(o.length==1){for(let r=0;r<a;r++){const c=C.arrayOfZeroes(a);c[r]=2,n.push(c.join());const h=Jt(c),b=Zi(h,a);l.push(...b)}for(let r=0;r<a;r++)for(let c=0;c<a;c++){const h=C.arrayOfZeroes(a);h[r]+=2,h[c]+=2,n.push(h.join());const b=Jt(h);l.push(b)}}if(o.length==2){const r=d.RelicSetToIndex[o[1]];for(let R=0;R<a;R++){const S=C.arrayOfZeroes(a);S[r]=2,S[R]+=2,n.push(S.join());const u=Jt(S);l.push(u)}const c=C.arrayOfZeroes(a);c[r]=2,n.push(c.join());const h=Jt(c),b=Zi(h,a);l.push(...b)}if(o.length==3)if(o[2]=="Any"){const r=d.RelicSetToIndex[o[1]];for(let R=0;R<a;R++){const S=C.arrayOfZeroes(a);S[r]=2,S[R]+=2,n.push(S.join());const u=Jt(S);l.push(u)}const c=C.arrayOfZeroes(a);c[r]=2,n.push(c.join());const h=Jt(c),b=Zi(h,a);l.push(...b)}else{const r=C.arrayOfZeroes(a),c=d.RelicSetToIndex[o[1]],h=d.RelicSetToIndex[o[2]];r[c]+=2,r[h]+=2,n.push(r.join());const b=Jt(r);l.push(b)}}}return ib(l)}function sb(e){const a=e.ornamentSets||[],i=d.SetsOrnamentsNames.length;if(a.length==0)return C.arrayOfValue(i*i,1);const n=C.arrayOfZeroes(i*i);for(const l of a){const o=d.OrnamentSetToIndex[l],r=o+o*i;n[r]=1}return n}function Jt(e){const a=[];for(let i=0;i<e.length;i++)for(;e[i];)e[i]--,a.push(i);return a}function Zi(e,a){const i=[];for(let n=0;n<a;n++)for(let l=0;l<a;l++){const o=C.arrayOfZeroes(4);o[0]=e[0],o[1]=e[1],o[2]=n,o[3]=l,i.push(o)}return i}function ib(e){const a=d.SetsRelicsNames.length;if(e.length==0)return C.arrayOfValue(Math.pow(a,4),1);const i=C.arrayOfZeroes(Math.pow(a,4));for(let n=0;n<e.length;n++){const l=e[n],o=nb(l);for(const r of o){const c=r[0]+r[1]*Math.pow(a,1)+r[2]*Math.pow(a,2)+r[3]*Math.pow(a,3);i[c]=1}}return i}const nb=e=>{const a=[],i=(n,l=[])=>{if(n.length===0)a.push(l);else for(let o=0;o<n.length;o++){const r=n.slice(),c=r.splice(o,1);i(r.slice(),l.concat(c))}};return i(e),a},{Text:El}=be,lb={IMPORT:{description:"Import relics from your account on the Importer tab",buttonText:"Navigate to Importer tab",applyFix:()=>{window.store.getState().setActiveKey(he.IMPORT),window.store.getState().setZeroPermutationsModalOpen(!1)}},BODY_MAIN:Ci(G.Body),FEET_MAIN:Ci(G.Feet),PLANAR_SPHERE_MAIN:Ci(G.PlanarSphere),LINK_ROPE_MAIN:Ci(G.LinkRope),RELIC_SETS:{description:"The selected relic set filters might be too restrictive",buttonText:"Clear Relic set filters",applyFix:()=>{window.optimizerForm.setFieldValue("relicSets",[]),Y.success("Cleared relic set filters",2)}},ORNAMENT_SETS:{description:"The selected ornament set filters might be too restrictive",buttonText:"Clear Ornament set filters",applyFix:()=>{window.optimizerForm.setFieldValue("ornamentSets",[]),Y.success("Cleared ornament set filters",2)}},KEEP_CURRENT:{description:'The "Keep current relics" option is enabled, which forces any currently equipped relics on the character to be unchanged in the search',buttonText:'Disable "Keep current relics"',applyFix:()=>{window.optimizerForm.setFieldValue("keepCurrentRelics",!1),Y.success('Disabled "Keep current relics"',2)}},PRIORITY:{description:`The character is ranked below other characters on the priority list. When the "Character priority filter" is enabled, characters may only take lower priority characters' relics`,buttonText:"Move character to priority #1",applyFix:()=>{Z.insertCharacter(window.store.getState().optimizerTabFocusCharacter,0),Z.refreshCharacters(),Y.success("Moved character to priority #1",2)}},EXCLUDE_ENABLED:{description:'The "Exclude" filter has some selected characters, which means this character cannot take relics from the selected characters',buttonText:"Clear excluded characters",applyFix:()=>{window.optimizerForm.setFieldValue("exclude",[]),Y.success("Cleared excluded characters",2)}},EQUIPPED_DISABLED:{description:'The "Include equipped relics" filter is disabled, which means this character cannot take any relics beloning to other characters',buttonText:'Enable "Include equipped relics"',applyFix:()=>{window.optimizerForm.setFieldValue("includeEquippedRelics",!0),Y.success('Enabled "Include equipped relics"',2)}},MINIMUM_ROLLS:{description:"The substat weight filter has a minimum roll threshold that might be too high",buttonText:"Set minimum rolls to 0",applyFix:()=>{window.optimizerForm.setFieldValue(["weights","headHands"],0),window.optimizerForm.setFieldValue(["weights","bodyFeet"],0),window.optimizerForm.setFieldValue(["weights","sphereRope"],0),Y.success("Set minimum rolls to 0",2)}}};function Ci(e){return{description:`The main stat for the ${Ui[e]} filter might be too restrictive`,buttonText:`Clear ${Ui[e]} main stat filters`,applyFix:()=>{window.optimizerForm.setFieldValue(`main${e}`,[]),Y.success(`Cleared ${Ui[e]} main stat filters`,2)}}}let ae=[];function ob(e){ae=[];const[a,i]=Ls.getFilteredRelics(e);if(Z.getRelics().length==0){ae.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0);return}a.Body.length==0&&e.mainBody.length>0&&i.Body.length>0&&ae.push("BODY_MAIN"),a.Feet.length==0&&e.mainFeet.length>0&&i.Feet.length>0&&ae.push("FEET_MAIN"),a.PlanarSphere.length==0&&e.mainPlanarSphere.length>0&&i.PlanarSphere.length>0&&ae.push("PLANAR_SPHERE_MAIN"),a.LinkRope.length==0&&e.mainLinkRope.length>0&&i.LinkRope.length>0&&ae.push("LINK_ROPE_MAIN"),(a.PlanarSphere.length==0||a.LinkRope.length==0)&&e.ornamentSets.length>0&&ae.push("ORNAMENT_SETS"),(a.Head.length==0||a.Hands.length==0||a.Body.length==0||a.Feet.length==0)&&e.relicSets.length>0&&ae.push("RELIC_SETS"),e.keepCurrentRelics&&ae.push("KEEP_CURRENT"),e.rank!=0&&ae.push("PRIORITY"),e.exclude.length>0&&ae.push("EXCLUDE_ENABLED"),e.includeEquippedRelics||ae.push("EQUIPPED_DISABLED"),(e.weights.headHands>0||e.weights.bodyFeet>0||e.weights.sphereRope>0)&&ae.push("MINIMUM_ROLLS"),ae.length==0&&ae.push("IMPORT"),window.store.getState().setZeroPermutationsModalOpen(!0)}function h0(e){const a=lb[e]||b0[e];return s.jsxs(g,{justify:"space-between",align:"center",style:{height:45},children:[s.jsx(El,{style:{width:550},children:a.description}),s.jsx(j,{onClick:()=>{a.applyFix(),window.onOptimizerFormValuesChange({},$.getForm())},style:{width:250},type:"primary",children:a.buttonText})]},C.randomId())}function rb(){const e=window.store(n=>n.zeroPermutationModalOpen),a=window.store(n=>n.setZeroPermutationsModalOpen),i=[];for(const n of ae)i.push(h0(n));return s.jsx(Bt,{title:"Search generated 0 permutations",open:e,width:900,destroyOnClose:!0,centered:!0,onOk:()=>a(!1),onCancel:()=>a(!1),footer:null,children:s.jsxs(g,{vertical:!0,gap:15,style:{marginBottom:15},children:[s.jsx(El,{children:"This means your filters are misconfigured or too restrictive, and no possibilities match the filters. Permutations are shown on the sidebar."}),s.jsx(Vr,{}),i]})})}const b0={MAX_HP:Ee("MAX_HP"),MIN_HP:Ee("MIN_HP"),MAX_ATK:Ee("MAX_ATK"),MIN_ATK:Ee("MIN_ATK"),MAX_DEF:Ee("MAX_DEF"),MIN_DEF:Ee("MIN_DEF"),MAX_SPD:Ee("MAX_SPD"),MIN_SPD:Ee("MIN_SPD"),MAX_CR:Ee("MAX_CR"),MIN_CR:Ee("MIN_CR"),MAX_CD:Ee("MAX_CD"),MIN_CD:Ee("MIN_CD"),MAX_EHR:Ee("MAX_EHR"),MIN_EHR:Ee("MIN_EHR"),MAX_RES:Ee("MAX_RES"),MIN_RES:Ee("MIN_RES"),MAX_BE:Ee("MAX_BE"),MIN_BE:Ee("MIN_BE"),MAX_ERR:Ee("MAX_ERR"),MIN_ERR:Ee("MIN_ERR"),MAX_WEIGHT:Ee("MAX_WEIGHT"),MIN_WEIGHT:Ee("MIN_WEIGHT"),MAX_EHP:Ee("MAX_EHP"),MIN_EHP:Ee("MIN_EHP"),MAX_BASIC:Ee("MAX_BASIC"),MIN_BASIC:Ee("MIN_BASIC"),MAX_SKILL:Ee("MAX_SKILL"),MIN_SKILL:Ee("MIN_SKILL"),MAX_ULT:Ee("MAX_ULT"),MIN_ULT:Ee("MIN_ULT"),MAX_FUA:Ee("MAX_FUA"),MIN_FUA:Ee("MIN_FUA"),MAX_DOT:Ee("MAX_DOT"),MIN_DOT:Ee("MIN_DOT"),MAX_BREAK:Ee("MAX_BREAK"),MIN_BREAK:Ee("MIN_BREAK"),MAX_COMBO:Ee("MAX_COMBO"),MIN_COMBO:Ee("MIN_COMBO"),STAT_VIEW:{description:"Your stat filters are configured for basic stats, which does not include buffs. The Combat stats view will show buffed stats from abilities / teammates / relics / etc.",buttonText:"Switch to Combat stats view",applyFix:()=>{const e=window.store.getState().setStatDisplay;e("combat"),Y.success("Switched to Combat stats view")}}};function Ee(e){const a=e.startsWith("MAX"),i=e.split("_"),n=i.map(o=>o),l=i[0].toLowerCase()+i[1][0]+i[1].slice(1).toLowerCase();return{description:`The ${a?"maximum":"minimum"} ${n[1]} may be too ${a?"low":"high"}`,buttonText:`Reset ${n[0].toLowerCase()} ${n[1]} filter`,applyFix:()=>{window.optimizerForm.setFieldValue(l,void 0),Y.success(`Reset ${n[0].toLowerCase()} ${n[1]} filter`,2)}}}function cb(e){ae=[],window.store.getState().statDisplay=="base"&&ae.push("STAT_VIEW"),e.minHp&&ae.push("MIN_HP"),e.maxHp<2147483647&&ae.push("MAX_HP"),e.minAtk&&ae.push("MIN_ATK"),e.maxAtk<2147483647&&ae.push("MAX_ATK"),e.minDef&&ae.push("MIN_DEF"),e.maxDef<2147483647&&ae.push("MAX_DEF"),e.minSpd&&ae.push("MIN_SPD"),e.maxSpd<2147483647&&ae.push("MAX_SPD"),e.minCr&&ae.push("MIN_CR"),e.maxCr<2147483647&&ae.push("MAX_CR"),e.minCd&&ae.push("MIN_CD"),e.maxCd<2147483647&&ae.push("MAX_CD"),e.minEhr&&ae.push("MIN_EHR"),e.maxEhr<2147483647&&ae.push("MAX_EHR"),e.minRes&&ae.push("MIN_RES"),e.maxRes<2147483647&&ae.push("MAX_RES"),e.minBe&&ae.push("MIN_BE"),e.maxBe<2147483647&&ae.push("MAX_BE"),e.minErr&&ae.push("MIN_ERR"),e.maxErr<2147483647&&ae.push("MAX_ERR"),e.minWeight&&ae.push("MIN_WEIGHT"),e.maxWeight<2147483647&&ae.push("MAX_WEIGHT"),e.minEhp&&ae.push("MIN_EHP"),e.maxEhp<2147483647&&ae.push("MAX_EHP"),e.minBasic&&ae.push("MIN_BASIC"),e.maxBasic<2147483647&&ae.push("MAX_BASIC"),e.minSkill&&ae.push("MIN_SKILL"),e.maxSkill<2147483647&&ae.push("MAX_SKILL"),e.minUlt&&ae.push("MIN_ULT"),e.maxUlt<2147483647&&ae.push("MAX_ULT"),e.minFua&&ae.push("MIN_FUA"),e.maxFua<2147483647&&ae.push("MAX_FUA"),e.minDot&&ae.push("MIN_DOT"),e.maxDot<2147483647&&ae.push("MAX_DOT"),e.minBreak&&ae.push("MIN_BREAK"),e.maxBreak<2147483647&&ae.push("MAX_BREAK"),e.minCombo&&ae.push("MIN_COMBO"),e.maxCombo<2147483647&&ae.push("MAX_COMBO"),window.store.getState().setZeroResultModalOpen(!0)}function db(){const e=window.store(n=>n.zeroResultModalOpen),a=window.store(n=>n.setZeroResultModalOpen),i=[];for(const n of ae)i.push(h0(n));return s.jsx(Bt,{title:"Search generated 0 results",open:e,width:900,destroyOnClose:!0,centered:!0,onOk:()=>a(!1),onCancel:()=>a(!1),footer:null,children:s.jsxs(g,{vertical:!0,gap:15,style:{marginBottom:15},children:[s.jsxs(g,{justify:"space-between",align:"center",style:{height:45},children:[s.jsx(El,{children:"This means your stat and/or rating filters are too restrictive."}),s.jsx(j,{onClick:()=>{for(const n of ae)n!="STAT_VIEW"&&b0[n].applyFix()},style:{width:250},type:"primary",children:"Reset all filters"})]}),s.jsx(Vr,{}),i]})})}class S0 extends Tc{constructor(i,n){super([],n,!1);bs(this,"limit");bs(this,"compare");this.limit=i,this.compare=n}fixedSizePush(i){this.size()>=this.limit?this.compare(i,this.top())>=0&&(this.pop(),this.push(i)):this.push(i)}fixedSizePushOvercapped(i){return this.push(i),this.pop()}}const ub=`struct Relic {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,
  relicSet: f32,
  weightScore: f32, // 23
}

struct BasicStats {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,
  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,
  weightScore: f32,
}

struct Sets {
  PasserbyOfWanderingCloud: i32,
  MusketeerOfWildWheat: i32,
  KnightOfPurityPalace: i32,
  HunterOfGlacialForest: i32,
  ChampionOfStreetwiseBoxing: i32,
  GuardOfWutheringSnow: i32,
  FiresmithOfLavaForging: i32,
  GeniusOfBrilliantStars: i32,
  BandOfSizzlingThunder: i32,
  EagleOfTwilightLine: i32,
  ThiefOfShootingMeteor: i32,
  WastelanderOfBanditryDesert: i32,
  LongevousDisciple: i32,
  MessengerTraversingHackerspace: i32,
  TheAshblazingGrandDuke: i32,
  PrisonerInDeepConfinement: i32,
  PioneerDiverOfDeadWaters: i32,
  WatchmakerMasterOfDreamMachinations: i32,
  IronCavalryAgainstTheScourge: i32,
  TheWindSoaringValorous: i32,
  SacerdosRelivedOrdeal: i32,
  ScholarLostInErudition: i32,
  SpaceSealingStation: i32,
  FleetOfTheAgeless: i32,
  PanCosmicCommercialEnterprise: i32,
  BelobogOfTheArchitects: i32,
  CelestialDifferentiator: i32,
  InertSalsotto: i32,
  TaliaKingdomOfBanditry: i32,
  SprightlyVonwacq: i32,
  RutilantArena: i32,
  BrokenKeel: i32,
  FirmamentFrontlineGlamoth: i32,
  PenaconyLandOfTheDreams: i32,
  SigoniaTheUnclaimedDesolation: i32,
  IzumoGenseiAndTakamaDivineRealm: i32,
  DuranDynastyOfRunningWolves: i32,
  ForgeOfTheKalpagniLantern: i32,
  LushakaTheSunkenSeas: i32,
  TheWondrousBananAmusementPark: i32,
}

struct Params {
  lSize: f32,
  pSize: f32,
  fSize: f32,
  bSize: f32,
  gSize: f32,
  hSize: f32,

  xl: f32,
  xp: f32,
  xf: f32,
  xb: f32,
  xg: f32,
  xh: f32,

  threshold: f32,

  relicSetCount: f32,
  ornamentSetCount: f32,

  characterHP_P: f32,
  characterATK_P: f32,
  characterDEF_P: f32,
  characterSPD_P: f32,
  characterHP: f32,
  characterATK: f32,
  characterDEF: f32,
  characterSPD: f32,
  characterCR: f32,
  characterCD: f32,
  characterEHR: f32,
  characterRES: f32,
  characterBE: f32,
  characterERR: f32,
  characterOHB: f32,
  characterPhysical_DMG: f32,
  characterFire_DMG: f32,
  characterIce_DMG: f32,
  characterLightning_DMG: f32,
  characterWind_DMG: f32,
  characterQuantum_DMG: f32,
  characterImaginary_DMG: f32,

  lcHP_P: f32,
  lcATK_P: f32,
  lcDEF_P: f32,
  lcSPD_P: f32,
  lcHP: f32,
  lcATK: f32,
  lcDEF: f32,
  lcSPD: f32,
  lcCR: f32,
  lcCD: f32,
  lcEHR: f32,
  lcRES: f32,
  lcBE: f32,
  lcERR: f32,
  lcOHB: f32,
  lcPhysical_DMG: f32,
  lcFire_DMG: f32,
  lcIce_DMG: f32,
  lcLightning_DMG: f32,
  lcWind_DMG: f32,
  lcQuantum_DMG: f32,
  lcImaginary_DMG: f32,

  traceHP_P: f32,
  traceATK_P: f32,
  traceDEF_P: f32,
  traceSPD_P: f32,
  traceHP: f32,
  traceATK: f32,
  traceDEF: f32,
  traceSPD: f32,
  traceCR: f32,
  traceCD: f32,
  traceEHR: f32,
  traceRES: f32,
  traceBE: f32,
  traceERR: f32,
  traceOHB: f32,
  tracePhysical_DMG: f32,
  traceFire_DMG: f32,
  traceIce_DMG: f32,
  traceLightning_DMG: f32,
  traceWind_DMG: f32,
  traceQuantum_DMG: f32,
  traceImaginary_DMG: f32,
}`,mb=`// Don't change this without updating the variable order mapping

struct ComputedStats {
  HP_P: f32,
  ATK_P: f32,
  DEF_P: f32,
  SPD_P: f32,
  HP: f32,
  ATK: f32,
  DEF: f32,
  SPD: f32,
  CR: f32,
  CD: f32,
  EHR: f32,
  RES: f32,
  BE: f32,
  ERR: f32,
  OHB: f32,

  Physical_DMG: f32,
  Fire_DMG: f32,
  Ice_DMG: f32,
  Lightning_DMG: f32,
  Wind_DMG: f32,
  Quantum_DMG: f32,
  Imaginary_DMG: f32,

  ELEMENTAL_DMG: f32,

  BASIC_SCALING: f32,
  SKILL_SCALING: f32,
  ULT_SCALING: f32,
  FUA_SCALING: f32,
  DOT_SCALING: f32,

  BASIC_CR_BOOST: f32,
  SKILL_CR_BOOST: f32,
  ULT_CR_BOOST: f32,
  FUA_CR_BOOST: f32,

  BASIC_CD_BOOST: f32,
  SKILL_CD_BOOST: f32,
  ULT_CD_BOOST: f32,
  FUA_CD_BOOST: f32,

  BASIC_BOOST: f32,
  SKILL_BOOST: f32,
  ULT_BOOST: f32,
  FUA_BOOST: f32,
  DOT_BOOST: f32,

  VULNERABILITY: f32,
  BASIC_VULNERABILITY: f32,
  SKILL_VULNERABILITY: f32,
  ULT_VULNERABILITY: f32,
  FUA_VULNERABILITY: f32,
  DOT_VULNERABILITY: f32,
  BREAK_VULNERABILITY: f32, // 47

  DEF_PEN: f32,
  BASIC_DEF_PEN: f32,
  SKILL_DEF_PEN: f32,
  ULT_DEF_PEN: f32,
  FUA_DEF_PEN: f32,
  DOT_DEF_PEN: f32,
  BREAK_DEF_PEN: f32,
  SUPER_BREAK_DEF_PEN: f32, // 55

  RES_PEN: f32,
  PHYSICAL_RES_PEN: f32,
  FIRE_RES_PEN: f32,
  ICE_RES_PEN: f32,
  LIGHTNING_RES_PEN: f32,
  WIND_RES_PEN: f32,
  QUANTUM_RES_PEN: f32,
  IMAGINARY_RES_PEN: f32, // 63

  BASIC_RES_PEN: f32,
  SKILL_RES_PEN: f32,
  ULT_RES_PEN: f32,
  FUA_RES_PEN: f32,
  DOT_RES_PEN: f32, // 68

  BASIC_DMG: f32,
  SKILL_DMG: f32,
  ULT_DMG: f32,
  FUA_DMG: f32,
  DOT_DMG: f32,
  BREAK_DMG: f32,
  COMBO_DMG: f32, // 75

  DMG_RED_MULTI: f32,
  EHP: f32,

  DOT_CHANCE: f32,
  EFFECT_RES_PEN: f32,

  DOT_SPLIT: f32,
  DOT_STACKS: f32,

  ENEMY_WEAKNESS_BROKEN: f32,

  SUPER_BREAK_MODIFIER: f32,
  BASIC_SUPER_BREAK_MODIFIER: f32,
  SUPER_BREAK_HMC_MODIFIER: f32,
  BASIC_TOUGHNESS_DMG: f32,
  SKILL_TOUGHNESS_DMG: f32,
  ULT_TOUGHNESS_DMG: f32,
  FUA_TOUGHNESS_DMG: f32,

  BASIC_ORIGINAL_DMG_BOOST: f32,
  SKILL_ORIGINAL_DMG_BOOST: f32,
  ULT_ORIGINAL_DMG_BOOST: f32,

  BASIC_BREAK_DMG_MODIFIER: f32,

  ULT_CD_OVERRIDE: f32,
  ULT_BOOSTS_MULTI: f32,

  RATIO_BASED_HP_BUFF: f32,
  RATIO_BASED_HP_P_BUFF: f32,
  RATIO_BASED_ATK_BUFF: f32,
  RATIO_BASED_ATK_P_BUFF: f32,
  RATIO_BASED_DEF_BUFF: f32,
  RATIO_BASED_DEF_P_BUFF: f32,
  RATIO_BASED_SPD_BUFF: f32,
  RATIO_BASED_CD_BUFF: f32,

  BREAK_EFFICIENCY_BOOST: f32,
  BASIC_BREAK_EFFICIENCY_BOOST: f32,
  ULT_BREAK_EFFICIENCY_BOOST: f32,

  BASIC_DMG_TYPE: f32,
  SKILL_DMG_TYPE: f32,
  ULT_DMG_TYPE: f32,
  FUA_DMG_TYPE: f32,
  DOT_DMG_TYPE: f32,
  BREAK_DMG_TYPE: f32,
  SUPER_BREAK_DMG_TYPE: f32,

  WEIGHT: f32,

  sets: Sets,
}
`,hb=`// START GPU PARAMS
// ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
/* INJECT GPU PARAMS */
// ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
// END GPU PARAMS


const BASIC_TYPE = 1;
const SKILL_TYPE = 2;
const ULT_TYPE = 4;
const FUA_TYPE = 8;
const DOT_TYPE = 16;
const BREAK_TYPE = 32;
const SUPER_BREAK_TYPE = 64;

@group(0) @binding(0) var<storage> params : Params;

@group(1) @binding(0) var<storage> relics : array<Relic>;
@group(1) @binding(1) var<storage> ornamentSetSolutionsMatrix : array<i32>;
@group(1) @binding(2) var<storage> relicSetSolutionsMatrix : array<i32>;


// START RESULTS BUFFER
// ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
/* INJECT RESULTS BUFFER */
// ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
// END RESULTS BUFFER


@compute @workgroup_size(WORKGROUP_SIZE)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  let workgroup_index =
    workgroup_id.x +
    workgroup_id.y * num_workgroups.x +
    workgroup_id.z * num_workgroups.x * num_workgroups.y;
  let indexGlobal = i32(workgroup_index * WORKGROUP_SIZE + local_invocation_index);

  // Load params
  let lSize = i32(params.lSize);
  let pSize = i32(params.pSize);
  let fSize = i32(params.fSize);
  let bSize = i32(params.bSize);
  let gSize = i32(params.gSize);
  let hSize = i32(params.hSize);
  let xl = i32(params.xl);
  let xp = i32(params.xp);
  let xf = i32(params.xf);
  let xb = i32(params.xb);
  let xg = i32(params.xg);
  let xh = i32(params.xh);
  let threshold = f32(params.threshold);
  let relicSetCount = u32(params.relicSetCount);
  let ornamentSetCount = u32(params.ornamentSetCount);

  let epsilon = 0.000001f;

  var failures: f32 = 1;

  for (var i = 0; i < CYCLES_PER_INVOCATION; i++) {
    // Calculate global_invocation_index

    let index = indexGlobal * CYCLES_PER_INVOCATION + i;

    // Calculate relic index per slot

    let l = (index % lSize);
    let p = (((index - l) / lSize) % pSize);
    let f = (((index - p * lSize - l) / (lSize * pSize)) % fSize);
    let b = (((index - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize)) % bSize);
    let g = (((index - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize)) % gSize);
    let h = (((index - g * bSize * fSize * pSize * lSize - b * fSize * pSize * lSize - f * pSize * lSize - p * lSize - l) / (lSize * pSize * fSize * bSize * gSize)) % hSize);

    let finalL = (l + xl) % lSize;
    let carryL = ((l + xl) / lSize);
    let finalP = (p + xp + carryL) % pSize;
    let carryP = ((p + xp + carryL) / pSize);
    let finalF = (f + xf + carryP) % fSize;
    let carryF = ((f + xf + carryP) / fSize);
    let finalB = (b + xb + carryF) % bSize;
    let carryB = ((b + xb + carryF) / bSize);
    let finalG = (g + xg + carryB) % gSize;
    let carryG = ((g + xg + carryB) / gSize);
    let finalH = (h + xh + carryG) % hSize;

    // Calculate Relic structs

    let head  : Relic = (relics[finalH]);
    let hands : Relic = (relics[finalG + hSize]);
    let body  : Relic = (relics[finalB + hSize + gSize]);
    let feet  : Relic = (relics[finalF + hSize + gSize + bSize]);
    let planarSphere : Relic = (relics[finalP + hSize + gSize + bSize + fSize]);
    let linkRope     : Relic = (relics[finalL + hSize + gSize + bSize + fSize + pSize]);

    // Convert set ID

    let setH: u32 = u32(head.relicSet);
    let setG: u32 = u32(hands.relicSet);
    let setB: u32 = u32(body.relicSet);
    let setF: u32 = u32(feet.relicSet);
    let setP: u32 = u32(planarSphere.relicSet);
    let setL: u32 = u32(linkRope.relicSet);

    // Get the index for set permutation lookup

    let relicSetIndex: u32 = setH + setB * relicSetCount + setG * relicSetCount * relicSetCount + setF * relicSetCount * relicSetCount * relicSetCount;
    let ornamentSetIndex: u32 = setP + setL * ornamentSetCount;



    // START SET FILTERS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT SET FILTERS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END SET FILTERS



    // START COMPUTED STATS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT COMPUTED STATS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END COMPUTED STATS



    // Calculate relic set counts

    x.sets.PasserbyOfWanderingCloud            = i32((1 >> (setH ^ 0)) + (1 >> (setG ^ 0)) + (1 >> (setB ^ 0)) + (1 >> (setF ^ 0)));
    x.sets.MusketeerOfWildWheat                = i32((1 >> (setH ^ 1)) + (1 >> (setG ^ 1)) + (1 >> (setB ^ 1)) + (1 >> (setF ^ 1)));
    x.sets.KnightOfPurityPalace                = i32((1 >> (setH ^ 2)) + (1 >> (setG ^ 2)) + (1 >> (setB ^ 2)) + (1 >> (setF ^ 2)));
    x.sets.HunterOfGlacialForest               = i32((1 >> (setH ^ 3)) + (1 >> (setG ^ 3)) + (1 >> (setB ^ 3)) + (1 >> (setF ^ 3)));
    x.sets.ChampionOfStreetwiseBoxing          = i32((1 >> (setH ^ 4)) + (1 >> (setG ^ 4)) + (1 >> (setB ^ 4)) + (1 >> (setF ^ 4)));
    x.sets.GuardOfWutheringSnow                = i32((1 >> (setH ^ 5)) + (1 >> (setG ^ 5)) + (1 >> (setB ^ 5)) + (1 >> (setF ^ 5)));
    x.sets.FiresmithOfLavaForging              = i32((1 >> (setH ^ 6)) + (1 >> (setG ^ 6)) + (1 >> (setB ^ 6)) + (1 >> (setF ^ 6)));
    x.sets.GeniusOfBrilliantStars              = i32((1 >> (setH ^ 7)) + (1 >> (setG ^ 7)) + (1 >> (setB ^ 7)) + (1 >> (setF ^ 7)));
    x.sets.BandOfSizzlingThunder               = i32((1 >> (setH ^ 8)) + (1 >> (setG ^ 8)) + (1 >> (setB ^ 8)) + (1 >> (setF ^ 8)));
    x.sets.EagleOfTwilightLine                 = i32((1 >> (setH ^ 9)) + (1 >> (setG ^ 9)) + (1 >> (setB ^ 9)) + (1 >> (setF ^ 9)));
    x.sets.ThiefOfShootingMeteor               = i32((1 >> (setH ^ 10)) + (1 >> (setG ^ 10)) + (1 >> (setB ^ 10)) + (1 >> (setF ^ 10)));
    x.sets.WastelanderOfBanditryDesert         = i32((1 >> (setH ^ 11)) + (1 >> (setG ^ 11)) + (1 >> (setB ^ 11)) + (1 >> (setF ^ 11)));
    x.sets.LongevousDisciple                   = i32((1 >> (setH ^ 12)) + (1 >> (setG ^ 12)) + (1 >> (setB ^ 12)) + (1 >> (setF ^ 12)));
    x.sets.MessengerTraversingHackerspace      = i32((1 >> (setH ^ 13)) + (1 >> (setG ^ 13)) + (1 >> (setB ^ 13)) + (1 >> (setF ^ 13)));
    x.sets.TheAshblazingGrandDuke              = i32((1 >> (setH ^ 14)) + (1 >> (setG ^ 14)) + (1 >> (setB ^ 14)) + (1 >> (setF ^ 14)));
    x.sets.PrisonerInDeepConfinement           = i32((1 >> (setH ^ 15)) + (1 >> (setG ^ 15)) + (1 >> (setB ^ 15)) + (1 >> (setF ^ 15)));
    x.sets.PioneerDiverOfDeadWaters            = i32((1 >> (setH ^ 16)) + (1 >> (setG ^ 16)) + (1 >> (setB ^ 16)) + (1 >> (setF ^ 16)));
    x.sets.WatchmakerMasterOfDreamMachinations = i32((1 >> (setH ^ 17)) + (1 >> (setG ^ 17)) + (1 >> (setB ^ 17)) + (1 >> (setF ^ 17)));
    x.sets.IronCavalryAgainstTheScourge        = i32((1 >> (setH ^ 18)) + (1 >> (setG ^ 18)) + (1 >> (setB ^ 18)) + (1 >> (setF ^ 18)));
    x.sets.TheWindSoaringValorous              = i32((1 >> (setH ^ 19)) + (1 >> (setG ^ 19)) + (1 >> (setB ^ 19)) + (1 >> (setF ^ 19)));
    x.sets.SacerdosRelivedOrdeal               = i32((1 >> (setH ^ 20)) + (1 >> (setG ^ 20)) + (1 >> (setB ^ 20)) + (1 >> (setF ^ 20)));
    x.sets.ScholarLostInErudition              = i32((1 >> (setH ^ 21)) + (1 >> (setG ^ 21)) + (1 >> (setB ^ 21)) + (1 >> (setF ^ 21)));

    // Calculate ornament set counts

    x.sets.SpaceSealingStation             = i32((1 >> (setP ^ 0)) + (1 >> (setL ^ 0)));
    x.sets.FleetOfTheAgeless               = i32((1 >> (setP ^ 1)) + (1 >> (setL ^ 1)));
    x.sets.PanCosmicCommercialEnterprise   = i32((1 >> (setP ^ 2)) + (1 >> (setL ^ 2)));
    x.sets.BelobogOfTheArchitects          = i32((1 >> (setP ^ 3)) + (1 >> (setL ^ 3)));
    x.sets.CelestialDifferentiator         = i32((1 >> (setP ^ 4)) + (1 >> (setL ^ 4)));
    x.sets.InertSalsotto                   = i32((1 >> (setP ^ 5)) + (1 >> (setL ^ 5)));
    x.sets.TaliaKingdomOfBanditry          = i32((1 >> (setP ^ 6)) + (1 >> (setL ^ 6)));
    x.sets.SprightlyVonwacq                = i32((1 >> (setP ^ 7)) + (1 >> (setL ^ 7)));
    x.sets.RutilantArena                   = i32((1 >> (setP ^ 8)) + (1 >> (setL ^ 8)));
    x.sets.BrokenKeel                      = i32((1 >> (setP ^ 9)) + (1 >> (setL ^ 9)));
    x.sets.FirmamentFrontlineGlamoth       = i32((1 >> (setP ^ 10)) + (1 >> (setL ^ 10)));
    x.sets.PenaconyLandOfTheDreams         = i32((1 >> (setP ^ 11)) + (1 >> (setL ^ 11)));
    x.sets.SigoniaTheUnclaimedDesolation   = i32((1 >> (setP ^ 12)) + (1 >> (setL ^ 12)));
    x.sets.IzumoGenseiAndTakamaDivineRealm = i32((1 >> (setP ^ 13)) + (1 >> (setL ^ 13)));
    x.sets.DuranDynastyOfRunningWolves     = i32((1 >> (setP ^ 14)) + (1 >> (setL ^ 14)));
    x.sets.ForgeOfTheKalpagniLantern       = i32((1 >> (setP ^ 15)) + (1 >> (setL ^ 15)));
    x.sets.LushakaTheSunkenSeas            = i32((1 >> (setP ^ 16)) + (1 >> (setL ^ 16)));
    x.sets.TheWondrousBananAmusementPark   = i32((1 >> (setP ^ 17)) + (1 >> (setL ^ 17)));

    var c: BasicStats = BasicStats();
    var state: ConditionalState = ConditionalState();

    // Calculate relic stat sums

    // NOTE: Performance is worse if we don't add elemental dmg from head/hands/body/feet/rope

    c.HP_P  = head.HP_P + hands.HP_P + body.HP_P + feet.HP_P + planarSphere.HP_P + linkRope.HP_P;
    c.ATK_P = head.ATK_P + hands.ATK_P + body.ATK_P + feet.ATK_P + planarSphere.ATK_P + linkRope.ATK_P;
    c.DEF_P = head.DEF_P + hands.DEF_P + body.DEF_P + feet.DEF_P + planarSphere.DEF_P + linkRope.DEF_P;
    c.SPD_P = head.SPD_P + hands.SPD_P + body.SPD_P + feet.SPD_P + planarSphere.SPD_P + linkRope.SPD_P;
    c.HP  = epsilon + head.HP + hands.HP + body.HP + feet.HP + planarSphere.HP + linkRope.HP;
    c.ATK = epsilon + head.ATK + hands.ATK + body.ATK + feet.ATK + planarSphere.ATK + linkRope.ATK;
    c.DEF = epsilon + head.DEF + hands.DEF + body.DEF + feet.DEF + planarSphere.DEF + linkRope.DEF;
    c.SPD = epsilon + head.SPD + hands.SPD + body.SPD + feet.SPD + planarSphere.SPD + linkRope.SPD;
    c.CR  = epsilon + head.CR + hands.CR + body.CR + feet.CR + planarSphere.CR + linkRope.CR;
    c.CD  = epsilon + head.CD + hands.CD + body.CD + feet.CD + planarSphere.CD + linkRope.CD;
    c.EHR = epsilon + head.EHR + hands.EHR + body.EHR + feet.EHR + planarSphere.EHR + linkRope.EHR;
    c.RES = epsilon + head.RES + hands.RES + body.RES + feet.RES + planarSphere.RES + linkRope.RES;
    c.BE  = epsilon + head.BE + hands.BE + body.BE + feet.BE + planarSphere.BE + linkRope.BE;
    c.ERR = epsilon + head.ERR + hands.ERR + body.ERR + feet.ERR + planarSphere.ERR + linkRope.ERR;
    c.OHB = epsilon + head.OHB + hands.OHB + body.OHB + feet.OHB + planarSphere.OHB + linkRope.OHB;
    c.Physical_DMG  = epsilon + head.Physical_DMG + hands.Physical_DMG + body.Physical_DMG + feet.Physical_DMG + planarSphere.Physical_DMG + linkRope.Physical_DMG;
    c.Fire_DMG      = epsilon + head.Fire_DMG + hands.Fire_DMG + body.Fire_DMG + feet.Fire_DMG + planarSphere.Fire_DMG + linkRope.Fire_DMG;
    c.Ice_DMG       = epsilon + head.Ice_DMG + hands.Ice_DMG + body.Ice_DMG + feet.Ice_DMG + planarSphere.Ice_DMG + linkRope.Ice_DMG;
    c.Lightning_DMG = epsilon + head.Lightning_DMG + hands.Lightning_DMG + body.Lightning_DMG + feet.Lightning_DMG + planarSphere.Lightning_DMG + linkRope.Lightning_DMG;
    c.Wind_DMG      = epsilon + head.Wind_DMG + hands.Wind_DMG + body.Wind_DMG + feet.Wind_DMG + planarSphere.Wind_DMG + linkRope.Wind_DMG;
    c.Quantum_DMG   = epsilon + head.Quantum_DMG + hands.Quantum_DMG + body.Quantum_DMG + feet.Quantum_DMG + planarSphere.Quantum_DMG + linkRope.Quantum_DMG;
    c.Imaginary_DMG = epsilon + head.Imaginary_DMG + hands.Imaginary_DMG + body.Imaginary_DMG + feet.Imaginary_DMG + planarSphere.Imaginary_DMG + linkRope.Imaginary_DMG;

    // Calculate basic stats

    c.HP  += (baseHP) * (1 + c.HP_P + traceHP_P + lcHP_P) + traceHP;
    c.DEF += (baseDEF) * (1 + c.DEF_P + traceDEF_P + lcDEF_P) + traceDEF;
    c.ATK += (baseATK) * (1 + c.ATK_P + traceATK_P + lcATK_P) + traceATK;
    c.SPD += (baseSPD) * (1 + c.SPD_P + traceSPD_P + lcSPD_P) + traceSPD;
    c.CR  += characterCR + lcCR + traceCR;
    c.CD  += characterCD + lcCD + traceCD;
    c.EHR += characterEHR + lcEHR + traceEHR;
    c.RES += characterRES + lcRES + traceRES;
    c.BE  += characterBE + lcBE + traceBE;
    c.ERR += characterERR + lcERR + traceERR;
    c.OHB += characterOHB + lcOHB + traceOHB;
    c.Physical_DMG  += tracePhysical_DMG + 0.10 * p2(x.sets.ChampionOfStreetwiseBoxing);
    c.Fire_DMG      += traceFire_DMG + 0.10 * p2(x.sets.FiresmithOfLavaForging);
    c.Ice_DMG       += traceIce_DMG + 0.10 * p2(x.sets.HunterOfGlacialForest);
    c.Lightning_DMG += traceLightning_DMG + 0.10 * p2(x.sets.BandOfSizzlingThunder);
    c.Wind_DMG      += traceWind_DMG + 0.10 * p2(x.sets.EagleOfTwilightLine);
    c.Quantum_DMG   += traceQuantum_DMG + 0.10 * p2(x.sets.GeniusOfBrilliantStars);
    c.Imaginary_DMG += traceImaginary_DMG + 0.10 * p2(x.sets.WastelanderOfBanditryDesert);

    // Calculate set effects

    c.SPD += (baseSPD) * (
      0.06 * p2(x.sets.MessengerTraversingHackerspace) +
      0.06 * p2(x.sets.ForgeOfTheKalpagniLantern) +
      0.06 * p4(x.sets.MusketeerOfWildWheat) +
      0.06 * p2(x.sets.SacerdosRelivedOrdeal)
    );

    c.HP += (baseHP) * (
      0.12 * p2(x.sets.FleetOfTheAgeless) +
      0.12 * p2(x.sets.LongevousDisciple)
    );

    c.ATK += (baseATK) * (
      0.12 * p2(x.sets.SpaceSealingStation) +
      0.12 * p2(x.sets.FirmamentFrontlineGlamoth) +
      0.12 * p2(x.sets.MusketeerOfWildWheat) +
      0.12 * p2(x.sets.PrisonerInDeepConfinement) +
      0.12 * p2(x.sets.IzumoGenseiAndTakamaDivineRealm) +
      0.12 * p2(x.sets.TheWindSoaringValorous)
    );

    c.DEF += (baseDEF) * (
      0.15 * p2(x.sets.BelobogOfTheArchitects) +
      0.15 * p2(x.sets.KnightOfPurityPalace)
    );

    c.CR += (
      0.08 * p2(x.sets.InertSalsotto) +
      0.08 * p2(x.sets.RutilantArena) +
      0.04 * p4(x.sets.PioneerDiverOfDeadWaters) +
      0.04 * p2(x.sets.SigoniaTheUnclaimedDesolation) +
      0.06 * p4(x.sets.TheWindSoaringValorous) +
      0.06 * p2(x.sets.ScholarLostInErudition)
    );

    c.CD += (
      0.16 * p2(x.sets.CelestialDifferentiator) +
      0.16 * p2(x.sets.TheWondrousBananAmusementPark)
    );

    c.EHR += (
      0.10 * p2(x.sets.PanCosmicCommercialEnterprise)
    );

    c.RES += (
      0.10 * p2(x.sets.BrokenKeel)
    );

    c.BE += (
      0.16 * p2(x.sets.TaliaKingdomOfBanditry) +
      0.16 * p2(x.sets.ThiefOfShootingMeteor) +
      0.16 * p4(x.sets.ThiefOfShootingMeteor) +
      0.16 * p2(x.sets.WatchmakerMasterOfDreamMachinations) +
      0.16 * p2(x.sets.IronCavalryAgainstTheScourge)
    );

    c.ERR += (
      0.05 * p2(x.sets.SprightlyVonwacq) +
      0.05 * p2(x.sets.PenaconyLandOfTheDreams) +
      0.05 * p2(x.sets.LushakaTheSunkenSeas)
    );

    c.OHB += (
      0.10 * p2(x.sets.PasserbyOfWanderingCloud)
    );

    // Add base to computed

    x.ATK += c.ATK + combatBuffsATK + combatBuffsATK_P * baseATK;
    x.DEF += c.DEF + combatBuffsDEF + combatBuffsDEF_P * baseDEF;
    x.HP  += c.HP   + combatBuffsHP  + combatBuffsHP_P  * baseHP;
    x.SPD += c.SPD + combatBuffsSPD + combatBuffsSPD_P * baseSPD;
    x.CD  += c.CD   + combatBuffsCD;
    x.CR  += c.CR   + combatBuffsCR;
    x.EHR += c.EHR;
    x.RES += c.RES;
    x.BE  += c.BE   + combatBuffsBE;
    x.ERR += c.ERR;
    x.OHB += c.OHB;

    addElementalDmg(&c, &x);
    x.WEIGHT = epsilon + head.weightScore + hands.weightScore + body.weightScore + feet.weightScore + planarSphere.weightScore + linkRope.weightScore;

    x.ELEMENTAL_DMG += combatBuffsDMG_BOOST;
    x.EFFECT_RES_PEN += combatBuffsEFFECT_RES_PEN;
    x.VULNERABILITY += combatBuffsVULNERABILITY;
    x.BREAK_EFFICIENCY_BOOST += combatBuffsBREAK_EFFICIENCY;

    // ATK

    if (p4(x.sets.MessengerTraversingHackerspace) >= 1 && enabledMessengerTraversingHackerspace == 1) {
      x.SPD_P += 0.12;
    }

    // DEF

    if (p4(x.sets.ChampionOfStreetwiseBoxing) >= 1) {
      x.ATK_P += 0.05 * f32(valueChampionOfStreetwiseBoxing);
    }
    if (p4(x.sets.BandOfSizzlingThunder) >= 1 && enabledBandOfSizzlingThunder == 1) {
      x.ATK_P += 0.20;
    }
    if (p4(x.sets.TheAshblazingGrandDuke) >= 1) {
      x.ATK_P += 0.06 * f32(valueTheAshblazingGrandDuke);
    }

    // DEF


    // HP


    // CD

    if (p4(x.sets.HunterOfGlacialForest) >= 1 && enabledHunterOfGlacialForest == 1) {
      x.CD += 0.25;
    }
    if (p4(x.sets.WastelanderOfBanditryDesert) >= 1 && valueWastelanderOfBanditryDesert == 2) {
      x.CD += 0.10;
    }
    if (p4(x.sets.PioneerDiverOfDeadWaters) >= 1) {
      x.CD += getPioneerSetCd(valuePioneerDiverOfDeadWaters);
    }
    if (p2(x.sets.SigoniaTheUnclaimedDesolation) >= 1) {
      x.CD += 0.04 * f32(valueSigoniaTheUnclaimedDesolation);
    }
    if (p2(x.sets.DuranDynastyOfRunningWolves) >= 1 && valueDuranDynastyOfRunningWolves >= 5) {
      x.CD += 0.25;
    }
    if (p2(x.sets.TheWondrousBananAmusementPark) >= 1 && enabledTheWondrousBananAmusementPark == 1) {
      x.CD += 0.32;
    }

    // CR

    if (p4(x.sets.WastelanderOfBanditryDesert) >= 1 && valueWastelanderOfBanditryDesert > 0) {
      x.CR += 0.10;
    }
    if (p4(x.sets.LongevousDisciple) >= 1) {
      x.CR += 0.08 * f32(valueLongevousDisciple);
    }
    if (p4(x.sets.PioneerDiverOfDeadWaters) >= 1 && valuePioneerDiverOfDeadWaters > 2) {
      x.CR += 0.04;
    }
    if (p2(x.sets.IzumoGenseiAndTakamaDivineRealm) >= 1 && enabledIzumoGenseiAndTakamaDivineRealm == 1) {
      x.CR += 0.12;
    }

    // BE

    if (p4(x.sets.WatchmakerMasterOfDreamMachinations) >= 1 && enabledWatchmakerMasterOfDreamMachinations == 1) {
      x.BE += 0.30;
    }
    if (p2(x.sets.ForgeOfTheKalpagniLantern) >= 1 && enabledForgeOfTheKalpagniLantern == 1) {
      x.BE += 0.40;
    }

    // Buffs

    // Basic boost
    if (p4(x.sets.MusketeerOfWildWheat) >= 1) {
      buffAbilityDmg(&x, BASIC_TYPE, 0.10, 1);
    }

    // Skill boost
    if (p4(x.sets.FiresmithOfLavaForging) >= 1) {
      buffAbilityDmg(&x, SKILL_TYPE, 0.12, 1);
    }

    // Fua boost
    if (p2(x.sets.TheAshblazingGrandDuke) >= 1) {
      buffAbilityDmg(&x, FUA_TYPE, 0.20, 1);
    }
    if (p2(x.sets.DuranDynastyOfRunningWolves) >= 1) {
      buffAbilityDmg(&x, FUA_TYPE, 0.05 * f32(valueDuranDynastyOfRunningWolves), 1);
    }

    // Ult boost
    if (p4(x.sets.TheWindSoaringValorous) >= 1) {
      buffAbilityDmg(&x, ULT_TYPE, 0.36 * f32(enabledTheWindSoaringValorous), 1);
    }

    if (p4(x.sets.ScholarLostInErudition) >= 1) {
      buffAbilityDmg(&x, SKILL_TYPE | ULT_TYPE, 0.20, 1);

      if (f32(enabledScholarLostInErudition) >= 1.0) {
        buffAbilityDmg(&x, SKILL_TYPE, 0.25, 1);
      }
    }

    //

    if (p4(x.sets.GeniusOfBrilliantStars) >= 1) {
      if (enabledGeniusOfBrilliantStars == 1) {
        x.DEF_PEN += 0.20;
      } else {
        x.DEF_PEN += 0.10;
      }
    }

    if (p4(x.sets.PrisonerInDeepConfinement) >= 1) {
      x.DEF_PEN += 0.06 * f32(valuePrisonerInDeepConfinement);
    }

    if (p2(x.sets.PioneerDiverOfDeadWaters) >= 1 && valuePioneerDiverOfDeadWaters >= 0) {
      x.ELEMENTAL_DMG += 0.12;
    }

    if (p2(x.sets.FiresmithOfLavaForging) >= 1 && enabledFiresmithOfLavaForging == 1) {
      x.Fire_DMG += 0.12;
    }

    // Set effects

    // Dynamic stat conditionals

    x.ATK += x.ATK_P * baseATK;
    x.DEF += x.DEF_P * baseDEF;
    x.HP += x.HP_P * baseHP;
    x.SPD += x.SPD_P * baseSPD;

    let p_x = &x;
    let p_state = &state;

    evaluateDependenciesSPD(p_x, p_state);
    evaluateDependenciesBE(p_x, p_state);

    evaluateDependenciesHP(p_x, p_state);
    evaluateDependenciesATK(p_x, p_state);
    evaluateDependenciesDEF(p_x, p_state);
    evaluateDependenciesCR(p_x, p_state);
    evaluateDependenciesCD(p_x, p_state);
    evaluateDependenciesEHR(p_x, p_state);
    evaluateDependenciesRES(p_x, p_state);
    evaluateDependenciesOHB(p_x, p_state);
    evaluateDependenciesERR(p_x, p_state);

    evaluateDependenciesSPD(p_x, p_state);
    evaluateDependenciesBE(p_x, p_state);

    evaluateDependenciesHP(p_x, p_state);
    evaluateDependenciesATK(p_x, p_state);
    evaluateDependenciesDEF(p_x, p_state);
    evaluateDependenciesCR(p_x, p_state);
    evaluateDependenciesCD(p_x, p_state);
    evaluateDependenciesEHR(p_x, p_state);
    evaluateDependenciesRES(p_x, p_state);
    evaluateDependenciesOHB(p_x, p_state);
    evaluateDependenciesERR(p_x, p_state);


    // START LIGHT CONE CONDITIONALS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT LIGHT CONE CONDITIONALS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END LIGHT CONE CONDITIONALS




    // START CHARACTER CONDITIONALS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT CHARACTER CONDITIONALS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END CHARACTER CONDITIONALS


    // Calculate damage
    let cLevel: f32 = 80;
    let eLevel: f32 = f32(enemyLevel);
    let defReduction: f32 = x.DEF_PEN + combatBuffsDEF_PEN;
    let defIgnore: f32 = 0.0;

    addComputedElementalDmg(&x);

    let dmgBoostMultiplier: f32 = 1 + x.ELEMENTAL_DMG;
    let dmgReductionMultiplier: f32 = 1;

    let ehp: f32 = x.HP / (1 - x.DEF / (x.DEF + 200 + 10 * eLevel)) * (1 / ((1 - 0.08 * p2(x.sets.GuardOfWutheringSnow)) * x.DMG_RED_MULTI));
    x.EHP = ehp;

    let brokenMultiplier = 0.9 + x.ENEMY_WEAKNESS_BROKEN * 0.1;

    let universalMulti = dmgReductionMultiplier * brokenMultiplier;
    let baseResistance = resistance - x.RES_PEN - getElementalResPen(&x);

    let ULT_CD = select(x.CD + x.ULT_CD_BOOST, x.ULT_CD_OVERRIDE, x.ULT_CD_OVERRIDE > 0);

    let breakVulnerability = 1.0 + x.VULNERABILITY + x.BREAK_VULNERABILITY;
    let basicVulnerability = 1.0 + x.VULNERABILITY + x.BASIC_VULNERABILITY;
    let skillVulnerability = 1.0 + x.VULNERABILITY + x.SKILL_VULNERABILITY;
    let ultVulnerability = 1.0 + x.VULNERABILITY + x.ULT_VULNERABILITY * x.ULT_BOOSTS_MULTI;
    let fuaVulnerability = 1.0 + x.VULNERABILITY + x.FUA_VULNERABILITY;
    let dotVulnerability = 1.0 + x.VULNERABILITY + x.DOT_VULNERABILITY;

    let ENEMY_EFFECT_RES = enemyEffectResistance;

    // For stacking dots where the first stack has extra value
    // c = dot chance, s = stacks => avg dmg = (full dmg) * (1 + 0.05 * c * (s-1)) / (1 + 0.05 * (s-1))
    let effectiveDotChance = min(1, x.DOT_CHANCE * (1 + x.EHR) * (1 - ENEMY_EFFECT_RES + x.EFFECT_RES_PEN));
    let dotEhrMultiplier = select(effectiveDotChance, (1 + x.DOT_SPLIT * effectiveDotChance * (x.DOT_STACKS - 1)) / (1 + 0.05 * (x.DOT_STACKS - 1)), x.DOT_SPLIT > 0);

    // BREAK
    let maxToughness = enemyMaxToughness;

    x.BREAK_DMG
      = universalMulti
      * 3767.5533
      * ELEMENTAL_BREAK_SCALING
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN)
      * (0.5 + maxToughness / 120)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE);

    let SUPER_BREAK_DMG
      = universalMulti
      * 3767.5533
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN + x.SUPER_BREAK_DEF_PEN)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE)
      * (x.SUPER_BREAK_MODIFIER + x.SUPER_BREAK_HMC_MODIFIER)
      * (1.0 / 30.0)
      * (1.0 + x.BREAK_EFFICIENCY_BOOST);

    let BASIC_SUPER_BREAK_DMG
      = universalMulti
      * 3767.5533
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BREAK_DEF_PEN + x.SUPER_BREAK_DEF_PEN)
      * breakVulnerability
      * (1.0 - baseResistance)
      * (1.0 + x.BE)
      * (x.BASIC_SUPER_BREAK_MODIFIER + x.SUPER_BREAK_HMC_MODIFIER)
      * (1.0 / 30.0)
      * (1.0 + x.BREAK_EFFICIENCY_BOOST);

    let ACTUAL_BASIC_SUPER_BREAK_DMG = select(SUPER_BREAK_DMG, BASIC_SUPER_BREAK_DMG, BASIC_SUPER_BREAK_DMG > 0);

    x.BASIC_DMG
      = x.BASIC_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.BASIC_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.BASIC_DEF_PEN)
      * ((basicVulnerability) * min(1, x.CR + x.BASIC_CR_BOOST) * (1.0 + x.CD + x.BASIC_CD_BOOST) + basicVulnerability * (1.0 - min(1.0, x.CR + x.BASIC_CR_BOOST)))
      * (1.0 - (baseResistance - x.BASIC_RES_PEN))
      * (1.0 + x.BASIC_ORIGINAL_DMG_BOOST)
      + (x.BASIC_BREAK_DMG_MODIFIER * x.BREAK_DMG)
      + (ACTUAL_BASIC_SUPER_BREAK_DMG * x.BASIC_TOUGHNESS_DMG * (1.0 + x.BASIC_BREAK_EFFICIENCY_BOOST));

    x.SKILL_DMG
      = x.SKILL_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.SKILL_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.SKILL_DEF_PEN)
      * ((skillVulnerability) * min(1.0, x.CR + x.SKILL_CR_BOOST) * (1.0 + x.CD + x.SKILL_CD_BOOST) + skillVulnerability * (1.0 - min(1.0, x.CR + x.SKILL_CR_BOOST)))
      * (1.0 - (baseResistance - x.SKILL_RES_PEN))
      * (1.0 + x.SKILL_ORIGINAL_DMG_BOOST)
      + (SUPER_BREAK_DMG * x.SKILL_TOUGHNESS_DMG);

    x.ULT_DMG
      = x.ULT_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.ULT_BOOST * x.ULT_BOOSTS_MULTI)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.ULT_DEF_PEN * x.ULT_BOOSTS_MULTI)
      * ((ultVulnerability) * min(1.0, x.CR + x.ULT_CR_BOOST) * (1.0 + ULT_CD) + ultVulnerability * (1.0 - min(1, x.CR + x.ULT_CR_BOOST)))
      * (1 - (baseResistance - x.ULT_RES_PEN * x.ULT_BOOSTS_MULTI))
      * (1 + x.ULT_ORIGINAL_DMG_BOOST)
      + (SUPER_BREAK_DMG * x.ULT_TOUGHNESS_DMG * (1.0 + x.ULT_BREAK_EFFICIENCY_BOOST));

    x.FUA_DMG
      = x.FUA_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.FUA_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.FUA_DEF_PEN)
      * ((fuaVulnerability) * min(1.0, x.CR + x.FUA_CR_BOOST) * (1.0 + x.CD + x.FUA_CD_BOOST) + fuaVulnerability * (1.0 - min(1.0, x.CR + x.FUA_CR_BOOST)))
      * (1.0 - (baseResistance - x.FUA_RES_PEN))
      + (SUPER_BREAK_DMG * x.FUA_TOUGHNESS_DMG);

    x.DOT_DMG
      = x.DOT_DMG
      * universalMulti
      * (dmgBoostMultiplier + x.DOT_BOOST)
      * calculateDefMultiplier(cLevel, eLevel, defReduction, defIgnore, x.DOT_DEF_PEN)
      * dotVulnerability
      * (1.0 - (baseResistance - x.DOT_RES_PEN))
      * dotEhrMultiplier;

    x.COMBO_DMG
      = BASIC_COMBO * x.BASIC_DMG
      + SKILL_COMBO * x.SKILL_DMG
      + ULT_COMBO * x.ULT_DMG
      + FUA_COMBO * x.FUA_DMG
      + DOT_COMBO * x.DOT_DMG
      + BREAK_COMBO * x.BREAK_DMG;


    // START COMBAT STAT FILTERS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT COMBAT STAT FILTERS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END COMBAT STAT FILTERS



    // START BASIC STAT FILTERS
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT BASIC STAT FILTERS */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END BASIC STAT FILTERS



    // START RETURN VALUE
    // ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼
    /* INJECT RETURN VALUE */
    // ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
    // END RETURN VALUE
  }
}

fn p2(n: i32) -> f32 {
  return f32(min(1, n >> 1));
}
fn p4(n: i32) -> f32 {
  return f32(n >> 2);
}

fn calculateDefMultiplier(cLevel: f32, eLevel: f32, defReduction: f32, defIgnore: f32, additionalPen: f32) -> f32 {
  return (cLevel + 20.0f) / ((eLevel + 20.0f) * max(0.0f, 1.0f - defReduction - defIgnore - additionalPen) + cLevel + 20.0f);
}

fn buffAbilityDmg(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_BOOST += value;
  }
}

fn buffAbilityCr(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CR_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CR_BOOST += value;
  }
}

fn buffAbilityCd(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_CD_BOOST += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_CD_BOOST += value;
  }
}

fn buffAbilityDefShred(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_DEF_PEN += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SUPER_BREAK_DMG_TYPE)) != 0) {
    (*p_x).SUPER_BREAK_DEF_PEN += value;
  }
}

fn buffAbilityVulnerability(
  p_x: ptr<function, ComputedStats>,
  abilityTypeFlags: i32,
  value: f32,
  condition: i32
) {
  if (condition == 0) {
    return;
  }
  if ((abilityTypeFlags & i32((*p_x).BASIC_DMG_TYPE)) != 0) {
    (*p_x).BASIC_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).SKILL_DMG_TYPE)) != 0) {
    (*p_x).SKILL_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).ULT_DMG_TYPE)) != 0) {
    (*p_x).ULT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).FUA_DMG_TYPE)) != 0) {
    (*p_x).FUA_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).DOT_DMG_TYPE)) != 0) {
    (*p_x).DOT_VULNERABILITY += value;
  }
  if ((abilityTypeFlags & i32((*p_x).BREAK_DMG_TYPE)) != 0) {
    (*p_x).BREAK_VULNERABILITY += value;
  }
}

fn addElementalDmg(
  c_x: ptr<function, BasicStats>,
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Physical_DMG;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Fire_DMG;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Ice_DMG;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Lightning_DMG;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Wind_DMG;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Quantum_DMG;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*c_x).Imaginary_DMG;
    }
    default: {

    }
  }
}

fn addComputedElementalDmg(
  p_x: ptr<function, ComputedStats>,
) {
  switch (ELEMENT_INDEX) {
    case 0: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Physical_DMG;
    }
    case 1: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Fire_DMG;
    }
    case 2: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Ice_DMG;
    }
    case 3: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Lightning_DMG;
    }
    case 4: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Wind_DMG;
    }
    case 5: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Quantum_DMG;
    }
    case 6: {
      (*p_x).ELEMENTAL_DMG += (*p_x).Imaginary_DMG;
    }
    default: {

    }
  }
}

fn getElementalResPen(
  p_x: ptr<function, ComputedStats>,
) -> f32 {
  switch (ELEMENT_INDEX) {
    case 0: {
      return (*p_x).PHYSICAL_RES_PEN;
    }
    case 1: {
      return (*p_x).FIRE_RES_PEN;
    }
    case 2: {
      return (*p_x).ICE_RES_PEN;
    }
    case 3: {
      return (*p_x).LIGHTNING_RES_PEN;
    }
    case 4: {
      return (*p_x).WIND_RES_PEN;
    }
    case 5: {
      return (*p_x).QUANTUM_RES_PEN;
    }
    case 6: {
      return (*p_x).IMAGINARY_RES_PEN;
    }
    default: {
      return 0;
    }
  }
}

fn getPioneerSetCd(
  index: i32,
) -> f32 {
  switch (index) {
    case 4: {
      return 0.24;
    }
    case 3: {
      return 0.16;
    }
    case 2: {
      return 0.12;
    }
    case 1: {
      return 0.08;
    }
    default: {
      return 0.0;
    }
  }
}

fn calculateAshblazingSet(
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>,
  hitMulti: f32,
) -> f32 {
  if (p4((*p_x).sets.TheAshblazingGrandDuke) >= 1) {
    let ashblazingAtk = 0.06 * f32(valueTheAshblazingGrandDuke) * baseATK;
    let ashblazingMulti = hitMulti * baseATK;

    return ashblazingMulti - ashblazingAtk;
  }

  return 0;
}
`;function bb(e,a,i){return e+=Rb(a),e+=Mn(a.character.base,"character"),e+=Mn(a.character.lightCone,"lc"),e+=Mn(a.character.traces,"trace"),e+=Sb(),e+=gb(a),e+=fb(i),e+=`
`,e}function Sb(){return`
const baseHP = characterHP + lcHP;
const baseATK = characterATK + lcATK;
const baseDEF = characterDEF + lcDEF;
const baseSPD = characterSPD + lcSPD;
  `}function Rb(e){let a=`
`;for(const[i,n]of Object.entries(e))i.startsWith("enabled")&&(a+=`const ${i}: i32 = ${n?1:0};
`),i.startsWith("value")&&(a+=`const ${i}: i32 = ${n};
`);return a}function fb(e){let a=`
`;a+=`const statDisplay: i32 = ${e.statDisplay=="combat"?0:1};
`,a+=`
`,a+=`const BASIC_COMBO: f32 = ${e.combo.BASIC};
`,a+=`const SKILL_COMBO: f32 = ${e.combo.SKILL};
`,a+=`const ULT_COMBO: f32 = ${e.combo.ULT};
`,a+=`const FUA_COMBO: f32 = ${e.combo.FUA};
`,a+=`const DOT_COMBO: f32 = ${e.combo.DOT};
`,a+=`const BREAK_COMBO: f32 = ${e.combo.BREAK};
`,a+=`
`,a+=`const enemyCount: i32 = ${e.enemyCount};
`,a+=`const enemyElementalWeak: i32 = ${e.enemyElementalWeak?1:0};
`,a+=`const enemyLevel: i32 = ${e.enemyLevel};
`,a+=`const enemyMaxToughness: f32 = ${e.enemyMaxToughness};
`,a+=`const enemyResistance: f32 = ${e.enemyResistance};
`,a+=`const enemyEffectResistance: f32 = ${e.enemyEffectResistance};
`,a+=`const enemyWeaknessBroken: i32 = ${e.enemyWeaknessBroken?1:0};
`,a+=`
`,a+=`const resistance: f32 = ${(e.enemyElementalWeak?0:e.enemyResistance)-e.combatBuffs.RES_PEN};
`,a+=`
`;for(const[i,n]of Object.entries(e))(i.startsWith("min")||i.startsWith("max"))&&(a+=`const ${i}: f32 = ${n};
`);a+=`
`;for(const[i,n]of Object.entries(e.combatBuffs))a+=`const combatBuffs${i}: f32 = ${n};
`;return a+=`
`,a+=`const e: i32 = ${e.characterEidolon};
`,a+=`
`,a}function gb(e){let a=`
`;return a+=`const ELEMENT_INDEX: i32 = ${Gb[e.ELEMENTAL_DMG_TYPE]};
`,a+=`const ELEMENTAL_BREAK_SCALING: f32 = ${e.ELEMENTAL_BREAK_SCALING};
`,a}function Mn(e,a){let i=`
`;for(const[n,l]of Object.entries(pb))i+=`const ${a}${n}: f32 = ${e[l]};
`;return i}const pb={HP_P:t.HP_P,ATK_P:t.ATK_P,DEF_P:t.DEF_P,SPD_P:t.SPD_P,HP:t.HP,ATK:t.ATK,DEF:t.DEF,SPD:t.SPD,CR:t.CR,CD:t.CD,EHR:t.EHR,RES:t.RES,BE:t.BE,ERR:t.ERR,OHB:t.OHB,Physical_DMG:t.Physical_DMG,Fire_DMG:t.Fire_DMG,Ice_DMG:t.Ice_DMG,Lightning_DMG:t.Lightning_DMG,Wind_DMG:t.Wind_DMG,Quantum_DMG:t.Quantum_DMG,Imaginary_DMG:t.Imaginary_DMG},Gb={[t.Physical_DMG]:0,[t.Fire_DMG]:1,[t.Ice_DMG]:2,[t.Lightning_DMG]:3,[t.Wind_DMG]:4,[t.Quantum_DMG]:5,[t.Imaginary_DMG]:6};function Ib(e,a,i){const n=Ma.get(a),l=Sa.get(a),o=i.conditionalRegistry;return l.gpuFinalizeCalculations&&(e=e.replace("/* INJECT LIGHT CONE CONDITIONALS */",ea(l.gpuFinalizeCalculations(a,i),2))),n.gpuFinalizeCalculations&&(e=e.replace("/* INJECT CHARACTER CONDITIONALS */",ea(n.gpuFinalizeCalculations(a,i),2))),e+=Db(o,a,i),e}function Co(e){return`evaluate${e}(p_x, p_state);`}function Eb(e,a){return`
fn evaluateDependencies${e}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
${ea(a,1)}
}
  `}function Tb(e,a){return`
fn evaluateNonRatioDependencies${e}(p_x: ptr<function, ComputedStats>, p_state: ptr<function, ConditionalState>) {
${ea(a,1)}
}
  `}function ta(e,a,i,n,l){let o="",r="",c="",h="",b="";return c+=e[a].map(R=>Co(R.id)).join(`
`),h+=e[a].filter(R=>!R.ratioConversion).map(R=>Co(R.id)).join(`
`),r+=e[a].map(R=>R.gpu(n,l)).join(`
`),b+=e[a].map(R=>R.id+`: f32,
`).join(""),o+=Eb(i,c),o+=Tb(i,h),{conditionalEvaluators:o,conditionalDefinitionsWgsl:r,conditionalStateDefinition:b}}function Db(e,a,i){let n="",l=`
`,o=`
`,r=`
`;function c(h){l+=h.conditionalEvaluators,o+=h.conditionalDefinitionsWgsl,r+=h.conditionalStateDefinition}return c(ta(e,t.HP,"HP",a,i)),c(ta(e,t.ATK,"ATK",a,i)),c(ta(e,t.DEF,"DEF",a,i)),c(ta(e,t.SPD,"SPD",a,i)),c(ta(e,t.CR,"CR",a,i)),c(ta(e,t.CD,"CD",a,i)),c(ta(e,t.EHR,"EHR",a,i)),c(ta(e,t.RES,"RES",a,i)),c(ta(e,t.BE,"BE",a,i)),c(ta(e,t.OHB,"OHB",a,i)),c(ta(e,t.ERR,"ERR",a,i)),n+=o,n+=l,n+=`
struct ConditionalState {
${ea(r,1)}
}
  `,n}function Zb(e,a){const i=a.precomputedX;i.EHP=0;const n=`
    var x: ComputedStats = ComputedStats(  
      ${i[t.HP_P]}, // Stats.HP_P
      ${i[t.ATK_P]}, // Stats.ATK_P
      ${i[t.DEF_P]}, // Stats.DEF_P
      ${i[t.SPD_P]}, // Stats.SPD_P
      ${i[t.HP]}, // Stats.HP
      ${i[t.ATK]}, // Stats.ATK
      ${i[t.DEF]}, // Stats.DEF
      ${i[t.SPD]}, // Stats.SPD
      ${i[t.CR]}, // Stats.CR
      ${i[t.CD]}, // Stats.CD
      ${i[t.EHR]}, // Stats.EHR
      ${i[t.RES]}, // Stats.RES
      ${i[t.BE]}, // Stats.BE
      ${i[t.ERR]}, // Stats.ERR
      ${i[t.OHB]}, // Stats.OHB
      ${i[t.Physical_DMG]}, // Stats.Physical_DMG
      ${i[t.Fire_DMG]}, // Stats.Fire_DMG
      ${i[t.Ice_DMG]}, // Stats.Ice_DMG
      ${i[t.Lightning_DMG]}, // Stats.Lightning_DMG
      ${i[t.Wind_DMG]}, // Stats.Wind_DMG
      ${i[t.Quantum_DMG]}, // Stats.Quantum_DMG
      ${i[t.Imaginary_DMG]}, // Stats.Imaginary_DMG
      ${i.ELEMENTAL_DMG}, // ELEMENTAL_DMG
      ${i.BASIC_SCALING}, // BASIC_SCALING
      ${i.SKILL_SCALING}, // SKILL_SCALING
      ${i.ULT_SCALING}, // ULT_SCALING
      ${i.FUA_SCALING}, // FUA_SCALING
      ${i.DOT_SCALING}, // DOT_SCALING
      ${i.BASIC_CR_BOOST}, // BASIC_CR_BOOST
      ${i.SKILL_CR_BOOST}, // SKILL_CR_BOOST
      ${i.ULT_CR_BOOST}, // ULT_CR_BOOST
      ${i.FUA_CR_BOOST}, // FUA_CR_BOOST
      ${i.BASIC_CD_BOOST}, // BASIC_CD_BOOST
      ${i.SKILL_CD_BOOST}, // SKILL_CD_BOOST
      ${i.ULT_CD_BOOST}, // ULT_CD_BOOST
      ${i.FUA_CD_BOOST}, // FUA_CD_BOOST
      ${i.BASIC_BOOST}, // BASIC_BOOST
      ${i.SKILL_BOOST}, // SKILL_BOOST
      ${i.ULT_BOOST}, // ULT_BOOST
      ${i.FUA_BOOST}, // FUA_BOOST
      ${i.DOT_BOOST}, // DOT_BOOST
      ${i.VULNERABILITY}, // VULNERABILITY
      ${i.BASIC_VULNERABILITY}, // BASIC_VULNERABILITY
      ${i.SKILL_VULNERABILITY}, // SKILL_VULNERABILITY
      ${i.ULT_VULNERABILITY}, // ULT_VULNERABILITY
      ${i.FUA_VULNERABILITY}, // FUA_VULNERABILITY
      ${i.DOT_VULNERABILITY}, // DOT_VULNERABILITY
      ${i.BREAK_VULNERABILITY}, // BREAK_VULNERABILITY
      ${i.DEF_PEN}, // DEF_PEN
      ${i.BASIC_DEF_PEN}, // BASIC_DEF_PEN
      ${i.SKILL_DEF_PEN}, // SKILL_DEF_PEN
      ${i.ULT_DEF_PEN}, // ULT_DEF_PEN
      ${i.FUA_DEF_PEN}, // FUA_DEF_PEN
      ${i.DOT_DEF_PEN}, // DOT_DEF_PEN
      ${i.BREAK_DEF_PEN}, // BREAK_DEF_PEN
      ${i.SUPER_BREAK_DEF_PEN}, // SUPER_BREAK_DEF_PEN
      ${i.RES_PEN}, // RES_PEN
      ${i.PHYSICAL_RES_PEN}, // PHYSICAL_RES_PEN
      ${i.FIRE_RES_PEN}, // FIRE_RES_PEN
      ${i.ICE_RES_PEN}, // ICE_RES_PEN
      ${i.LIGHTNING_RES_PEN}, // LIGHTNING_RES_PEN
      ${i.WIND_RES_PEN}, // WIND_RES_PEN
      ${i.QUANTUM_RES_PEN}, // QUANTUM_RES_PEN
      ${i.IMAGINARY_RES_PEN}, // IMAGINARY_RES_PEN
      ${i.BASIC_RES_PEN}, // BASIC_RES_PEN
      ${i.SKILL_RES_PEN}, // SKILL_RES_PEN
      ${i.ULT_RES_PEN}, // ULT_RES_PEN
      ${i.FUA_RES_PEN}, // FUA_RES_PEN
      ${i.DOT_RES_PEN}, // DOT_RES_PEN
      ${i.BASIC_DMG}, // BASIC_DMG
      ${i.SKILL_DMG}, // SKILL_DMG
      ${i.ULT_DMG}, // ULT_DMG
      ${i.FUA_DMG}, // FUA_DMG
      ${i.DOT_DMG}, // DOT_DMG
      ${i.BREAK_DMG}, // BREAK_DMG
      ${i.COMBO_DMG}, // COMBO_DMG
      ${i.DMG_RED_MULTI}, // DMG_RED_MULTI
      ${i.EHP}, // EHP
      ${i.DOT_CHANCE}, // DOT_CHANCE
      ${i.EFFECT_RES_PEN}, // EFFECT_RES_PEN
      ${i.DOT_SPLIT}, // DOT_SPLIT
      ${i.DOT_STACKS}, // DOT_STACKS
      ${i.ENEMY_WEAKNESS_BROKEN}, // ENEMY_WEAKNESS_BROKEN
      ${i.SUPER_BREAK_MODIFIER}, // SUPER_BREAK_MODIFIER
      ${i.BASIC_SUPER_BREAK_MODIFIER}, // BASIC_SUPER_BREAK_MODIFIER
      ${i.SUPER_BREAK_HMC_MODIFIER}, // SUPER_BREAK_HMC_MODIFIER
      ${i.BASIC_TOUGHNESS_DMG}, // BASIC_TOUGHNESS_DMG
      ${i.SKILL_TOUGHNESS_DMG}, // SKILL_TOUGHNESS_DMG
      ${i.ULT_TOUGHNESS_DMG}, // ULT_TOUGHNESS_DMG
      ${i.FUA_TOUGHNESS_DMG}, // FUA_TOUGHNESS_DMG
      ${i.BASIC_ORIGINAL_DMG_BOOST}, // BASIC_ORIGINAL_DMG_BOOST
      ${i.SKILL_ORIGINAL_DMG_BOOST}, // SKILL_ORIGINAL_DMG_BOOST
      ${i.ULT_ORIGINAL_DMG_BOOST}, // ULT_ORIGINAL_DMG_BOOST
      ${i.BASIC_BREAK_DMG_MODIFIER}, // BASIC_BREAK_DMG_MODIFIER
      ${i.ULT_CD_OVERRIDE}, // ULT_CD_OVERRIDE
      ${i.ULT_BOOSTS_MULTI}, // ULT_BOOSTS_MULTI
      ${i.RATIO_BASED_HP_BUFF}, // RATIO_BASED_HP_BUFF
      ${i.RATIO_BASED_HP_P_BUFF}, // RATIO_BASED_HP_P_BUFF
      ${i.RATIO_BASED_ATK_BUFF}, // RATIO_BASED_ATK_BUFF
      ${i.RATIO_BASED_ATK_P_BUFF}, // RATIO_BASED_ATK_P_BUFF
      ${i.RATIO_BASED_DEF_BUFF}, // RATIO_BASED_DEF_BUFF
      ${i.RATIO_BASED_DEF_P_BUFF}, // RATIO_BASED_DEF_P_BUFF
      ${i.RATIO_BASED_SPD_BUFF}, // RATIO_BASED_SPD_BUFF
      ${i.RATIO_BASED_CD_BUFF}, // RATIO_BASED_CD_BUFF
      ${i.BREAK_EFFICIENCY_BOOST}, // BREAK_EFFICIENCY_BOOST
      ${i.BASIC_BREAK_EFFICIENCY_BOOST}, // BASIC_BREAK_EFFICIENCY_BOOST
      ${i.ULT_BREAK_EFFICIENCY_BOOST}, // ULT_BREAK_EFFICIENCY_BOOST
      ${i.BASIC_DMG_TYPE}, // BASIC_DMG_TYPE
      ${i.SKILL_DMG_TYPE}, // SKILL_DMG_TYPE
      ${i.ULT_DMG_TYPE}, // ULT_DMG_TYPE
      ${i.FUA_DMG_TYPE}, // FUA_DMG_TYPE
      ${i.DOT_DMG_TYPE}, // DOT_DMG_TYPE
      ${i.BREAK_DMG_TYPE}, // BREAK_DMG_TYPE
      ${i.SUPER_BREAK_DMG_TYPE}, // SUPER_BREAK_DMG_TYPE
      ${i.WEIGHT}, // WEIGHT
      Sets(),
    );
  `;return e=e.replace("/* INJECT COMPUTED STATS */",n),e}function Cb(e){for(const a of["ATK","DEF","HP","SPD","CR","CD","EHR","BE","OHB","ERR"])(a=="ATK"||a=="DEF"||a=="HP"||a=="SPD")&&(e+=`
fn buffDynamic${a}_P(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value * base${a};
  evaluateDependencies${a}(p_x, p_state);
}
      `,e+=`
fn buffNonDynamic${a}_P(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value * base${a};
}
      `),e+=`
fn buffDynamic${a}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value;
  evaluateDependencies${a}(p_x, p_state);
}
    `,e+=`
fn buffNonDynamic${a}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value;
}
    `,e+=`
fn buffNonRatioDynamic${a}(
  value: f32,
  p_x: ptr<function, ComputedStats>,
  p_state: ptr<function, ConditionalState>
) {
  if (value < 0.0001) {
    return;
  }
  (*p_x).${a} += value;
  evaluateNonRatioDependencies${a}(p_x, p_state);
}
    `;return e}function Bb(e,a,i){sn(a,e),gl(a,e),pl(a,e);let n="";return n=bb(n,e,a),n=yb(n),n=Ib(n,a,e),n=Zb(n,e),n=Cb(n),n=Fb(n,a,i),n=Mb(n,a,i),n=Vb(n,a,i),n=Wb(n,i),n}function yb(e){return e+=`
${hb}

${ub}

${mb}
  `,e}function R0(e){return a=>{const[i,n,l]=a.split(/[><]/).flatMap(c=>c.split(".")).map(c=>c.trim()),o=l.includes("min");return l.includes("max")&&e[l]==d.MAX_INT||o&&e[l]==0?"":a}}function f0(e){return ea(e.length>0?e:"false",2)}function Wb(e,a){return e.replace("/* INJECT SET FILTERS */",ea(`
if (relicSetSolutionsMatrix[relicSetIndex] < 1 || ornamentSetSolutionsMatrix[ornamentSetIndex] < 1) {
  results[index] = ${a.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
  continue;
}
  `,2))}function Mb(e,a,i){const n=w[a.resultSort].gpuProperty,l=w[a.resultSort].isComputedRating,o=R0(a),r=l?`x.${n} < threshold`:`c.${n} < threshold`,c=[o("c.SPD < minSpd"),o("c.SPD > maxSpd"),o("c.HP  < minHp"),o("c.HP  > maxHp"),o("c.ATK < minAtk"),o("c.ATK > maxAtk"),o("c.DEF < minDef"),o("c.DEF > maxDef"),o("c.CR  < minCr"),o("c.CR  > maxCr"),o("c.CD  < minCd"),o("c.CD  > maxCd"),o("c.EHR < minEhr"),o("c.EHR > maxEhr"),o("c.RES < minRes"),o("c.RES > maxRes"),o("c.BE  < minBe"),o("c.BE  > maxBe"),o("c.ERR < minErr"),o("c.ERR > maxErr"),o(r)].filter(h=>h.length>0).join(` ||
`);return e=e.replace("/* INJECT BASIC STAT FILTERS */",ea(`
if (statDisplay == 1) {
  if (
${f0(c)}
  ) {
    results[index] = ${i.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    continue;
  }
}
  `,2)),e}function Vb(e,a,i){const n=w[a.resultSort].gpuProperty,l=R0(a),o=[l("x.SPD < minSpd"),l("x.SPD > maxSpd"),l("x.HP  < minHp"),l("x.HP  > maxHp"),l("x.ATK < minAtk"),l("x.ATK > maxAtk"),l("x.DEF < minDef"),l("x.DEF > maxDef"),l("x.CR  < minCr"),l("x.CR  > maxCr"),l("x.CD  < minCd"),l("x.CD  > maxCd"),l("x.EHR < minEhr"),l("x.EHR > maxEhr"),l("x.RES < minRes"),l("x.RES > maxRes"),l("x.BE  < minBe"),l("x.BE  > maxBe"),l("x.ERR < minErr"),l("x.ERR > maxErr"),l("x.EHP < minEhp"),l("x.EHP > maxEhp"),l("x.WEIGHT < minWeight"),l("x.WEIGHT > maxWeight"),l("x.BASIC_DMG < minBasic"),l("x.BASIC_DMG > maxBasic"),l("x.SKILL_DMG < minSkill"),l("x.SKILL_DMG > maxSkill"),l("x.ULT_DMG < minUlt"),l("x.ULT_DMG > maxUlt"),l("x.FUA_DMG < minFua"),l("x.FUA_DMG > maxFua"),l("x.DOT_DMG < minDot"),l("x.DOT_DMG > maxDot"),l("x.BREAK_DMG < minBreak"),l("x.BREAK_DMG > maxBreak"),l("x.COMBO_DMG < minCombo"),l("x.COMBO_DMG > maxCombo"),l(`x.${n} < threshold`)].filter(r=>r.length>0).join(` ||
`);return e=e.replace("/* INJECT COMBAT STAT FILTERS */",ea(`
if (statDisplay == 0) {
  if (
${f0(o)}
  ) {
    results[index] = ${i.DEBUG?"ComputedStats()":"-failures; failures = failures + 1"};
    continue;
  }
}
  `,2)),e}function Fb(e,a,i){const n=i.DEBUG?1:i.CYCLES_PER_INVOCATION;e=e.replace("/* INJECT GPU PARAMS */",`
const WORKGROUP_SIZE = ${i.WORKGROUP_SIZE};
const BLOCK_SIZE = ${i.BLOCK_SIZE};
const CYCLES_PER_INVOCATION = ${n};
const DEBUG = ${i.DEBUG?1:0};
  `),i.DEBUG?e=e.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<ComputedStats>; // DEBUG
    `):e=e.replace("/* INJECT RESULTS BUFFER */",`
@group(2) @binding(0) var<storage, read_write> results : array<f32>;
    `);const l=w[a.resultSort].gpuProperty,r=w[a.resultSort].isComputedRating?`x.${l}`:`c.${l}`;return i.DEBUG?e=e.replace("/* INJECT RETURN VALUE */",ea(`
results[index] = x; // DEBUG
    `,2)):e=e.replace("/* INJECT RETURN VALUE */",ea(`
if (statDisplay == 0) {
  results[index] = x.${l};
  failures = 1;
} else {
  results[index] = ${r};
  failures = 1;
}
    `,2)),e}const Vn={[t.HP_P]:0,[t.ATK_P]:1,[t.DEF_P]:2,[t.SPD_P]:3,[t.HP]:4,[t.ATK]:5,[t.DEF]:6,[t.SPD]:7,[t.CR]:8,[t.CD]:9,[t.EHR]:10,[t.RES]:11,[t.BE]:12,[t.ERR]:13,[t.OHB]:14,[t.Physical_DMG]:15,[t.Fire_DMG]:16,[t.Ice_DMG]:17,[t.Lightning_DMG]:18,[t.Wind_DMG]:19,[t.Quantum_DMG]:20,[t.Imaginary_DMG]:21};function xb(e,a,i,n,l){var E;const o=i.LinkRope.length,r=i.PlanarSphere.length,c=i.Feet.length,h=i.Body.length,b=i.Hands.length,R=i.Head.length,S=a%o,u=(a-S)/o%r,m=(a-u*o-S)/(o*r)%c,f=(a-m*r*o-u*o-S)/(o*r*c)%h,p=(a-f*c*r*o-m*r*o-u*o-S)/(o*r*c*h)%b,I=(a-p*h*c*r*o-f*c*r*o-m*r*o-u*o-S)/(o*r*c*h*b)%R;return n[6]=S,n[7]=u,n[8]=m,n[9]=f,n[10]=p,n[11]=I,n[12]=((E=l.resultsQueue.top())==null?void 0:E.value)??0,Ai(e,new Float32Array(n),GPUBufferUsage.STORAGE)}function Lb(e,a){const i=[e.LinkRope.length,e.PlanarSphere.length,e.Feet.length,e.Body.length,e.Hands.length,e.Head.length,0,0,0,0,0,0,0,Object.keys(d.SetsRelics).length,Object.keys(d.SetsOrnaments).length];for(const n of Object.values(d.Stats))i[15+Vn[n]]=a.character.base[n];for(const n of Object.values(d.Stats))i[37+Vn[n]]=a.character.lightCone[n];for(const n of Object.values(d.Stats))i[59+Vn[n]]=a.character.traces[n];return i}function Ub(e){return Hb([...e.Head,...e.Hands,...e.Body,...e.Feet,...e.PlanarSphere,...e.LinkRope])}const kb=24;function Hb(e){const a=[];for(let i=0;i<e.length;i++){const n=e[i],l=kb*i;let o=0;const r={},c=n.condensedStats;for(const h of c)r[h[0]]=h[1];a[l+o++]=r[t.HP_P]||0,a[l+o++]=r[t.ATK_P]||0,a[l+o++]=r[t.DEF_P]||0,a[l+o++]=r[t.SPD_P]||0,a[l+o++]=r[t.HP]||0,a[l+o++]=r[t.ATK]||0,a[l+o++]=r[t.DEF]||0,a[l+o++]=r[t.SPD]||0,a[l+o++]=r[t.CR]||0,a[l+o++]=r[t.CD]||0,a[l+o++]=r[t.EHR]||0,a[l+o++]=r[t.RES]||0,a[l+o++]=r[t.BE]||0,a[l+o++]=r[t.ERR]||0,a[l+o++]=r[t.OHB]||0,a[l+o++]=r[t.Physical_DMG]||0,a[l+o++]=r[t.Fire_DMG]||0,a[l+o++]=r[t.Ice_DMG]||0,a[l+o++]=r[t.Lightning_DMG]||0,a[l+o++]=r[t.Wind_DMG]||0,a[l+o++]=r[t.Quantum_DMG]||0,a[l+o++]=r[t.Imaginary_DMG]||0,a[l+o++]=Pb(n),a[l+o++]=n.weightScore}return a}function Pb(e){return ys.includes(e.set)?na[e.set]:cs[e.set]}const Nb=`@group(0) @binding(0) var<storage, read_write> results : array<f32>;
@compute @workgroup_size(256)
fn main(
  @builtin(workgroup_id) workgroup_id : vec3<u32>,
  @builtin(local_invocation_id) local_invocation_id : vec3<u32>,
  @builtin(global_invocation_id) global_invocation_id : vec3<u32>,
  @builtin(local_invocation_index) local_invocation_index: u32,
  @builtin(num_workgroups) num_workgroups: vec3<u32>
) {
  var flag = 0;
  let offset = local_invocation_index * 256 * 512;

  for (var i: u32 = 511; i < 256 * 512; i += 512) {
    let index = offset + i;
    if (results[index] != -512) {
      flag = 1;
      break;
    }
  }

  if (flag == 0) {
    results[offset] = -1024;
  }

  workgroupBarrier();
  storageBarrier();

  if (local_invocation_index != 0) {
    return;
  }

  var skip: u32 = 256;
  for (var i: u32 = 0; i < 256; i += 1) {
    let index = i * 512 * 256;
    if (results[index] != -1024) {
      skip = i;
      break;
    }
  }

  if (skip > 0) {
    results[0] = -2048 - f32(skip);
  }
}
`;function g0(e,a,i,n,l,o,r,c,h=!1){const u=i.resultsLimit??1024,m=h,f=Bb(n,i,{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:u,DEBUG:m});m&&console.log(f);const p=Yb(e,f),I=Ab(e),E=Lb(a,n),T=Float32Array.BYTES_PER_ELEMENT*65536*512,D=e.createBuffer({size:T,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC}),W=Ub(a),B=Ai(e,new Float32Array(W),GPUBufferUsage.STORAGE),F=Ai(e,new Int32Array(r),GPUBufferUsage.STORAGE,!0,!0),L=Ai(e,new Int32Array(c),GPUBufferUsage.STORAGE,!0,!0),M=e.createBindGroup({layout:p.getBindGroupLayout(1),entries:[{binding:0,resource:{buffer:B}},{binding:1,resource:{buffer:L}},{binding:2,resource:{buffer:F}}]}),H=e.createBindGroup({layout:p.getBindGroupLayout(2),entries:[{binding:0,resource:{buffer:D}}]}),X=e.createBindGroup({layout:I.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:D}}]}),oe=Math.ceil(l/65536/512),A=new S0(u,(J,re)=>J.value-re.value);return{WORKGROUP_SIZE:256,BLOCK_SIZE:65536,CYCLES_PER_INVOCATION:512,RESULTS_LIMIT:u,DEBUG:m,request:i,params:n,resultMatrixBufferSize:T,permutations:l,iterations:oe,startTime:0,relics:a,resultsQueue:A,baseParamsArray:E,cancelled:!1,computeEngine:o,device:e,computePipeline:p,postComputePipeline:I,bindGroup1:M,bindGroup2:H,postComputeBindGroup0:X,resultMatrixBuffer:D,relicsMatrixBuffer:B,relicSetSolutionsMatrixBuffer:F,ornamentSetSolutionsMatrixBuffer:L}}function p0(e,a){const i=xb(e.device,a,e.relics,e.baseParamsArray,e),n=e.device,l=e.computePipeline,o=e.postComputePipeline,r=e.bindGroup1,c=e.bindGroup2,h=e.postComputeBindGroup0,b=e.resultMatrixBufferSize,R=e.resultMatrixBuffer,S=n.createBindGroup({layout:l.getBindGroupLayout(0),entries:[{binding:0,resource:{buffer:i}}]}),u=n.createCommandEncoder(),m=u.beginComputePass();m.setPipeline(l),m.setBindGroup(0,S),m.setBindGroup(1,r),m.setBindGroup(2,c),m.dispatchWorkgroups(e.WORKGROUP_SIZE),e.computeEngine==va&&(m.setPipeline(o),m.setBindGroup(0,h),m.dispatchWorkgroups(1)),m.end();const f=n.createBuffer({size:b,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});return u.copyBufferToBuffer(R,0,f,0,b),n.queue.submit([u.finish()]),e.startTime||(e.startTime=new Date().getTime()),f}function Yb(e,a){const i=wb(e),n=e.createShaderModule({code:a});return e.createComputePipeline({layout:e.createPipelineLayout({bindGroupLayouts:i}),compute:{module:n,entryPoint:"main"}})}function Ab(e){const a=[e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})],i=e.createShaderModule({code:Nb});return e.createComputePipeline({layout:e.createPipelineLayout({bindGroupLayouts:a}),compute:{module:i,entryPoint:"main"}})}function wb(e){return[e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:1,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}},{binding:2,visibility:GPUShaderStage.COMPUTE,buffer:{type:"read-only-storage"}}]}),e.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.COMPUTE,buffer:{type:"storage"}}]})]}function Ai(e,a,i,n=!0,l=!1){const o=e.createBuffer({mappedAtCreation:n,size:a.byteLength,usage:i}),r=o.getMappedRange();return l?new Int32Array(r).set(a):new Float32Array(r).set(a),o.unmap(),o}function G0(e){e.resultMatrixBuffer.unmap(),e.resultMatrixBuffer.destroy(),e.relicsMatrixBuffer.unmap(),e.relicsMatrixBuffer.destroy(),e.relicSetSolutionsMatrixBuffer.unmap(),e.relicSetSolutionsMatrixBuffer.destroy(),e.ornamentSetSolutionsMatrixBuffer.unmap(),e.ornamentSetSolutionsMatrixBuffer.destroy()}function Xb(e,a){const i=new Float32Array(a);console.log(i),Ob(i),vb(i)}function jb(e){return{ED:e[22],BASIC:e[69],SKILL:e[70],ULT:e[71],FUA:e[72],DOT:e[73],BREAK:e[74],COMBO:e[75],WEIGHT:e[113],EHP:e[77],xHP:e[4],xATK:e[5],xDEF:e[6],xSPD:e[7],xCR:e[8],xCD:e[9],xEHR:e[10],xRES:e[11],xBE:e[12],xERR:e[13],xOHB:e[14],xELEMENTAL_DMG:e[22]}}function vb(e){const a=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData")??[],i=jb(e);a[1]=i,window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:a})}function il(e){return{"HP%":e[0],"ATK%":e[1],"DEF%":e[2],"SPD%":e[3],HP:e[4],ATK:e[5],DEF:e[6],SPD:e[7],"CRIT Rate":e[8],"CRIT DMG":e[9],"Effect Hit Rate":e[10],"Effect RES":e[11],"Break Effect":e[12],"Energy Regeneration Rate":e[13],"Outgoing Healing Boost":e[14],"Physical DMG Boost":e[15],"Fire DMG Boost":e[16],"Ice DMG Boost":e[17],"Lightning DMG Boost":e[18],"Wind DMG Boost":e[19],"Quantum DMG Boost":e[20],"Imaginary DMG Boost":e[21],ELEMENTAL_DMG:e[22],BASIC_SCALING:e[23],SKILL_SCALING:e[24],ULT_SCALING:e[25],FUA_SCALING:e[26],DOT_SCALING:e[27],BASIC_CR_BOOST:e[28],SKILL_CR_BOOST:e[29],ULT_CR_BOOST:e[30],FUA_CR_BOOST:e[31],BASIC_CD_BOOST:e[32],SKILL_CD_BOOST:e[33],ULT_CD_BOOST:e[34],FUA_CD_BOOST:e[35],BASIC_BOOST:e[36],SKILL_BOOST:e[37],ULT_BOOST:e[38],FUA_BOOST:e[39],DOT_BOOST:e[40],VULNERABILITY:e[41],BASIC_VULNERABILITY:e[42],SKILL_VULNERABILITY:e[43],ULT_VULNERABILITY:e[44],FUA_VULNERABILITY:e[45],DOT_VULNERABILITY:e[46],BREAK_VULNERABILITY:e[47],DEF_PEN:e[48],BASIC_DEF_PEN:e[49],SKILL_DEF_PEN:e[50],ULT_DEF_PEN:e[51],FUA_DEF_PEN:e[52],DOT_DEF_PEN:e[53],BREAK_DEF_PEN:e[54],SUPER_BREAK_DEF_PEN:e[55],RES_PEN:e[56],PHYSICAL_RES_PEN:e[57],FIRE_RES_PEN:e[58],ICE_RES_PEN:e[59],LIGHTNING_RES_PEN:e[60],WIND_RES_PEN:e[61],QUANTUM_RES_PEN:e[62],IMAGINARY_RES_PEN:e[63],BASIC_RES_PEN:e[64],SKILL_RES_PEN:e[65],ULT_RES_PEN:e[66],FUA_RES_PEN:e[67],DOT_RES_PEN:e[68],BASIC_DMG:e[69],SKILL_DMG:e[70],ULT_DMG:e[71],FUA_DMG:e[72],DOT_DMG:e[73],BREAK_DMG:e[74],COMBO_DMG:e[75],DMG_RED_MULTI:e[76],EHP:e[77],DOT_CHANCE:e[78],EFFECT_RES_PEN:e[79],DOT_SPLIT:e[80],DOT_STACKS:e[81],ENEMY_WEAKNESS_BROKEN:e[82],SUPER_BREAK_MODIFIER:e[83],BASIC_SUPER_BREAK_MODIFIER:e[84],SUPER_BREAK_HMC_MODIFIER:e[85],BASIC_TOUGHNESS_DMG:e[86],SKILL_TOUGHNESS_DMG:e[87],ULT_TOUGHNESS_DMG:e[88],FUA_TOUGHNESS_DMG:e[89],BASIC_ORIGINAL_DMG_BOOST:e[90],SKILL_ORIGINAL_DMG_BOOST:e[91],ULT_ORIGINAL_DMG_BOOST:e[92],BASIC_BREAK_DMG_MODIFIER:e[93],ULT_CD_OVERRIDE:e[94],ULT_BOOSTS_MULTI:e[95],RATIO_BASED_HP_BUFF:e[96],RATIO_BASED_HP_P_BUFF:e[97],RATIO_BASED_ATK_BUFF:e[98],RATIO_BASED_ATK_P_BUFF:e[99],RATIO_BASED_DEF_BUFF:e[100],RATIO_BASED_DEF_P_BUFF:e[101],RATIO_BASED_SPD_BUFF:e[102],RATIO_BASED_CD_BUFF:e[103],BREAK_EFFICIENCY_BOOST:e[104],BASIC_BREAK_EFFICIENCY_BOOST:e[105],ULT_BREAK_EFFICIENCY_BOOST:e[106],BASIC_DMG_TYPE:e[107],SKILL_DMG_TYPE:e[108],ULT_DMG_TYPE:e[109],FUA_DMG_TYPE:e[110],DOT_DMG_TYPE:e[111],BREAK_DMG_TYPE:e[112],SUPER_BREAK_DMG_TYPE:e[113],WEIGHT:e[114]}}function Ob(e){const a=il(e);for(const[i,n]of Object.entries(a))typeof n=="number"&&(a[i]=Kb(n));console.log(il(e))}function Kb(e){return C.precisionRound(e,5)||""}function ya(e){return s.jsx(be.Link,{target:"_blank",style:{color:"#3f8eff"},href:e.url,children:e.text})}function _b(e){try{const a=!e||ur.lt(e,_i);if(console.log(`Is out of date? ${a}`,e,_i),!a)return;const i=s.jsxs(Dc,{children:[s.jsx(j,{type:"primary",icon:s.jsx(mr,{}),onClick:()=>{window.notificationApi.destroy(),window.store.getState().setActiveKey(he.CHANGELOG)},children:"View changelog"}),s.jsx(j,{type:"default",onClick:()=>window.notificationApi.destroy(),children:"Dismiss"})]});window.notificationApi.success({message:"New updates!",description:"Check out the changelog for the latest optimizer updates.",btn:i,duration:30})}catch(a){console.error(a)}}function Jb(){try{window.notificationApi.warning({message:"WebGPU is not supported on this browser!",description:s.jsxs(g,{vertical:!0,children:[s.jsx("div",{children:"Please use one of the following supported environments in order to enable GPU acceleration:"}),s.jsx("div",{children:s.jsxs("ul",{children:[s.jsx("li",{children:"Windows & Mac — Chrome, Opera, Edge"}),s.jsxs("li",{children:["Linux — ",s.jsx(ya,{text:"Behind a flag",url:"https://github.com/gpuweb/gpuweb/wiki/Implementation-Status"})]})]})}),s.jsx("div",{children:"If you're on one of the supported browsers and it doesn't work, try another browser, or try switching your browser to use your dedicated graphics card instead of integrated."})]}),duration:15})}catch(e){console.error(e)}}async function rn(e){var i;const a=await((i=navigator==null?void 0:navigator.gpu)==null?void 0:i.requestAdapter());return a==null?(console.log("Webgpu not supported"),e&&Jb(),null):await a.requestDevice({requiredLimits:{}})}async function I0(e){try{const a=await rn(e);return a||window.store.getState().setSavedSessionKey(nt.computeEngine,Qt),a}catch(a){return console.log(a),null}}async function zb(e){const{params:a,request:i,relics:n,permutations:l,computeEngine:o,relicSetSolutions:r,ornamentSetSolutions:c}=e,h=await rn();if(h==null){console.error("Not supported");return}h.onuncapturederror=R=>{window.store.getState().optimizationInProgress&&(window.store.getState().setOptimizationInProgress(!1),Y.error("The GPU acceleration process has crashed - results may be invalid. Please try again or report a bug to the Discord server",20))},window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(o);const b=g0(h,n,i,a,l,o,r,c);b.DEBUG&&Y.warning("Debug mode is ON",5),console.log("Raw inputs",{params:a,request:i,relics:n,permutations:l});for(let R=0;R<b.iterations;R++){const S=R*b.BLOCK_SIZE*b.CYCLES_PER_INVOCATION,u=S+b.BLOCK_SIZE*b.CYCLES_PER_INVOCATION,m=p0(b,S);if(o==va){await m.mapAsync(GPUMapMode.READ,0,4);const f=new Float32Array(m.getMappedRange(0,4))[0];if(m.unmap(),f!=-2304)if(f<=-2048){const I=-(f+2048)*512*256;await Fn(S,m,b,I)}else await Fn(S,m,b)}else await Fn(S,m,b);if(window.store.getState().setOptimizerEndTime(Date.now()),window.store.getState().setPermutationsResults(b.resultsQueue.size()),window.store.getState().setPermutationsSearched(Math.min(b.permutations,u)),m.unmap(),m.destroy(),b.permutations<=u||!window.store.getState().optimizationInProgress){b.cancelled=!0;break}}Qb(b),G0(b)}async function Fn(e,a,i,n=0){var u;await a.mapAsync(GPUMapMode.READ,n);const l=a.getMappedRange(n*4),o=new Float32Array(l),r=i.resultsQueue;let c=((u=r.top())==null?void 0:u.value)??0,h=i.BLOCK_SIZE*i.CYCLES_PER_INVOCATION-n;const b=e+i.BLOCK_SIZE*i.CYCLES_PER_INVOCATION-n,R=i.permutations-b;R<0&&(h+=R);const S=e+n;if(r.size()>=i.RESULTS_LIMIT)for(let m=h-1;m>=0;m--){const f=o[m];if(f<0){m+=f+1;continue}f<=c||(c=r.fixedSizePushOvercapped({index:S+m,value:f}).value)}else for(let m=h-1;m>=0;m--){const f=o[m];if(f<0){m+=f+1;continue}f<=c&&r.size()>=i.RESULTS_LIMIT||(r.fixedSizePush({index:S+m,value:f}),c=r.top().value)}i.DEBUG&&Xb(i,l)}function Qb(e){const a=e.relics,i=a.LinkRope.length,n=a.PlanarSphere.length,l=a.Feet.length,o=a.Body.length,r=a.Hands.length,c=a.Head.length;e.cancelled||window.store.getState().setPermutationsSearched(e.permutations),window.store.getState().setOptimizationInProgress(!1),window.store.getState().setPermutationsResults(e.resultsQueue.size());const h=e.resultsQueue.toArray().sort((u,m)=>m.value-u.value),b=[];for(let u=0;u<h.length;u++){const m=h[u].index,f=m%i,p=(m-f)/i%n,I=(m-p*i-f)/(i*n)%l,E=(m-I*n*i-p*i-f)/(i*n*l)%o,T=(m-E*l*n*i-I*n*i-p*i-f)/(i*n*l*o)%r,D=(m-T*o*l*n*i-E*l*n*i-I*n*i-p*i-f)/(i*n*l*o*r)%c,W=e.params,B=As(e.request,{Head:a.Head[D],Hands:a.Hands[T],Body:a.Body[E],Feet:a.Feet[I],PlanarSphere:a.PlanarSphere[p],LinkRope:a.LinkRope[f]},W,!0);B.id=m,Tl(B),b.push(B)}const R=w[e.request.resultSort],S=e.request.statDisplay=="combat"?R.combatGridColumn:R.basicGridColumn;ln(S),$.setRows(b),window.optimizerGrid.current.api.updateGridOptions({datasource:$.getDataSource()})}let za=!1;function E0(e){let a=C.clone(Z.getRelics());st.calculateWeightScore(e,a),a=a.filter(n=>n.equippedBy==e.characterId),a=st.applyMainStatsFilter(e,a),a=st.splitRelicsByPart(a),st.condenseRelicSubstatsForOptimizer(a),Object.keys(a).map(n=>a[n]=a[n][0]);const i=As(e,a);Tl(i),$.setTopRow(i,!0)}const Ls={cancel:e=>{za=!0,Da.cancel(e)},getFilteredRelics:e=>{let a=C.clone(Z.getRelics());st.calculateWeightScore(e,a),a=st.applyEquippedFilter(e,a),a=st.applyEnhanceFilter(e,a),a=st.applyGradeFilter(e,a),a=st.applyRankFilter(e,a),a=st.applyExcludeFilter(e,a);const i=st.splitRelicsByPart(a);return a=st.applyMainFilter(e,a),a=st.applyMainStatsFilter(e,a),a=st.applySetFilter(e,a),a=st.splitRelicsByPart(a),a=st.applyCurrentFilter(e,a),a=st.applyTopFilter(e,a,i),[a,i]},optimize:async function(e){za=!1;const a=[e.teammate0,e.teammate1,e.teammate2].filter(B=>!!B.characterId);for(let B=0;B<a.length;B++){const F=a[B],L=Z.getMetadata().characters[F.characterId];F.ELEMENTAL_DMG_TYPE=Ns[L.element]}const[i]=this.getFilteredRelics(e);st.condenseRelicSubstatsForOptimizer(i),console.log("Optimize request",e);const n=ab(e),l=sb(e),o={hSize:i.Head.length,gSize:i.Hands.length,bSize:i.Body.length,fSize:i.Feet.length,pSize:i.PlanarSphere.length,lSize:i.LinkRope.length},r=o.hSize*o.gSize*o.bSize*o.fSize*o.pSize*o.lSize;if($.setMetadata(o,i),console.log(`Optimization permutations: ${r}, blocksize: ${d.THREAD_BUFFER_LENGTH}`),r==0){window.store.getState().setOptimizationInProgress(!1),ob(e),$.setRows([]),$.resetDataSource();return}if(za){window.store.getState().setOptimizationInProgress(!1);return}$.scrollToGrid(),window.optimizerGrid.current.api.showLoadingOverlay();const c=nn(e);E0(e);let h=0,b=!1,R=[];const S=w[e.resultSort],u=e.statDisplay=="combat"?S.combatGridColumn:S.basicGridColumn,m=e.resultsLimit||1024,f=new S0(m,(B,F)=>B[u]-F[u]),p=2e4;let I=0;const E=d.THREAD_BUFFER_LENGTH,T=C.clone(c);let D=window.store.getState().savedSession[nt.computeEngine];if(await rn()==null&&D!=Qt&&(Y.warning("GPU acceleration is not available on this browser - only desktop Chrome and Opera are supported. If you are on a supported browser, report a bug to the Discord server",15),window.store.getState().setSavedSessionKey(nt.computeEngine,Qt),D=Qt),D==Qt){const B=[];for(let L=0;L<r;L+=I)I=Math.min(E,I+p),B.push({skip:L,runSize:I});let F=B.length;window.store.getState().setOptimizerStartTime(Date.now()),window.store.getState().setOptimizerRunningEngine(Qt);for(const L of B){const M={input:{params:T,request:e,relics:i,WIDTH:L.runSize,skip:L.skip,permutations:r,relicSetSolutions:n,ornamentSetSolutions:l},getMinFilter:()=>f.size()&&f.size()>=e.resultsLimit?f.top()[u]:0},H=X=>{if(h+=L.runSize,F-=1,za&&b)return;const oe=new Float64Array(X.buffer);if(ci.extractArrayToResults(oe,L.runSize,R,f),window.store.getState().setPermutationsResults(f.size()),window.store.getState().setPermutationsSearched(Math.min(r,h)),window.store.getState().setOptimizerEndTime(Date.now()),F==0||za){window.store.getState().setOptimizationInProgress(!1),R=f.toArray(),$.setRows(R),ln(u),window.optimizerGrid.current.api.updateGridOptions({datasource:$.getDataSource()}),console.log("Done",R.length),b=!0,!R.length&&!F&&cb(e);return}R.length>=ld&&!za&&(za=!0,Ls.cancel(e.optimizationId),Y.error("Too many results, stopping at 2,000,000 - please narrow your filters to limit results",10))};Da.execute(M,H)}}else zb({params:c,request:e,relics:i,permutations:r,computeEngine:D,relicSetSolutions:n,ornamentSetSolutions:l})}};function Tl(e){e.ED=e.ELEMENTAL_DMG,e.BASIC=e.x.BASIC_DMG,e.SKILL=e.x.SKILL_DMG,e.ULT=e.x.ULT_DMG,e.FUA=e.x.FUA_DMG,e.DOT=e.x.DOT_DMG,e.BREAK=e.x.BREAK_DMG,e.COMBO=e.x.COMBO_DMG,e.WEIGHT=e.x.WEIGHT,e.EHP=e.x.EHP,e.xHP=e.x[t.HP],e.xATK=e.x[t.ATK],e.xDEF=e.x[t.DEF],e.xSPD=e.x[t.SPD],e.xCR=e.x[t.CR],e.xCD=e.x[t.CD],e.xEHR=e.x[t.EHR],e.xRES=e.x[t.RES],e.xBE=e.x[t.BE],e.xERR=e.x[t.ERR],e.xOHB=e.x[t.OHB],e.xELEMENTAL_DMG=e.x.ELEMENTAL_DMG}const Oe={ratingFilters:()=>({title:"Rating filters",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Weight - Sum of substat weights of all 6 relics, from the Substat weight filter"}),s.jsx("p",{children:"Ehp - Effective HP, measuring how tanky a max level character is. Calculated using HP & DEF & damage reduction passives"}),s.jsx("p",{children:"Basic / Skill / Ult / Fua (Follow-up attack) / Dot (Damage over time) - Skill damage calculations, based on the environmental factors in character passives / light cone passives / enemy options."})]})}),combatBuffs:()=>({title:"Combat buffs",content:s.jsx(g,{vertical:!0,gap:10,children:s.jsx("p",{children:"Additional team buffs to apply to the calculations. Note that buffs from character / light cone self-buffs and passives and traces are already included in calculations."})})}),statFilters:()=>({title:"Stat filters",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Min (left) / Max (right) filters for character stats, inclusive. The optimizer will only show results within these ranges "}),s.jsx("p",{children:"Stat abbreviations are ATK / HP / DEF / SPD / Crit Rate / Crit Damage / Effect Hit Rate / Effect RES / Break Effect"}),s.jsx("p",{children:"NOTE: Ingame speed decimals are truncated so you may see speed values ingame higher than shown here. This is because the OCR importer can't detect the hidden decimals."})]})}),mainStats:()=>({title:"Main stats",content:s.jsx(g,{vertical:!0,gap:10,children:s.jsx("p",{children:"Select main stats to use for optimization search. Multiple values can be selected for more options"})})}),sets:()=>({title:"Sets",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Select the relic and ornament sets to filter results by. Multiple sets can be selected for more options"}),s.jsx("p",{children:"Set effects will be accounted for in calculations, use the Conditional set effects menu to customize which effects are active."})]})}),character:()=>({title:"Character",content:s.jsx(g,{vertical:!0,gap:10,children:s.jsx("p",{children:"Select the character and eidolon. Character is assumed to be level 80 with maxed traces in optimization calcs."})})}),characterPassives:()=>({title:"Character passives",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Select the conditional effects to apply to the character."}),s.jsx("p",{children:"Effects that rely on combat stats or environment state will be applied by default, so only the options that require user input are listed here."})]})}),lightConePassives:()=>({title:"Light cone passives",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Select the conditional effects to apply to the light cone."}),s.jsx("p",{children:"Effects that rely on combat stats or environment state will be applied by default, so only the options that require user input are listed here."})]})}),lightCone:()=>({title:"Light cone",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Select the light cone and superimposition. Light cone is assumed to be level 80 in optimization calcs."}),s.jsx("p",{children:"Superimposition and passive effects are applied under the Light cone passives panel."})]})}),actions:()=>({title:"Actions",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Equip - Equip the selected relics from the grid onto the character"}),s.jsx("p",{children:"Filter - Re-apply the search filters to existing results. Use this to narrow filters without restarting a search"}),s.jsx("p",{children:"Pin build - Pin the currently selected row to the top of the grid. Use this to compare multiple builds more easily"}),s.jsx("p",{children:"Clear pins - Clear all the builds that you pinned to the top of the grid"})]})}),optimizerOptions:()=>({title:"Optimizer options",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Character priority filter"})," ","- When this option is enabled, the character may only steal relics from lower priority characters. The optimizer will ignore relics equipped by higher priority characters on the list. Change character ranks from the priority selector or by dragging them on the Characters page."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Boost main stat"})," ","- Calculates relic mains stats as if they were this level (or their max if they can't reach this level) if they are currently below it. Substats are not changed accordingly, so builds with lower level relics may be stronger once you level them."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Keep current relics"})," ","- The character must use its currently equipped items, and the optimizer will try to fill in empty slots"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Include equipped relics"})," ","- When enabled, the optimizer will allow using currently equipped by a character for the search. Otherwise equipped relics are excluded"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Priority"})," ","- See: Character priority filter. Changing this setting will change the character's priority"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Exclude"})," ","- Select specific characters' equipped relics to exclude for the search. This setting overrides the priority filter"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Enhance / grade"})," ","- Select the minimum enhance to search for and minimum stars for relics to include"]})]})}),relics:()=>({title:"Relics",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Note - Potential is a percent rating which compares a relic to the best possible +15 relic for the current character in the slot. This rating is based off the scoring algorithm weights. This means unrolled relics at +0 sometimes have a higher potential than existing +15 relics, because their possible rolls can go into the character's desired stats. "}),s.jsx("p",{children:"Selected character: Score - The relic's current weight as defined by the scoring algorithm for the currently selected character"}),s.jsx("p",{children:"Selected character: Average potential - The relic's potential weight if rolls went into the average weight of the relic's substats"}),s.jsx("p",{children:"Selected character: Max potential - The relic's maximum potential weight if all future rolls went into the character's desired stats"}),s.jsx("p",{children:"All characters: Max potential - The highest possible potential value of the relic, out of all characters in the game. "})]})}),optimizationDetails:()=>({title:"Optimization details",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Shows how many relics are being used in the optimization search, after all filters are applied"}),s.jsx("p",{children:"Perms - Number of permutations that need to be searched. Narrow your filters to reduce permutations & search time"}),s.jsx("p",{children:"Searched - Number of permutations already searched"}),s.jsx("p",{children:"Results - Number of displayed results that satisfy the stat filters"})]})}),enemyOptions:()=>({title:"Enemy options",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"Level - Enemy level, affects enemy DEF calculations"}),s.jsx("p",{children:"Targets - Number of targets in the battle. The target enemy is always assumed to be in the center, and damage calculations are only for the single primary target."}),s.jsx("p",{children:"RES - Enemy elemental RES. RES is set to 0 when the enemy's elemental weakness is enabled."}),s.jsx("p",{children:"Max toughness - Enemy's maximum toughness bar value. Affects calculations related to break damage."}),s.jsx("p",{children:"Elemental weakness - Whether the enemy is weak to the character's type. Enabling this sets enemy elemental RES % to 0."}),s.jsx("p",{children:"Weakness broken - Whether the enemy's toughness bar is broken. Affects damage calculations and certain character passives."})]})}),substatWeightFilter:()=>({title:"Substat weight filter",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"This filter is used to reduce the number of permutations the optimizer has to process."}),s.jsx("p",{children:"It works by first scoring each relic per slot by the weights defined, then filtering by the number of weighted min rolls the relic has."}),s.jsx("p",{children:"Only relics that have more than the specified number of weighted rolls will be used for the optimization search."}),s.jsx("p",{children:"Note that setting the minimum rolls too low may result in some builds not being displayed, if the filter ends up excludes a key relic. Use this filter with caution, but on large searches it makes a large impact on reducing search time."})]})}),statDisplay:()=>({title:"Stat and filter view",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"This allows for switching between viewing results as Base stats vs Combat stats. Stat filters will also be applied to the selected view."}),s.jsx("p",{children:"Base stats - The stats as shown on the character's screen ingame, with no in-combat buffs applied."}),s.jsx("p",{children:"Combat stats - The character's stats with all stat modifiers in combat included: ability buffs, character & light cone passives, teammates, conditional set effects, etc."})]})}),valueColumns:()=>({title:"Value Columns",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"You can optionally display a number of columns that assess the relative 'value' of a relic."}),s.jsx("p",{children:s.jsx("b",{children:"Weight"})}),s.jsx("p",{children:"Weight columns assess the contribution of a particular relic to the overall letter grading of the selected recommendation character (if any)."}),s.jsx("p",{children:"Weight can show the current value of a relic, the possible best case upgraded weight, or an 'average' weight that you're more likely to see"}),s.jsx("p",{children:"Weight is useful to focus on a single character and see which relics might give them a higher letter grading."}),s.jsx("p",{children:s.jsx("b",{children:"Potential"})}),s.jsx("p",{children:"Potential is a character-specific percentage of how good the relic could be (or 'is', if fully upgraded), compared against the stats on a fully upgraded 'perfect' relic in that slot."}),s.jsx("p",{children:"Potential can look at all characters or just owned. It then takes the maximum percentage for any character."}),s.jsx("p",{children:"Potential is useful for finding relics that aren't good on any character, or hidden gems that could be great when upgraded."}),s.jsx("p",{children:"Note ordering by potential can be mismatched against weights, due to weight calculations preferring lower weight ideal mainstats."})]})}),relicInsight:()=>({title:"Relic Insight",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"When a relic is selected in the table above, you can choose an analysis to view a plot of."}),s.jsxs("p",{children:["'Buckets' looks at how perfect this relic could be (with the best possible upgrade rolls) for each character, and buckets them into percentages.",s.jsx("br",{}),"If you hover over a character portrait you'll see the new stats and/or rolls necessary to reach the max potential of this relic.",s.jsx("br",{}),"⚠️ Relics with missing substats may have misleadlingly high buckets, as best-case upgrade analysis assumes the best new substat per character."]}),s.jsx("p",{children:"'Top 10' takes the top 10 characters that this relic could be best for, and shows the range of '% perfection' upgrading this relic could result in."})]})}),relicLocation:()=>({title:"Relic Location",content:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("p",{children:"When a relic is selected in the grid, its position in the ingame inventory is displayed here."}),s.jsx("p",{children:"If the set / part filters are active, apply those same filters ingame, then sort by Date Obtained (newest first) to find the relic."}),s.jsxs(g,{vertical:!0,children:[s.jsx("div",{children:"⚠️Usage notes⚠️"}),s.jsxs("ul",{children:[s.jsx("li",{children:"This is only supported with Reliquary Archiver import"}),s.jsx("li",{children:"If new relics were deleted or obtained since the last import, they must be re-scanned and imported"}),s.jsx("li",{children:"Select the appropriate Inventory width setting to get accurate locations. The width depends on the ingame screen and menu width"})]})]})]})}),locatorParams:()=>({title:"Relic Locator Options",content:s.jsxs(g,{vertical:!0,gap:8,children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Inventory Width"})," - ","Select the number of columns the inventory has ingame so that the relic locator can find your relic accurately"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Auto Filter rows"})," - ","Maximum number of rows before the relic locator applies a part/set filter to try and bring the searched relic closer to the top of your inventory"]})]})})},Ke=e=>s.jsx(oi,{content:e.type.content,title:e.type.title,overlayStyle:{width:500},children:s.jsx("img",{src:U.getQuestion(),style:{width:16,opacity:.6}})});Ke.propTypes={type:z.object};function Dl(e){const{currentCharacters:a,excludeCharacters:i,withNobodyOption:n}={currentCharacters:[],excludeCharacters:[],withNobodyOption:!0,...e},l=Z.getMetadata().characters,o=a.filter(r=>!i.includes(r)).map(r=>({value:r.id,label:s.jsxs(g,{gap:5,align:"center",children:[s.jsx("img",{src:U.getCharacterAvatarById(r.id),style:{height:22,marginRight:4}}),l[r.id].displayName]}),title:l[r.id].displayName})).sort((r,c)=>r.title.localeCompare(c.title));return n&&o.unshift({value:"None",label:"None",title:"None"}),o}const{Text:xn}=be,$b=()=>{const e=window.store(l=>l.characters),a=window.store(l=>l.optimizerTabFocusCharacter),i=V.useMemo(()=>Dl({currentCharacters:e,excludeCharacters:[Z.getCharacterById(a)],withNobodyOption:!1}),[e,a]),n=V.useMemo(()=>{const l=Z.getMetadata().characters;return e.map(o=>({value:o.rank,label:s.jsxs(g,{gap:5,children:[s.jsx("img",{src:U.getCharacterAvatarById(o.id),style:{height:22,marginRight:6}}),`#${o.rank+1} - ${l[o.id].displayName}`]}),name:`# ${o.rank+1}`}))},[e]);return s.jsx(g,{vertical:!0,children:s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Optimizer options"}),s.jsx(Ke,{type:Oe.optimizerOptions()})]}),s.jsxs(g,{align:"center",children:[s.jsx(P.Item,{name:"includeEquippedRelics",valuePropName:"checked",children:s.jsx(Ya,{checkedChildren:s.jsx(Ts,{}),unCheckedChildren:s.jsx(Na,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),s.jsx(xn,{children:"Allow equipped relics"})]}),s.jsxs(g,{align:"center",children:[s.jsx(P.Item,{name:"rankFilter",valuePropName:"checked",children:s.jsx(Ya,{checkedChildren:s.jsx(Ts,{}),unCheckedChildren:s.jsx(Na,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),s.jsx(xn,{children:"Character priority filter"})]}),s.jsxs(g,{align:"center",children:[s.jsx(P.Item,{name:"keepCurrentRelics",valuePropName:"checked",children:s.jsx(Ya,{checkedChildren:s.jsx(Ts,{}),unCheckedChildren:s.jsx(Na,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),s.jsx(xn,{children:"Keep current relics"})]}),s.jsxs(g,{gap:mt,style:{marginTop:10},children:[s.jsxs(g,{vertical:!0,gap:2,children:[s.jsx(q,{children:"Priority"}),s.jsx(P.Item,{name:"rank",children:s.jsx(N,{style:{width:(At-mt)/2},options:n,popupMatchSelectWidth:225,listHeight:500,optionLabelProp:"name",placeholder:"Priority",showSearch:!0,filterOption:C.nameFilterOption})})]}),s.jsxs(g,{vertical:!0,gap:2,children:[s.jsx(q,{children:"Exclude"}),s.jsx(P.Item,{name:"exclude",children:s.jsx(N,{style:{width:(At-mt)/2},mode:"multiple",maxTagCount:"responsive",popupMatchSelectWidth:225,listHeight:500,allowClear:!0,showSearch:!0,optionLabelProp:"title",placeholder:"Exclude",options:i,filterOption:C.titleFilterOption})})]})]}),s.jsxs(g,{justify:"space-between",children:[s.jsxs(g,{vertical:!0,gap:2,children:[s.jsx(q,{children:"Min enhance"}),s.jsx(P.Item,{name:"enhance",children:s.jsx(N,{style:{width:(At-mt)/2},options:[{value:0,label:"+0"},{value:3,label:"+3"},{value:6,label:"+6"},{value:9,label:"+9"},{value:12,label:"+12"},{value:15,label:"+15"}]})})]}),s.jsxs(g,{vertical:!0,gap:2,children:[s.jsx(q,{children:"Min rarity"}),s.jsx(P.Item,{name:"grade",children:s.jsx(N,{style:{width:(At-mt)/2},options:[{value:2,label:"2 ★ +"},{value:3,label:"3 ★ +"},{value:4,label:"4 ★ +"},{value:5,label:"5 ★"}]})})]})]}),s.jsx(g,{justify:"space-between",align:"center",children:s.jsxs(g,{vertical:!0,gap:2,children:[s.jsx(q,{children:"Boost main stat"}),s.jsx(P.Item,{name:"mainStatUpscaleLevel",children:s.jsx(N,{style:{width:(At-mt)/2},options:[{value:3,label:"+3"},{value:6,label:"+6"},{value:9,label:"+9"},{value:12,label:"+12"},{value:15,label:"+15"}]})})]})})]})})},{Text:Gs}=be,zi=40,Qi=200,Bi=80,Is=5,qb=()=>{const e=window.store(S=>S.conditionalSetEffectsDrawerOpen),a=window.store(S=>S.setConditionalSetEffectsDrawerOpen),i=V.useMemo(()=>{const S=[];for(let u=0;u<=5;u++)S.push({display:u+"x",value:u,label:`${u} stacks (+${u*5}% ATK)`});return S},[]),n=V.useMemo(()=>[{display:"Off",value:0,label:"Off"},{display:"CR",value:1,label:"Debuffed (+10% CR)"},{display:"CR+CD",value:2,label:"Imprisoned (+10% CR | +20% CD)"}],[]),l=V.useMemo(()=>{const S=[];for(let u=0;u<=2;u++)S.push({display:u+"x",value:u,label:`${u} stacks (+${u*8}% CR)`});return S},[]),o=V.useMemo(()=>{const S=[];for(let u=0;u<=8;u++)S.push({display:u+"x",value:u,label:`${u} stacks (+${6*u}% ATK)`});return S},[]),r=V.useMemo(()=>{const S=[];for(let u=0;u<=3;u++)S.push({display:u+"x",value:u,label:`${u} stacks (+${6*u}% DEF ignore)`});return S},[]),c=V.useMemo(()=>[{display:"0x",value:-1,label:"0 debuffs (+4% base CR)"},{display:"1x",value:0,label:"1 debuff (+12% DMG | +4% base CR)"},{display:"2x",value:1,label:"2 debuffs (+12% DMG | +4% base CR | +8% CD)"},{display:"3x",value:2,label:"3 debuffs (+12% DMG | +4% base CR | +12% CD)"},{display:"2x +",value:3,label:"2 debuffs, enhanced (+12% DMG | +4% base CR | +4% combat CR | +16% CD)"},{display:"3x +",value:4,label:"3 debuffs, enhanced (+12% DMG | +4% base CR | +4% combat CR | +24% CD)"}],[]),h=V.useMemo(()=>{const S=[];for(let u=0;u<=10;u++)S.push({display:u+"x",value:u,label:`${u} stacks (+${4*u}% CD)`});return S},[]),b=V.useMemo(()=>{const S=[];for(let u=0;u<=5;u++)S.push({display:u+"x",value:u,label:`${u} stacks (+${5*u}% FUA DMG)`});return S[5].label=`5 stacks (+${5*5}% FUA DMG + 25% CD)`,S},[]),R="Enabled by default - effects will apply to combat calculations.";return s.jsx(tn,{title:"Conditional set effects",placement:"right",onClose:()=>a(!1),open:e,width:750,forceRender:!0,children:s.jsxs(g,{justify:"center",children:[s.jsxs(g,{vertical:!0,gap:Is,children:[s.jsxs(g,{gap:Is,align:"center",justify:"flex-start",children:[s.jsx(Gs,{style:{width:zi}}),s.jsx(Gs,{style:{width:Qi}})]}),s.jsx(ge,{set:d.Sets.PasserbyOfWanderingCloud,description:"At the beginning of the battle, immediately regenerates 1 Skill Point.",conditional:R,p4Checked:!0}),s.jsx(ge,{set:d.Sets.MusketeerOfWildWheat,description:"The wearer's SPD increases by 6% and Basic ATK DMG increases by 10%.",conditional:R,p4Checked:!0}),s.jsx(ge,{set:d.Sets.KnightOfPurityPalace,description:"Increases the max DMG that can be absorbed by the Shield created by the wearer by 20%.",conditional:R,p4Checked:!0}),s.jsx(ge,{set:d.Sets.HunterOfGlacialForest,description:"After the wearer uses their Ultimate, their CRIT DMG increases by 25% for 2 turn(s).",conditional:"When enabled, CRIT DMG buff is applied to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.ChampionOfStreetwiseBoxing,selectOptions:i,description:"After the wearer attacks or is hit, their ATK increases by 5% for the rest of the battle. This effect can stack up to 5 time(s).",conditional:"The selected ATK% buff is applied to Combat stat calculations based on the number of stacks."}),s.jsx(ge,{set:d.Sets.GuardOfWutheringSnow,description:"At the beginning of the turn, if the wearer's HP is equal to or less than 50%, restores HP equal to 8% of their Max HP and regenerates 5 Energy.",conditional:R,p4Checked:!0}),s.jsx(ge,{set:d.Sets.FiresmithOfLavaForging,description:"Increases the wearer's Skill DMG by 12%. After unleashing Ultimate, increases the wearer's Fire DMG by 12% for the next attack.",conditional:"The Skill DMG increase is always active by default. When enabled, the Fire DMG buff is applied to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.GeniusOfBrilliantStars,description:"When the wearer deals DMG to the target enemy, ignores 10% DEF. If the target enemy has Quantum Weakness, the wearer additionally ignores 10% DEF.",conditional:"The 10% DEF pen increase is always active by default. When enabled, treats the enemy as having Quantum Weakness and penetrates 10% more DEF."}),s.jsx(ge,{set:d.Sets.BandOfSizzlingThunder,description:"When the wearer uses their Skill, increases the wearer's ATK by 20% for 1 turn(s).",conditional:"When enabled, ATK% buff is applied to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.EagleOfTwilightLine,description:"After the wearer uses their Ultimate, their action is Advanced Forward by 25%.",conditional:R,p4Checked:!0}),s.jsx(ge,{set:d.Sets.ThiefOfShootingMeteor,description:"Increases the wearer's Break Effect by 16%. When the wearer inflicts Weakness Break on an enemy, regenerates 3 Energy.",conditional:R,p4Checked:!0}),s.jsx(ge,{set:d.Sets.WastelanderOfBanditryDesert,selectOptions:n,description:"When attacking debuffed enemies, the wearer's CRIT Rate increases by 10%, and their CRIT DMG increases by 20% against Imprisoned enemies.",conditional:"Applies the selected buffs to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.LongevousDisciple,selectOptions:l,description:"When the wearer is hit or has their HP consumed by an ally or themselves, their CRIT Rate increases by 8% for 2 turn(s) and up to 2 stacks.",conditional:"The selected CR buff is applied to Combat stat calculations based on the number of stacks."}),s.jsx(ge,{set:d.Sets.MessengerTraversingHackerspace,description:"When the wearer uses their Ultimate on an ally, SPD for all allies increases by 12% for 1 turn(s). This effect cannot be stacked.",conditional:"When enabled, SPD% buff is applied to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.TheAshblazingGrandDuke,selectOptions:o,description:"When the wearer uses follow-up attacks, increases the wearer's ATK by 6% every time the follow-up attack deals DMG. This effect can stack up to 8 time(s) and lasts for 3 turn(s). This effect is removed the next time the wearer uses a follow-up attack.",conditional:"The selected ATK% buff is applied to all calculations except for Follow-up attacks. Follow-up attack calculations instead will start at 0% ATK buff and stack up based on the number of hits performed by the attack. Hits will increase based on the enemy count and assumes the target is positioned in the center for blast / aoe attacks."}),s.jsx(ge,{set:d.Sets.PrisonerInDeepConfinement,selectOptions:r,description:"For every DoT the target enemy is afflicted with, the wearer will ignore 6% of its DEF when dealing DMG to it. This effect is valid for a max of 3 DoTs.",conditional:"The selected DEF% pen buff is applied to damage calculations based on the number of stacks."}),s.jsx(ge,{set:d.Sets.PioneerDiverOfDeadWaters,selectOptions:c,description:"Increases CRIT Rate by 4%. The wearer deals 8%/12% increased CRIT DMG to enemies with at least 2/3 debuffs. After the wearer inflicts a debuff on enemy targets, the aforementioned effects increase by 100%, lasting for 1 turn(s).",conditional:"The 2 piece effect can be disabled by selecting the 0x option. For 4 piece, different CRIT buffs are applied to Combat stat calculations depending on the selected option."}),s.jsx(ge,{set:d.Sets.WatchmakerMasterOfDreamMachinations,description:"When the wearer uses their Ultimate on an ally, Break Effect for all allies increases by 30% for 2 turn(s). This effect cannot be stacked.",conditional:"When enabled, the Break Effect buff is applied to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.IronCavalryAgainstTheScourge,description:"If the wearer's Break Effect is 150% or higher, ignores 10% of the enemy target's DEF when dealing Break DMG to them. When the wearer's Break Effect is 250% or higher, the Super Break DMG they deal to enemy targets additionally ignores 15% of the targets' DEF.",conditional:R,p4Checked:!0}),s.jsx(ge,{set:d.Sets.TheWindSoaringValorous,description:"Increases the wearer's CRIT Rate by 6%. After the wearer uses a follow-up attack, increases the DMG dealt by their Ultimate by 36%, lasting for 1 turn(s).",conditional:"The CRIT Rate buff is always on by default. The selected buff is applied to damage calculations based on the number of stacks."}),!Ra[d.SetsRelics.SacerdosRelivedOrdeal]&&s.jsx(ge,{set:d.Sets.SacerdosRelivedOrdeal,description:se,conditional:se,p4Checked:!0}),!Ra[d.SetsRelics.ScholarLostInErudition]&&s.jsx(ge,{set:d.Sets.ScholarLostInErudition,description:se,conditional:se})]}),s.jsx(os,{}),s.jsxs(g,{vertical:!0,gap:Is,style:{marginLeft:5},children:[s.jsxs(g,{gap:Is,align:"center",justify:"flex-start",children:[s.jsx(Gs,{style:{width:zi}}),s.jsx(Gs,{style:{width:Qi}})]}),s.jsx(ge,{set:d.Sets.SpaceSealingStation,description:"Increases the wearer's ATK by 12%. When the wearer's SPD reaches 120 or higher, the wearer's ATK increases by an extra 12%.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.FleetOfTheAgeless,description:"Increases the wearer's Max HP by 12%. When the wearer's SPD reaches 120 or higher, all allies' ATK increases by 8%.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.PanCosmicCommercialEnterprise,description:"Increases the wearer's Effect Hit Rate by 10%. Meanwhile, the wearer's ATK increases by an amount that is equal to 25% of the current Effect Hit Rate, up to a maximum of 25%.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.BelobogOfTheArchitects,description:"Increases the wearer's DEF by 15%. When the wearer's Effect Hit Rate is 50% or higher, the wearer gains an extra 15% DEF.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.CelestialDifferentiator,description:"Increases the wearer's CRIT DMG by 16%. When the wearer's current CRIT DMG reaches 120% or higher, after entering battle, the wearer's CRIT Rate increases by 60% until the end of their first attack.",conditional:"When enabled, the CRIT Rate buff is applied to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.InertSalsotto,description:"Increases the wearer's CRIT Rate by 8%. When the wearer's current CRIT Rate reaches 50% or higher, the wearer's Ultimate and follow-up attack DMG increases by 15%.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.TaliaKingdomOfBanditry,description:"Increases the wearer's Break Effect by 16%. When the wearer's SPD reaches 145 or higher, the wearer's Break Effect increases by an extra 20%.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.SprightlyVonwacq,description:"Increases the wearer's Energy Regeneration Rate by 5%. When the wearer's SPD reaches 120 or higher, the wearer's action is Advanced Forward by 40% immediately upon entering battle.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.RutilantArena,description:"Increases the wearer's CRIT Rate by 8%. When the wearer's current CRIT Rate reaches 70% or higher, the wearer's Basic ATK and Skill DMG increase by 20%.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.BrokenKeel,description:"Increases the wearer's Effect RES by 10%. When the wearer's Effect RES is at 30% or higher, all allies' CRIT DMG increases by 10%.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.FirmamentFrontlineGlamoth,description:"Increases the wearer's ATK by 12%. When the wearer's SPD is equal to or higher than 135/160, the wearer deals 12%/18% more DMG.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.PenaconyLandOfTheDreams,description:"Increases wearer's Energy Regeneration Rate by 5%. Increases DMG by 10% for all other allies that are of the same Type as the wearer.",conditional:R,p2Checked:!0}),s.jsx(ge,{set:d.Sets.SigoniaTheUnclaimedDesolation,selectOptions:h,description:"Increases the wearer's CRIT Rate by 4%. When enemies are defeated, the wearer's CRIT DMG increases by 4%, up to 10 stack(s).",conditional:"The selected CRIT DMG buff is applied to Combat stat calculations, assuming the character has defeated that number of enemies."}),s.jsx(ge,{set:d.Sets.IzumoGenseiAndTakamaDivineRealm,description:"Increases the wearer's ATK by 12%. When entering battle, if at least one other ally follows the same Path as the wearer, then the wearer's CRIT Rate increases by 12%.",conditional:"When enabled, assumes there is another ally with the same path, and applies the 12% CRIT Rate buff to Combat stat calculations."}),s.jsx(ge,{set:d.Sets.DuranDynastyOfRunningWolves,selectOptions:b,description:"When allies use follow-up attacks, the wearer receives 1 stack of Merit, stacking up to 5 times. Every stack of Merit increases the DMG dealt by the wearer's follow-up attacks by 5%. When there are 5 stacks, additionally increases the wearer's CRIT DMG by 25%.",conditional:"The selected buff is applied to damage calculations based on the number of stacks."}),s.jsx(ge,{set:d.Sets.ForgeOfTheKalpagniLantern,description:"Increases the wearer's SPD by 6%. When the wearer hits an enemy with Fire Weakness, Break Effect increases by 40%, lasting for 1 turn(s).",conditional:"When enabled, applies the Break Effect buff to combat stat calculations."}),s.jsx(ge,{set:d.Sets.LushakaTheSunkenSeas,description:"Increases the wearer's Energy Regeneration Rate by 5%. If the wearer is not the first character in the team lineup, then increase the ATK of the first character in the team lineup by 12%.",conditional:"The selected buff is applied to damage calculations.",p2Checked:!0}),s.jsx(ge,{set:d.Sets.TheWondrousBananAmusementPark,description:"Increases the wearer's CRIT DMG by 16%. When a target summoned by the wearer is on the field, CRIT DMG additionally increases by 32%.",conditional:"The selected buff is applied to damage calculations."})]})]})})};function ge(e){const a=s.jsxs(g,{vertical:!0,gap:10,children:[s.jsxs(g,{vertical:!0,children:[s.jsx(q,{children:s.jsx("p",{children:"Set description"})}),s.jsx("p",{children:e.description})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(q,{children:s.jsx("p",{children:"Enabled effect"})}),s.jsx("p",{children:e.conditional})]})]});if(d.SetsRelicsNames.includes(e.set)){let i=s.jsx(Ya,{disabled:e.p4Checked});return e.selectOptions&&(i=s.jsx(N,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:Bi},dropdownStyle:{width:"fit-content"},options:e.selectOptions})),s.jsx(oi,{content:a,title:e.set,mouseEnterDelay:.5,overlayStyle:{width:600},children:s.jsxs(g,{gap:Is,align:"center",justify:"flex-start",children:[s.jsx(g,{style:{width:zi},children:s.jsx("img",{src:U.getSetImage(e.set,d.Parts.PlanarSphere),style:{width:36,height:36}})}),s.jsx(Gs,{style:{width:Qi,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.set}),s.jsx(g,{style:{width:Bi},justify:"flex-end",children:s.jsx(P.Item,{name:["setConditionals",e.set,1],valuePropName:e.selectOptions?"value":"checked",children:i})})]})})}else{let i=s.jsx(Ya,{disabled:e.p2Checked});return e.selectOptions&&(i=s.jsx(N,{optionLabelProp:"display",listHeight:500,size:"small",style:{width:Bi},dropdownStyle:{width:"fit-content"},options:e.selectOptions})),s.jsx(oi,{content:a,title:e.set,mouseEnterDelay:.5,overlayStyle:{width:600},children:s.jsxs(g,{gap:Is,align:"center",justify:"flex-start",children:[s.jsx(g,{style:{width:zi},children:s.jsx("img",{src:U.getSetImage(e.set,d.Parts.PlanarSphere),style:{width:36,height:36}})}),s.jsx(Gs,{style:{width:Qi,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.set}),s.jsx(g,{style:{width:Bi},justify:"flex-end",children:s.jsx(P.Item,{name:["setConditionals",e.set,1],valuePropName:e.selectOptions?"value":"checked",children:i})})]})})}}ge.propTypes={description:z.string,p2Checked:z.bool,p4Checked:z.bool,set:z.string,conditional:z.string,selectOptions:z.array};const eS=(e,a="#ebb434")=>{const i=[];let n="",l=!1,o=0;return e&&e.split("::BR::").forEach(r=>{i.length>0&&(i.push(s.jsx("br",{},o++)),i.push(s.jsx("br",{},o++)));for(let c=0;c<r.length;c++)r[c]>="0"&&r[c]<="9"||r[c]==="%"||r[c]==="A"&&r[c+1]&&/[2,4,6]/.test(r[c+1])||r[c]==="E"&&r[c+1]&&/[0-6]/.test(r[c+1])?(n+=r[c],l=!0):(l&&(i.push(s.jsx("span",{style:{color:a},children:n},o++)),n="",l=!1),i.push(s.jsx("span",{children:r[c]},o++)));l&&i.push(s.jsx("span",{style:{color:a},children:n},o++))}),s.jsx(s.Fragment,{children:i})},{Text:tS}=be;function hi(e){const a=i=>{const[n,l]=Zt.useState(!1),o=s.jsxs(tS,{style:{width:400,display:"block"},children:[s.jsx("hr",{}),i.content]});return s.jsx(oi,{trigger:"hover",placement:"left",content:o,title:i.title,open:n,mouseEnterDelay:.4,onOpenChange:l,children:s.jsx("span",{children:s.jsx(e,{...i})})})};return a.displayName="WithPopoverWrapped",a.propTypes=hi.propTypes,a}hi.displayName="WithPopover";hi.propTypes={title:vl.string,content:vl.object};const aS="flex-start",sS="center",iS=61,nS=55,lS=155,Bo=yt(be)`
    white-space: pre-line;
`;function oS(e){return e.lc?"lightConeConditionals":"characterConditionals"}const rS=e=>{const a=e.percent?100:1,i=e.percent?.01:1,n=e.percent?"%":"",l=V.useRef(e.min),o=V.useRef(e.max),r=[oS(e),e.name];return e.teammateIndex!=null&&r.unshift(`teammate${e.teammateIndex}`),V.useEffect(()=>{const c=window.optimizerForm.getFieldValue(r);(c>=e.max||c==o.current)&&window.optimizerForm.setFieldValue(r,e.max),(c<=e.min||c==l.current)&&window.optimizerForm.setFieldValue(r,e.min),l.current=e.min,o.current=e.max},[e.min,e.max]),s.jsxs(g,{vertical:!0,gap:5,style:{marginBottom:0},children:[s.jsxs(g,{justify:aS,align:sS,children:[s.jsx("div",{style:{minWidth:iS,display:"block"},children:s.jsx(P.Item,{name:r,children:s.jsx(ba,{min:e.min,max:e.max,controls:!1,size:"small",style:{width:nS},parser:c=>c==null||c==""?0:x(parseFloat(c)/a),formatter:c=>`${x((c??0)*a)}${n}`,disabled:e.disabled})})}),s.jsx(Bo,{children:e.text})]}),s.jsxs(g,{align:"center",justify:"flex-start",gap:5,style:{height:14},children:[s.jsx(P.Item,{name:r,children:s.jsx(an,{min:e.min,max:e.max,step:i,style:{minWidth:lS,marginTop:0,marginBottom:0,marginLeft:1},tooltip:{formatter:c=>`${x((c??0)*a)}${n}`},disabled:e.disabled})}),s.jsx(Bo,{style:{minWidth:20,marginBottom:2,textAlign:"center"},children:`${x(e.max*a)}${n}`})]})]})},cS=hi(rS),dS="flex-start",uS="center",mS=yt(be)`
    white-space: pre-line;
`;function hS(e){return e.lc?"lightConeConditionals":"characterConditionals"}const bS=e=>{const a=[hS(e),e.name];return e.teammateIndex!=null&&a.unshift(`teammate${e.teammateIndex}`),s.jsxs(g,{justify:dS,align:uS,children:[s.jsx(P.Item,{name:a,valuePropName:"checked",children:s.jsx(Ya,{checkedChildren:s.jsx(Ts,{}),unCheckedChildren:s.jsx(Na,{}),disabled:e.disabled,defaultChecked:!1,style:{width:45,marginRight:5}})}),s.jsx(mS,{children:e.text})]})},SS=hi(bS),RS={switch:SS,slider:cS},T0=({content:e,teammateIndex:a})=>{const i=[];let n=0;return e?e.length===0?a!=null?i.push(s.jsx("div",{children:"No conditional team passives"},n++)):i.push(s.jsx("div",{children:"No conditional passives"},n++)):e.forEach(l=>{const o=RS[l.formItem];l.teammateIndex=a,i.push(V.createElement(o,{...l,name:l.id,title:l.title,content:eS(l.content),text:l.text,key:n++})),n++}):a!=null?i.push(s.jsx("div",{children:"No conditional team passives"},n++)):i.push(s.jsx("div",{children:"No conditional passives"},n++)),s.jsx(g,{vertical:!0,gap:8,children:i})},Zl=V.memo(({id:e,eidolon:a,teammateIndex:i})=>{const n=e;if(!e||!qn[n])return s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Character passives"}),s.jsx(Ke,{type:Oe.characterPassives()})]});const l=qn[n],o=l(a),r=i!=null?o.teammateContent?o.teammateContent():void 0:o.content();return s.jsxs(g,{vertical:!0,gap:5,children:[i==null&&s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Character passives"}),s.jsx(Ke,{type:Oe.characterPassives()})]}),s.jsx(T0,{content:r,teammateIndex:i})]})});Zl.displayName="CharacterConditionalDisplay";const Cl=V.memo(e=>{const{id:a,superImposition:i,teammateIndex:n}=e,l=a;if(!l||!tl[l])return s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Light cone passives"}),s.jsx(Ke,{type:Oe.lightConePassives()})]}),n==null&&s.jsx(be.Text,{italic:!0})]});const o=tl[l],r=o(i-1),c=n!=null?r.teammateContent?r.teammateContent():void 0:r.content();return s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Light cone passives"}),s.jsx(Ke,{type:Oe.lightConePassives()})]}),s.jsx(T0,{content:c,teammateIndex:n})]})});Cl.displayName="LightConeConstionalDisplay";const{useToken:fS}=Et,{Paragraph:gS}=be,pS=100,GS=150,D0=e=>s.jsxs("div",{children:[s.jsx("img",{width:e.innerW,src:e.imgSrc,style:{transform:`translate(${(e.innerW-pS)/2/e.innerW*-100}%, ${(e.innerH-GS)/2/e.innerH*-100}%)`}}),s.jsx(gS,{ellipsis:{rows:e.rows},style:{position:"absolute",bottom:0,left:0,width:"110%",textAlign:"center",background:"#282B31",color:"#D0D0D2",marginLeft:"-5%",paddingLeft:10,paddingRight:10,lineHeight:"16px",height:18*e.rows,alignItems:"center",marginBottom:0,fontSize:13},children:s.jsx("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)",maxHeight:18*e.rows,textOverflow:"ellipsis",overflow:"hidden"},children:e.text})})]});function Bl(){return Object.keys(qc).map(e=>({key:e,display:s.jsx("img",{style:{width:32},src:U.getPath(e)})}))}function IS(){return[5,4,3].map(e=>{const a=[];for(let i=0;i<e;i++)a.push(s.jsx("img",{style:{width:16},src:U.getStar()},i));return{key:e,display:s.jsx(g,{flex:1,justify:"center",align:"center",style:{marginTop:1},children:a})}})}function Z0(){return Object.keys(Ns).map(e=>({key:e,display:s.jsx("img",{style:{width:30},src:U.getElement(e)})}))}function Us({currentFilters:e,name:a,flexBasis:i,tags:n,setCurrentFilters:l}){const{token:o}=fS(),r=e[a],c=(h,b)=>{const R=b?[...r,h]:r.filter(u=>u!=h),S=C.clone(e);S[a]=R,console.log("filters",a,S),l(S)};return s.jsx(g,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:o.colorBgContainer,boxShadow:`0px 0px 0px 1px ${o.colorBorder} inset`,borderRadius:6,overflow:"hidden",height:40},children:n.map(h=>s.jsx(hr,{checked:r.includes(h.key),onChange:b=>c(h.key,b),style:{flex:1,flexBasis:i,boxShadow:`1px 1px 1px 0px ${o.colorBorder}`,backgroundColor:r.includes(h.key)?o.colorPrimary:"transparent"},children:s.jsx(g,{align:"center",justify:"space-around",style:{height:"100%"},children:h.display})},h.key))})}const ES="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 112px, #282B31 112px, #282B31 150px)",TS="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 112px, #282B31 112px, #282B31 150px)",DS="linear-gradient(#2d4cc5 0px, #4A85C8 63px, #4A85C8 112px, #282B31 112px, #282B31 150px)",ZS={5:ES,4:TS,3:DS},CS=100,BS=150,yS=115,WS=150,yl=({characterId:e,value:a,onChange:i,selectStyle:n,initialPath:l,withIcon:o,externalOpen:r,setExternalOpen:c})=>{const h=Z.getMetadata(),[b,R]=V.useState(!1),S=V.useMemo(()=>({rarity:[],path:l??(e?[h.characters[e].path]:[]),name:""}),[e,l]),u=V.useRef(null),[m,f]=V.useState(C.clone(S)),p=V.useMemo(()=>C.generateLightConeOptions(),[]),I=[];for(const D of p)I.push({value:D.value,label:s.jsxs(g,{gap:5,align:"center",children:[s.jsx("img",{src:U.getPath(h.lightCones[D.value].path),style:{height:22,marginRight:4}}),D.label]})});V.useEffect(()=>{(b||r)&&setTimeout(()=>{var D;return(D=u==null?void 0:u.current)==null?void 0:D.focus()},100)},[b,r]);function E(D){return!(m.rarity.length&&!m.rarity.includes(D.rarity)||m.path.length&&!m.path.includes(D.path)||!D.name.toLowerCase().includes(m.name))}const T=D=>{R(!1),c&&c(!1),i&&i(D)};return s.jsxs(s.Fragment,{children:[s.jsx(N,{style:n,value:a,options:o?I:p,placeholder:"Light cone",allowClear:!0,onClear:()=>{i&&i(null)},onDropdownVisibleChange:D=>{D&&(R(!0),f(C.clone(S)))},dropdownStyle:{display:"none"},suffixIcon:null}),s.jsx(Bt,{open:b||r,centered:!0,width:"90%",style:{height:"70%",maxWidth:1200},destroyOnClose:!0,title:"Select a light cone",onCancel:()=>{R(!1),c&&c(!1)},footer:null,children:s.jsxs(g,{vertical:!0,gap:12,children:[s.jsxs(g,{gap:12,wrap:"wrap",children:[s.jsx(g,{vertical:!0,wrap:"wrap",style:{minWidth:300,flexGrow:1},children:s.jsx(qt,{size:"large",style:{height:40},placeholder:"Light cone",ref:u,onChange:D=>{const W=C.clone(m);W.name=D.target.value.toLowerCase(),f(W)},onPressEnter:()=>{const D=p.filter(E)[0];D&&T(D.id)}})}),s.jsxs(g,{wrap:"wrap",style:{flexGrow:1},gap:12,children:[s.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:s.jsx(Us,{name:"path",tags:Bl(),flexBasis:"14.2%",currentFilters:m,setCurrentFilters:f})}),s.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:s.jsx(Us,{name:"rarity",tags:IS(),flexBasis:"14.2%",currentFilters:m,setCurrentFilters:f})})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${CS}px, 1fr))`,gridGap:8},children:p.sort(C.sortRarityDesc).filter(E).map(D=>s.jsx(Bs,{hoverable:!0,style:{background:ZS[D.rarity],overflow:"hidden",height:`${BS}px`},onMouseDown:()=>T(D.id),styles:{body:{padding:1}},children:s.jsx(D0,{imgSrc:U.getLightConeIconById(D.id),text:D.displayName,innerW:yS,innerH:WS,rows:2})},D.id))})]})})]})},MS=100,VS=150,FS=150,xS=170,LS="linear-gradient(#8A6700 0px, #D6A100 63px, #D6A100 130px, #282B31 130px, #282B31 150px)",US="linear-gradient(#5F388C 0px, #9F6CD9 63px, #9F6CD9 130px, #282B31 130px, #282B31 150px)",yo={rarity:[],path:[],element:[],name:""},ks=({value:e,onChange:a,selectStyle:i,multipleSelect:n,withIcon:l,externalOpen:o,setExternalOpen:r})=>{const c=V.useRef(null),[h,b]=V.useState(!1),[R,S]=V.useState(C.clone(yo)),u=V.useMemo(()=>C.generateCharacterOptions(),[]),[m,f]=V.useState(new Map),p=window.store(B=>B.excludedRelicPotentialCharacters),I=[];for(const B of u)I.push({value:B.value,label:s.jsxs(g,{gap:5,align:"center",children:[s.jsx("img",{src:U.getCharacterAvatarById(B.value),style:{height:22,marginRight:4}}),B.label]})});V.useEffect(()=>{if((h||o)&&(setTimeout(()=>{var B;return(B=c==null?void 0:c.current)==null?void 0:B.focus()},100),n)){const B=new Map(p.map(F=>[F,!0]));f(B)}},[h,o]);function E(B){return!(R.element.length&&!R.element.includes(B.element)||R.path.length&&!R.path.includes(B.path)||!B.label.toLowerCase().includes(R.name)||!B.displayName.toLowerCase().includes(R.name))}const T=B=>{n?(m.set(B,!m.get(B)),f(new Map(m))):(b(!1),r&&r(!1),a&&a(B))},D=()=>{const B=new Map(m);u.filter(E).forEach(F=>B.set(F.id,!0)),f(B)},W=()=>{const B=new Map(m);u.filter(E).forEach(F=>B.delete(F.id)),f(B)};return s.jsxs(s.Fragment,{children:[s.jsx(N,{style:i,value:e,options:l?I:u,placeholder:n?"Customize characters":"Character",allowClear:!0,maxTagCount:0,maxTagPlaceholder:()=>s.jsx("span",{children:p.length?`${p.length} characters excluded`:"All characters enabled"}),onClear:()=>{a&&a(null)},onDropdownVisibleChange:B=>{B&&(b(!0),S(C.clone(yo)))},dropdownStyle:{display:"none"},suffixIcon:null,mode:n?"multiple":void 0}),s.jsx(Bt,{open:h||o,centered:!0,destroyOnClose:!0,width:"90%",style:{height:"80%",maxWidth:1450},title:n?"Select characters to exclude":"Select a character",onCancel:()=>{n&&a&&a(m),b(!1),r&&r(!1)},footer:null,children:s.jsxs(g,{vertical:!0,gap:12,style:{minWidth:350},children:[s.jsxs(g,{gap:12,wrap:"wrap",children:[s.jsxs(g,{wrap:"nowrap",style:{flexGrow:1},gap:10,children:[s.jsx(qt,{size:"large",style:{height:40,flex:1},placeholder:"Search character name",ref:c,onChange:B=>{const F=C.clone(R);F.name=B.target.value.toLowerCase(),S(F)},onPressEnter:()=>{const B=u.filter(E)[0];B&&T(B.id)}}),n&&s.jsxs(g,{gap:12,children:[s.jsx(j,{onClick:D,style:{height:"100%",width:120},children:"Exclude all"}),s.jsx(j,{onClick:W,style:{height:"100%",width:120},children:"Clear"})]})]}),s.jsxs(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},gap:12,children:[s.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:s.jsx(Us,{name:"element",tags:Z0(),flexBasis:"14.2%",currentFilters:R,setCurrentFilters:S})}),s.jsx(g,{wrap:"wrap",style:{minWidth:350,flexGrow:1},children:s.jsx(Us,{name:"path",tags:Bl(),flexBasis:"14.2%",currentFilters:R,setCurrentFilters:S})})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${MS}px, 1fr))`,gridGap:8},children:u.sort(C.sortRarityDesc).filter(E).map(B=>s.jsx(Bs,{hoverable:!0,style:{background:B.rarity===5?LS:US,overflow:"hidden",height:`${VS}px`,...m.get(B.id)?{opacity:.25,background:"grey"}:{}},styles:{body:{padding:1}},onMouseDown:()=>T(B.id),children:s.jsx(D0,{imgSrc:U.getCharacterPreviewById(B.id),text:B.displayName,innerW:FS,innerH:xS,rows:1})},B.id))})]})})]})},{Text:C0}=be,Es=110,kS=Es,HS=Es,bi=120,PS=bi,NS=bi,Wo=bi,Mo=bi,YS=480,Vo=e=>e.data.value?s.jsxs(g,{gap:10,align:"center",children:[s.jsx(g,{children:s.jsx("img",{src:U.getSetImage(e.data.value,d.Parts.PlanarSphere),style:{width:26,height:26}})}),e.data.desc]}):s.jsx(C0,{children:"None"}),Pa=(e,a)=>s.jsxs(g,{align:"center",gap:3,children:[s.jsx("img",{src:U.getSetImage(e,d.Parts.PlanarSphere),style:{width:20,height:20}}),s.jsx(C0,{style:{fontSize:12},children:a})]}),AS=[{value:y.MessengerTraversingHackerspace,desc:`4 Piece: ${y.MessengerTraversingHackerspace} (+12% SPD)`,label:Pa(y.MessengerTraversingHackerspace,"12% SPD")},{value:y.WatchmakerMasterOfDreamMachinations,desc:`4 Piece: ${y.WatchmakerMasterOfDreamMachinations} (+30% BE)`,label:Pa(y.WatchmakerMasterOfDreamMachinations,"30% BE")},{value:bl,desc:`4 Piece: ${y.SacerdosRelivedOrdeal} - 1 stack (+18% CD)`,label:Pa(y.SacerdosRelivedOrdeal,"18% CD")},{value:Sl,desc:`4 Piece: ${y.SacerdosRelivedOrdeal} - 2 stack (+36% CD)`,label:Pa(y.SacerdosRelivedOrdeal,"36% CD")}],wS=[{value:y.BrokenKeel,desc:`${y.BrokenKeel} (+10% CD)`,label:Pa(y.BrokenKeel,"10% CD")},{value:y.FleetOfTheAgeless,desc:`${y.FleetOfTheAgeless} (+8% ATK)`,label:Pa(y.FleetOfTheAgeless,"8% ATK")},{value:y.PenaconyLandOfTheDreams,desc:`${y.PenaconyLandOfTheDreams} (+10% DMG for same element)`,label:Pa(y.PenaconyLandOfTheDreams,"10% DMG")},{value:y.LushakaTheSunkenSeas,desc:`${y.LushakaTheSunkenSeas} (+12% ATK)`,label:Pa(y.LushakaTheSunkenSeas,"12% ATK")}];function XS(e){return`teammate${e}`}function jS(){return{characterEidolon:0,characterConditionals:{},lightConeSuperimposition:1,lightConeConditionals:{}}}const vS=[y.MessengerTraversingHackerspace,y.WatchmakerMasterOfDreamMachinations],OS=[y.BrokenKeel,y.FleetOfTheAgeless,y.PenaconyLandOfTheDreams,y.LushakaTheSunkenSeas];function KS(e){const a=Object.values(e.equipped).map(n=>Z.getRelicById(n)).filter(n=>n),i={};for(const n of vS)a.filter(l=>l.set==n).length==4&&n!=y.MessengerTraversingHackerspace&&(i.teamRelicSet=n);for(const n of OS)a.filter(l=>l.set==n).length==2&&(i.teamOrnamentSet=n);return i}function _S(){const e=window.optimizerForm.getFieldsValue();return[e.teammate0,e.teammate1,e.teammate2].filter(a=>a==null?void 0:a.characterId).length}const Ln=e=>{const a=V.useMemo(()=>XS(e.index),[e.index]),i=P.useWatch([a,"characterId"],window.optimizerForm),n=P.useWatch([a,"characterEidolon"],window.optimizerForm),l=P.useWatch([a,"lightCone"],window.optimizerForm),o=P.useWatch([a,"lightConeSuperimposition"],window.optimizerForm),[r,c]=V.useState(!1),[h,b]=V.useState(!1),R=i==null;function S(){if(window.store.getState().setTeammateCount(_S()),!i){window.optimizerForm.setFieldValue([a],jS());return}const m=$.getDisplayFormValues($.getForm())[a],f=Z.getCharacterById(i);if(f){m.lightCone=f.form.lightCone,m.lightConeSuperimposition=f.form.lightConeSuperimposition||1,m.characterEidolon=f.form.characterEidolon;const I=KS(f);m.teamRelicSet=I.teamRelicSet,m.teamOrnamentSet=I.teamOrnamentSet}else m.lightConeSuperimposition=1,m.characterEidolon=0;const p=Ma.get({characterId:i,characterEidolon:m.characterEidolon,characterConditionals:{},lightConeSuperimposition:m.lightConeSuperimposition,lightConeConditionals:{}});p.teammateDefaults&&(m.characterConditionals=Object.assign({},p.teammateDefaults(),m.characterConditionals),window.optimizerForm.setFieldValue([a],m))}return V.useEffect(()=>{S()},[i,e.index]),V.useEffect(()=>{if(!l)return;const u=$.getDisplayFormValues($.getForm()),m=Sa.get({lightCone:l,lightConeSuperimposition:o});if(!m.teammateDefaults)return;const f=Object.assign({},m.teammateDefaults(),u[a].lightConeConditionals);window.optimizerForm.setFieldValue([a,"lightConeConditionals"],f)},[l,o,e.index]),s.jsx(Nt,{size:"medium",height:YS,style:{overflow:"auto"},children:s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{gap:5,children:[s.jsx(P.Item,{name:[a,"characterId"],style:{flex:1},children:s.jsx(ks,{value:"",selectStyle:{},externalOpen:r,setExternalOpen:c})}),s.jsx(j,{icon:s.jsx(br,{}),style:{width:35},disabled:R,onClick:()=>{S(),Y.success("Synced teammate info")}}),s.jsx(P.Item,{name:[a,"characterEidolon"],children:s.jsx(N,{showSearch:!0,style:{width:110},options:Zr,placeholder:"Eidolon",disabled:R})})]}),s.jsxs(g,{children:[s.jsx(g,{vertical:!0,style:{minWidth:258,marginLeft:5},children:s.jsx(Zl,{id:i,eidolon:n,teammateIndex:e.index})}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx("div",{style:{width:`${Es}px`,height:`${Es}px`,borderRadius:"10px"},children:s.jsx("img",{width:Es,height:Es,src:U.getCharacterAvatarById(i),onClick:()=>c(!0),style:{cursor:"pointer"}})}),s.jsx(P.Item,{name:[a,"teamRelicSet"],children:s.jsx(N,{className:"teammate-set-select",style:{width:110},options:AS,placeholder:"Relics",allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Vo,disabled:R})}),s.jsx(P.Item,{name:[a,"teamOrnamentSet"],children:s.jsx(N,{className:"teammate-set-select",style:{width:110},options:wS,placeholder:"Ornaments",allowClear:!0,popupMatchSelectWidth:!1,optionLabelProp:"label",optionRender:Vo,disabled:R})})]})]}),s.jsx("div",{style:{height:1}}),s.jsxs(g,{gap:5,children:[s.jsx(P.Item,{name:[a,"lightCone"],children:s.jsx(yl,{value:"",selectStyle:{width:258},characterId:i,externalOpen:h,setExternalOpen:b})}),s.jsx(P.Item,{name:[a,"lightConeSuperimposition"],children:s.jsx(N,{showSearch:!0,style:{width:110},options:Dr,placeholder:"Superimposition",disabled:R})})]}),s.jsxs(g,{children:[s.jsx(g,{vertical:!0,style:{minWidth:258,marginLeft:5},children:s.jsx(Cl,{id:l,superImposition:o,teammateIndex:e.index})}),s.jsx(g,{children:s.jsx("div",{style:{width:`${kS}px`,height:`${HS}px`,borderRadius:"10px"},children:s.jsx("img",{width:bi,src:U.getLightConeIconById(l),style:{marginLeft:-5,transform:`translate(${(Wo-PS)/2/Wo*-100}%, ${(Mo-NS)/2/Mo*-100}%)`,cursor:"pointer"},onClick:()=>b(!0)})})})]})]})})};yt(be)`
    white-space: pre-line;
`;const aa=e=>`Find top ${e.toLocaleString()} results`,JS=[{value:64,label:aa(64)},{value:128,label:aa(128)},{value:256,label:aa(256)},{value:512,label:aa(512)},{value:1024,label:aa(1024)},{value:2048,label:aa(2048)},{value:4096,label:aa(4096)},{value:8192,label:aa(8192)},{value:16384,label:aa(16384)},{value:32768,label:aa(32768)},{value:65536,label:aa(65536)}],at=e=>`Sorted by ${e}`,zS=[{label:"Damage calculations",options:[{value:w.COMBO.key,label:at("Combo DMG")},{value:w.BASIC.key,label:at("Basic DMG")},{value:w.SKILL.key,label:at("Skill DMG")},{value:w.ULT.key,label:at("Ult DMG")},{value:w.FUA.key,label:at("Follow-up DMG")},{value:w.DOT.key,label:at("DoT DMG")},{value:w.BREAK.key,label:at("Break DMG")}]},{label:"Stats",options:[{value:w.HP.key,label:at(Dt[t.HP])},{value:w.ATK.key,label:at(Dt[t.ATK])},{value:w.DEF.key,label:at(Dt[t.DEF])},{value:w.SPD.key,label:at(Dt[t.SPD])},{value:w.CR.key,label:at(Dt[t.CR])},{value:w.CD.key,label:at(Dt[t.CD])},{value:w.EHR.key,label:at(Dt[t.EHR])},{value:w.RES.key,label:at(Dt[t.RES])},{value:w.BE.key,label:at(Dt[t.BE])},{value:w.OHB.key,label:at(Dt[t.OHB])},{value:w.ERR.key,label:at(Dt[t.ERR])},{value:w.ELEMENTAL_DMG.key,label:at("Elemental DMG")},{value:w.EHP.key,label:at("Effective HP")},{value:w.WEIGHT.key,label:at("Weight")}]}];function QS(e){const a=window.store(h=>h.optimizerTabFocusCharacter),i=window.store(h=>h.setOptimizerTabFocusCharacter),n=window.store(h=>h.setOptimizerFormCharacterEidolon),l=window.store(h=>h.setOptimizerFormSelectedLightCone),o=window.store(h=>h.setOptimizerFormSelectedLightConeSuperimposition),r=window.store(h=>h.optimizerTabFocusCharacterSelectModalOpen),c=window.store(h=>h.setOptimizerTabFocusCharacterSelectModalOpen);return V.useEffect(()=>{$.updateCharacter(a)},[a]),s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Character"}),s.jsx(Ke,{type:Oe.character()})]}),s.jsxs(g,{gap:mt,children:[s.jsx(P.Item,{name:"characterId",children:s.jsx(ks,{value:"",selectStyle:{width:156},onChange:i,externalOpen:r,setExternalOpen:c})}),s.jsx(P.Item,{name:"characterEidolon",children:s.jsx(N,{showSearch:!0,style:{width:50},options:Zr,onChange:n,placeholder:"E",popupMatchSelectWidth:55,suffixIcon:null})})]}),s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Light cone"}),s.jsx(Ke,{type:Oe.lightCone()})]}),s.jsx(g,{vertical:!0,gap:mt,children:s.jsxs(g,{gap:mt,children:[s.jsx(P.Item,{name:"lightCone",children:s.jsx(yl,{value:"",selectStyle:{width:156},characterId:a,onChange:l})}),s.jsx(P.Item,{name:"lightConeSuperimposition",children:s.jsx(N,{showSearch:!0,style:{width:50},onChange:o,options:Dr,placeholder:"S",popupMatchSelectWidth:55,suffixIcon:null})})]})}),s.jsx(g,{justify:"space-between",align:"center",style:{marginTop:16},children:s.jsx(q,{children:"Presets"})}),s.jsx(f1,{}),s.jsx(g,{justify:"space-between",align:"center",style:{marginTop:16},children:s.jsx(q,{children:"Optimization target"})}),s.jsx(P.Item,{name:"resultsLimit",children:s.jsx(N,{showSearch:!0,style:{width:At},options:JS,placeholder:"Find top results",listHeight:800})}),s.jsx(P.Item,{name:"resultSort",children:s.jsx(N,{showSearch:!0,style:{width:At},options:zS,listHeight:800,popupMatchSelectWidth:250,placeholder:"Sorted by",filterOption:C.labelFilterOption})})]})}function B0(e){const{value:a,closable:i,onClose:n}=e;if(!a)return s.jsx(li,{closable:i,onClose:n,children:s.jsx(g,{children:(e.label||"").replace(/[^0-9+]/g,"")})});const l=a.split("__RC_CASCADER_SPLIT__");let o;return l[0]==Ct.relic4Piece&&(o=s.jsxs(Zt.Fragment,{children:[s.jsx("img",{title:l[1],src:U.getSetImage(l[1],d.Parts.Head),style:{width:26,height:26}}),s.jsx("img",{title:l[1],src:U.getSetImage(l[1],d.Parts.Head),style:{width:26,height:26}})]})),l[0]==Ct.relic2Plus2Piece&&(o=s.jsxs(Zt.Fragment,{children:[s.jsx("img",{title:l[1],src:U.getSetImage(l[1],d.Parts.Head),style:{width:26,height:26}}),s.jsx("img",{title:l[2],src:U.getSetImage(l[2],d.Parts.Head),style:{width:26,height:26}})]})),l[0]==Ct.relic2PlusAny&&(o=s.jsx(Zt.Fragment,{children:s.jsx("img",{title:l[1],src:U.getSetImage(l[1],d.Parts.Head),style:{width:26,height:26}})})),s.jsx(li,{closable:i,onClose:n,style:{display:"flex",flexDirection:"row",paddingInline:"1px",marginInlineEnd:"4px",height:22,alignItems:"center",overflow:"hidden"},children:s.jsx(g,{children:o})})}B0.propTypes={value:z.string,closable:z.bool,onClose:z.func};const{SHOW_CHILD:$S}=Sr;function qS(e){const a=window.store(i=>i.setConditionalSetEffectsDrawerOpen);return s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Main stats"}),s.jsx(Ke,{type:Oe.mainStats()})]}),s.jsx(P.Item,{name:"mainBody",children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:At},placeholder:"Body",optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:s.jsx("img",{style:{width:16},src:U.getPart(G.Body)}),children:[s.jsx(N.Option,{value:d.Stats.HP_P,label:"HP%",children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,label:"ATK%",children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,label:"DEF%",children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.CR,label:"CR",children:"CRIT Rate"}),s.jsx(N.Option,{value:d.Stats.CD,label:"CD",children:"CRIT DMG"}),s.jsx(N.Option,{value:d.Stats.EHR,label:"EHR",children:"Effect HIT Rate"}),s.jsx(N.Option,{value:d.Stats.OHB,label:"HEAL",children:"Outgoing Healing"})]})}),s.jsx(P.Item,{name:"mainFeet",children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:At},placeholder:"Feet",optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:s.jsx("img",{style:{width:16},src:U.getPart(G.Feet)}),children:[s.jsx(N.Option,{value:d.Stats.HP_P,label:"HP%",children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,label:"ATK%",children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,label:"DEF%",children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.SPD,label:"SPD",children:"Speed"})]})}),s.jsx(P.Item,{name:"mainPlanarSphere",children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:At},placeholder:"Planar Sphere",optionLabelProp:"label",listHeight:400,maxTagCount:"responsive",suffixIcon:s.jsx("img",{style:{width:16},src:U.getPart(G.PlanarSphere)}),children:[s.jsx(N.Option,{value:d.Stats.HP_P,label:"HP%",children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,label:"ATK%",children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,label:"DEF%",children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.Physical_DMG,label:"Physical",children:"Physical DMG"}),s.jsx(N.Option,{value:d.Stats.Fire_DMG,label:"Fire",children:"Fire DMG"}),s.jsx(N.Option,{value:d.Stats.Ice_DMG,label:"Ice",children:"Ice DMG"}),s.jsx(N.Option,{value:d.Stats.Lightning_DMG,label:"Lightning",children:"Lightning DMG"}),s.jsx(N.Option,{value:d.Stats.Wind_DMG,label:"Wind",children:"Wind DMG"}),s.jsx(N.Option,{value:d.Stats.Quantum_DMG,label:"Quantum",children:"Quantum DMG"}),s.jsx(N.Option,{value:d.Stats.Imaginary_DMG,label:"Imaginary",children:"Imaginary DMG"})]})}),s.jsx(P.Item,{name:"mainLinkRope",children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:At},placeholder:"Link Rope",optionLabelProp:"label",maxTagCount:"responsive",suffixIcon:s.jsx("img",{style:{width:16},src:U.getPart(G.LinkRope)}),children:[s.jsx(N.Option,{value:d.Stats.HP_P,label:"HP%",children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,label:"ATK%",children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,label:"DEF%",children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.BE,label:"BE",children:"Break Effect"}),s.jsx(N.Option,{value:d.Stats.ERR,label:"Energy",children:"Energy Regeneration Rate"})]})})]}),s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsxs(g,{justify:"space-between",align:"center",style:{marginTop:12},children:[s.jsx(q,{children:"Sets"}),s.jsx(Ke,{type:Oe.sets()})]}),s.jsx(P.Item,{name:"relicSets",children:s.jsx(Sr,{placeholder:"Relic set",options:w1(),showCheckedStrategy:$S,tagRender:B0,placement:"bottomLeft",maxTagCount:"responsive",multiple:!0,expandTrigger:"hover"})}),s.jsx(P.Item,{name:"ornamentSets",children:s.jsx(N,{dropdownStyle:{width:250},listHeight:800,mode:"multiple",allowClear:!0,style:{width:At},options:s0(),tagRender:si,placeholder:"Ornament set",maxTagCount:"responsive"})})]}),s.jsx(j,{onClick:()=>a(!0),icon:s.jsx(Xa,{}),children:"Conditional set effects"})]})}const eR=140,tR=yt(be)`
    white-space: pre-line;
`;function ra(e){return s.jsxs(g,{children:[s.jsx(g,{justify:"flex-start",style:{width:45,marginRight:10},children:s.jsx(tR,{children:e.text})}),s.jsx(g,{align:"center",children:s.jsx(P.Item,{name:["weights",e.name],children:s.jsx(an,{min:0,max:1,step:.25,style:{minWidth:eR,marginTop:0,marginBottom:0,marginLeft:0},onChangeComplete:a=>window.onOptimizerFormValuesChange(a,window.optimizerForm.getFieldsValue(),!0)})})})]})}ra.propTypes={text:z.string,name:z.string};const aR={0:[G.Head,G.Hands],1:[G.Body,G.Feet],2:[G.PlanarSphere,G.LinkRope]},sR={0:"headHands",1:"bodyFeet",2:"sphereRope"},Fo=5;function Un(e){const{index:a}=e,i=aR[a],n=sR[a],[l,o]=V.useState(1),r=c=>{o(c)};return s.jsxs(g,{gap:5,style:{marginBottom:0},align:"center",children:[s.jsxs(g,{gap:5,justify:"flex-start",style:{minWidth:50},children:[s.jsx("img",{src:Assets.getPart(i[0]),style:{width:18}}),s.jsx("img",{src:Assets.getPart(i[1]),style:{width:18}})]}),s.jsx(g,{align:"center",justify:"flex-start",gap:10,children:s.jsx(P.Item,{name:["weights",n],children:s.jsx(an,{min:0,max:Fo,step:.5,style:{minWidth:105,marginTop:0,marginBottom:0,marginLeft:0,marginRight:5},keyboard:!1,tooltip:{formatter:c=>`${C.precisionRound(c)}`},value:typeof l=="number"?l:0,onChange:r,onChangeComplete:c=>window.onOptimizerFormValuesChange(c,window.optimizerForm.getFieldsValue(),!0)})})}),s.jsx(P.Item,{name:["weights",n],children:s.jsx(ba,{size:"small",className:"center-input-text",style:{width:40},controls:!1,min:0,max:Fo,variant:"borderless",onChange:c=>{r(c),window.onOptimizerFormValuesChange(c,window.optimizerForm.getFieldsValue(),!0)}})})]})}const iR=()=>s.jsxs(g,{vertical:!0,gap:4,children:[s.jsxs(g,{vertical:!0,gap:0,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Substat weight filter"}),s.jsx(Ke,{type:Oe.substatWeightFilter()})]}),s.jsx(ra,{text:"HP",name:d.Stats.HP_P}),s.jsx(ra,{text:"ATK",name:d.Stats.ATK_P}),s.jsx(ra,{text:"DEF",name:d.Stats.DEF_P}),s.jsx(ra,{text:"SPD",name:d.Stats.SPD}),s.jsx(ra,{text:"CR",name:d.Stats.CR}),s.jsx(ra,{text:"CD",name:d.Stats.CD}),s.jsx(ra,{text:"EHR",name:d.Stats.EHR}),s.jsx(ra,{text:"RES",name:d.Stats.RES}),s.jsx(ra,{text:"BE",name:d.Stats.BE})]}),s.jsxs(g,{vertical:!0,gap:3,children:[s.jsx(q,{children:"Weighted rolls per relic"}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(Un,{index:0}),s.jsx(Un,{index:1}),s.jsx(Un,{index:2})]})]})]}),$i=yt(ba)`
    width: 60px
`,{Text:nR}=be,lR=yt(nR)`
    display: block;
    text-align: center;
`,dt=e=>s.jsxs(g,{justify:"space-between",style:{margin:0},children:[s.jsx(P.Item,{name:`min${e.name}`,style:{margin:0},children:s.jsx($i,{size:"small",controls:!1,style:{margin:0,width:63}})}),s.jsx(lR,{children:e.label}),s.jsx(P.Item,{name:`max${e.name}`,style:{marginRight:0},children:s.jsx($i,{size:"small",controls:!1,style:{margin:0,width:63}})})]});dt.propTypes={name:z.string,label:z.string};const oR=()=>s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Stat min / max filters"}),s.jsx(Ke,{type:Oe.statFilters()})]}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(dt,{name:"Hp",label:"HP"}),s.jsx(dt,{name:"Atk",label:"ATK"}),s.jsx(dt,{name:"Def",label:"DEF"}),s.jsx(dt,{name:"Spd",label:"SPD"}),s.jsx(dt,{name:"Cr",label:"CR"}),s.jsx(dt,{name:"Cd",label:"CD"}),s.jsx(dt,{name:"Ehr",label:"EHR"}),s.jsx(dt,{name:"Res",label:"RES"}),s.jsx(dt,{name:"Be",label:"BE"}),s.jsx(dt,{name:"Err",label:"ERR"})]})]}),rR=()=>s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Rating min / max filters"}),s.jsx(Ke,{type:Oe.ratingFilters()})]}),s.jsx(dt,{name:"Weight",label:"WEIGHT"}),s.jsx(dt,{name:"Ehp",label:"EHP"}),s.jsx(dt,{name:"Basic",label:"BASIC"}),s.jsx(dt,{name:"Skill",label:"SKILL"}),s.jsx(dt,{name:"Ult",label:"ULT"}),s.jsx(dt,{name:"Fua",label:"FUA"}),s.jsx(dt,{name:"Dot",label:"DOT"}),s.jsx(dt,{name:"Break",label:"BREAK"}),s.jsx(dt,{name:"Combo",label:"COMBO"})]}),ut=22,Ze=8,Js=280*3+Ze*2,Ga=198*2+Ze,cR=1024,dR=240,uR=280,y0=250,mR=1260/902*y0,kn=240,{Text:hR}=be,bR=()=>{const e=window.store(n=>n.combatBuffsDrawerOpen),a=window.store(n=>n.setCombatBuffsDrawerOpen),i=V.useMemo(()=>Object.values(Ji).map(n=>s.jsx(SR,{title:n.title,name:n.key},n.key)),[]);return s.jsx(tn,{title:"Extra combat buffs",placement:"right",onClose:()=>a(!1),open:e,width:300,forceRender:!0,children:s.jsx(g,{vertical:!0,gap:Ze,children:s.jsx(g,{vertical:!0,gap:mt,children:i})})})};function SR(e){return s.jsxs(g,{justify:"space-between",children:[s.jsx(hR,{children:e.title}),s.jsx(P.Item,{name:["combatBuffs",e.name],children:s.jsx($i,{size:"small",controls:!1})})]})}const xo=233,Lo=350,Hn=350,Uo=400,RR=()=>{const e=window.store(a=>a.optimizerTabFocusCharacter);return s.jsx("div",{style:{width:`${xo}px`,height:`${Lo}px`,borderRadius:"10px",position:"relative"},children:s.jsx("img",{width:Hn,src:U.getCharacterPreviewById(e),style:{transform:`translate(${(Hn-xo)/2/Hn*-100}%, ${(Uo-Lo)/2/Uo*-100}%)`,cursor:"pointer"},onClick:()=>{window.store.getState().setOptimizerTabFocusCharacterSelectModalOpen(!0)}})})};function fR(e){return s.jsx(g,{vertical:!0,style:{overflow:"hidden",borderRadius:"10px",paddingBottom:10,background:"rgb(29 42 81 / 73%)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(5px)",outline:"1px solid rgba(255, 255, 255, 0.10)",WebkitBackdropFilter:"blur(5px)"},children:e.children})}const{Text:gR}=be,pR=()=>s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsx(q,{children:"Rotation COMBO formula"}),s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsx(gs,{title:"Basic DMG",name:"BASIC"}),s.jsx(gs,{title:"Skill DMG",name:"SKILL"}),s.jsx(gs,{title:"Ult DMG",name:"ULT"}),s.jsx(gs,{title:"Fua DMG",name:"FUA"}),s.jsx(gs,{title:"Dot DMG",name:"DOT"}),s.jsx(gs,{title:"Break DMG",name:"BREAK"})]})]});function gs(e){return s.jsxs(g,{justify:"space-between",children:[s.jsx(gR,{children:e.title}),s.jsx(P.Item,{name:["combo",e.name],children:s.jsx($i,{addonBefore:"⨯",size:"small",controls:!0,style:{width:90},rootClassName:"comboInputNumber"})})]})}const{Text:ko}=be,GR=()=>{const e=window.store(i=>i.enemyConfigurationsDrawerOpen),a=window.store(i=>i.setEnemyConfigurationsDrawerOpen);return s.jsx(tn,{title:"Enemy configurations",placement:"right",onClose:()=>a(!1),open:e,width:300,forceRender:!0,children:s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{justify:"space-between",align:"center",style:{marginBottom:5},children:[s.jsx(q,{children:"Enemy stat options"}),s.jsx(Ke,{type:Oe.enemyOptions()})]}),s.jsx(P.Item,{name:"enemyLevel",children:s.jsx(N,{showSearch:!0,filterOption:C.labelFilterOption,options:td})}),s.jsx(P.Item,{name:"enemyResistance",children:s.jsx(N,{showSearch:!0,filterOption:C.labelFilterOption,options:sd})}),s.jsx(P.Item,{name:"enemyEffectResistance",children:s.jsx(N,{showSearch:!0,filterOption:C.labelFilterOption,options:id})}),s.jsx(P.Item,{name:"enemyMaxToughness",children:s.jsx(N,{showSearch:!0,filterOption:C.labelFilterOption,options:nd,optionLabelProp:"number"})}),s.jsx(P.Item,{name:"enemyCount",children:s.jsx(N,{showSearch:!0,filterOption:C.labelFilterOption,options:ad})}),s.jsxs(g,{align:"center",children:[s.jsx(P.Item,{name:"enemyElementalWeak",valuePropName:"checked",children:s.jsx(Ya,{checkedChildren:s.jsx(Ts,{}),unCheckedChildren:s.jsx(Na,{}),defaultChecked:!0,style:{width:45,marginRight:5}})}),s.jsx(ko,{children:"Elemental weakness"})]}),s.jsxs(g,{align:"center",children:[s.jsx(P.Item,{name:"enemyWeaknessBroken",valuePropName:"checked",children:s.jsx(Ya,{checkedChildren:s.jsx(Ts,{}),unCheckedChildren:s.jsx(Na,{}),style:{width:45,marginRight:5}})}),s.jsx(ko,{children:"Weakness broken"})]})]})})};const IR=()=>{const e=window.store(l=>l.setCombatBuffsDrawerOpen),a=window.store(l=>l.setEnemyConfigurationsDrawerOpen),i=P.useWatch(l=>l.combatBuffs,window.optimizerForm),n=V.useMemo(()=>i?Object.values(i).filter(l=>l!=null).length:0,[i]);return s.jsxs(g,{vertical:!0,gap:mt,children:[s.jsx(q,{style:{marginTop:25},children:"Advanced options"}),s.jsx(j,{onClick:()=>e(!0),icon:s.jsx(Xa,{}),children:`Extra combat buffs${n?` (${n})`:""}`}),s.jsx(j,{onClick:()=>a(!0),icon:s.jsx(Xa,{}),children:"Enemy configurations"})]})};function ER(){console.log("======================================================================= RENDER OptimizerForm");const[e]=P.useForm();window.optimizerForm=e,V.useEffect(()=>{var o;const n=Z.getCharacters()||[],l=window.store.getState().savedSession[nt.optimizerCharacterId];$.updateCharacter(l||((o=n[0])==null?void 0:o.id))},[]);const a=(n,l,o)=>{if(!n||!l||!l.characterId)return;const r=Object.keys(n);if(!o){if(r.length==1&&(r[0].startsWith("min")||r[0].startsWith("max")||r[0].startsWith("buff")||r[0].startsWith("statDisplay")||r[0].startsWith("statSim")||r[0].startsWith("teammate")||r[0].startsWith("combo")||r[0].startsWith("combatBuffs")||r[0]=="characterConditionals"||r[0]=="lightConeConditionals"))return}const c=l;r[0]==="characterId"&&(window.store.getState().setSavedSessionKey(nt.optimizerCharacterId,n.characterId),setTimeout(()=>Ie.save(),1e3)),!Z.getCharacterById(l.characterId)&&r[0]!="characterId"&&Z.addFromForm(l),n.rank!=null&&Z.getCharacterById(l.characterId).rank!=l.rank&&(Z.insertCharacter(l.characterId,l.rank),Z.refreshCharacters());const[h,b]=Ls.getFilteredRelics(c,l.characterId),R={Head:h.Head.length,Hands:h.Hands.length,Body:h.Body.length,Feet:h.Feet.length,PlanarSphere:h.PlanarSphere.length,LinkRope:h.LinkRope.length,HeadTotal:b[d.Parts.Head].length,HandsTotal:b[d.Parts.Hands].length,BodyTotal:b[d.Parts.Body].length,FeetTotal:b[d.Parts.Feet].length,PlanarSphereTotal:b[d.Parts.PlanarSphere].length,LinkRopeTotal:b[d.Parts.LinkRope].length};window.store.getState().setPermutationDetails(R),window.store.getState().setPermutations(h.Head.length*h.Hands.length*h.Body.length*h.Feet.length*h.PlanarSphere.length*h.LinkRope.length)};window.onOptimizerFormValuesChange=a;function i(){console.log("Start clicked");const n=$.getForm();if(!$.validateForm(n))return;window.store.getState().setPermutationsSearched(0),window.store.getState().setPermutationsResults(0),window.store.getState().setOptimizationInProgress(!0),Z.addFromForm(n),Ie.save();const l=C.randomId();window.store.getState().setOptimizationId(l),n.optimizationId=l,n.statDisplay=window.store.getState().statDisplay,console.log("Form finished",n),setTimeout(()=>Ls.optimize(n),50)}return window.optimizerStartClicked=i,s.jsx("div",{style:{position:"relative"},children:s.jsxs(P,{form:e,layout:"vertical",onValuesChange:a,children:[s.jsx(qb,{}),s.jsxs(fR,{children:[s.jsxs(Pi,{id:Ca.characterOptions,children:[s.jsx(Nt,{style:{overflow:"hidden"},children:s.jsx(RR,{})}),s.jsx(Nt,{children:s.jsx(QS,{})}),s.jsx(Nt,{children:s.jsx(TR,{})}),s.jsx(Nt,{justify:"space-between",children:s.jsx(DR,{})}),s.jsx(Nt,{children:s.jsx($b,{})})]}),s.jsxs(Pi,{id:Ca.relicAndStatFilters,children:[s.jsx(Nt,{children:s.jsx(qS,{})}),s.jsx(Nt,{children:s.jsx(iR,{})}),s.jsx(Nt,{children:s.jsx(oR,{})}),s.jsx(Nt,{children:s.jsx(rR,{})}),s.jsxs(Nt,{children:[s.jsx(pR,{}),s.jsx(bR,{}),s.jsx(GR,{})]})]}),s.jsxs(K1,{id:Ca.teammates,children:[s.jsx(Ln,{index:0}),s.jsx(Ln,{index:1}),s.jsx(Ln,{index:2})]}),s.jsx(Pi,{id:Ca.characterStatsSimulation,children:s.jsx(j1,{})})]})]})})}function TR(){const e=window.store(i=>i.optimizerTabFocusCharacter),a=window.store(i=>i.optimizerFormCharacterEidolon);return s.jsx(Zl,{id:e,eidolon:a})}function DR(){const e=window.store(n=>n.optimizerTabFocusCharacter),a=window.store(n=>n.optimizerFormSelectedLightCone),i=window.store(n=>n.optimizerFormSelectedLightConeSuperimposition);return V.useEffect(()=>{var r;const l=Sa.get(window.optimizerForm.getFieldsValue()).defaults(),o=((r=Z.getCharacterById(e))==null?void 0:r.form.lightConeConditionals)||{};C.mergeDefinedValues(l,o),a==="21034"&&(l.maxEnergyStacks=Math.min(160,Z.getMetadata().characters[e].max_sp)),window.optimizerForm.setFieldValue("lightConeConditionals",l)},[e,a,i]),s.jsxs(g,{vertical:!0,justify:"space-between",style:{height:"100%",marginBottom:8},children:[s.jsx(Cl,{id:a,superImposition:i}),s.jsx(IR,{})]})}function ZR(){const e=[];for(const a of[...Object.entries(d.SetsRelics),...Object.entries(d.SetsOrnaments)].filter(i=>!Ra[i[1]]))e.push({label:Wl(a[1],U.getSetImage),value:a[1]});return e}const W0=[];for(const e of Object.entries(d.SubStats))W0.push({label:Wl(e[1],a=>U.getStatIcon(a,!0),22),value:e[1]});const M0=[];for(let e=15;e>=0;e--)M0.push({value:e,label:"+"+e});function Wl(e,a,i=22){return s.jsxs(g,{align:"center",gap:10,children:[s.jsx("img",{src:a(e),style:{width:i,height:i}}),e]})}const Ml={onEditOk:(e,a)=>{a.id=e.id;const i={...e,...a};return window.rescoreSingleRelic(i),Z.setRelic(i),window.setRelicRows(Z.getRelics()),console.log("onEditOk",i),Y.success("Successfully edited relic"),setTimeout(()=>{Ie.save(),window.forceCharacterTabUpdate()},200),$.updateFilters(),i}};function CR(e){if(console.log("Form finished",e),!e.part)return Y.error("Part field is missing");if(!e.mainStatType||!e.mainStatValue)return Y.error("Main stat is missing");if(!e.set)return Y.error("Set field is missing");if(e.enhance==null)return Y.error("Enhance field is missing");if(e.grade==null)return Y.error("Grade field is missing");if(e.grade>5||e.grade<2)return Y.error("Grade value is invalid");if(e.enhance>15||e.enhance<0)return Y.error("Enhance value is invalid");if(e.enhance>e.grade*3)return Y.error("Enhance value is too high for this grade");if(!d.SetsRelicsNames.includes(e.set)&&!d.SetsOrnamentsNames.includes(e.set))return Y.error("Set value is invalid");if(d.SetsRelicsNames.includes(e.set)&&(e.part==d.Parts.PlanarSphere||e.part==d.Parts.LinkRope))return Y.error("The selected set is not an ornament set");if(d.SetsOrnamentsNames.includes(e.set)&&(e.part==d.Parts.Head||e.part==d.Parts.Hands||e.part==d.Parts.Body||e.part==d.Parts.Feet))return Y.error("The selected set is not a relic set");if(e.substatType0!=null&&e.substatValue0==null||e.substatType0==null&&e.substatValue0!=null)return Y.error("Substat 1 is invalid");if(e.substatType1!=null&&e.substatValue1==null||e.substatType1==null&&e.substatValue1!=null)return Y.error("Substat 2 is invalid");if(e.substatType2!=null&&e.substatValue2==null||e.substatType2==null&&e.substatValue2!=null)return Y.error("Substat 3 is invalid");if(e.substatType3!=null&&e.substatValue3==null||e.substatType3==null&&e.substatValue3!=null)return Y.error("Substat 4 is invalid");if(e.substatType3!=null&&(e.substatType0==null||e.substatType1==null||e.substatType2==null)||e.substatType2!=null&&(e.substatType0==null||e.substatType1==null)||e.substatType1!=null&&e.substatType0==null)return Y.error("Substats are out of order");const a=[e.substatType0,e.substatType1,e.substatType2,e.substatType3].filter(l=>l!=null);if(new Set(a).size!==a.length)return Y.error("Duplicate substats, only one of each type is allowed");if(a.includes(e.mainStatType))return Y.error("Substat type is the same as the main stat");if(e.substatValue0>=1e3||e.substatValue1>=1e3||e.substatValue2>=1e3||e.substatValue3>=1e3)return Y.error("Substat value is too big");if(e.mainStatValue>=1e3)return Y.error("Main stat value is too big");if(e.substatValue0<=0||e.substatValue1<=0||e.substatValue2<=0||e.substatValue3<=0)return Y.error("Substat values should be positive");if(e.mainStatValue<=0)return Y.error("Main stat values should be positive");const i={equippedBy:e.equippedBy=="None"?void 0:e.equippedBy,enhance:e.enhance,grade:e.grade,part:e.part,set:e.set,main:{stat:e.mainStatType,value:e.mainStatValue}},n=[];return e.substatType0!=null&&e.substatValue0!=null&&n.push({stat:e.substatType0,value:e.substatValue0}),e.substatType1!=null&&e.substatValue1!=null&&n.push({stat:e.substatType1,value:e.substatValue1}),e.substatType2!=null&&e.substatValue2!=null&&n.push({stat:e.substatType2,value:e.substatValue2}),e.substatType3!=null&&e.substatValue3!=null&&n.push({stat:e.substatType3,value:e.substatValue3}),i.substats=n,ds.augment(i),i}function BR(e){const a=[{stat:e.substatType0,value:e.substatValue0},{stat:e.substatType1,value:e.substatValue1},{stat:e.substatType2,value:e.substatValue2},{stat:e.substatType3,value:e.substatValue3}],i=[];for(let{stat:n,value:l}of a)if(n!=null&&l!=null){if(l=="")l=0;else if(isNaN(parseFloat(l))){i.push({low:void 0,mid:void 0,high:void 0});continue}if(n==t.SPD){const h=parseFloat(l)+(e.grade==5?2:1);i.push({low:Math.floor(h),mid:void 0,high:Math.floor(h+1)});continue}const o=C.truncate10ths(C.precisionRound(parseFloat(l))),r=Vs.fixSubStatValue(n,o,5),c=C.clone(Se[n][e.grade]);C.isFlat(n)?(c.low=Pn(r+c.low),c.mid=Pn(r+c.mid),c.high=Pn(r+c.high)):(c.low=Nn(r+c.low),c.mid=Nn(r+c.mid),c.high=Nn(r+c.high)),i.push(c)}else i.push({low:void 0,mid:void 0,high:void 0});return i}function Pn(e){return Math.floor(C.precisionRound(e))}function Nn(e){return C.truncate10ths(C.precisionRound(e)).toFixed(1)}const{useToken:yR}=Et;function as(e){return s.jsx(gt.Button,{value:e.value,style:{height:35,width:50,paddingLeft:10},children:s.jsx(ni,{preview:!1,width:30,src:e.src})})}as.propTypes={value:z.string,src:z.string};yt(ba)`
    width: 90px
`;function Ho(e){var n,l;const a=(n=e.main)==null?void 0:n.stat,i=(l=e.main)==null?void 0:l.value;return a?V0(a,i):{}}function ka(e,a){const i=e.substats[a];if(!(i!=null&&i.stat))return{};const n=i.stat,l=i.value;return V0(n,l,e)}function V0(e,a,i){return e==t.SPD?i!=null&&i.verified?{stat:e,value:a.toFixed(1)}:{stat:e,value:a%1!==0?a.toFixed(1):Math.floor(a)}:C.isFlat(e)?{stat:e,value:Math.floor(a)}:{stat:e,value:C.precisionRound(Math.floor(a*10)/10).toFixed(1)}}function Hs(e){var T,D,W,B,F;const{token:a}=yR(),[i]=P.useForm(),[n,l]=V.useState([]),o=window.store(L=>L.characters),r=V.useMemo(()=>Dl({currentCharacters:o}),[o]),c=V.useMemo(()=>ZR(),[]),h=P.useWatch("equippedBy",i),[b,R]=V.useState([]);V.useEffect(()=>{let L={grade:5,enhance:15,part:d.Parts.Head,mainStatType:d.Stats.HP,mainStatValue:Math.floor(d.MainStatsValues[d.Stats.HP][5].base+d.MainStatsValues[d.Stats.HP][5].increment*15)};const M=e.selectedRelic;!M||e.type!="edit"||(L={equippedBy:M.equippedBy??"None",grade:M.grade,enhance:M.enhance,set:M.set,part:M.part,mainStatType:Ho(M).stat,mainStatValue:Ho(M).value,substatType0:ka(M,0).stat,substatValue0:ka(M,0).value,substatType1:ka(M,1).stat,substatValue1:ka(M,1).value,substatType2:ka(M,2).stat,substatValue2:ka(M,2).value,substatType3:ka(M,3).stat,substatValue3:ka(M,3).value}),m(L),i.setFieldsValue(L)},[e.selectedRelic,e.open,i,e]),V.useEffect(()=>{var M,H,X,oe;let L=[];(M=e.selectedRelic)!=null&&M.part&&(L=Object.entries(d.PartsMainStats[(H=e.selectedRelic)==null?void 0:H.part]).map(A=>({label:Wl(A[1],J=>U.getStatIcon(J,!0),22),value:A[1]}))),l(L),i.setFieldValue("mainStatType",(oe=(X=e.selectedRelic)==null?void 0:X.main)==null?void 0:oe.stat)},[(T=e.selectedRelic)==null?void 0:T.part,(W=(D=e.selectedRelic)==null?void 0:D.main)==null?void 0:W.stat,i]),V.useEffect(()=>{var L,M,H,X;n.length>0&&(n.map(A=>A.value).includes((M=(L=e.selectedRelic)==null?void 0:L.main)==null?void 0:M.stat)?i.setFieldValue("mainStatType",(X=(H=e.selectedRelic)==null?void 0:H.main)==null?void 0:X.stat):i.setFieldValue("mainStatType",n[0].value)),f()},[i,n,(F=(B=e.selectedRelic)==null?void 0:B.main)==null?void 0:F.stat]);const S=L=>{const M=CR(L);M&&(WR(e.selectedRelic,M)&&(M.verified=!1),console.log("Completed relic",M),e.onOk(M),e.setOpen(!1))},u=()=>{Y.error("Submit failed!"),e.setOpen(!1)},m=L=>{var A,J;let M=[];L.part&&(M=Object.entries(d.PartsMainStats[L.part]).map(re=>({label:re[1],value:re[1]})),l(M),i.setFieldValue("mainStatType",(A=M[0])==null?void 0:A.value));const H=((J=M[0])==null?void 0:J.value)||i.getFieldValue("mainStatType"),X=i.getFieldValue("enhance"),oe=i.getFieldValue("grade");if(H!=null&&X!=null&&oe!=null){const re=[d.Stats.OHB,d.Stats.Physical_DMG,d.Stats.Physical_DMG,d.Stats.Fire_DMG,d.Stats.Ice_DMG,d.Stats.Lightning_DMG,d.Stats.Wind_DMG,d.Stats.Quantum_DMG,d.Stats.Imaginary_DMG],Je=[d.Stats.HP,d.Stats.ATK,d.Stats.SPD];let Re=Xe.calculateRelicMainStatValue(H,oe,X);re.includes(H)?Re=C.truncate10ths(Re):Je.includes(H)?Re=Math.floor(Re):Re=Re.toFixed(1),i.setFieldValue("mainStatValue",Re)}};function f(){const L=BR(i.getFieldsValue());R(L)}const p=()=>{e.setOpen(!1)},I=()=>{i.submit()},E=()=>{i.setFieldValue("enhance",Math.min(i.getFieldValue("enhance")+3,15))};return s.jsx(P,{form:i,layout:"vertical",preserve:!1,onFinish:S,onFinishFailed:u,onValuesChange:m,children:s.jsx(Bt,{width:560,centered:!0,destroyOnClose:!0,open:e.open,onCancel:()=>e.setOpen(!1),footer:[s.jsx(j,{onClick:p,children:"Cancel"},"back"),s.jsx(j,{type:"primary",onClick:I,children:"Submit"},"submit")],children:s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{gap:10,children:[s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(q,{children:"Part"}),s.jsx(P.Item,{name:"part",children:s.jsxs(gt.Group,{buttonStyle:"solid",children:[s.jsx(as,{value:d.Parts.Head,src:U.getPart(d.Parts.Head)}),s.jsx(as,{value:d.Parts.Hands,src:U.getPart(d.Parts.Hands)}),s.jsx(as,{value:d.Parts.Body,src:U.getPart(d.Parts.Body)}),s.jsx(as,{value:d.Parts.Feet,src:U.getPart(d.Parts.Feet)}),s.jsx(as,{value:d.Parts.PlanarSphere,src:U.getPart(d.Parts.PlanarSphere)}),s.jsx(as,{value:d.Parts.LinkRope,src:U.getPart(d.Parts.LinkRope)})]})}),s.jsx(q,{children:"Set"}),s.jsx(P.Item,{name:"set",children:s.jsx(N,{showSearch:!0,allowClear:!0,style:{width:300},placeholder:"Sets",options:c,maxTagCount:"responsive"})}),s.jsx(q,{children:"Enhance / Grade"}),s.jsxs(g,{gap:10,children:[s.jsx(P.Item,{name:"enhance",children:s.jsx(N,{showSearch:!0,style:{width:115},options:M0})}),s.jsx(j,{style:{width:50},onClick:E,children:"+3"}),s.jsx(P.Item,{name:"grade",children:s.jsx(N,{showSearch:!0,style:{width:115},options:[{value:2,label:"2 ★"},{value:3,label:"3 ★"},{value:4,label:"4 ★"},{value:5,label:"5 ★"}],onChange:f})})]}),s.jsx(q,{children:"Main stat"}),s.jsxs(g,{gap:10,children:[s.jsx(P.Item,{name:"mainStatType",children:s.jsx(N,{showSearch:!0,style:{width:210},placeholder:"Main Stat",maxTagCount:"responsive",options:n,disabled:n.length<=1})}),s.jsx(P.Item,{name:"mainStatValue",children:s.jsx(ba,{controls:!1,disabled:!0,style:{width:80}})})]})]}),s.jsx("div",{style:{display:"block",minWidth:12}}),s.jsxs(g,{vertical:!0,gap:5,style:{},children:[s.jsx(q,{children:"Equipped by"}),s.jsx(P.Item,{name:"equippedBy",children:s.jsx(N,{showSearch:!0,filterOption:C.titleFilterOption,style:{height:35},options:r,optionLabelProp:"title"})}),s.jsx("div",{style:{height:180,overflow:"hidden",marginTop:7,borderRadius:10,boxShadow:`0px 0px 0px 1px ${a.colorBorder} inset`},children:s.jsx("img",{style:{width:"100%"},src:U.getCharacterPreviewById(h=="None"?"":h)})})]})]}),s.jsx(g,{gap:20,children:s.jsxs(g,{vertical:!0,gap:5,style:{width:"100%"},children:[s.jsxs(g,{justify:"space-between",children:[s.jsx(q,{children:"Substats"}),s.jsx(g,{style:{width:180},children:s.jsx(q,{children:"Substat upgrades"})})]}),s.jsx(yi,{index:0,upgrades:b,relicForm:i,resetUpgradeValues:f,plusThree:E}),s.jsx(yi,{index:1,upgrades:b,relicForm:i,resetUpgradeValues:f,plusThree:E}),s.jsx(yi,{index:2,upgrades:b,relicForm:i,resetUpgradeValues:f,plusThree:E}),s.jsx(yi,{index:3,upgrades:b,relicForm:i,resetUpgradeValues:f,plusThree:E})]})})]})})})}Hs.propTypes={selectedRelic:z.object,type:z.string,onOk:z.func,setOpen:z.func,open:z.bool};function yi(e){const a=V.useRef(null),[i,n]=Zt.useState(!1),l=`substatType${e.index}`,o=`substatValue${e.index}`;e.relicForm.getFieldValue(l);const r=()=>{a.current&&a.current.select()};function c(b){console.log(e,b),e.relicForm.setFieldValue(o,e.upgrades[e.index][b]),e.resetUpgradeValues(),e.plusThree()}function h(b){var S,u;const R=(u=(S=e.upgrades)==null?void 0:S[e.index])==null?void 0:u[b.quality];return s.jsx(g,{style:{width:"100%"},children:s.jsx(j,{type:i?"default":"dashed",style:{width:"100%",padding:0},onClick:()=>c(b.quality),disabled:R==null,tabIndex:-1,children:R||""})})}return s.jsxs(g,{gap:10,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[s.jsxs(g,{gap:10,children:[s.jsx(P.Item,{name:l,children:s.jsx(N,{showSearch:!0,allowClear:!0,style:{width:210},placeholder:"Substat",maxTagCount:"responsive",options:W0,listHeight:750,onChange:()=>{e.relicForm.getFieldValue(l)?e.relicForm.setFieldValue(o,0):e.relicForm.setFieldValue(o,void 0),e.resetUpgradeValues()},tabIndex:0})}),s.jsx(P.Item,{name:`substatValue${e.index}`,children:s.jsx(qt,{ref:a,onFocus:r,style:{width:80},onChange:e.resetUpgradeValues,tabIndex:0})})]}),s.jsx(Zc,{style:{width:12}}),s.jsxs(g,{gap:5,style:{width:"100%"},children:[s.jsx(h,{quality:"low"}),s.jsx(h,{quality:"mid"}),s.jsx(h,{quality:"high"})]})]})}function Po(e){var a;return C.objectHash({grade:e.grade,enhance:e.enhance,part:e.part,set:e.set,mainStatType:(a=e.main)==null?void 0:a.stat,substats:e.substats})}function WR(e,a){if(!e||!a)return!0;const i=Po(e),n=Po(a);return i!=n}const{Text:MR}=be,Cs=yt(MR)`
    font-stretch: 95%;
    white-space: nowrap;
`,VR=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",children:s.jsx("g",{transform:"translate(24 1) scale(-1 1)",children:s.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"3",d:"M8 12L15 5M8 12L15 19"})})}),FR=e=>s.jsx(rs,{component:VR,...e}),zs=(e,a,i)=>{if(!(e!=null&&e.stat)||e.value==null)return s.jsx(g,{justify:"space-between",children:s.jsx(g,{children:s.jsx("img",{src:U.getBlank(),style:{width:ut,height:ut,marginRight:2,marginLeft:-3}})})});let n;return a?n=_.renderMainStatNumber(e):n=_.renderSubstatNumber(e,i),n+=C.isFlat(e.stat)?"":"%",s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsxs(g,{children:[s.jsx("img",{src:U.getStatIcon(e.stat),style:{width:ut,height:ut,marginRight:2,marginLeft:-3}}),s.jsx(Cs,{children:d.StatsToReadable[e.stat]})]}),a?s.jsx(Cs,{children:n}):s.jsxs(g,{justify:"space-between",style:{width:"41.5%"},children:[s.jsx(g,{gap:0,align:"center",children:e.addedRolls!=null&&xR(e)}),s.jsx(Cs,{children:n})]})]})};function xR(e){const a=[];for(let i=0;i<e.addedRolls;i++)a.push(s.jsx(FR,{style:{marginRight:-5,opacity:.75}},i));return e.addedRolls==0&&a.push(s.jsx("div",{},0)),a}const ct=({relic:e,characterId:a=void 0,score:i,source:n="",setSelectedRelic:l=()=>{},setEditModalOpen:o=()=>{},setAddModelOpen:r=()=>{}})=>{var T;e={enhance:0,part:void 0,set:void 0,grade:0,substats:[],main:void 0,equippedBy:void 0,...e};const{enhance:c,part:h,set:b,substats:R,main:S,equippedBy:u,id:m}=e,f=b?U.getSetImage(b,h):U.getBlank(),p=u?U.getCharacterAvatarById(u):U.getBlank(),I=e!==void 0&&i!==void 0,E=()=>{!m&&!a||n==="scorer"||n==="builds"||(m?(l(e),o(!0)):(console.log(`Add new relic for characterId=${a}.`),e.equippedBy=a,e.enhance=15,e.grade=5,l(e),r(!0)))};return s.jsx(Bs,{size:"small",hoverable:n!="scorer"&&n!="builds",onClick:E,style:{width:200,height:280},children:s.jsxs(g,{vertical:!0,justify:"space-between",style:{height:255},children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx("img",{style:{height:50,width:50},title:b,src:f}),s.jsx(g,{vertical:!0,align:"center",children:s.jsxs(g,{align:"center",gap:5,children:[_.renderGrade(e),s.jsx(g,{style:{width:30},justify:"space-around",children:s.jsx(Cs,{children:m!=null?`+${c}`:""})})]})}),s.jsx("img",{style:{height:50,width:50},src:p})]}),s.jsx(It,{style:{margin:"6px 0px 6px 0px"}}),zs(S,!0,e),s.jsx(It,{style:{margin:"6px 0px 6px 0px"}}),s.jsxs(g,{vertical:!0,gap:0,children:[zs(R[0],!1,e),zs(R[1],!1,e),zs(R[2],!1,e),zs(R[3],!1,e)]}),s.jsx(It,{style:{margin:"6px 0px 6px 0px"}}),s.jsxs(g,{justify:"space-between",children:[s.jsxs(g,{children:[s.jsx("img",{src:I?U.getStarBw():U.getBlank(),style:{width:ut,height:ut,marginRight:2,marginLeft:-3}}),s.jsx(Cs,{children:I?"Score":""})]}),s.jsx(Cs,{children:I?`${i.score} (${i.rating})${(T=i.meta)!=null&&T.modified?" *":""}`:""})]})]})})};ct.propTypes={relic:z.object,source:z.string,characterId:z.string,score:z.object,setEditModalOpen:z.func,setSelectedRelic:z.func};const No=["F","F","F","F+","D","D+","C","C+","B","B+","A","A+","S","S+","SS","SS+","SSS","SSS+","WTF","WTF+"],Ha=1.8,Ia=.582,di=5.1,rt={[d.Parts.Body]:{[d.Stats.HP_P]:1.3,[d.Stats.ATK_P]:1.3,[d.Stats.DEF_P]:1.3,[d.Stats.CR]:1.7,[d.Stats.CD]:1.7,[d.Stats.OHB]:1.7,[d.Stats.EHR]:1.7},[d.Parts.Feet]:{[d.Stats.HP_P]:1,[d.Stats.ATK_P]:1,[d.Stats.DEF_P]:1,[d.Stats.SPD]:1.6},[d.Parts.PlanarSphere]:{[d.Stats.HP_P]:1.6,[d.Stats.ATK_P]:1.6,[d.Stats.DEF_P]:1.6,[d.Stats.Physical_DMG]:Ha,[d.Stats.Fire_DMG]:Ha,[d.Stats.Ice_DMG]:Ha,[d.Stats.Lightning_DMG]:Ha,[d.Stats.Wind_DMG]:Ha,[d.Stats.Quantum_DMG]:Ha,[d.Stats.Imaginary_DMG]:Ha},[d.Parts.LinkRope]:{[d.Stats.HP_P]:1.1,[d.Stats.ATK_P]:1.1,[d.Stats.DEF_P]:1.1,[d.Stats.BE]:1.4,[d.Stats.ERR]:2}},Yo=new Set(d.SubStats);class it{constructor(){bs(this,"characterRelicScoreMetas");bs(this,"optimalPartCharacterScore");bs(this,"characterBaseStats");this.characterRelicScoreMetas=new Map,this.optimalPartCharacterScore=new Map,this.characterBaseStats=new Map}getBaseStats(a){let i=this.characterBaseStats.get(a);if(!i){const n=Z.getMetadata().characters[a].stats;i={HP:n[d.Stats.HP],ATK:n[d.Stats.ATK],DEF:n[d.Stats.DEF]},this.characterBaseStats.set(a,i)}return i}getRelicScoreMeta(a){let i=this.characterRelicScoreMetas.get(a);if(!i){i=C.clone(Z.getScoringMetadata(a));const n=this.getBaseStats(a);i.stats[d.Stats.HP]=i.stats[d.Stats.HP_P]*38/(n.HP*2*.03888),i.stats[d.Stats.ATK]=i.stats[d.Stats.ATK_P]*19/(n.ATK*2*.03888),i.stats[d.Stats.DEF]=i.stats[d.Stats.DEF_P]*19/(n.DEF*2*.0486),i.sortedSubstats=Object.entries(i.stats).filter(l=>Yo.has(l[0])).sort((l,o)=>o[1]-l[1]),i.groupedSubstats=new Map;for(const[l,o]of i.sortedSubstats)i.groupedSubstats.has(o)||i.groupedSubstats.set(o,[]),i.groupedSubstats.get(o).push(l);for(const l of i.groupedSubstats.values())l.sort();this.characterRelicScoreMetas.set(a,i)}return i}substatScore(a,i){const n=this.getRelicScoreMeta(i);if(!n||!i||!a)return console.warn("substatScore() called but missing 1 or more arguments. relic:",a,"meta:",n,"id:",i),{score:0,mainStatScore:0,scoringMetadata:n,part:a==null?void 0:a.part};const l={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:64.8/43.2*Se[d.Stats.HP_P][5].high/Se[d.Stats.HP][5].high,[d.Stats.ATK]:64.8/43.2*Se[d.Stats.ATK_P][5].high/Se[d.Stats.ATK][5].high,[d.Stats.DEF]:64.8/54*Se[d.Stats.DEF_P][5].high/Se[d.Stats.DEF][5].high,[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5606,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25.032,[d.Stats.BE]:64.8/64.8},o=n.stats;let r=0;for(const h of a.substats)r+=h.value*(o[h.stat]||0)*l[h.stat];const c=((h,b,R,S)=>{if([d.Parts.Head,d.Parts.Hands].includes(R))return 0;let u=0;switch(b){case 2:u=12.8562;break;case 3:u=25.8165;break;case 4:u=43.1304;break;default:u=64.8}return u*(S[R].includes(h)?1:o[h])})(a.main.stat,a.grade,a.part,n.parts);return{score:r,mainStatScore:c,part:a.part,scoringMetadata:n}}scoreOptimalRelic(a,i){var c;const n=(c=this.optimalPartCharacterScore.get(a))==null?void 0:c.get(i);if(n!=null)return n;let l=0;const o=this.getRelicScoreMeta(i),r=UR(o);switch(r){case 5:l=1/0;break;case 1:case 2:case 3:{let h=[];const b=o.sortedSubstats[0][0],R=o.sortedSubstats[1][0];a==d.Parts.Head&&r==1||a==d.Parts.Hands&&r==2?h=Qa(5,{stat:b,value:Se[b][5].high*6}):h=Qa(5,{stat:b,value:Se[b][5].high*6},{stat:R,value:Se[R][5].high});const S=ps(5,15,a,d.Stats.HP_P,h);l=this.substatScore(S,i).score}break;case 0:{const h=o.sortedSubstats[0][0],b=Qa(5,{stat:h,value:Se[h][5].high*6});l=this.substatScore(ps(5,15,a,d.Stats.HP_P,b),i).score}break;case 4:{let h="";const b=o.parts[a]||[],R=Object.entries(o.stats).map(p=>b.includes(p[0])?[p[0],1]:[p[0],p[1]]).sort((p,I)=>I[1]-p[1]);if(C.hasMainStat(a)){const p=R.findIndex(([D,W])=>ti[a].includes(D)),I=R[p][1];h=R[p][0];let E=!1,T=!0;for(let D=p;D<R.length;D++){const[W,B]=R[D];if(B!=I)break;if(!ti[a].includes(W))continue;const F=b.includes(W),L=Yo.has(W);E&&!F||!T&&L||E===F&&T==L||(h=W,E=F,T=L)}}else h=R.find(([p,I])=>ti[a][0]===p)[0];const u=o.sortedSubstats.filter(([p,I])=>p!==h).slice(0,4),m=Qa(5,{stat:u[0][0],value:Se[u[0][0]][5].high*6},{stat:u[1][0],value:Se[u[1][0]][5].high},{stat:u[2][0],value:Se[u[2][0]][5].high},{stat:u[3][0],value:Se[u[3][0]][5].high}),f=ps(5,15,a,h,m);l=this.substatScore(f,i).score}break}return this.optimalPartCharacterScore.has(a)||this.optimalPartCharacterScore.set(a,new Map),this.optimalPartCharacterScore.get(a).set(i,l),l}static scoreFutureRelic(a,i,n=!1){return new it().scoreFutureRelic(a,i,n)}scoreFutureRelic(a,i,n=!1){if(!i||!a)return console.warn("scoreFutureRelic() called but lacking arguments"),{current:0,best:0,average:0,worst:0,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const l=this.getRelicScoreMeta(i);if(!l.sortedSubstats[0][0])return{current:0,best:0,average:0,worst:0,meta:{bestAddedStats:[""],bestUpgradedStats:[""]},substatScore:{best:0,average:0,worst:0}};const o=(()=>{switch(a.grade){case 2:return 12.8562;case 3:return 25.8165;case 4:return 43.1304;case 5:return 64.8}})(),r=C.hasMainStat(a.part)?(PR(a,l)-1)*o:0,c=l.sortedSubstats.filter(M=>M[0]!=a.main.stat&&!a.substats.map(H=>H.stat).includes(M[0])),h=Math.ceil((Wi(a.grade)-a.enhance)/3)-(4-a.substats.length),b=Yn(a.part,a.main.stat,l),R=this.scoreOptimalRelic(a.part,i),S=Math.max(0,this.substatScore(a,i).score/R*100*Ia+b+r),u=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let M=0;M<a.substats.length;M++)u[M].stat=a.substats[M].stat,u[M].value=a.substats[M].value;for(let M=a.substats.length;M<4;M++){const H=c[M-a.substats.length][0];u[M].stat=H,u[M].value=Se[H][5].high}const m=kR(u,l);u[m.index].value+=h*Se[m.stat][a.grade].high;let f=ps(a.grade,Wi(a.grade),a.part,a.main.stat,Qa(5,u[0],u[1],u[2],u[3]));const p=Math.max(0,(this.substatScore(f,i).score+r)/R*100*Ia+b),I=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let M=0;M<a.substats.length;M++)I[M].stat=a.substats[M].stat,I[M].value=a.substats[M].value+h/4*Se[I[M].stat][a.grade].mid;let E=0;const T={[d.Stats.HP_P]:64.8/43.2,[d.Stats.ATK_P]:64.8/43.2,[d.Stats.DEF_P]:64.8/54,[d.Stats.HP]:64.8/43.2*Se[d.Stats.HP_P][5].high/Se[d.Stats.HP][5].high,[d.Stats.ATK]:64.8/43.2*Se[d.Stats.ATK_P][5].high/Se[d.Stats.ATK][5].high,[d.Stats.DEF]:64.8/54*Se[d.Stats.DEF_P][5].high/Se[d.Stats.DEF][5].high,[d.Stats.CR]:64.8/32.4,[d.Stats.CD]:64.8/64.8,[d.Stats.OHB]:64.8/34.5606,[d.Stats.EHR]:64.8/43.2,[d.Stats.RES]:64.8/43.2,[d.Stats.SPD]:64.8/25.032,[d.Stats.BE]:64.8/64.8};for(const M of c){const[H,X]=M;E+=Se[H][a.grade].mid*X*T[H]}E=E/c.length;for(let M=a.substats.length;M<4;M++)I[M].stat=l.sortedSubstats[0][0],I[M].value=E*(1+h/4)/(T[l.sortedSubstats[0][0]]*l.sortedSubstats[0][1]);f=ps(a.grade,Wi(a.grade),a.part,a.main.stat,Qa(5,I[0],I[1],I[2],I[3]));const D=Math.max(0,(this.substatScore(f,i).score+r)/R*100*Ia+b);c.reverse();const W=[{stat:"",value:0},{stat:"",value:0},{stat:"",value:0},{stat:"",value:0}];for(let M=0;M<a.substats.length;M++)W[M].stat=a.substats[M].stat,W[M].value=a.substats[M].value;for(let M=a.substats.length;M<4;M++){const H=c[M-a.substats.length][0];W[M].stat=H,W[M].value=Se[H][5].high}const B=HR(W,l);W[B.index].value+=Se[B.stat][a.grade].low*h,f=ps(a.grade,Wi(a.grade),a.part,a.main.stat,Qa(5,W[0],W[1],W[2],W[3]));const F=Math.max(0,(this.substatScore(f,i).score+r)/R*100*Ia+b);let L;if(n){const M=[];if(a.substats.length<4)for(const[re,Je]of c)Je>=c[c.length-1][1]&&M.push(re);const H=l.sortedSubstats.filter(re=>a.main.stat!==re[0]),X=[],oe={...C.arrayToMap(a.substats,"stat"),...C.stringArrayToMap(M)},A=H.filter(re=>oe[re[0]]),J=A[0][1];for(const[re,Je]of A)oe[re]&&Je>=J&&X.push(re);L={bestAddedStats:M,bestUpgradedStats:X}}return{current:S,best:p,average:D,worst:F,meta:L}}static scoreCurrentRelic(a,i){return new it().scoreCurrentRelic(a,i)}scoreCurrentRelic(a,i){if(!a)return{score:"",rating:"",mainStatScore:0};if(!i)return console.warn("scoreCurrentRelic called but lacking character",a),{score:"",rating:"",mainStatScore:0};const n=this.getRelicScoreMeta(i),l=a.part,o=Yn(a.part,a.main.stat,n),r=this.substatScore(a,i),c=this.scoreOptimalRelic(l,i),h=r.score/c*100*Ia+o,b=Ao(h),R=r.mainStatScore;return{score:h.toFixed(1),rating:b,mainStatScore:R,part:l,meta:n}}static scoreCharacterWithRelics(a,i){return new it().scoreCharacterWithRelics(a,i)}scoreCharacterWithRelics(a,i){if(!(a!=null&&a.id))return console.warn("scoreCharacterWithRelics called but no character given"),{relics:[],totalScore:0,totalRating:"???"};const n=i.map(c=>this.scoreCurrentRelic(c,a.id));let l=0;for(const c of n)l+=Number(c.score)+Number(c.mainStatScore);const o=3-LR(i.filter(c=>c!=null).map(c=>c.set));l=Math.max(0,l-o*3*di);const r=Ao((l-4*64.8)/6);return{relics:n,totalScore:l,totalRating:r}}static scoreCharacter(a){return new it().scoreCharacter(a)}scoreCharacter(a){if(!a)return{};const i=window.store.getState().relicsById,n=Object.values(a.equipped).map(l=>i[l??""]);return this.scoreCharacterWithRelics(a,n)}static scoreRelicPotential(a,i,n=!1){return new it().scoreRelicPotential(a,i,n)}scoreRelicPotential(a,i,n=!1){const l=this.getRelicScoreMeta(i),o=Yn(a.part,a.main.stat,l),r=this.scoreFutureRelic(a,i,n);return C.hasMainStat(a.part)&&(r.best=Math.max(0,r.best-o),r.average=Math.max(0,r.average-o),r.worst=Math.max(0,r.worst-o)),{bestPct:r.best/Ia,averagePct:r.average/Ia,worstPct:r.worst/Ia,meta:r.meta}}}function LR(e){let a=0;const i={};return e.forEach(n=>{i[n]?(a+=1,i[n]=0):i[n]=1}),a}function Yn(e,a,i){const n=i.stats,l=i.parts;if(e==d.Parts.Body||e==d.Parts.Feet||e==d.Parts.PlanarSphere||e==d.Parts.LinkRope){const o=l[e].includes(a)?1:n[a];return rt[e][a]*di*o}return 0}function ps(e,a,i,n,l){return{weights:void 0,enhance:a,equippedBy:"",grade:e,id:"",set:"",part:i,main:{stat:n,value:Jn[n][e].base+Jn[n][e].increment*a},substats:l}}function Qa(e,a,i,n,l){const o=[{stat:a.stat,value:a.value,rolls:{high:Se[a.stat][e].high,mid:Se[a.stat][e].mid,low:Se[a.stat][e].low},addedRolls:0}];return i&&o.push({stat:i.stat,value:i.value,rolls:{high:Se[i.stat][e].high,mid:Se[i.stat][e].mid,low:Se[i.stat][e].low},addedRolls:0}),n&&o.push({stat:n.stat,value:n.value,rolls:{high:Se[n.stat][e].high,mid:Se[n.stat][e].mid,low:Se[n.stat][e].low},addedRolls:0}),l&&o.push({stat:l.stat,value:l.value,rolls:{high:Se[l.stat][e].high,mid:Se[l.stat][e].mid,low:Se[l.stat][e].low},addedRolls:0}),o}function UR(e){const a=e.sortedSubstats;if(a[0][1]==0)return 5;if(a[1][1]==0)return 0;const i=[d.Stats.HP,d.Stats.HP_P],n=[d.Stats.ATK,d.Stats.ATK_P],l=[d.Stats.DEF,d.Stats.DEF_P];return i.includes(a[1][0])&&i.includes(a[0][0])&&a[2][1]==0?1:n.includes(a[1][0])&&n.includes(a[0][0])&&a[2][1]==0?2:l.includes(a[1][0])&&l.includes(a[0][0])&&a[2][1]==0?3:4}function kR(e,a){let i=0,n=0,l="";for(let o=0;o<e.length;o++){const r=a.stats[e[o].stat];(r>n||o==0)&&(n=r,i=o,l=e[o].stat)}return{index:i,weight:n,stat:l}}function HR(e,a){let i=0,n=1,l="";for(let o=0;o<e.length;o++){const r=a.stats[e[o].stat];(r<n||o==0)&&(n=r,i=o,l=e[o].stat)}return{index:i,weight:n,stat:l}}function Wi(e){switch(e){case 2:return 6;case 3:return 9;case 4:return 12;default:return 15}}function Ao(e){const a=Math.min(Math.floor(e/(di/2)),No.length-1);return a<0?"???":No[a]}function PR(e,a){return C.hasMainStat(e.part)?a.parts[e.part].includes(e.main.stat)?1:a.stats[e.main.stat]:0}function F0(e){const[a,i]=V.useState();window.setOptimizerBuild=i;function n(I){const E=Ml.onEditOk(l,I);o(E)}const[l,o]=V.useState(),[r,c]=V.useState(!1),h=Z.getRelicsById(),b=$.getForm().characterId,R=a?it.scoreCurrentRelic(h[a==null?void 0:a.Head],b):void 0,S=a?it.scoreCurrentRelic(h[a==null?void 0:a.Hands],b):void 0,u=a?it.scoreCurrentRelic(h[a==null?void 0:a.Body],b):void 0,m=a?it.scoreCurrentRelic(h[a==null?void 0:a.Feet],b):void 0,f=a?it.scoreCurrentRelic(h[a==null?void 0:a.PlanarSphere],b):void 0,p=a?it.scoreCurrentRelic(h[a==null?void 0:a.LinkRope],b):void 0;return s.jsxs("div",{children:[s.jsxs(g,{gap:5,id:"optimizerBuildPreviewContainer",children:[s.jsx(ct,{setEditModalOpen:c,setSelectedRelic:o,relic:h[a==null?void 0:a.Head],score:R}),s.jsx(ct,{setEditModalOpen:c,setSelectedRelic:o,relic:h[a==null?void 0:a.Hands],score:S}),s.jsx(ct,{setEditModalOpen:c,setSelectedRelic:o,relic:h[a==null?void 0:a.Body],score:u}),s.jsx(ct,{setEditModalOpen:c,setSelectedRelic:o,relic:h[a==null?void 0:a.Feet],score:m}),s.jsx(ct,{setEditModalOpen:c,setSelectedRelic:o,relic:h[a==null?void 0:a.PlanarSphere],score:f}),s.jsx(ct,{setEditModalOpen:c,setSelectedRelic:o,relic:h[a==null?void 0:a.LinkRope],score:p})]}),s.jsx(Hs,{selectedRelic:l,type:"edit",onOk:n,setOpen:c,open:r})]})}F0.propTypes={build:z.object};const{useToken:x0}=Et,{useBreakpoint:NR}=Cc,{Text:qi}=be,YR={[va]:"GPU acceleration: Enabled",[Ms]:"GPU acceleration: Enabled",[Qt]:"GPU acceleration: Disabled"};function AR(e){return[{label:s.jsx("div",{style:{width:"100%",fontWeight:e==va?"bold":""},children:"GPU acceleration enabled (experimental)"}),key:va},{label:s.jsx("div",{style:{width:"100%",fontWeight:e==Ms?"bold":""},children:"GPU acceleration enabled (stable)"}),key:Ms},{label:s.jsx("div",{style:{width:"100%",fontWeight:e==Qt?"bold":""},children:"CPU only"}),key:Qt}]}function Yt(e){const a=e.total?`${Number(e.right).toLocaleString()} / ${Number(e.total).toLocaleString()} - (${Math.ceil(Number(e.right)/Number(e.total)*100)}%)`:`${Number(e.right).toLocaleString()}`;return s.jsxs(g,{justify:"space-between",children:[s.jsx(qi,{style:{lineHeight:"24px"},children:e.left}),s.jsx(It,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),s.jsx(qi,{style:{lineHeight:"24px"},children:a})]})}Yt.propTypes={total:z.number,right:z.number,left:z.string};const Vt=5;function wR(){const{lg:e,xl:a,xxl:i}=NR(),n=Z.getState().settings[we.PermutationsSidebarBehavior.name]==we.PermutationsSidebarBehavior.NoShow,l=Z.getState().settings[we.PermutationsSidebarBehavior.name]==we.PermutationsSidebarBehavior.ShowXL,o=Z.getState().settings[we.PermutationsSidebarBehavior.name]==we.PermutationsSidebarBehavior.ShowXXL;function r(){return n?s.jsx(wo,{}):e&&l&&!a||e&&o&&!i?s.jsx(XR,{}):s.jsx(wo,{})}return r()}function L0(){const e=window.store(a=>a.savedSession[nt.computeEngine]);return s.jsx(ui,{menu:{items:AR(e),onClick:a=>{a.key==Qt?(window.store.getState().setSavedSessionKey(nt.computeEngine,Qt),Message.success(`Switched compute engine to [${a.key}]`)):I0(!0).then(i=>{i&&(window.store.getState().setSavedSessionKey(nt.computeEngine,a.key),Message.success(`Switched compute engine to [${a.key}]`))})}},style:{width:"100%",flex:1},className:"custom-dropdown-button",trigger:["click"],children:s.jsx(j,{style:{padding:3},children:s.jsxs(g,{justify:"space-around",align:"center",style:{width:"100%"},children:[s.jsx("div",{style:{width:1}}),s.jsx(qi,{children:YR[e]}),s.jsx(en,{})]})})})}function U0(){const e=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData"),a=window.optimizerGrid.current.api.getSelectedNodes();if(!a||a.length==0)Message.warning("No row selected");else if(a[0].data.statSim)Message.warning("Custom simulation rows are not pinnable");else if(e.find(i=>String(i.id)==String(a[0].data.id)))Message.warning("This build is already pinned");else{const i=a[0].data;e.push(i),window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:e})}}function k0(){const e=window.optimizerGrid.current.api.getGridOption("pinnedTopRowData");e.length&&window.optimizerGrid.current.api.updateGridOptions({pinnedTopRowData:[e[0]]})}function wo(){const{token:e}=x0(),a=window.store(F=>F.statDisplay),i=window.store(F=>F.setStatDisplay),n=window.store(F=>F.permutationDetails),l=window.store(F=>F.permutations),o=window.store(F=>F.permutationsSearched),r=window.store(F=>F.permutationsResults),c=window.store(F=>F.optimizationInProgress),h=window.store(F=>F.setOptimizationInProgress),b=window.store(F=>F.optimizerStartTime),R=window.store(F=>F.optimizerEndTime),S=window.store(F=>F.savedSession[nt.computeEngine]),u=window.store(F=>F.optimizerRunningEngine),[m,f]=V.useState(void 0),[p,I]=V.useState(!1);function E(){console.log("Cancel clicked"),h(!1),Ls.cancel(window.store.getState().optimizationId)}window.optimizerCancelClicked=E;function T(){console.log("Reset clicked"),$.resetFilters()}function D(){console.log("Filter clicked"),$.applyRowFilters()}function W(){l<1e9||S==va||S==Ms?B():I(!0)}function B(){f(Date.now()),window.optimizerStartClicked()}return s.jsxs(g,{children:[s.jsx(H0,{startSearch:B,manyPermsModalOpen:p,setManyPermsModalOpen:I}),s.jsx(g,{vertical:!0,style:{overflow:"clip"},children:s.jsx(g,{style:{position:"sticky",top:"50%",transform:"translateY(-50%)",paddingLeft:10},children:s.jsxs(Nt,{height:635,children:[s.jsxs(g,{vertical:!0,gap:10,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Permutations"}),s.jsx(Ke,{type:Oe.optimizationDetails()})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(Yt,{left:"Head",right:n.Head,total:n.HeadTotal}),s.jsx(Yt,{left:"Hands",right:n.Hands,total:n.HandsTotal}),s.jsx(Yt,{left:"Body",right:n.Body,total:n.BodyTotal}),s.jsx(Yt,{left:"Feet",right:n.Feet,total:n.FeetTotal}),s.jsx(Yt,{left:"Sphere",right:n.PlanarSphere,total:n.PlanarSphereTotal}),s.jsx(Yt,{left:"Rope",right:n.LinkRope,total:n.LinkRopeTotal})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(Yt,{left:"Perms",right:l}),s.jsx(Yt,{left:"Searched",right:o}),s.jsx(Yt,{left:"Results",right:r})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(q,{children:jR(b,R,l,o,c,u)}),s.jsx(Bc,{strokeColor:e.colorPrimary,steps:17,size:[8,5],percent:Math.floor(Number(o)/Number(l)*100)})]})]}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(q,{children:"Controls"}),s.jsxs(g,{gap:Vt,style:{marginBottom:2},vertical:!0,children:[s.jsx(g,{gap:Vt,children:s.jsx(j,{icon:s.jsx(Rr,{}),type:"primary",loading:c,onClick:W,style:{flex:1},children:"Start optimizer"})}),s.jsx(L0,{}),s.jsxs(g,{gap:Vt,children:[s.jsx(j,{onClick:E,style:{flex:1},children:"Cancel"}),s.jsx(Oa,{title:"Reset all filters?",description:"All filters will be reset to their default values",onConfirm:T,okText:"Yes",cancelText:"No",children:s.jsx(j,{style:{flex:1},children:"Reset"})})]}),s.jsx(g,{gap:Vt})]})]}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Stat and filter view"}),s.jsx(Ke,{type:Oe.statDisplay()})]}),s.jsxs(gt.Group,{onChange:F=>{const{target:{value:L}}=F;i(L)},optionType:"button",buttonStyle:"solid",value:a,style:{width:"100%",display:"flex"},children:[s.jsx(gt,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"combat",children:"Combat stats"}),s.jsx(gt,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"base",defaultChecked:!0,children:"Basic stats"})]})]}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Results"}),s.jsx(Ke,{type:Oe.actions()})]}),s.jsxs(g,{gap:Vt,justify:"space-around",children:[s.jsx(j,{type:"primary",onClick:$.equipClicked,style:{width:"100px"},children:"Equip"}),s.jsx(j,{onClick:D,style:{width:"100px"},children:"Filter"})]}),s.jsxs(g,{gap:Vt,justify:"space-around",children:[s.jsx(j,{style:{width:"100px"},onClick:U0,children:"Pin build"}),s.jsx(j,{style:{width:"100px"},onClick:k0,children:"Clear pins"})]})]})]})})})]})}function XR(){x0();const e="rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.15) 0px 0px 0px 1px inset",a=window.store(E=>E.statDisplay),i=window.store(E=>E.setStatDisplay),n=window.store(E=>E.permutations),l=window.store(E=>E.permutationsSearched),o=window.store(E=>E.permutationsResults),r=window.store(E=>E.optimizationInProgress),c=window.store(E=>E.setOptimizationInProgress),[h,b]=V.useState(void 0);window.store(E=>E.optimizerStartTime),window.store(E=>E.optimizerEndTime);const[R,S]=V.useState(!1);function u(){console.log("Cancel clicked"),c(!1),Ls.cancel(window.store.getState().optimizationId)}window.optimizerCancelClicked=u;function m(){console.log("Reset clicked"),$.resetFilters()}function f(){console.log("Filter clicked"),$.applyRowFilters()}function p(){const E=window.store.getState().savedSession[nt.computeEngine];n<1e9||E==va||E==Ms?I():S(!0)}function I(){b(Date.now()),window.optimizerStartClicked()}return s.jsxs(g,{height:150,justify:"center",style:{overflow:"clip",position:"fixed",width:"100%",bottom:0,left:0,backgroundColor:"rgb(29 42 71)",boxShadow:e,borderRadius:5,padding:Mr,zIndex:3},children:[s.jsx(H0,{startSearch:I,manyPermsModalOpen:R,setManyPermsModalOpen:S}),s.jsxs(g,{gap:20,justify:"space-evenly",children:[s.jsxs(g,{vertical:!0,gap:Vt,children:[s.jsxs(g,{justify:"space-between",align:"center",style:{minWidth:211},children:[s.jsx(q,{children:"Permutations"}),s.jsx(Ke,{type:Oe.optimizationDetails()})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(Yt,{left:"Perms",right:n}),s.jsx(Yt,{left:"Searched",right:l}),s.jsx(Yt,{left:"Results",right:o})]})]}),s.jsxs(g,{vertical:!0,gap:Vt,style:{minWidth:211},children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Stat and filter view"}),s.jsx(Ke,{type:Oe.statDisplay()})]}),s.jsxs(gt.Group,{onChange:E=>{const{target:{value:T}}=E;i(T)},optionType:"button",buttonStyle:"solid",value:a,style:{width:"100%",display:"flex"},children:[s.jsx(gt,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"base",defaultChecked:!0,children:"Basic stats"}),s.jsx(gt,{style:{display:"flex",flex:1,justifyContent:"center",paddingInline:0},value:"combat",children:"Combat stats"})]}),s.jsx(g,{vertical:!0,children:s.jsx(L0,{})})]}),s.jsxs(g,{vertical:!0,gap:5,style:{minWidth:211},children:[s.jsx(q,{children:"Controls"}),s.jsxs(g,{vertical:!0,gap:Vt,style:{marginBottom:2},children:[s.jsx(g,{gap:Vt,children:s.jsx(j,{icon:s.jsx(Rr,{}),type:"primary",loading:r,onClick:p,style:{flex:1},children:"Start optimizer"})}),s.jsxs(g,{gap:Vt,children:[s.jsx(j,{onClick:u,style:{flex:1},children:"Cancel"}),s.jsx(Oa,{title:"Reset all filters?",description:"All filters will be reset to their default values",onConfirm:m,okText:"Yes",cancelText:"No",children:s.jsx(j,{style:{flex:1},children:"Reset"})})]})]})]}),s.jsx(g,{vertical:!0,gap:Vt,style:{minWidth:211}}),s.jsxs(g,{vertical:!0,gap:Vt,style:{minWidth:211},children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Results"}),s.jsx(Ke,{type:Oe.actions()})]}),s.jsxs(g,{gap:Vt,justify:"space-around",children:[s.jsx(j,{type:"primary",onClick:$.equipClicked,style:{width:"100px"},children:"Equip"}),s.jsx(j,{onClick:f,style:{width:"100px"},children:"Filter"})]}),s.jsxs(g,{gap:Vt,justify:"space-around",children:[s.jsx(j,{style:{width:"100px"},onClick:U0,children:"Pin build"}),s.jsx(j,{style:{width:"100px"},onClick:k0,children:"Clear pins"})]})]})]})]})}function jR(e,a,i,n,l,o){if(!e)return"Progress";let r=Date.now();a&&(r=a);const c=o==Qt?n:Math.max(n,65536*512),h=r-e;if(!a&&h<5e3&&n<5e6||!n)return"Progress  (calculating ETA..)";const b=h/n*(i-n),R=c/(h/1e3);return l?`${Math.floor(R).toLocaleString()} / sec — ${C.msToReadable(b)} left`:`${Math.floor(R).toLocaleString()} / sec — Finished`}function H0(e){return s.jsx(Bt,{title:"Very large search requested",open:e.manyPermsModalOpen,width:900,destroyOnClose:!0,centered:!0,onOk:()=>e.setManyPermsModalOpen(!1),onCancel:()=>e.setManyPermsModalOpen(!1),footer:null,children:s.jsxs(g,{justify:"space-between",align:"center",style:{height:45,marginTop:30,marginBottom:15},gap:16,children:[s.jsx(qi,{children:"This optimization search will take a substantial amount of time to finish. You may want to enable the GPU acceleration setting or limit the search to only certain sets and main stats, or use the Substat weight filter to reduce the number of permutations."}),s.jsx(j,{onClick:()=>e.setManyPermsModalOpen(!1),style:{width:250},type:"primary",children:"Cancel search"}),s.jsx(j,{onClick:()=>{e.setManyPermsModalOpen(!1),e.startSearch()},style:{width:250},type:"primary",children:"Proceed with search"})]})})}const vR="ArrowLeft",OR="ArrowUp",KR="ArrowRight",_R="ArrowDown",Vl=(e,a,i)=>{const n=e.previousCellPosition;let l,o,r;function c(h){return h>=o||h<=-1?null:(r=a.current.api.getDisplayedRowAtIndex(h),a.current.api.setNodesSelected({nodes:[r],newValue:!0}),i(r),{rowIndex:h,column:n.column,rowPinned:n.rowPinned})}switch(e.key){case OR:return l=n.rowIndex-1,c(l);case _R:return l=n.rowIndex+1,o=e.api.getDisplayedRowCount(),c(l);case vR:case KR:default:return null}},{useToken:JR}=Et;function zR(){console.log("======================================================================= RENDER OptimizerGrid");const{token:e}=JR(),a=V.useRef();window.optimizerGrid=a;const i=V.useMemo(()=>$.getDataSource(),[]),n=window.store(r=>r.statDisplay),l=V.useMemo(()=>n=="combat"?pd:gd,[n]);eo.datasource=i;const o=V.useCallback(r=>Vl(r,a,c=>$.cellClicked(c)),[]);return s.jsx(g,{children:s.jsx("div",{id:"optimizerGridContainer",className:"ag-theme-balham-dark",style:{width:1225,minHeight:300,height:600,resize:"vertical",overflow:"hidden",...Il(e)},children:s.jsx(dl,{animateRows:!1,columnDefs:l,defaultColDef:Gd,gridOptions:eo,headerHeight:24,onCellClicked:$.cellClicked,ref:a,rowSelection:"single",navigateToNextCell:o})})})}function P0(){return console.log("======================================================================= RENDER OptimizerTab"),s.jsxs(g,{children:[s.jsxs(g,{vertical:!0,gap:10,style:{marginBottom:100},children:[s.jsx(ER,{}),s.jsx(zR,{}),s.jsx(F0,{})]}),s.jsx(rb,{}),s.jsx(db,{}),s.jsx(wR,{})]})}P0.propTypes={active:z.bool};const N0=(e,a)=>{const i=()=>{document.removeEventListener(e,a)};V.useEffect(()=>(document.addEventListener(e,a),()=>i()),[e,a])},{useToken:QR}=Et,{Text:$R}=be,qR=34,ef=34,tf=U.getBlank();function Y0(e){const a=window.store(M=>M.setRelicTabFilters),i=window.store(M=>M.setRelicsTabFocusCharacter),[n,l]=V.useState(),o=V.useMemo(()=>C.generateCharacterOptions(),[]);function r(M,H,X){function oe(A){const J={[t.Physical_DMG]:"Physical",[t.Fire_DMG]:"Fire",[t.Ice_DMG]:"Ice",[t.Lightning_DMG]:"Lightning",[t.Wind_DMG]:"Wind",[t.Quantum_DMG]:"Quantum",[t.Imaginary_DMG]:"Imaginary"},re=J[A]?30:ef,Je=U.getElement(J[A]),Re=Je!=tf?Je:H(A);return X?s.jsx(cr,{title:A,mouseEnterDelay:.2,children:s.jsx("img",{style:{width:re},src:Re})}):s.jsx("img",{style:{width:re},src:Re})}return M.map(A=>({key:A,display:oe(A)}))}function c(M,H){return M.map(X=>({key:X[0],display:s.jsx(g,{style:{width:H,height:qR},justify:"space-around",align:"center",children:s.jsx($R,{style:{fontSize:18},children:X[1]})})}))}function h(M){return M.map(H=>({key:H,display:_.renderGrade({grade:H})}))}function b(M){return M.map(H=>({key:H,display:_.renderGrade({grade:-1,verified:H},!0)}))}function R(M){return M.map(H=>({key:H,display:_.renderEquippedBy({equippedBy:H})}))}const S=h([2,3,4,5]),u=b(["true","false"]),m=r(Object.values(d.SetsRelics).concat(Object.values(d.SetsOrnaments)).filter(M=>!Ra[M]),M=>U.getSetImage(M,d.Parts.PlanarSphere),!0),f=r(Object.values(d.Parts),M=>U.getPart(M),!1),p=r(d.MainStats,M=>U.getStatIcon(M,!0),!0),I=r(d.SubStats,M=>U.getStatIcon(M,!0),!0),E=c([[0,"+0"],[3,"+3"],[6,"+6"],[9,"+9"],[12,"+12"],[15,"+15"]]),T=R(["true","false"]);window.refreshRelicsScore=()=>{setTimeout(()=>{D(n)},100)},N0("refreshRelicsScore",window.refreshRelicsScore),V.useEffect(()=>{Z.getState().settings[we.RelicPotentialLoadBehavior.name]==we.RelicPotentialLoadBehavior.ScoreAtStartup&&D(n)},[]);function D(M,H){var re,Je;const X=H?[H]:Object.values(Z.getRelicsById());console.log("idChange",M),i(M),l(M);const oe=o.map(Re=>Re.id),A=window.store.getState().excludedRelicPotentialCharacters,J=new it;for(const Re of X){Re.weights=M?J.scoreFutureRelic(Re,M):{current:0,best:0,average:0},Re.weights.potentialSelected=M?J.scoreRelicPotential(Re,M):{bestPct:0,averagePct:0},Re.weights.potentialAllAll={bestPct:0,averagePct:0},Re.weights.potentialAllCustom={bestPct:0,averagePct:0};for(const bt of oe){const et=J.scoreRelicPotential(Re,bt);Re.weights.potentialAllAll={bestPct:Math.max(et.bestPct,Re.weights.potentialAllAll.bestPct),averagePct:Math.max(et.averagePct,Re.weights.potentialAllAll.averagePct)},A.includes(bt)||(Re.weights.potentialAllCustom={bestPct:Math.max(et.bestPct,Re.weights.potentialAllCustom.bestPct),averagePct:Math.max(et.averagePct,Re.weights.potentialAllCustom.averagePct)})}}H||(Z.setRelics(C.clone(X)),M&&((Je=(re=window.relicsGrid)==null?void 0:re.current)!=null&&Je.api)&&(window.relicsGrid.current.api.getColumnState().filter(bt=>bt.sort!==null)||window.relicsGrid.current.api.applyColumnState({state:[{colId:"weights.current",sort:"desc"}],defaultState:{sort:null}})),Z.refreshRelics())}function W(){a({set:[],part:[],enhance:[],mainStats:[],subStats:[],grade:[],verified:[],equippedBy:[]})}function B(){const M=store.getState().relicsTabFocusCharacter;M&&store.getState().setScoringAlgorithmFocusCharacter(M),window.setIsScoringModalOpen(!0)}function F(){D(n)}function L(M){D(n,M)}return window.rescoreSingleRelic=L,s.jsxs(g,{vertical:!0,gap:2,children:[s.jsxs(g,{gap:10,children:[s.jsxs(g,{vertical:!0,flex:1,children:[s.jsx(q,{children:"Part"}),s.jsx(Ea,{name:"part",tags:f,flexBasis:"15%"})]}),s.jsxs(g,{vertical:!0,style:{height:"100%"},flex:1,children:[s.jsx(q,{children:"Enhance"}),s.jsx(Ea,{name:"enhance",tags:E,flexBasis:"15%"})]}),s.jsxs(g,{vertical:!0,flex:.5,children:[s.jsx(q,{children:"Grade"}),s.jsx(Ea,{name:"grade",tags:S,flexBasis:"15%"})]}),s.jsxs(g,{vertical:!0,flex:.25,children:[s.jsx(q,{children:"Verified"}),s.jsx(Ea,{name:"verified",tags:u,flexBasis:"15%"})]}),s.jsxs(g,{vertical:!0,flex:.25,children:[s.jsx(q,{children:"Equipped"}),s.jsx(Ea,{name:"equippedBy",tags:T,flexBasis:"15%"})]}),s.jsxs(g,{vertical:!0,flex:.4,children:[s.jsx(q,{children:"Clear"}),s.jsx(j,{icon:s.jsx(yc,{}),onClick:W,style:{flexGrow:1,height:"100%"},children:"Clear all filters"})]})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(q,{children:"Set"}),s.jsx(Ea,{name:"set",tags:m,flexBasis:`${100/Object.values(ja).length}%`})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(q,{children:"Main stats"}),s.jsx(Ea,{name:"mainStats",tags:p})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(q,{children:"Substats"}),s.jsx(Ea,{name:"subStats",tags:I})]}),s.jsxs(g,{gap:10,children:[s.jsxs(g,{vertical:!0,flex:.5,children:[s.jsx(q,{children:"Relic recommendation character"}),s.jsxs(g,{gap:10,children:[s.jsx(ks,{value:n,selectStyle:{flex:1},onChange:M=>{setTimeout(()=>D(M),20)},withIcon:!0}),s.jsx(j,{onClick:F,style:{flex:1,padding:"0px"},children:"Reapply scores"}),s.jsx(j,{onClick:B,style:{flex:1,padding:"0px"},children:"Scoring algorithm"})]})]}),s.jsx(g,{vertical:!0,flex:.25,gap:10,children:s.jsxs(g,{vertical:!0,children:[s.jsxs(g,{justify:"space-between",align:"center",children:[s.jsx(q,{children:"Relic ratings"}),s.jsx(Ke,{type:Oe.valueColumns()})]}),s.jsx(g,{gap:10,children:s.jsx(N,{mode:"multiple",allowClear:!0,value:e.valueColumns,onChange:e.setValueColumns,options:e.valueColumnOptions,maxTagCount:"responsive",style:{flex:1},listHeight:750})})]})}),s.jsxs(g,{vertical:!0,flex:.25,children:[s.jsx(q,{children:"Custom potential characters"}),s.jsx(ks,{value:window.store.getState().excludedRelicPotentialCharacters,selectStyle:{flex:1},onChange:M=>{const H=Array.from(M||new Map).filter(X=>X[1]==!0).map(X=>X[0]);window.store.getState().setExcludedRelicPotentialCharacters(H),Ie.save(),setTimeout(()=>F(),100)},multipleSelect:!0})]})]})]})}Y0.propTypes={setValueColumns:z.func,valueColumnOptions:z.array,valueColumns:z.array};function Ea(e){const{token:a}=QR(),i=window.store(r=>r.relicTabFilters),n=window.store(r=>r.setRelicTabFilters),l=i[e.name],o=(r,c)=>{const h=c?[...l,r]:l.filter(R=>R!=r),b=C.clone(i);b[e.name]=h,console.log("Relic tab filters",e.name,b),n(b)};return s.jsx(g,{style:{flexWrap:"wrap",flexGrow:1,backgroundColor:a.colorBgContainer,boxShadow:`0px 0px 0px 1px ${a.colorBorder} inset`,borderRadius:6,overflow:"hidden"},children:e.tags.map(r=>s.jsx(hr,{checked:l.includes(r.key),onChange:c=>o(r.key,c),style:{flex:1,flexBasis:e.flexBasis,boxShadow:`1px 1px 1px 0px ${a.colorBorder}`,backgroundColor:l.includes(r.key)?a.colorPrimary:"transparent"},children:s.jsx(g,{align:"center",justify:"space-around",style:{height:"100%"},children:r.display})},r.key))})}Ea.propTypes={name:z.string,tags:z.array,flexBasis:z.string};const{useToken:af}=Et,sf="PLOT_ALL",nl="PLOT_CUSTOM",nf=[{value:"buckets",label:"Relic Insight: Buckets"},{value:"top10",label:"Relic Insight: Top 10"}],lf=[{value:sf,label:"Show all characters"},{value:nl,label:"Show custom characters"}];function A0(){const{token:e}=af(),a=store(k=>k.inventoryWidth),i=store(k=>k.rowLimit);console.log("======================================================================= RENDER RelicsTab");const n=V.useRef();window.relicsGrid=n;const[l,o]=V.useState(Z.getRelics());window.setRelicRows=o;const[r,c]=V.useState(),[h,b]=V.useState([]),[R,S]=V.useState(!1),[u,m]=V.useState(!1),[f,p]=V.useState(!1),[I,E]=V.useState(nl),[T,D]=V.useState("buckets"),W=window.store(k=>k.relicTabFilters),B=store(k=>k.setInventoryWidth),F=store(k=>k.setRowLimit);V.useEffect(()=>{var pe,Fe;if(!((Fe=(pe=window.relicsGrid)==null?void 0:pe.current)!=null&&Fe.api))return;if(console.log("RelicTabFilters",W),Object.values(W).filter(de=>de.length>0).length==0){window.relicsGrid.current.api.setFilterModel(null);return}const k={};k.set={conditions:W.set.map(de=>({filterType:"text",type:"equals",filter:de})),operator:"OR"},k.part={conditions:W.part.map(de=>({filterType:"text",type:"equals",filter:de})),operator:"OR"},k.grade={conditions:W.grade.map(de=>({filterType:"number",type:"equals",filter:de})),operator:"OR"},k.verified={conditions:[W.verified.includes("true")&&{filterType:"text",type:"true"},W.verified.includes("false")&&{filterType:"text",type:"false"}],operator:"OR"},k.equippedBy={conditions:[W.equippedBy.includes("true")&&{filterType:"text",type:"notBlank"},W.equippedBy.includes("false")&&{filterType:"text",type:"blank"}],operator:"OR"},k["main.stat"]={conditions:W.mainStats.map(de=>({filterType:"text",type:"equals",filter:de})),operator:"OR"};for(const de of W.subStats)k[`augmentedStats.${de}`]={filterType:"number",type:"greaterThan",filter:0};k.enhance={conditions:W.enhance.flatMap(de=>[{filterType:"number",type:"equals",filter:de},{filterType:"number",type:"equals",filter:de+1},{filterType:"number",type:"equals",filter:de+2}]),operator:"OR"},console.log("FilterModel",k),window.relicsGrid.current.api.setFilterModel(k)},[W]);const[L,M]=V.useState(0),[H,X]=V.useState({set:void 0,part:void 0});V.useEffect(()=>{if(!r)return;const k=Math.max(1,i)*Math.max(1,a),pe=Z.getRelics().filter(Ye=>Ye.ageIndex<=r.ageIndex),Fe=pe.filter(Ye=>r.part==Ye.part).length-1;if(Fe<k){M(Fe),X({set:void 0,part:r.part});return}const de=pe.filter(Ye=>r.part==Ye.part&&r.set==Ye.set).length-1;M(de),X({set:r.set,part:r.part})},[r,a,i]);const oe=V.useMemo(()=>[{label:"Selected character",options:[{column:`Selected Char
Score`,value:"weights.current",label:"Selected character: Score"},{column:`Selected Char
Avg Potential`,value:"weights.potentialSelected.averagePct",label:"Selected character: Average potential",percent:!0},{column:`Selected Char
Max Potential`,value:"weights.potentialSelected.bestPct",label:"Selected character: Max potential",percent:!0}]},{label:"Custom characters",options:[{column:`Custom Chars
Avg Potential`,value:"weights.potentialAllCustom.averagePct",label:"Custom characters: Avg potential",percent:!0},{column:`Custom Chars
Max Potential`,value:"weights.potentialAllCustom.bestPct",label:"Custom characters: Max potential",percent:!0}]},{label:"All characters",options:[{column:`All Chars
Avg Potential`,value:"weights.potentialAllAll.averagePct",label:"All characters: Avg potential",percent:!0},{column:`All Chars
Max Potential`,value:"weights.potentialAllAll.bestPct",label:"All characters: Max potential",percent:!0}]},{label:"Coming soon",options:[{column:`All Chars
Max Potential + Sets`,disabled:!0,value:"weights.potentialAllSets",label:"Relic / Ornament sets potential",percent:!0}]}],[]),A=V.useMemo(()=>oe.flatMap(k=>k.options),[oe]),[J,re]=V.useState(["weights.current","weights.potentialSelected.averagePct","weights.potentialSelected.bestPct","weights.potentialAllCustom.averagePct","weights.potentialAllCustom.bestPct"]),Je=V.useMemo(()=>[{field:"verified",hide:!0,filter:"agTextColumnFilter",filterParams:{maxNumConditions:2}},{field:"equippedBy",headerName:"Owner",width:40,cellRenderer:_.characterIcon,filter:"agTextColumnFilter"},{field:"set",cellRenderer:_.anySet,width:40,headerName:"Set",filter:"agTextColumnFilter"},{field:"grade",width:40,cellRenderer:_.renderGradeCell,filter:"agNumberColumnFilter"},{field:"part",valueFormatter:_.readablePart,width:55,filter:"agTextColumnFilter"},{field:"enhance",width:55,filter:"agNumberColumnFilter"},{field:"main.stat",valueFormatter:_.readableStat,headerName:`Main
Stat`,width:70,filter:"agTextColumnFilter"},{field:"main.value",headerName:"Main Value",width:50,valueFormatter:_.mainValueRenderer,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.HP_P}`,headerName:"HP %",cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.ATK_P}`,headerName:"ATK %",cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.DEF_P}`,headerName:"DEF %",cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.HP}`,headerName:"HP",cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.ATK}`,headerName:"ATK",cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.DEF}`,headerName:"DEF",cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesFloor,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.SPD}`,headerName:"SPD",cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroes10thsRelicTabSpd,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.CR}`,headerName:`Crit
Rate`,cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.CD}`,headerName:`Crit
DMG`,cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.EHR}`,headerName:`Effect
Hit Rate`,cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.RES}`,headerName:`Effect
RES`,cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:`augmentedStats.${d.Stats.BE}`,headerName:`Break
Effect`,cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"},{field:"cv",valueGetter:of,headerName:`Crit
Value`,cellStyle:Ce.getRelicGradient,valueFormatter:_.hideZeroesX100Tenths,filter:"agNumberColumnFilter"}].concat(J.map(k=>{const pe=A.findIndex(Fe=>Fe.value===k);return[pe,A[pe]]}).sort((k,pe)=>k[0]-pe[0]).map(([k,pe])=>({field:pe.value,headerName:pe.column,cellStyle:Ce.getRelicGradient,valueFormatter:pe.percent?_.hideNaNAndFloorPercent:_.hideNaNAndFloor,filter:"agNumberColumnFilter",width:75}))),[A,J]),Re=V.useMemo(()=>({rowHeight:33,rowSelection:"single",suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0,enableRangeSelection:!1,suppressMultiSort:!0,getRowId:k=>String(k.data.id)}),[]),bt=V.useMemo(()=>({sortable:!0,width:46,headerClass:"relicsTableHeader",sortingOrder:["desc","asc"],filterParams:{maxNumConditions:200},wrapHeaderText:!0,autoHeaderHeight:!0,suppressHeaderMenuButton:!0}),[]),et=V.useCallback(k=>{console.log("selectionChanged",k),b(k.api.getSelectedRows())},[]),Ht=V.useCallback(k=>{console.log("rowClicked",k),k.type||n.current.api.getRowNode(k.id).setSelected(!0,!0),c(k.data)},[]),jt=V.useCallback(k=>{console.log("rowDblClicked",k),c(k.data),S(!0)},[]),vt=V.useCallback(k=>Vl(k,n,pe=>Ht(pe)),[]);function lt(k){Z.setRelic(k),window.forceCharacterTabUpdate(),o(Z.getRelics()),Ie.save(),c(k),Y.success("Successfully added relic"),console.log("onAddOk",k)}function ue(k){const pe=Ml.onEditOk(r,k);c(pe)}function ce(){if(console.log("edit clicked"),!r)return Y.error("No relic selected");S(!0)}function fe(){console.log("add clicked"),m(!0)}function ye(k){if(console.log("delete clicked"),h.length===0)return p(!1),Y.error("No relic selected");p(k)}function Pe(){if(h.length===0)return Y.error("No relic selected");h.forEach(k=>{Z.deleteRelic(k.id)}),o(Z.getRelics()),c(void 0),Ie.save(),Y.success("Successfully deleted relic")}const Lt=window.store.getState().relicsTabFocusCharacter;let Ot;Lt&&r&&(Ot=it.scoreCurrentRelic(r,Lt));const Kt=10,[ie,ze]=V.useState(null),[St,De]=V.useState(null),Ut=window.store(k=>k.excludedRelicPotentialCharacters);return V.useEffect(()=>{if(r){const k=Z.getMetadata().characters,pe=Object.keys(k).filter(de=>!(I===nl&&Ut.includes(de))).map(de=>({cid:de,name:k[de].displayName,score:it.scoreRelicPotential(r,de,!0),color:"#000",owned:!!Z.getCharacterById(de)}));pe.sort((de,Ye)=>Ye.score.bestPct-de.score.bestPct),pe.forEach((de,Ye)=>{de.color="hsl("+Ye*360/(Kt+1)+",50%,50%)"}),ze(pe.slice(0,Kt));const Fe=[[],[],[],[],[],[],[],[],[],[]];for(const de of pe){let Ye=Math.floor(de.score.bestPct/10);Ye=Math.min(9,Math.max(0,Ye)),Fe[Ye].push(de)}Fe.forEach(de=>de.sort((Ye,ga)=>Ye.name.localeCompare(ga.name))),De(Fe)}},[I,r,Ut]),s.jsxs(g,{style:{width:1350,marginBottom:100},children:[s.jsx(Hs,{selectedRelic:r,type:"add",onOk:lt,setOpen:m,open:u}),s.jsx(Hs,{selectedRelic:r,type:"edit",onOk:ue,setOpen:S,open:R}),s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(Y0,{setValueColumns:re,valueColumns:J,valueColumnOptions:oe}),s.jsx("div",{id:"relicGrid",className:"ag-theme-balham-dark",style:{width:1350,height:500,resize:"vertical",overflow:"hidden",...Il(e)},children:s.jsx(dl,{ref:n,rowData:l,gridOptions:Re,columnDefs:Je,defaultColDef:bt,animateRows:!0,headerHeight:24,rowSelection:"multiple",pagination:!0,paginationPageSizeSelector:!1,paginationPageSize:2e3,onSelectionChanged:et,onRowClicked:Ht,onRowDoubleClicked:jt,navigateToNextCell:vt})}),s.jsxs(g,{gap:10,children:[s.jsx(j,{type:"primary",onClick:ce,style:{width:170},disabled:h.length===0||h.length>1,children:"Edit Relic"}),s.jsx(Oa,{title:"Confirm",description:h.length>1?`Delete the selected ${h.length} relics?`:"Delete the selected relic?",open:f,onOpenChange:ye,onConfirm:Pe,placement:"bottom",okText:"Yes",cancelText:"Cancel",children:s.jsx(j,{type:"primary",style:{width:170},disabled:h.length===0,children:"Delete Relic"})}),s.jsx(j,{type:"primary",onClick:fe,style:{width:170},children:"Add New Relic"}),s.jsx(oi,{trigger:"click",onOpenChange:k=>{k||Ie.save()},content:s.jsxs(g,{gap:8,style:{width:260},children:[s.jsxs(g,{vertical:!0,children:[s.jsx(g,{justify:"space-between",align:"center",children:s.jsx(q,{children:"Inventory width"})}),s.jsx(ba,{defaultValue:window.store.getState().inventoryWidth,style:{width:"auto"},min:1,onChange:k=>{B(k)}})]}),s.jsxs(g,{vertical:!0,children:[s.jsxs(g,{justify:"space-between",align:"center",gap:10,children:[s.jsx(q,{children:"Auto filter rows"}),s.jsx(Ke,{type:Oe.locatorParams()})]}),s.jsx(ba,{defaultValue:window.store.getState().rowLimit,style:{width:"auto"},min:1,onChange:k=>{F(k)}})]})]}),children:s.jsxs(g,{justify:"space-between",align:"center",style:{cursor:"pointer",paddingLeft:8,paddingRight:10,width:285,marginTop:1,borderRadius:5,height:30,background:"rgba(36, 51, 86)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",outline:"1px solid rgba(63, 90, 150)"},children:[r&&s.jsxs(g,{align:"center",justify:"space-between",style:{width:"100%"},children:[s.jsxs(g,{gap:5,style:{minWidth:10},justify:"flex-start",children:[H.part&&s.jsx("img",{src:U.getPart(H.part),style:{height:25}}),H.set&&s.jsx("img",{src:U.getSetImage(H.set,void 0,!0),style:{height:26}}),!H.part&&!H.set&&s.jsx("div",{style:{width:10}})]}),s.jsx(be,{children:r?`Location - Row ${Math.ceil((L+1)/a)} / Col ${L%a+1}`:""}),s.jsx(Xa,{})]}),!r&&s.jsxs(g,{style:{width:"100%"},justify:"space-between",children:[s.jsx("div",{style:{width:10}}),s.jsx("div",{children:"Select a relic to locate"}),s.jsx(Xa,{})]})]})}),s.jsx(g,{style:{display:"block"},children:s.jsx(Ke,{type:Oe.relicLocation()})}),s.jsx(N,{value:I,onChange:E,options:lf,style:{width:225}}),s.jsx(N,{value:T,onChange:D,options:nf,style:{width:225}}),s.jsx(g,{style:{display:"block"},children:s.jsx(Ke,{type:Oe.relicInsight()})})]}),s.jsxs(g,{gap:10,children:[s.jsx(ct,{relic:r,setSelectedRelic:c,setEditModalOpen:S,score:Ot}),s.jsx(g,{style:{display:"block"},children:s.jsx(Ke,{type:Oe.relics()})}),T==="top10"&&ie&&s.jsxs(g,{gap:10,children:[s.jsx(g,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${e.colorBorderSecondary}`},children:s.jsx(Ol,{onClick:k=>{store.getState().setScoringAlgorithmFocusCharacter(k.points[0].data.cid),window.setIsScoringModalOpen(!0)},data:ie.map(k=>({x:[k.score.averagePct],y:[k.name],hoverinfo:"name",mode:"markers",type:"scatter",error_x:{type:"data",symmetric:!1,array:[k.score.bestPct-k.score.averagePct],arrayminus:[k.score.averagePct-k.score.worstPct]},marker:{color:k.color},name:k.name,cid:k.cid})).reverse(),layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:e.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,width:320,height:278,margin:{b:20,l:10,r:20,t:10},showlegend:!1,xaxis:{fixedrange:!0,range:[0,100],tick0:0,dtick:10,showgrid:!0,showline:!0,showticklabels:!0,type:"linear",zeroline:!0,gridcolor:"rgba(128, 128, 128, 0.15)"},yaxis:{fixedrange:!0,showticklabels:!1,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})}),s.jsx("ol",{children:s.jsx(g,{vertical:!0,gap:5.5,children:ie.map(k=>{const pe=s.jsx("svg",{width:10,height:10,children:s.jsx("rect",{width:10,height:10,style:{fill:k.color,strokeWidth:1,stroke:"rgb(0,0,0)"}})}),Fe=Math.floor(k.score.worstPct),de=Math.floor(k.score.bestPct),Ye=Fe===de?`${Fe}%`:`${Fe}% - ${de}%`;return s.jsx(g,{gap:4,children:s.jsx("li",{style:k.owned?{fontWeight:"bold"}:void 0,children:s.jsxs(g,{align:"center",gap:8,children:[pe,s.jsxs("a",{style:{height:"19px"},children:[" ",s.jsx("img",{src:U.getCharacterAvatarById(k.cid),style:{height:"19px"},onClick:ga=>{store.getState().setScoringAlgorithmFocusCharacter(ga.target.attributes.src.nodeValue.split("avatar/")[1].split(".webp")[0]),window.setIsScoringModalOpen(!0)}})]}),k.name,": ",Ye]})})},k.cid)})})})]}),s.jsx(g,{style:{borderRadius:8,overflow:"hidden",border:`1px solid ${e.colorBorderSecondary}`},children:T==="buckets"&&St&&s.jsx(Ol,{onClick:k=>{store.getState().setScoringAlgorithmFocusCharacter(k.points[0].data.cid[k.points[0].pointIndex]),window.setIsScoringModalOpen(!0)},data:[{type:"scatter",x:[0,0,0,0,0,0,0,0,0,0],y:["0%+","10%+","20%+","30%+","40%+","50%+","60%+","70%+","80%+","90%+"],hoverinfo:"skip",mode:"markers",marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}},{type:"scatter",hoverinfo:"text",mode:"markers",x:St.flatMap((k,pe)=>k.map((Fe,de)=>de+.5)),y:St.flatMap((k,pe)=>k.map((Fe,de)=>pe*10+"%+")),hovertext:St.flatMap((k,pe)=>k.map((Fe,de)=>[Fe.name,Fe.score.meta.bestAddedStats.length===0?"":"New stats: "+Fe.score.meta.bestAddedStats.join(" / "),Fe.score.meta.bestUpgradedStats==null?"":"Upgraded stats: "+Fe.score.meta.bestUpgradedStats.join(" / ")].filter(Ye=>Ye!=="").join("<br>"))),cid:St.flatMap((k,pe)=>k.map((Fe,de)=>Fe.cid)),marker:{color:"rgba(0, 0, 0, 0)",symbol:"circle",size:16}}],layout:{plot_bgcolor:"rgba(0, 0, 0, 0)",paper_bgcolor:e.colorBgContainer,font:{color:"rgba(255, 255, 255, 0.85)"},autosize:!0,height:278,width:1112,margin:{b:5,l:50,r:20,t:0},hovermode:"closest",hoverdistance:20,showlegend:!1,images:St.flatMap((k,pe)=>k.map((Fe,de)=>({source:U.getCharacterAvatarById(Fe.cid),xref:"x",yref:"y",x:de+.6,y:pe,sizex:1,sizey:1,xanchor:"center",yanchor:"middle"}))),xaxis:{fixedrange:!0,range:[0,Math.max(...St.map(k=>k.length))+1],tick0:0,showgrid:!1,showticklabels:!1,type:"linear",zeroline:!1},yaxis:{fixedrange:!0,showticklabels:!0,gridcolor:"rgba(128, 128, 128, 0.15)"}},config:{displayModeBar:!1,editable:!1,scrollZoom:!1}})})]})]})]})}A0.propTypes={active:z.bool};function of(e){return e.data.augmentedStats[t.CR]*2+e.data.augmentedStats[t.CD]}const w0=({rarity:e=0})=>{const a=[];for(let i=0;i<e;i++)a.push(s.jsx("img",{src:U.getStar(),style:{width:20,height:20}},i));return s.jsx(g,{gap:0,align:"center",children:a})};w0.propTypes={rarity:z.number};const{Text:X0}=be,ua=yt(X0)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 17px;
    font-weight: 400;
    white-space: nowrap;
`,is=yt(X0)`
    font-family: Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;
    font-size: 16px;
    font-weight: 400;
    white-space: nowrap;
`,rf=e=>[[111.1,111.2],[114.2,114.3],[133.3,133.4],[142.8,142.9],[155.5,155.6],[171.4,171.5],[177.7,177.8]].some(([i,n])=>e>=i&&e<n),Xo={"Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG"},j0={simScore:"Combo DMG","Fire DMG Boost":"Fire DMG","Ice DMG Boost":"Ice DMG","Imaginary DMG Boost":"Imaginary DMG","Lightning DMG Boost":"Lightning DMG","Physical DMG Boost":"Physical DMG","Quantum DMG Boost":"Quantum DMG","Wind DMG Boost":"Wind DMG","Outgoing Healing Boost":"Healing Boost","Energy Regeneration Rate":"Energy Regen",BASIC:"Basic Damage",ULT:"Ult Damage",SKILL:"Skill Damage",FUA:"FUA Damage",DOT:"DoT Damage"},Mt=e=>{const{stat:a,finalStats:i}=e,n=j0[a]||a,l=C.precisionRound(i[a]);let o,r;return a=="CV"?(o=C.truncate10ths(e.value).toFixed(1),r=C.truncate1000ths(e.value).toFixed(3)):a=="simScore"?(o=`${C.truncate10ths(C.precisionRound(e.value/1e3)).toFixed(1)}K`,r=C.truncate1000ths(e.value).toFixed(3)):a==d.Stats.SPD?(o=rf(l)?C.truncate1000ths(l).toFixed(3):o=C.truncate10ths(l).toFixed(1),r=C.truncate1000ths(l).toFixed(3)):C.isFlat(a)?(o=Math.floor(l),r=C.truncate1000ths(l).toFixed(3)):(o=C.truncate10ths(C.precisionRound(l*100)).toFixed(1),r=C.truncate1000ths(C.precisionRound(l*100)).toFixed(3)),i?s.jsxs(g,{justify:"space-between",align:"center",title:r,children:[s.jsx("img",{src:U.getStatIcon(a),style:{width:ut,height:ut,marginRight:3}}),s.jsx(ua,{children:n}),s.jsx(It,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),s.jsx(ua,{children:`${o}${C.isFlat(a)||a=="CV"||a=="simScore"?"":"%"}`})]}):(console.log("No final stats"),s.jsx("div",{}))};Mt.propTypes={finalStats:z.object,stat:z.string};const cf=.001,ll=e=>s.jsxs(g,{vertical:!0,style:{paddingLeft:4,paddingRight:6},gap:3,children:[s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.HP}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.ATK}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.DEF}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.SPD}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.CR}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.CD}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.EHR}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.RES}),s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.BE}),!e.simScore&&e.finalStats[t.OHB]>cf&&s.jsx(Mt,{finalStats:e.finalStats,stat:t.OHB}),(e.simScore==null||e.cv<=64.8)&&s.jsx(Mt,{finalStats:e.finalStats,stat:d.Stats.ERR}),s.jsx(Mt,{finalStats:e.finalStats,stat:e.elementalDmgValue}),e.cv!=null&&e.cv>64.8&&s.jsx(Mt,{finalStats:e.finalStats,stat:"CV",value:e.cv}),e.simScore!=null&&s.jsx(Mt,{finalStats:e.finalStats,stat:"simScore",value:e.simScore})]}),{Text:df}=be,jo="https://api.imgur.com/3/image",vo="f09c3678220940b",Oo={width:0,height:0},Ko={x:0,y:0},_o=1,Jo={croppedArea:{x:0,y:0,width:0,height:0},croppedAreaPixels:{x:0,y:0,width:0,height:0}},An=1,wn=5,uf=({existingConfig:e,aspectRatio:a,open:i,setOpen:n,onOk:l,title:o="Edit image",width:r=400,defaultImageUrl:c})=>{const[h,b]=V.useState(0),[R]=P.useForm(),[S,u]=V.useState(!1),[m,f]=V.useState(""),[p,I]=V.useState(e?e.originalDimensions:Oo),[E,T]=V.useState(e?e.cropper.crop:Ko),[D,W]=V.useState(e?e.cropper.zoom:_o),[B,F]=V.useState(e?e.customImageParams:Jo),[L,M]=V.useState("upload"),H=V.useCallback(()=>{R.resetFields(),b(0),u(!1),f(""),I(Oo),T(Ko),W(_o),F(Jo)},[R]);V.useEffect(()=>{i?e&&(R.setFieldsValue({imageUrl:e.imageUrl,artistName:e.artistName}),M("upload"),b(1),f(e.imageUrl),I(e.originalDimensions)):H()},[c,i,e,R,H]);const X=(ue,ce)=>{h==1&&F({croppedArea:ue,croppedAreaPixels:ce})},oe=()=>{const ue=R.getFieldValue("artistName"),ce={originalDimensions:p,customImageParams:B,cropper:{zoom:D,crop:E}};switch(L){case"upload":l({type:"add",imageUrl:m,...ce,artistName:ue}),b(0);break;case"url":R.validateFields().then(fe=>{l({type:"add",imageUrl:fe.imageUrl,...ce,artistName:ue})}).catch(fe=>{console.error("Error:",fe)}).finally(()=>{b(0)});break;case"default":c||console.error("defaultImageUrl does not exist, but default image was chosen."),l({type:"delete"}),n(!1),b(0);break;default:console.warn(`Unexpected radio value: ${L}`),n(!1),b(0)}};async function A(ue){if(!ue.includes("http"))return!1;u(!0);const ce=new Image;return ce.src=ue,new Promise(fe=>{u(!1),ce.onerror=()=>fe(!1),ce.onload=async()=>{const ye=await createImageBitmap(ce);I({width:ye.width,height:ye.height}),fe(!0)}})}async function J(ue){return u(!0),new Promise(ce=>{const fe=new FileReader;fe.onerror=()=>{u(!1),ce(!1)},fe.onload=ye=>{var Lt;const Pe=new Image;Pe.src=(Lt=ye.target)==null?void 0:Lt.result,Pe.onload=async()=>{I({width:Pe.width,height:Pe.height}),u(!1),ce(!0)},Pe.onerror=()=>{u(!1),ce(!1)}},fe.readAsDataURL(ue)})}async function re(ue){try{return(await fetch(ue,{method:"HEAD",mode:"cors"})).ok}catch{return console.log("CORS blocked image fetch, uploading to imgur:",ue),!1}}const Je=async ue=>{const ce=new FormData;ce.append("image",ue);try{u(!0);const fe=await fetch(jo,{method:"POST",headers:{Authorization:`Client-ID ${vo}`},body:ce});if(!fe.ok){const Pe=await fe.json();throw u(!1),new Error(`Imgur API error: ${Pe.data.error}`)}const ye=await fe.json();if(ye.data.width&&ye.data.height&&I({width:ye.data.width,height:ye.data.height}),ye.success){const Pe=ye.data.link;f(Pe),b(h+1),u(!1)}else throw u(!1),new Error("Image url upload to Imgur failed but did not return a typical error response")}catch(fe){return u(!1),console.error("There was an error uploading the image to Imgur:",fe),null}},Re=async ue=>{const ce=new FormData;ce.append("image",ue);try{u(!0);const fe=await fetch(jo,{method:"POST",headers:{Authorization:`Client-ID ${vo}`},body:ce});if(!fe.ok){const Pe=await fe.json();throw u(!1),new Error(`Imgur API error: ${Pe.data.error}`)}const ye=await fe.json();if(ye.data.width&&ye.data.height&&I({width:ye.data.width,height:ye.data.height}),ye.success){const Pe=ye.data.link;return u(!1),Pe}else throw u(!1),new Error("Image file upload to Imgur failed but did not return a typical error response")}catch(fe){return console.error("There was an error uploading the image to Imgur:",fe),u(!1),null}},bt=async ue=>{if(!await J(ue))return console.error("File is not a valid image file"),!1;const ce=await Re(ue);return ce?(f(ce),b(h+1),!1):(Y.error("Image upload failed"),!1)},et=async ue=>{if(!ue){R.setFields([{name:"imageUrl",errors:["An image URL is required"]}]);return}if(u(!0),!await A(ue)){R.setFields([{name:"imageUrl",errors:["URL does not lead to an image"]}]),u(!1);return}if(await re(ue))f(ue),b(h+1);else{const ce=await Je(ue);ce?(f(ce),b(h+1)):R.setFields([{name:"imageUrl",errors:["Failed to process image, upload image instead."]}])}u(!1)},Ht=async()=>{if(h!==0){console.error(`Stage #${h} not implemented!`);return}switch(L){case"url":await et(R.getFieldValue("imageUrl"));break;case"default":l({type:"delete"}),n(!1);break;case null:default:console.warn("Radio select must be either 'upload' or 'url'");break}},jt=()=>b(h-1),vt=ue=>M(ue.target.value),lt=[{title:"Provide image",content:s.jsxs(s.Fragment,{children:[s.jsx(g,{justify:"center",style:{marginBottom:16},children:s.jsxs(gt.Group,{onChange:vt,value:L,buttonStyle:"solid",children:[s.jsx(gt.Button,{value:"upload",children:"Upload image"}),s.jsx(gt.Button,{value:"url",children:"Enter image URL"}),c&&s.jsx(gt.Button,{value:"default",children:"Use default image"})]})}),L==="upload"&&s.jsx(s.Fragment,{children:s.jsx(Wc,{name:"file",multiple:!1,accept:"image/png, image/jpeg, image/jpg, image/gif",beforeUpload:bt,disabled:S,showUploadList:!1,children:S?s.jsx(g,{style:{height:"300px"},justify:"center",align:"center",children:s.jsx(Kl,{size:"large"})}):s.jsxs(g,{style:{height:"300px"},justify:"center",align:"center",vertical:!0,children:[s.jsx("p",{className:"ant-upload-drag-icon",children:s.jsx(Mc,{})}),s.jsx("p",{className:"ant-upload-text",children:"Click or drag image file to this area to upload"}),s.jsx("p",{className:"ant-upload-hint",children:"Accepts .jpg .jpeg .png .gif (Max: 20MB)"})]})})}),L==="url"&&s.jsx(P.Item,{name:"imageUrl",label:"Image URL",style:{margin:"0 20px"},rules:[{required:!0,message:"Please input a valid image URL"}],children:s.jsx(qt,{autoComplete:"off"})}),L==="default"&&s.jsx(g,{justify:"center",style:{height:"400px"},children:s.jsx("img",{src:c})})]})},{title:"Crop image",content:s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{height:"380px",position:"relative"},children:s.jsx(Vc,{image:m,crop:E,zoom:D,aspect:a,onCropChange:T,onCropComplete:X,onMediaLoaded:()=>{e&&(T(e.cropper.crop),W(e.cropper.zoom))},onZoomChange:ue=>{navigator.maxTouchPoints===0?(ue<D&&W(Math.max(An,D*.95)),ue>D&&W(Math.min(wn,D*1.05))):W(ue)},zoomSpeed:navigator.maxTouchPoints===0?1e-4:1,minZoom:An,maxZoom:wn})}),s.jsxs(g,{style:{width:"100%",marginTop:4},gap:8,align:"center",children:[s.jsx("label",{children:"Zoom"}),s.jsx(an,{style:{width:"100%"},min:An,max:wn,step:.1,tooltip:{formatter:null},onChange:W,value:D})]}),s.jsxs(g,{style:{marginTop:0},children:[s.jsxs(g,{vertical:!0,style:{flex:1},children:[s.jsxs("div",{children:[s.jsx(Fc,{style:{marginRight:8}}),"Drag to move"]}),s.jsxs("div",{style:{flex:1,marginTop:8},children:[s.jsx(xc,{style:{marginRight:8}}),"Pinch or scroll to zoom"]})]}),s.jsxs(g,{vertical:!0,style:{flex:1},children:[s.jsx(df,{style:{flex:1,marginLeft:3},children:"(Optional) Art by:"}),s.jsx(P.Item,{name:"artistName",children:s.jsx(qt,{style:{flex:1,marginTop:3},placeholder:"Credit the artist if possible",autoComplete:"off"})})]})]})]})}];return s.jsx(P,{form:R,layout:"vertical",children:s.jsx(Bt,{open:i,width:r,destroyOnClose:!0,centered:!0,maskClosable:!1,onOk:oe,onCancel:()=>n(!1),footer:[s.jsx(g,{justify:"flex-end",children:s.jsxs(g,{style:{marginTop:16},justify:"center",align:"center",gap:8,children:[S&&L!=="upload"&&s.jsx(Kl,{style:{textAlign:"center"},size:"large"}),s.jsx(j,{onClick:()=>n(!1),children:"Cancel"}),h>0&&e&&s.jsx(j,{onClick:jt,danger:!0,children:"Change image"}),h>0&&!e&&s.jsx(j,{onClick:jt,children:"Previous"}),h<lt.length-1&&s.jsx(j,{type:"primary",onClick:Ht,disabled:L==="upload",children:"Next"}),h===lt.length-1&&s.jsx(j,{type:"primary",onClick:oe,children:"Submit"})]})},1)],title:`Edit ${o??"image"}`,children:s.jsxs("div",{style:{height:"505px",position:"relative"},children:[!e&&s.jsx(Ki,{current:h,style:{marginBottom:12},children:lt.map(ue=>s.jsx(Ki.Step,{title:ue.title},ue.title))}),lt.map((ue,ce)=>s.jsx("div",{style:{display:h===ce?"block":"none"},children:ue.content},ue.title))]})})})},wi=({src:e,style:a})=>{const[i,n]=V.useState({}),[l,o]=V.useState({}),[r,c]=V.useState(!1),[h,b]=V.useState(!0);return V.useEffect(()=>{if(e==i.src&&Xe.objectHash(a)==Xe.objectHash(i.style)||e==l.src&&Xe.objectHash(a)==Xe.objectHash(l.style))return;b(!0),o({src:e,style:a});const R=new Image;if(R.src=e,R.complete||R.naturalWidth>0){c(!0);return}R.onload=()=>{c(!0)}},[i,e,a]),V.useEffect(()=>{r&&(setTimeout(()=>{b(!1)},150),n({src:l.src,style:l.style}),c(!1))},[r]),s.jsx("img",{src:i.src,loading:"eager",style:{...i.style,filter:h?"blur(6px)":"none",transition:h?"":"filter 0.5s cubic-bezier(.41,.65,.39,.99)"}})},mf=({customPortrait:e,parentW:a})=>{const i=a/e.customImageParams.croppedAreaPixels.width;return s.jsx("div",{style:{position:"absolute"},children:s.jsx(wi,{src:e.imageUrl,style:{position:"relative",left:`-${e.customImageParams.croppedAreaPixels.x*i}px`,top:`-${e.customImageParams.croppedAreaPixels.y*i}px`,width:`${e.originalDimensions.width*i}px`,height:`${e.originalDimensions.height*i}px`,objectFit:"cover"}})})},Xn={},da={quality:.8,speedRollValue:2.3,substatGoal:48,freeRolls:2,maxPerSub:30,deductionPerMain:5,baselineFreeRolls:2,limitFlatStats:!0,enforcePossibleDistribution:!1,substatRollsModifier:bf},hf={...da,substatRollsModifier:e=>e},Mi={quality:1,speedRollValue:2.6,substatGoal:54,freeRolls:0,maxPerSub:36,deductionPerMain:6,baselineFreeRolls:0,limitFlatStats:!1,enforcePossibleDistribution:!0,substatRollsModifier:e=>e};function bf(e,a,i){if(a==t.SPD)return e;const l=12-2*Object.values(i).filter(c=>c.augmentedStats.mainStat==a).length;if(e<=l)return e;const o=Math.max(0,e-l),r=o/Math.pow(o,.25);return l+r}function Sf(e){const a=Xe.clone(e),i={};for(const n of Object.values(G))i[n]=a[n]||{set:-1,substats:[],main:{stat:"NONE",value:0}};return i}function Rf(e,a,i){const n=e.form,l=n.characterId,o=n.characterEidolon,r=n.lightCone,c=n.lightConeSuperimposition,h=Z.getMetadata().characters[l];if(!h)return null;const b=h.scoringMetadata,R=Z.getScoringMetadata(l),S=Xe.clone(b.simulation),u=Xe.clone(R.simulation);if(!S)return console.log("No scoring sim defined for this character"),null;i==es&&(S.teammates=u.teammates);const m=S,f=Sf(a),p=C.objectHash({characterId:l,characterEidolon:o,lightCone:r,lightConeSuperimposition:c,relicsByPart:f,metadata:m});if(Xn[p])return Xn[p];if(!l||!n||!m)return console.log("Invalid character sim setup"),null;const I=m.substats;let E=!1;m.formula.BREAK>0&&(E=!0),S.teammates.find(ie=>ie.characterId=="8005"||ie.characterId=="8006")&&(E=!0),E&&!I.includes(t.BE)&&I.push(t.BE),E&&!m.parts[G.LinkRope].includes(t.BE)&&m.parts[G.LinkRope].push(t.BE),E&&!m.relicSets.find(ie=>ie[0]==ie[1]&&ie[1]==y.IronCavalryAgainstTheScourge)&&m.relicSets.push([y.IronCavalryAgainstTheScourge,y.IronCavalryAgainstTheScourge]),E&&!m.relicSets.find(ie=>ie[0]==ie[1]&&ie[1]==y.IronCavalryAgainstTheScourge)&&m.relicSets.push([y.IronCavalryAgainstTheScourge,y.IronCavalryAgainstTheScourge]),E&&!m.ornamentSets.find(ie=>ie==y.TaliaKingdomOfBanditry)&&m.ornamentSets.push(y.TaliaKingdomOfBanditry),E&&!m.ornamentSets.find(ie=>ie==y.ForgeOfTheKalpagniLantern)&&m.ornamentSets.push(y.ForgeOfTheKalpagniLantern);const T=Vi(l,r,o,c,!1),D=Vi(m.teammates[0].characterId,m.teammates[0].lightCone,m.teammates[0].characterEidolon,m.teammates[0].lightConeSuperimposition,!0),W=Vi(m.teammates[1].characterId,m.teammates[1].lightCone,m.teammates[1].characterEidolon,m.teammates[1].lightConeSuperimposition,!0),B=Vi(m.teammates[2].characterId,m.teammates[2].lightCone,m.teammates[2].characterEidolon,m.teammates[2].lightConeSuperimposition,!0);T.teammate0=D,T.teammate1=W,T.teammate2=B;const F=nn(T);gl(T,F),sn(T,F),pl(T,F);const L=m.formula,M=(ie,ze=!0)=>{if(!ie)return;const St=ie.BASIC*L.BASIC+ie.SKILL*L.SKILL+ie.ULT*L.ULT+ie.FUA*L.FUA+ie.DOT*L.DOT+ie.BREAK*L.BREAK;ie.unpenalizedSimScore=St,ie.penaltyMultiplier=Tf(ie,m.breakpoints,da),ie.simScore=ie.unpenalizedSimScore*(ze?ie.penaltyMultiplier:1)},H=Gf(m,f),{originalSimResult:X,originalSim:oe}=_0(f,H,T,F,hf),A=X.xSPD,J=X.SPD;M(X);const{baselineSimResult:re,baselineSim:Je}=Ef(f,T,F,H,da);M(re);const Re=If(e,m,H,J),bt=[];for(const ie of Re){const St=Aa(T,F,[ie.simulation],da)[0].xSPD;ie.finalSpeed=St,ie.speedRollsDeduction=Math.max(0,Xe.precisionRound((A-St)/da.speedRollValue));const De=O0(ie,da),Ut=K0(ie,m,da,re);Object.values(wt).map(pe=>ie.simulation.request.stats[pe]=Ut[pe]);const k=v0(ie,De,Ut,T,F,M,m,da);M(k.result),k.key=JSON.stringify(k.request),k.name="",bt.push(k)}bt.sort(z0);const et=bt[0],Ht=et.result;console.log("bestSims",bt);const jt=ff(et,m,T,F,M,re),vt=jt.result;M(vt);const lt=Ht.simScore,ue=X.simScore,ce=re.simScore,fe=vt.simScore,ye=ue>=lt?1+(ue-lt)/(fe-lt):(ue-ce)/(lt-ce),{substatUpgradeResults:Pe,setUpgradeResults:Lt,mainUpgradeResults:Ot}=gf(X,oe,bt[0],T,F,m,M,da);for(const ie of[...Pe,...Lt,...Ot]){const ze=ie.simulationResult.simScore,St=ze>=lt?1+(ze-lt)/(fe-lt):(ze-ce)/(lt-ce);ie.percent=St}Pe.sort((ie,ze)=>ze.percent-ie.percent),Lt.sort((ie,ze)=>ze.percent-ie.percent),Ot.sort((ie,ze)=>ze.percent-ie.percent);const Kt={percent:ye,originalSim:oe,baselineSim:Je,benchmarkSim:et,maximumSim:jt,originalSimResult:X,baselineSimResult:re,benchmarkSimResult:Ht,maximumSimResult:vt,originalSimScore:ue,baselineSimScore:ce,benchmarkSimScore:lt,maximumSimScore:fe,substatUpgrades:Pe,setUpgrades:Lt,mainUpgrades:Ot,simulationForm:T,simulationMetadata:m,characterMetadata:h};return Xn[p]=Kt,console.log("simScoringResult",Kt),Kt}function ff(e,a,i,n,l,o){const r=e.request.stats[t.SPD]*da.speedRollValue/Mi.speedRollValue,c=[];for(const h of a.parts[G.PlanarSphere]){const b=Xe.clone(e);b.request.simPlanarSphere=h;const R={simulation:b,finalSpeed:0,speedRollsDeduction:r},S=O0(R,Mi),u=K0(R,a,Mi,o);Object.values(wt).map(f=>R.simulation.request.stats[f]=u[f]);const m=v0(R,S,u,i,n,l,a,Mi);c.push(m)}return c.sort(z0),c[0]}function gf(e,a,i,n,l,o,r,c){const h=[];for(const f of o.substats){const p=f,I=Xe.clone(a);I.request.stats[p]=(I.request.stats[p]??0)+1;const E=Aa(n,l,[I],{...c,substatRollsModifier:T=>T})[0];r(E),h.push({stat:p,simulation:I,simulationResult:E})}const b=[],R=Xe.clone(a);R.request.simRelicSet1=i.request.simRelicSet1,R.request.simRelicSet2=i.request.simRelicSet2,R.request.simOrnamentSet=i.request.simOrnamentSet;const S=Aa(n,l,[R],{...c,substatRollsModifier:f=>f})[0];r(S),b.push({simulation:R,simulationResult:S});const u=[];function m(f){const p=Xe.clone(a);for(const I of o.parts[f]){const E={[G.Body]:"simBody",[G.Feet]:"simFeet",[G.PlanarSphere]:"simPlanarSphere",[G.LinkRope]:"simLinkRope"}[f],T=p.request[E];if(I==T||I==t.SPD||T==t.SPD)continue;p.request[E]=I;const D=Aa(n,l,[p],{...c,substatRollsModifier:W=>W})[0];r(D),u.push({stat:I,part:f,simulation:p,simulationResult:D})}}return m(G.Body),m(G.Feet),m(G.PlanarSphere),m(G.LinkRope),console.log("Stat improvements",e,a,o,h),{substatUpgradeResults:h,setUpgradeResults:b,mainUpgradeResults:u}}function Vi(e,a,i,n,l=!1){if(!e)return null;const o={characterId:e,characterEidolon:i},r={lightCone:a,eidolon:n},c=ms({id:e});c.characterId=e,c.characterEidolon=i,c.lightCone=a,c.lightConeSuperimposition=n,c.characterConditionals={},c.lightConeConditionals={};const h=Ma.get(o),b=Sa.get(r);return l?(h.teammateDefaults&&C.mergeUndefinedValues(c.characterConditionals,h.teammateDefaults()),b.teammateDefaults&&C.mergeUndefinedValues(c.lightConeConditionals,b.teammateDefaults())):(h.defaults&&C.mergeUndefinedValues(c.characterConditionals,h.defaults()),b.defaults&&C.mergeUndefinedValues(c.lightConeConditionals,b.defaults())),c}function v0(e,a,i,n,l,o,r,c){const h=a,b=i,R=r.breakpoints,S=c.substatGoal;let u=zo(b),m=e.simulation,f,p=!0,I=!0,E=0;const T=Xe.sumArray(Object.values(m.request.stats)),D=Xe.sumArray(Object.values(h));if(T==D||T<S)return m.result=Aa(n,l,[m],{...c,substatRollsModifier:c.substatRollsModifier})[0],m;const W={parts:[]};if(c.enforcePossibleDistribution){I=!1,b[t.SPD]=Math.max(6,b[t.SPD]),m.request.stats[t.SPD]=Math.max(6,b[t.SPD]),u=zo(b);const F=[...r.substats,t.SPD],L=H=>{const X={};return F.forEach(oe=>{oe!=H&&(X[oe]=!0)}),{main:H,substats:X}},M=e.simulation.request;W.parts=[L(M.simLinkRope),L(M.simPlanarSphere),L(M.simFeet),L(M.simBody),L(t.ATK),L(t.HP)]}const B={};for(;u>S;){let F,L,M;const H=Object.entries(m.request.stats).filter(([X,oe])=>oe>c.freeRolls).map(([X])=>X).filter(X=>!B[X]);m.request.stats;for(const X of H){if(m.request.stats[X]<=c.freeRolls||C.sumArray(Object.values(m.request.stats))<=c.substatGoal||X==t.SPD&&m.request.stats[t.SPD]<=Math.ceil(e.speedRollsDeduction)||m.request.stats[X]<=h[X])continue;const oe=Xe.clone(m);oe.request.stats[X]-=1;const A=Aa(n,l,[oe],{...c,substatRollsModifier:c.substatRollsModifier})[0];E++,!(p&&R[X]&&A.x[X]<R[X])&&(o(A),o(L),(!F||A.simScore>L.simScore)&&(F=oe,L=A,M=X))}if(!L){if(p){p=!1;continue}if(I){I=!1;continue}u-=1;continue}if(c.enforcePossibleDistribution&&F.request.stats[M]<6){const X=M,oe=F.request.stats[X],A=W.parts.map(J=>J.substats[X]).filter(J=>J).length;if(oe<A){let J=!1;for(const re of W.parts)if(re.substats[X]&&!(Object.values(re.substats).length<=4)){delete re.substats[X],J=!0;break}if(!J){B[X]=!0;continue}}}m=F,f=L,u-=1}return m.result=f,console.log("simulationRuns",E,e.simulation.request.simBody,e.simulation.request.simFeet,e.simulation.request.simLinkRope,e.simulation.request.simPlanarSphere),m}function zo(e){let a=0;for(const i of wt)a+=e[i];return a}function O0(e,a){return{[t.HP_P]:a.freeRolls,[t.ATK_P]:a.freeRolls,[t.DEF_P]:a.freeRolls,[t.HP]:a.freeRolls,[t.ATK]:a.freeRolls,[t.DEF]:a.freeRolls,[t.SPD]:e.speedRollsDeduction,[t.CR]:a.freeRolls,[t.CD]:a.freeRolls,[t.EHR]:a.freeRolls,[t.RES]:a.freeRolls,[t.BE]:a.freeRolls}}function K0(e,a,i,n){var S;const l=e.simulation.request,o={[t.HP_P]:0,[t.ATK_P]:0,[t.DEF_P]:0,[t.HP]:0,[t.ATK]:0,[t.DEF]:0,[t.SPD]:0,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:0,[t.BE]:0};for(const u of a.substats)o[u]=i.maxPerSub;o[l.simBody]-=i.deductionPerMain,o[l.simFeet]-=i.deductionPerMain,o[l.simPlanarSphere]-=i.deductionPerMain,o[l.simLinkRope]-=i.deductionPerMain;for(const u of wt)o[u]=Math.min(o[u],i.substatGoal-10*i.freeRolls-Math.ceil(e.speedRollsDeduction)),o[u]=Math.max(o[u],i.freeRolls),((S=a.maxBonusRolls)==null?void 0:S[u])!=null&&(o[u]=Math.min(o[u],a.maxBonusRolls[u]+i.freeRolls));i.limitFlatStats&&(o[t.ATK]=i.freeRolls,o[t.HP]=i.freeRolls,o[t.DEF]=i.freeRolls),o[t.ATK]=Math.min(10,o[t.ATK]),o[t.HP]=Math.min(10,o[t.HP]),o[t.DEF]=Math.min(10,o[t.DEF]),o[t.SPD]=e.speedRollsDeduction;const r=$t.getMaxedSubstatValue(t.CR,i.quality),c=Math.max(0,100-n.x[t.CR]*100);o[t.CR]=Math.max(i.baselineFreeRolls,Math.max(i.enforcePossibleDistribution?6:0,Math.min(l.simBody==t.CR?Math.ceil((c-32.4)/r):Math.ceil(c/r),o[t.CR])));const h=$t.getMaxedSubstatValue(t.EHR,i.quality),b=Math.max(0,120-n.x[t.EHR]*100);o[t.EHR]=Math.max(i.baselineFreeRolls,Math.max(i.enforcePossibleDistribution?6:0,Math.min(l.simBody==t.EHR?Math.ceil((b-43.2)/h):Math.ceil(b/h),o[t.EHR])));const R=Math.ceil(e.speedRollsDeduction)-6;for(const u of wt)u!=t.SPD&&(o[u]=Math.min(o[u],36-R));return o}function pf(e){const a=Z.getMetadata().characters[e.id];return a.stats.SPD+(a.traces.SPD||0)}function Gf(e,a){const{relicSetNames:i,ornamentSetName:n}=J0(a);let l=e.relicSets[0][0],o=e.relicSets[0][1],r=e.ornamentSets[0];const c=e.relicSets.map(b=>b.sort());for(const b of c){if(i[0]==b[0]&&i[1]==b[1]){l=b[0],o=b[1];break}if(b[0]!=b[1]&&i[0]in b&&i[1]in b){l=i[0],o=i[1];break}}const h=e.ornamentSets;for(const b of h)if(n==b){r=b;break}return{relicSet1:l,relicSet2:o,ornamentSet:r}}function If(e,a,i,n){const l=pf(e),r=n-l>40?[t.SPD]:a.parts[G.Feet],{relicSet1:c,relicSet2:h,ornamentSet:b}=i,R=[];for(const S of a.parts[G.Body])for(const u of r)for(const m of a.parts[G.PlanarSphere])for(const f of a.parts[G.LinkRope]){const p={name:"",simRelicSet1:c,simRelicSet2:h,simOrnamentSet:b,simBody:S,simFeet:u,simPlanarSphere:m,simLinkRope:f,stats:{[t.HP_P]:0,[t.ATK_P]:0,[t.DEF_P]:0,[t.HP]:0,[t.ATK]:0,[t.DEF]:0,[t.SPD]:0,[t.CR]:0,[t.CD]:0,[t.EHR]:0,[t.RES]:0,[t.BE]:0}},E={simulation:{name:"",key:"",simType:Va.SubstatRolls,request:p},finalSpeed:0,speedRollsDeduction:0};R.push(E)}return R}function Ef(e,a,i,n,l){const o=Xe.clone(e);Object.values(G).forEach(h=>o[h]=o[h]||Ta()),Object.values(G).forEach(h=>o[h].part=h),Object.values(o).map(h=>{if(h.substats=[],h.part==G.Head)for(const b of wt)b!=t.SPD&&h.substats.push({stat:b,value:$t.getMaxedSubstatValue(b,l.quality)*0})});const{originalSimResult:r,originalSim:c}=_0(o,n,a,i,l,0,!0);return{baselineSimResult:r,baselineSim:c}}function _0(e,a,i,n,l,o=1,r=!1){const c=Xe.clone(e);Object.values(G).forEach(m=>c[m].part=m);const{relicSetNames:h,ornamentSetName:b}=J0(c),R=qr(c,h[0],h[1],b,l.quality,l.speedRollValue);if(r){const{relicSet1:m,relicSet2:f,ornamentSet:p}=a;R.simRelicSet1=m,R.simRelicSet2=f,R.simOrnamentSet=p}const S={name:"",key:"",simType:Va.SubstatRolls,request:R},u=Aa(i,n,[S],{...l,substatRollsModifier:m=>m,mainStatMultiplier:o})[0];return S.result=u,{originalSimResult:u,originalSim:S}}function J0(e){Object.values(G).forEach(o=>e[o]=e[o]||Ta());const a=[e[G.Head].set,e[G.Hands].set,e[G.Body].set,e[G.Feet].set].filter(o=>o!=-1),i=[e[G.PlanarSphere].set,e[G.LinkRope].set].filter(o=>o!=-1),n=e0(a,!0),l=t0(i,!0);return n.sort(),{relicSetNames:n,ornamentSetName:l}}function Tf(e,a,i){let n=1;for(const l of Object.keys(a))C.isFlat(l)?n*=(Math.min(1,e.x[l]/a[l])+1)/2:n*=Math.min(1,1-(a[l]-e.x[l])/$t.getMaxedSubstatValue(l,i.quality));return e.penaltyMultiplier=n,n}function Df(e){let a="WTF+";const i=Xe.precisionRound(e*100);for(const[n,l]of Object.entries(Zf))if(a=n,i>=l)return a;return"???"}function z0(e,a){const i=e.result;return a.result.simScore-i.simScore}const Zf={"WTF+":135,WTF:126,"SSS+":118,SSS:111,"SS+":105,SS:100,"S+":95,S:90,"A+":85,A:80,"B+":75,B:70,"C+":65,C:60,"D+":55,D:50,"F+":45,F:40},Cf=()=>s.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"none",viewBox:"0 1 20 20",children:s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v13m0-13 4 4m-4-4-4 4"})}),Bf=e=>s.jsx(rs,{component:Cf,...e}),{Text:yf}=be,Wf=e=>{const a=Xe.clone(e.simScoringResult);if(!a)return s.jsx("pre",{style:{height:200},children:" "});const i=a.simulationForm.characterId,n=Z.getMetadata().characters[i],l=Ns[n.element];function o(W){return s.jsx(g,{vertical:!0,align:"center",gap:2,children:s.jsx("img",{src:U.getSetImage(W.set),style:{height:60}})})}function r(W){var F;const B=((F=W.stat)==null?void 0:F.replace("Boost",""))||"";return s.jsxs(g,{align:"center",gap:10,children:[s.jsx("img",{src:U.getPart(W.part),style:{height:30}}),s.jsx("pre",{style:{margin:0},children:B})]})}function c(W){const B=W.precision??1,F=W.number??0,L=F!=0;return s.jsxs(g,{align:"center",gap:15,children:[s.jsx("pre",{style:{margin:0},children:W.label}),s.jsx("pre",{style:{margin:0},children:L&&F.toFixed(B)})]})}function h(W){const B=W.text??"";return s.jsxs(g,{align:"center",gap:15,children:[s.jsx("pre",{style:{margin:0},children:W.label}),s.jsx("pre",{style:{margin:0},children:B})]})}function b(){const W=[],B=a.originalSimScore,F=a.percent;for(const L of a.substatUpgrades){const M=L,H=M.simulationResult.simScore,X=M.percent,oe=M.stat,J=C.isFlat(M.stat)?"":"%",re=C.precisionRound($t.getMaxedSubstatValue(oe,.8));W.push(s.jsxs(g,{align:"center",gap:10,children:[s.jsx("img",{src:U.getStatIcon(oe),style:{height:30}}),s.jsx("pre",{style:{margin:0,width:200},children:`+1x roll: ${zn[oe]} +${re.toFixed(1)}${J}`}),s.jsx("pre",{style:{margin:0,width:250},children:`Score: +${((X-F)*100).toFixed(2)}% -> ${(M.percent*100).toFixed(2)}%`}),s.jsx("pre",{style:{margin:0,width:300},children:`Damage: +${(H-B).toFixed(1)} -> ${H.toFixed(1)}`}),s.jsx("pre",{style:{margin:0,width:150},children:`Damage %: +${((H-B)/B*100).toFixed(3)}%`})]},C.randomId()))}return s.jsx(g,{vertical:!0,gap:Ze,children:W})}function R(){return s.jsxs(g,{vertical:!0,style:{marginTop:80,width:1e3},children:[s.jsx("h1",{style:{margin:"auto"},children:"DPS Score Calculation"}),s.jsxs(yf,{style:{fontSize:18},children:[s.jsx("h2",{children:"What is DPS Score?"}),s.jsx("p",{children:"DPS Score is a damage calculation based metric for accurately scoring how optimal the character's relics are for maximizing damage in combat."}),s.jsx("p",{children:"This score is calculated by using the optimizer to simulate the character's combat stats and rates the build based on how much the relics contribute to damage, for a more accurate evaluation than scores based solely on stat weights."}),s.jsx("p",{children:"The scoring calculation takes into consideration:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Character eidolons / light cone / superimpositions"}),s.jsx("li",{children:"Teammate eidolons / light cone / superimpositions"}),s.jsx("li",{children:"Combat passives and buffs from abilities and light cones"}),s.jsx("li",{children:"Team composition and teammate buffs"}),s.jsx("li",{children:"Character ability rotations"}),s.jsx("li",{children:"Stat breakpoints"}),s.jsx("li",{children:"Stat overcapping"}),s.jsx("li",{children:"Relic set effects"}),s.jsx("li",{children:"Super break"}),s.jsx("li",{children:"...etc"})]}),s.jsx("h2",{children:"How is it calculated?"}),s.jsx("p",{children:"At its heart, this score is calculated using a Basic / Skill / Ult / FuA / DoT / Break ability damage rotation predefined per character. These simulations use the optimizer's default conditional settings for the character / teammates / light cones / relic sets, and the damage sum is then used to compare between builds."}),s.jsx("h4",{children:"Simulation benchmarks"}),s.jsx("p",{children:"The scoring algorithm generates three builds to measure the damage of the original character against."}),s.jsxs("ul",{style:{lineHeight:"32px"},children:[s.jsx("li",{children:"Baseline (0%) - No substats, no main stats"}),s.jsx("li",{children:"Benchmark (100%) - A strong build, generated following certain rules with a realistic distribution of 48x min rolls"}),s.jsx("li",{children:"Perfection (200%) - The perfect build, generated with an ideal distribution of 54x max rolled substats"})]}),s.jsx("p",{children:"The original character's build is scored based on how its Combo DMG compares to the benchmark percentages. The benchmark and perfection builds will always match the original character's SPD."}),s.jsx("h4",{children:"100% benchmark ruleset"}),s.jsx("p",{children:"The 100% benchmark character is designed to be a strong and realistic build that is difficult to reach, but attainable with some character investment into relic farming. The following ruleset defines how the build is generated and why it differs from the perfect build."}),s.jsxs("ul",{style:{lineHeight:"32px"},children:[s.jsx("li",{children:"The default damage simulation uses a common team composition and the character's BiS relic + ornament set"}),s.jsx("li",{children:"The 100% benchmark uses the same eidolon and superimposition as the original character, at level 80 and maxed traces"}),s.jsx("li",{children:"The 100% benchmark has 4 main stats and 48 total substats: 8 from each gear slot"}),s.jsx("li",{children:"Each substat is equivalent to a 5 star relic's low roll value, except for SPD which uses mid rolls"}),s.jsx("li",{children:"First, 2 substats are allocated to each substat type, except for SPD"}),s.jsx("li",{children:"Substats are then allocated to SPD to match the original character's in-combat SPD"}),s.jsx("li",{children:"The remaining substats are then distributed to the other stats options to maximize the build's damage output"}),s.jsx("li",{children:"The resulting build must be a substat distribution that is possible to make with the in-game sub and main stat restrictions (for example, relics with a main stat cannot also have the same substat, and no duplicate substat slots per piece, etc)"}),s.jsxs("li",{children:["An artificial diminishing returns penalty is applied to substats with greater than ",s.jsx("code",{children:"12 - (2 * main stats)"})," rolls, to simulate the difficulty of obtaining multiple rolls in a single stat"]})]}),s.jsx("p",{children:"This process is repeated through all the possible main stat permutations and substat distributions until the highest damage simulation is found. That build's damage is then used as the standard for a 100% DPS Score."}),s.jsx("h4",{children:"200% benchmark ruleset"}),s.jsx("p",{children:"The 200% perfection character follows a similar generation process with a few differences."}),s.jsxs("ul",{style:{lineHeight:"32px"},children:[s.jsx("li",{children:"54x max roll substats"}),s.jsx("li",{children:"No diminishing returns penalty"}),s.jsx("li",{children:"All substats are ideally distributed, but the build must still be possible to make"})]}),s.jsx("h4",{children:"Score normalization"}),s.jsx("p",{children:"All simulation scores are normalized by deducting a baseline damage simulation. The baseline uses the same eidolon and light cone, but no main stats and no substats. This adjusts for the base amount of damage that a character's kit deals, so that the DPS Score can then measure the resulting damage contribution of each additional substat."}),s.jsx("h4",{children:"Relic / ornament sets"}),s.jsx("p",{children:"Each character has a defined BiS set, and a few other equivalent sets that can be considered similar in performance. If the original character's sets matches any of the acceptable sets, the character will be scored against a benchmark generated matching that set, otherwise the original character will be scored against the BiS."}),s.jsx("h4",{children:"Stat breakpoint penalty"}),s.jsx("p",{children:"Certain characters will have breakpoints that are forced. For example, 120% combat EHR on Black Swan to maximize her passive EHR to DMG conversion, and to land Arcana stacks. Failing to reach the breakpoint will penalize the DPS Score for the missing percentage. This penalty applies to both the original character and the benchmark simulations but not the baseline."}),s.jsx("h4",{children:"Formula"}),s.jsx("p",{children:"The resulting formula is:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"If DMG  < 100% benchmark"}),s.jsx("ul",{style:{paddingLeft:20},children:s.jsx("li",{children:s.jsx("code",{children:"DMG Score = (character dmg - 0% baseline dmg) / (100% benchmark dmg - 0% baseline dmg)"})})})]}),s.jsxs("ul",{children:[s.jsx("li",{children:"If DMG ≥ 100% benchmark"}),s.jsx("ul",{style:{paddingLeft:20},children:s.jsx("li",{children:s.jsx("code",{children:"DMG Score = 1 + (character dmg - 100% benchmark dmg) / (200% perfect dmg - 100% benchmark dmg)"})})})]}),s.jsx("h3",{children:"What are the grade thresholds?"}),s.jsx("p",{children:"Grading is based on the benchmark as 100%."}),s.jsx("pre",{style:{width:500},children:s.jsxs(g,{children:[s.jsxs("ul",{style:{width:300},children:[s.jsx("li",{children:"WTF+ = 135% ↑ 9%"}),s.jsx("li",{children:"WTF  = 126% ↑ 8%"}),s.jsx("li",{children:"SSS+ = 118% ↑ 7%"}),s.jsx("li",{children:"SSS  = 111% ↑ 6%"}),s.jsx("li",{children:"SS+  = 105% ↑ 5%"}),s.jsx("li",{children:"SS   = 100% [Benchmark]"}),s.jsx("li",{children:"S+   = 95%"}),s.jsx("li",{children:"S    = 90%"}),s.jsx("li",{children:"A+   = 85%"})]}),s.jsxs("ul",{children:[s.jsx("li",{children:"A  = 80%"}),s.jsx("li",{children:"B+ = 75%"}),s.jsx("li",{children:"B  = 70%"}),s.jsx("li",{children:"C+ = 65%"}),s.jsx("li",{children:"C  = 60%"}),s.jsx("li",{children:"D+ = 55%"}),s.jsx("li",{children:"D  = 50%"}),s.jsx("li",{children:"F+ = 45%"}),s.jsx("li",{children:"F  = 40%"})]})]})}),s.jsx("h2",{children:"FAQs"}),s.jsx("h4",{children:"Why does the sim match speed?"}),s.jsx("p",{children:"Speed is controlled separately from the other stats because damage isn't comparable between different speed thresholds. For example, higher speed can actually result in lower damage with Bronya as a teammate if the speed tuning is thrown off. To make damage comparisons fair, we equalize the speed variable by forcing the sim's substats to match the original character's combat speed."}),s.jsx("h4",{children:"Why does a build score lower even though it has higher Sim Damage?"}),s.jsx("p",{children:"The benchmark sims have to equalize speed, so if the higher damage build has lower speed, then it will be compared to benchmark builds at that same lower speed, and therefore may score lower. In general this means that the sim will reallocate every reduced speed roll into a damage stat instead."}),s.jsx("h4",{children:"What's the reasoning behind the benchmark simulation rules?"}),s.jsx("p",{children:"The simulation rules were designed to create a realistic benchmark build for 100% DPS Score, which should be difficult to achieve yet possible with character investment. After trialing many methodologies for generating simulation stats, this set of rules produced the most consistent and reasonable 100% benchmarks across all characters and builds."}),s.jsx("p",{children:"The spread of 2 substats across all stat options provides some baseline consistency, and simulates how substats are imperfectly distributed in actual player builds. The spread rolls also help to balance out characters that are more stat hungry and require multiple stats to be effective, vs characters that only need two or three stats."}),s.jsx("p",{children:"Applying diminishing returns to high stacking substats is a way to make the benchmark fair for characters that primarily scale off of a single stat, for example Boothill and break effect. The ideal distribution will want every relic roll to go into break effect, but stacking 5x rolls of a single stat on a relic is extremely rare / unrealistic in practice, so the simulation rules add diminishing returns to account for that."}),s.jsx("h4",{children:"Why are the scores different for different teams?"}),s.jsx("p",{children:"Team buffs and synergy will change the ideal benchmark simulation's score. For example, a benchmark sim with Fu Xuan on the team may invest more substats into Crit DMG instead of Crit Rate since her passive Crit Rate will change the optimal distribution of crit rolls. Teams should be customized to fit the actual teammates used for the character ingame for an accurate score."}),s.jsx("h4",{children:"Why are certain stat breakpoints forced?"}),s.jsx("p",{children:"The only forced breakpoints currently are Effect Hit Rate minimums for DoT characters. Take Black Swan for example, the purpose of forcing the sim to use her 120% breakpoint is so it can't just ignore EHR to chase more maximum DoT damage. EHR is more than just DMG conversion as it also lets her land Arcana debuffs to reach her 7th Arcana stack for DEF pen. The penalty is calculated as a 1% deduction per missing roll from the breakpoint."}),s.jsx("p",{children:s.jsx("code",{children:"dmg scale = min(1, (breakpoint - combat stat) / (min stat value))"})}),s.jsx("h4",{children:"How were the default simulation teams / sets chosen?"}),s.jsx("p",{children:"The defaults come from a combination of usage statistics and community guidance. Best in slot sets and teammates will change with new game updates, so the default parameters may also change. Please visit the Discord server for suggestions and feedback on the scoring design."}),s.jsx("h4",{children:"Why is a character scoring low?"}),s.jsx("p",{children:"The `Damage Upgrades` section will give a quick overview of the sets and stats that could be improved. Substat upgrades will show the damage increase for a single max roll. For a more detailed explanation, the full simulation is detailed below the character card, including the benchmark character's stat distribution, basic stats, combat stats, and main stats. Comparing the original character's stats to the benchmark character's stats is helpful to show the difference in builds and see where to improve."}),s.jsx("p",{children:"An often underestimated component of the build is completed BiS set effects. Set effects can play a large part in optimizing a character's potential damage output and rainbow or broken sets will often score worse than full sets."})]})]})}const S=Xe.clone(a.originalSimResult),u=Xe.clone(a.benchmarkSimResult),m=Xe.clone(a.maximumSimResult),f=S.x,p=u.x,I=m.x;S[l]=S.ELEMENTAL_DMG,u[l]=u.ELEMENTAL_DMG,m[l]=m.ELEMENTAL_DMG,f[l]=f.ELEMENTAL_DMG,p[l]=p.ELEMENTAL_DMG,I[l]=I.ELEMENTAL_DMG;const E=300,T=s.jsx(g,{vertical:!0,children:s.jsx(It,{type:"vertical",style:{flexGrow:1,margin:"10px 30px"}})});function D(W){const B=W.simulation.request,F=Xe.clone(W.simulation.result),L=F,M=L.x,H=W.nameText=="Character",X="rgb(225, 165, 100)";return L[l]=L.ELEMENTAL_DMG,M[l]=M.ELEMENTAL_DMG,s.jsxs(g,{vertical:!0,gap:25,children:[s.jsx(g,{vertical:!0,gap:Ze,children:s.jsx(g,{justify:"space-around",children:s.jsx("pre",{style:{fontSize:20,fontWeight:"bold",color:H?X:""},children:s.jsx("u",{children:`${W.nameText} build (${C.truncate10ths(C.precisionRound(W.percent*100))}%)`})})})}),s.jsxs(g,{vertical:!0,gap:Ze,style:{width:E},children:[s.jsx("pre",{style:{margin:"auto",color:H?X:""},children:W.basicText}),s.jsx(ll,{finalStats:L,elementalDmgValue:l,simScore:F.simScore})]}),s.jsxs(g,{vertical:!0,gap:Ze,style:{width:E},children:[s.jsxs("pre",{style:{margin:"auto",color:H?X:""},children:[W.statText," ",s.jsx("u",{children:"combat stats"})]}),s.jsx(ll,{finalStats:M,elementalDmgValue:l,simScore:F.simScore})]}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx("pre",{style:{margin:"10px auto",color:H?X:""},children:W.subText}),s.jsxs(g,{gap:5,justify:"space-around",children:[s.jsxs(g,{vertical:!0,gap:Ze,style:{width:120},children:[s.jsx(c,{label:"ATK%: ",number:B.stats[t.ATK_P],precision:W.precision}),s.jsx(c,{label:"ATK:  ",number:B.stats[t.ATK],precision:W.precision}),s.jsx(c,{label:"HP%:  ",number:B.stats[t.HP_P],precision:W.precision}),s.jsx(c,{label:"HP:   ",number:B.stats[t.HP],precision:W.precision}),s.jsx(c,{label:"DEF%: ",number:B.stats[t.DEF_P],precision:W.precision}),s.jsx(c,{label:"DEF:  ",number:B.stats[t.DEF],precision:W.precision})]}),s.jsxs(g,{vertical:!0,gap:Ze,style:{width:100},children:[s.jsx(c,{label:"SPD:  ",number:B.stats[t.SPD],precision:2}),s.jsx(c,{label:"CR:   ",number:B.stats[t.CR],precision:W.precision}),s.jsx(c,{label:"CD:   ",number:B.stats[t.CD],precision:W.precision}),s.jsx(c,{label:"EHR:  ",number:B.stats[t.EHR],precision:W.precision}),s.jsx(c,{label:"RES:  ",number:B.stats[t.RES],precision:W.precision}),s.jsx(c,{label:"BE:   ",number:B.stats[t.BE],precision:W.precision})]})]})]}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx("pre",{style:{margin:"0 auto",color:H?X:""},children:W.mainText}),s.jsx(g,{gap:Ze,justify:"space-around",children:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(r,{stat:Dt[B.simBody],part:G.Body}),s.jsx(r,{stat:Dt[B.simFeet],part:G.Feet}),s.jsx(r,{stat:Dt[B.simPlanarSphere],part:G.PlanarSphere}),s.jsx(r,{stat:Dt[B.simLinkRope],part:G.LinkRope})]})})]}),s.jsxs(g,{vertical:!0,gap:20,children:[s.jsx("pre",{style:{margin:"0 auto",color:H?X:""},children:W.damageText}),s.jsx(g,{gap:Ze,justify:"space-around",children:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(c,{label:"Basic DMG:           ",number:F.BASIC}),s.jsx(c,{label:"Skill DMG:           ",number:F.SKILL}),s.jsx(c,{label:"Ult DMG:             ",number:F.ULT}),s.jsx(c,{label:"Fua DMG:             ",number:F.FUA}),s.jsx(c,{label:"Dot DMG:             ",number:F.DOT}),s.jsx(c,{label:"Break DMG:           ",number:F.BREAK})]})})]})]})}return s.jsxs(g,{vertical:!0,gap:15,align:"center",children:[s.jsx(g,{justify:"space-around",style:{marginTop:15},children:s.jsx("pre",{style:{fontSize:28,fontWeight:"bold",margin:0},children:"Character build analysis"})}),s.jsxs(g,{gap:40,children:[s.jsxs(g,{vertical:!0,gap:Ze,style:{marginLeft:10},children:[s.jsx("pre",{style:{margin:"5px auto"},children:"Simulation teammates"}),s.jsxs(g,{gap:15,children:[s.jsx(jn,{result:a,index:0}),s.jsx(jn,{result:a,index:1}),s.jsx(jn,{result:a,index:2})]})]}),s.jsx(os,{}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx("pre",{style:{margin:"5px auto"},children:"Simulation sets"}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsxs(g,{children:[s.jsx(o,{set:a.maximumSim.request.simRelicSet1}),s.jsx(o,{set:a.maximumSim.request.simRelicSet2})]}),s.jsx(o,{set:a.maximumSim.request.simOrnamentSet})]})]}),s.jsx(os,{}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx("pre",{style:{margin:"5px auto"},children:"Formula"}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx(c,{label:"BASIC:     ",number:a.simulationMetadata.formula.BASIC,precision:0}),s.jsx(c,{label:"SKILL:     ",number:a.simulationMetadata.formula.SKILL,precision:0}),s.jsx(c,{label:"ULT:       ",number:a.simulationMetadata.formula.ULT,precision:0}),s.jsx(c,{label:"FUA:       ",number:a.simulationMetadata.formula.FUA,precision:0}),s.jsx(c,{label:"DOT:       ",number:a.simulationMetadata.formula.DOT,precision:0}),s.jsx(c,{label:"BREAK:     ",number:a.simulationMetadata.formula.BREAK,precision:0})]})]}),s.jsx(os,{}),s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx("pre",{style:{margin:"5px auto"},children:"Combat damage results"}),s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(h,{label:"Primary ability:     ",text:`${a.characterMetadata.scoringMetadata.sortOption.key} DMG`}),s.jsx(c,{label:"Character DMG:       ",number:a.originalSimScore}),s.jsx(c,{label:"Baseline DMG:        ",number:a.baselineSimScore}),s.jsx(c,{label:"Benchmark DMG:       ",number:a.benchmarkSimScore}),s.jsx(c,{label:"Maximum DMG:         ",number:a.maximumSimScore}),s.jsx(c,{label:"DPS score %:         ",number:a.percent*100,precision:2})]})]})]}),s.jsxs(g,{children:[s.jsx(D,{simulation:a.originalSim,percent:a.percent,precision:2,subText:"Character subs (min rolls)",mainText:"Character main stats",basicText:"Character basic stats",damageText:"Character ability damage",statText:"Character",nameText:"Character"}),T,s.jsx(D,{simulation:a.benchmarkSim,percent:1,precision:0,subText:"100% benchmark subs (min rolls)",mainText:"100% benchmark main stats",basicText:"100% benchmark basic stats",damageText:"100% benchmark ability damage",statText:"100% benchmark",nameText:"Benchmark"}),T,s.jsx(D,{simulation:a.maximumSim,percent:2,precision:0,subText:"200% perfect subs (max rolls)",mainText:"200% perfect main stats",basicText:"200% perfect basic stats",damageText:"200% perfect ability damage",statText:"200% perfect",nameText:"Perfect"})]}),s.jsx(g,{gap:Ze,justify:"space-around",children:s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx("pre",{style:{marginLeft:"auto",marginRight:"auto"},children:"Substat upgrade comparisons"}),s.jsx(b,{})]})}),s.jsx(g,{vertical:!0,gap:Ze,children:s.jsx(R,{})})]})};function jn(e){const a=e.result.simulationMetadata.teammates[e.index],i=60;return s.jsxs(g,{vertical:!0,align:"center",gap:5,children:[s.jsx("img",{src:U.getCharacterAvatarById(a.characterId),style:{height:i}}),s.jsx("pre",{style:{margin:0},children:`E${a.characterEidolon}`}),s.jsx("img",{src:U.getLightConeIconById(a.lightCone),style:{height:i}}),s.jsx("pre",{style:{margin:0},children:`S${a.lightConeSuperimposition}`})]})}function Mf(e){const i=e.characterMetadata.scoringMetadata.sortOption.key,n=e.originalSimResult.x;n.ELEMENTAL_DMG+=n[`${i}_BOOST`],i!=w.DOT.key&&(n[t.CR]+=n[`${i}_CR_BOOST`],n[t.CD]+=n[`${i}_CD_BOOST`])}const Qo={[t.ATK_P]:!0,[t.DEF_P]:!0,[t.HP_P]:!0};function Vf(e){const a=Xe.clone(e.result);Mf(a);const i=a.characterMetadata.scoringMetadata.simulation,n=a.simulationMetadata,l=Ns[a.characterMetadata.element],o=n.nonDisplayStats||[];let r=i.substats;r=r.filter(h=>!o.includes(h)),r=C.filterUnique(r).filter(h=>!Qo[h]),r.length<5&&r.push(t.SPD),r.sort((h,b)=>wt.indexOf(h)-wt.indexOf(b)),r.push(l);const c=[];for(const h of r){if(Qo[h])continue;const b=Xo[h]?a.originalSimResult.x.ELEMENTAL_DMG:a.originalSimResult.x[h],R=C.isFlat(h),S=Xo[h]?C.precisionRound(a.originalSimResult.x.ELEMENTAL_DMG,2)!=C.precisionRound(a.originalSimResult.ELEMENTAL_DMG,2):C.precisionRound(a.originalSimResult.x[h],2)!=C.precisionRound(a.originalSimResult[h],2);let u=Math.floor(b);h==t.SPD?u=C.truncate10ths(b).toFixed(1):R||(u=C.truncate10ths(b*100).toFixed(1)),c.push(s.jsxs(g,{justify:"space-between",align:"center",style:{width:"100%"},children:[s.jsx("img",{src:U.getStatIcon(h),style:{width:ut,height:ut,marginRight:3}}),s.jsx(is,{children:s.jsxs(g,{gap:3,align:"center",children:[`${j0[h]||h}`,S&&s.jsx(Ff,{})]})}),s.jsx(It,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),s.jsx(is,{children:`${u}${R?"":"%"}`})]},C.randomId()))}return s.jsxs(g,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:1},children:[s.jsx(g,{vertical:!0,align:"center",children:s.jsx(q,{style:{fontSize:16},children:"Combat Stats"})}),c]})}function Ff(){return s.jsx(g,{style:{},align:"center",children:s.jsx(Bf,{})})}function xf(e){const a=e.result,i=[],n=a.originalSimResult.simScore,l=a.percent,o=a.substatUpgrades.filter(b=>b.stat!=t.SPD);for(const b of o.slice(0,4)){const R=b.stat,S=b.simulationResult.simScore/n-1;i.push(s.jsxs(g,{justify:"space-between",align:"center",style:{width:"100%"},children:[s.jsx("img",{src:U.getStatIcon(R),style:{width:ut,height:ut,marginRight:3}}),s.jsx(is,{children:`+1x ${Jl[R]}`}),s.jsx(It,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),s.jsx(is,{children:`+ ${(S*100).toFixed(2)}%`})]},C.randomId()))}const r=[],c=a.mainUpgrades[0];if(c&&c.percent-l>0){const b=c.part,R=c.stat,S=c.simulationResult.simScore/n-1;r.push(s.jsxs(g,{gap:3,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[s.jsx("img",{src:U.getPart(b),style:{width:ut,height:ut,marginRight:3}}),s.jsx(is,{children:`➔ ${Jl[R]}`}),s.jsx(It,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),s.jsx(is,{children:`+ ${(S*100).toFixed(2)}%`})]},C.randomId()))}const h=a.setUpgrades[0];if(h.percent-l>0){const b=h.simulationResult.simScore/n-1;r.push(s.jsxs(g,{gap:2,justify:"space-between",align:"center",style:{width:"100%",paddingLeft:1},children:[s.jsx("img",{src:U.getSetImage(h.simulation.request.simRelicSet1),style:{width:ut,height:ut,marginRight:3}}),s.jsx("img",{src:U.getSetImage(h.simulation.request.simRelicSet2),style:{width:ut,height:ut,marginRight:5}}),s.jsx("img",{src:U.getSetImage(h.simulation.request.simOrnamentSet),style:{width:ut,height:ut,marginRight:3}}),s.jsx(It,{style:{margin:"auto 10px",flexGrow:1,width:"unset",minWidth:"unset"},dashed:!0}),s.jsx(is,{children:`+ ${(b*100).toFixed(2)}%`})]},C.randomId()))}return r.length&&(i.splice(4-r.length,r.length),r.map(b=>i.unshift(b))),s.jsxs(g,{vertical:!0,gap:1,align:"center",style:{paddingLeft:4,paddingRight:6,marginBottom:0},children:[s.jsx(g,{vertical:!0,align:"center",children:s.jsx(q,{style:{fontSize:16},children:"Damage Upgrades"})}),i]})}function cn(e){var R,S,u;const[a]=P.useForm();window.characterForm=a;const[i,n]=V.useState(((R=e.initialCharacter)==null?void 0:R.form.characterId)||""),[l,o]=V.useState(((S=e.initialCharacter)==null?void 0:S.form.characterEidolon)||0),[r,c]=V.useState(((u=e.initialCharacter)==null?void 0:u.form.lightConeSuperimposition)||1);V.useMemo(()=>Z.getMetadata().characters,[]),V.useEffect(()=>{var f,p,I,E,T;if(!e.open)return;const m={characterId:(f=e.initialCharacter)==null?void 0:f.form.characterId,characterLevel:80,characterEidolon:((p=e.initialCharacter)==null?void 0:p.form.characterEidolon)||0,lightCone:(I=e.initialCharacter)==null?void 0:I.form.lightCone,lightConeLevel:80,lightConeSuperimposition:((E=e.initialCharacter)==null?void 0:E.form.lightConeSuperimposition)||1};n((T=e.initialCharacter)==null?void 0:T.form.characterId),a.setFieldsValue(m)},[e.open]);function h(){const m=a.getFieldsValue();console.log("Character modal submitted with form:",m),e.onOk(m),e.setOpen(!1)}const b=()=>{e.setOpen(!1)};return s.jsx(Bt,{open:e.open,width:400,destroyOnClose:!0,centered:!0,onOk:h,onCancel:b,footer:[s.jsx(j,{onClick:b,children:"Cancel"},"back"),s.jsx(j,{type:"primary",onClick:h,children:"Save"},"submit")],children:s.jsx(P,{form:a,preserve:!1,layout:"vertical",children:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(q,{children:"Character"}),s.jsx(P.Item,{size:"default",name:"characterId",children:s.jsx(ks,{value:"",withIcon:!0,onChange:m=>{var p,I;n(m);const f=((I=(p=Z.getCharacterById(m))==null?void 0:p.form)==null?void 0:I.characterEidolon)||0;a.setFieldValue("characterEidolon",f)}})}),s.jsx(P.Item,{size:"default",name:"characterEidolon",children:s.jsxs(gt.Group,{value:l,buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[s.jsx(zt,{text:"E0",value:0}),s.jsx(zt,{text:"E1",value:1}),s.jsx(zt,{text:"E2",value:2}),s.jsx(zt,{text:"E3",value:3}),s.jsx(zt,{text:"E4",value:4}),s.jsx(zt,{text:"E5",value:5}),s.jsx(zt,{text:"E6",value:6})]})})]}),s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(q,{children:"Light cone"}),s.jsx(P.Item,{size:"default",name:"lightCone",children:s.jsx(yl,{value:"",withIcon:!0,characterId:i,onChange:()=>{a.setFieldValue("lightConeSuperimposition",1)}})}),s.jsx(P.Item,{size:"default",name:"lightConeSuperimposition",children:s.jsxs(gt.Group,{value:r,onChange:m=>c(m.target.value),buttonStyle:"solid",style:{width:"100%",display:"flex"},children:[s.jsx(zt,{text:"S1",value:1}),s.jsx(zt,{text:"S2",value:2}),s.jsx(zt,{text:"S3",value:3}),s.jsx(zt,{text:"S4",value:4}),s.jsx(zt,{text:"S5",value:5})]})})]})]})})})}cn.propTypes={open:z.bool,onOk:z.func,setOpen:z.func,initialCharacter:z.object,addCharacter:z.bool};function zt(e){return s.jsx(gt.Button,{value:e.value,style:{flex:1,textAlign:"center"},children:e.text})}const{useToken:Lf}=Et,{Text:$s}=be,qs="rgb(255 255 255 / 40%) solid 1px",Uf="rgba(0, 0, 0, 0.5) 1px 1px 1px 1px",Xi="drop-shadow(rgb(0, 0, 0) 1px 1px 3px)",vn={opacity:0,transition:"opacity 0.3s ease",visibility:"hidden",flex:"auto",position:"absolute",left:6,width:150};function dn(e){var kl,Hl,Pl,Nl,Yl,Al;console.log("======================================================================= RENDER CharacterPreview");const{token:a}=Lf(),{source:i,character:n,setOriginalCharacterModalOpen:l,setOriginalCharacterModalInitialCharacter:o,setCharacterModalAdd:r}=e,c=i=="scorer",h=i=="builds",b=a.colorBgLayout,R=window.store(me=>me.relicsById),[S,u]=V.useState(),[m,f]=V.useState(!1),[p,I]=V.useState(!1),[E,T]=V.useState(!1),[D,W]=V.useState(null),[B,F]=V.useState(vs),[L,M]=V.useState(ki),[H,X]=V.useState(Gn),[oe,A]=V.useState(!1),[J,re]=V.useState(),[Je,Re]=V.useState(),[bt,et]=V.useState(),Ht=V.useRef(null);V.useEffect(()=>{var me;if(W(((me=Z.getCharacterById(n==null?void 0:n.id))==null?void 0:me.portrait)||null),n!=null&&n.id){const Qe=Z.getMetadata().characters[n.id].scoringMetadata;if(Qe!=null&&Qe.simulation){const $e=Z.getScoringMetadata(n.id);C.objectHash($e.simulation.teammates)!=C.objectHash(Qe.simulation.teammates)?F(es):F(vs)}Ht.current=n.id}},[n]);function jt(){var $e,Fa,pa;const me=(($e=n==null?void 0:n.portrait)==null?void 0:$e.artistName)||((pa=(Fa=Z.getCharacterById(n==null?void 0:n.id))==null?void 0:Fa.portrait)==null?void 0:pa.artistName);if(!me)return null;const Qe=me.trim();return Qe.length<1?null:Qe}function vt(me){const Qe=Ml.onEditOk(S,me);u(Qe)}function lt(me){Z.setRelic(me),setRelicRows(Z.getRelics()),Ie.save(),u(me),Y.success("Successfully added relic")}function ue(me){const{type:Qe,...$e}=me;switch(Qe){case"add":W({...$e}),Z.saveCharacterPortrait(n.id,$e),Y.success("Successfully saved portrait"),Ie.save();break;case"delete":Z.deleteCharacterPortrait(n.id),W(null),Y.success("Successfully reverted portrait"),Ie.save();break;default:console.error(`Payload of type '${Qe}' is not valid!`)}T(!1)}if(!n)return s.jsxs(g,{style:{display:"flex",height:Js,backgroundColor:b},gap:Ze,id:e.id,children:[s.jsx("div",{style:{width:Ga,overflow:"hidden",outline:`2px solid ${a.colorBgContainer}`,height:"100%",borderRadius:"8px"}}),s.jsxs(g,{gap:Ze,children:[s.jsx(g,{vertical:!0,gap:Ze,align:"center",style:{outline:`2px solid ${a.colorBgContainer}`,width:"100%",height:"100%",borderRadius:"8px"},children:s.jsx(g,{vertical:!0,style:{width:kn,height:280*2+Ze},justify:"space-between",children:s.jsx(g,{})})}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx(ct,{setSelectedRelic:u}),s.jsx(ct,{setSelectedRelic:u}),s.jsx(ct,{setSelectedRelic:u})]}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx(ct,{setSelectedRelic:u}),s.jsx(ct,{setSelectedRelic:u}),s.jsx(ct,{setSelectedRelic:u})]})]})]});let ce,fe;if(c||h){const me=Object.values(n.equipped);fe=it.scoreCharacterWithRelics(n,me),ce=n.equipped}else fe=it.scoreCharacter(n),ce={Head:R[(kl=n.equipped)==null?void 0:kl.Head],Hands:R[(Hl=n.equipped)==null?void 0:Hl.Hands],Body:R[(Pl=n.equipped)==null?void 0:Pl.Body],Feet:R[(Nl=n.equipped)==null?void 0:Nl.Feet],PlanarSphere:R[(Yl=n.equipped)==null?void 0:Yl.PlanarSphere],LinkRope:R[(Al=n.equipped)==null?void 0:Al.LinkRope]};const ye=n.form.characterId,Pe=Z.getMetadata().characters[ye],Lt=Pe.element,Ot=Ns[Lt],Kt=C.clone(ce);RelicFilters.condenseRelicSubstatsForOptimizerSingle(Object.values(Kt));const ie=As($.fixForm($.getDisplayFormValues(n.form)),Kt);ie.CV=StatCalculator.calculateCv(Object.values(Kt)),ie[Ot]=ie.ELEMENTAL_DMG;let ze=B;if(n!=null&&n.id){const me=Z.getMetadata().characters[n.id].scoringMetadata;if(me!=null&&me.simulation){const Qe=Z.getScoringMetadata(n.id),$e=C.objectHash(Qe.simulation.teammates)!=C.objectHash(me.simulation.teammates);Ht.current==null&&($e?ze=es:ze=vs),Ht.current!=n.id&&($e?ze=es:ze=B)}}let St=Rf(n,ce,ze),De=L==ki&&St;De!=null&&De.originalSim?De.originalSimResult[Ot]=De.originalSimResult.ELEMENTAL_DMG:(St=null,De=null);const Ut=fe.relics||[],k=n.form.lightCone,pe=80,Fe=n.form.lightConeSuperimposition,de=Z.getMetadata().lightCones[k],Ye=(de==null?void 0:de.name)||"",ga=U.getLightConePortrait(de)||"",hn=80,K=n.form.characterEidolon,ve=Pe.displayName,Gt=Pe.path,hs=5,Ka=125,Xs=Z.getMetadata().characters[n.id].imageCenter,bc=n.form.lightCone&&n.form.lightCone!="0"?Z.getMetadata().lightCones[n.form.lightCone].imageCenter:0,bn=De?Ga:dR,Sn=De?Ka:uR,Si=De?Ga+16:y0,Ul=De?1260/902*Si:mR,Ri=De?Js-Ka-hs:Js,Rn=De?950:cR;function Sc(me){if(!me.characterId||!me.lightCone)return Y.error("No selected character");const $e=C.clone(Z.getScoringMetadata(ye)).simulation;$e.teammates[Je]=me,Z.updateSimulationScoreOverrides(ye,$e),et(C.randomId()),F(es)}function Rc(me){const Qe=me.result,$e={fontSize:17,fontWeight:"600",textAlign:"center",color:"rgb(225, 165, 100)",height:23,whiteSpace:"nowrap"},Fa=s.jsxs(g,{align:"center",vertical:!0,style:{marginBottom:4,paddingTop:3,paddingBottom:3},children:[s.jsx(ua,{style:$e,children:"Combat Sim"}),s.jsx(ua,{style:$e,children:`DPS Score: ${C.truncate10ths(Math.max(0,Qe.percent*100)).toFixed(1)}% (${Df(Qe.percent)})`})]});return s.jsx(g,{vertical:!0,children:Fa})}function fc(me){const Qe=s.jsx(Li,{style:{marginLeft:10,marginRight:10,marginTop:2,marginBottom:0,alignItems:"center"},onChange:$e=>{$e==zl?window.modalApi.info({icon:null,width:400,maskClosable:!0,content:s.jsx("div",{style:{width:"100%"},children:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(q,{children:"Combat sim scoring settings"}),s.jsx(j,{icon:s.jsx(br,{}),onClick:()=>{const pa=C.clone(Z.getMetadata().characters[n.id]).scoringMetadata.simulation;Z.updateSimulationScoreOverrides(n.id,pa),F(vs),et(Math.random()),Y.success("Reset to default teams")},children:"Reset custom team to default"}),s.jsx(j,{icon:s.jsx(Lc,{}),onClick:()=>{var xa;const pa=C.clone(Z.getScoringMetadata(n.id)).simulation;for(const La of pa.teammates){const js=(xa=Z.getCharacterById(La.characterId))==null?void 0:xa.form;js!=null&&(La.characterEidolon=js.characterEidolon,js.lightCone&&(La.lightCone=js.lightCone,La.lightConeSuperimposition=js.lightConeSuperimposition||1))}Z.updateSimulationScoreOverrides(n.id,pa),F(es),et(Math.random()),Y.success("Synced teammates")},children:"Sync imported eidolons / light cones"})]})})}):F($e)},value:B,block:!0,options:[vs,{label:s.jsx(Xa,{}),value:zl,className:"short-segmented"},es]});return s.jsxs(g,{vertical:!0,style:{},gap:2,children:[s.jsx(cn,{onOk:Sc,open:oe,setOpen:A,initialCharacter:J}),Qe]})}function fn(me){const{result:Qe,index:$e,setCharacterModalOpen:Fa,setSelectedTeammateIndex:pa}=me,xa=Qe.simulationMetadata.teammates[$e],La=64;return s.jsx(Bs.Grid,{style:kf,hoverable:!0,onClick:()=>{re({form:xa}),Fa(!0),pa($e)},className:"custom-grid",children:s.jsxs(g,{vertical:!0,align:"center",gap:0,children:[s.jsx("img",{src:U.getCharacterAvatarById(xa.characterId),style:{height:La,width:La,borderRadius:40,background:"rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.2)",backdropFilter:"blur(5px)",outline:"1px solid rgba(255, 255, 255, 0.3)"}}),s.jsx($o,{text:`E${xa.characterEidolon}`,top:-12}),s.jsx("img",{src:U.getLightConeIconById(xa.lightCone),style:{height:La,marginTop:-3}}),s.jsx($o,{text:`S${xa.lightConeSuperimposition}`,top:-18})]})})}return s.jsxs(g,{vertical:!0,children:[s.jsx(g,{vertical:!0,id:e.id,style:{backgroundColor:b},children:s.jsxs(g,{style:{display:n?"flex":"none",height:Js,margin:1},children:[s.jsx(Hs,{selectedRelic:S,type:"edit",onOk:vt,setOpen:f,open:m}),s.jsx(Hs,{selectedRelic:S,type:"edit",onOk:lt,setOpen:I,open:p}),s.jsxs(g,{vertical:!0,gap:12,className:"character-build-portrait",children:[!h&&s.jsxs("div",{style:{width:`${Ga}px`,height:`${Ri}px`,overflow:"hidden",borderRadius:"8px",marginRight:Ze,outline:qs,filter:Xi},children:[s.jsxs("div",{style:{position:"relative",zIndex:1},children:[n.portrait||D?s.jsx(mf,{customPortrait:D??n.portrait,parentW:Ga}):s.jsx(wi,{src:U.getCharacterPortraitById(n.id),style:{position:"absolute",left:-Xs.x*Xs.z/2*Rn/1024+Ga/2,top:-Xs.y*Xs.z/2*Rn/1024+Ri/2,width:Rn*Xs.z}}),!c&&s.jsx(j,{style:{...vn,top:46},className:"character-build-portrait-button",icon:s.jsx(xi,{}),onClick:()=>{r(!1),o(n),l(!0)},type:"primary",children:"Edit character"}),c&&s.jsx(j,{style:{...vn,top:46},className:"character-build-portrait-button",icon:s.jsx(xi,{}),onClick:()=>{o(n),l(!0)},type:"primary",children:"Edit character"}),s.jsx(j,{style:{...vn,top:7},className:"character-build-portrait-button",icon:s.jsx(xi,{}),onClick:()=>T(!0),type:"primary",children:"Edit portrait"}),s.jsx(uf,{title:"portrait",aspectRatio:Ga/Js,existingConfig:D??n.portrait,open:E,setOpen:T,onOk:ue,defaultImageUrl:U.getCharacterPortraitById(n.id),width:500})]}),s.jsx(g,{vertical:!0,style:{position:"relative",top:De?Ri-44:Ri-34,height:34,paddingLeft:4,display:jt()?"flex":"none"},align:"flex-start",children:s.jsxs($s,{style:{backgroundColor:"rgb(0 0 0 / 40%)",padding:"4px 12px",borderRadius:8,fontSize:14,maxWidth:Ga-150,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:2,textShadow:"0px 0px 10px black"},children:["Art by ",jt()||""]})})]}),De&&!h&&s.jsxs(g,{vertical:!0,children:[Ye&&s.jsx(g,{vertical:!0,style:{position:"relative",height:0,top:Ka-35,paddingRight:12},align:"flex-end",children:s.jsx($s,{style:{position:"absolute",height:30,backgroundColor:"rgb(0 0 0 / 70%)",padding:"4px 12px",borderRadius:8,fontSize:14,maxWidth:Ga-50,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",zIndex:3,textShadow:"0px 0px 10px black",outline:qs,boxShadow:Uf},children:`S${Fe} - ${Ye}`})}),s.jsx(g,{className:"lightConeCard",style:{width:`${bn}px`,height:`${Sn}px`,overflow:"hidden",zIndex:2,borderRadius:"8px",outline:qs,filter:Xi,position:"relative"},onClick:()=>{c?(o(n),l(!0)):(r(!1),o(n),l(!0))},children:s.jsx(wi,{src:ga,style:{position:"absolute",width:420,top:-bc+Ka/2,left:-8}})})]})]}),s.jsxs(g,{gap:Ze,children:[s.jsx(g,{vertical:!0,gap:Ze,align:"center",justify:"space-between",children:s.jsxs(g,{vertical:!0,style:{width:kn,height:"100%"},justify:"space-between",children:[s.jsxs(g,{vertical:!0,children:[s.jsxs(g,{justify:"space-around",style:{height:26,marginBottom:6},align:"center",children:[s.jsx(ni,{preview:!1,width:32,src:U.getElement(Lt)}),s.jsx(w0,{rarity:Pe.rarity}),s.jsx(ni,{preview:!1,width:32,src:U.getPathFromClass(Gt)})]}),s.jsxs(g,{vertical:!0,children:[s.jsx(ua,{style:{fontSize:24,lineHeight:"30px",fontWeight:400,textAlign:"center"},children:ve}),s.jsx(ua,{style:{fontSize:16,fontWeight:400,textAlign:"center"},children:`Lv${hn} E${K}`})]})]}),s.jsx(ll,{finalStats:ie,elementalDmgValue:Ot,cv:ie.CV,simScore:De?De.originalSimResult.simScore:void 0}),De&&s.jsx(Rc,{result:De}),De&&s.jsxs(g,{vertical:!0,children:[s.jsx(Bs,{style:{backgroundColor:a.colorBgLayout,padding:"0px !important",body:{height:500}},styles:{body:{padding:0,borderRadius:10}},className:"teamSelectionCard",size:"small",bordered:!1,children:s.jsxs(g,{justify:"space-around",style:{paddingTop:0},children:[s.jsx(fn,{result:De,index:0,setCharacterModalOpen:A,setSelectedTeammateIndex:Re}),s.jsx(fn,{result:De,index:1,setCharacterModalOpen:A,setSelectedTeammateIndex:Re}),s.jsx(fn,{result:De,index:2,setCharacterModalOpen:A,setSelectedTeammateIndex:Re})]})}),s.jsx(fc,{result:De})]}),De&&H==Qn&&s.jsx(g,{vertical:!0,gap:Ze,children:s.jsx(xf,{result:De})}),De&&H==Gn&&s.jsx(g,{vertical:!0,gap:Ze,children:s.jsx(Vf,{result:De})}),!De&&s.jsx(g,{vertical:!0,children:s.jsx(ua,{style:{fontSize:17,fontWeight:600,textAlign:"center",color:"#e1a564"},children:`Character Score: ${fe.totalScore.toFixed(0)} ${fe.totalScore==0?"":"("+fe.totalRating+")"}`})}),!De&&s.jsxs(g,{vertical:!0,style:{width:kn},children:[s.jsxs(g,{vertical:!0,children:[s.jsxs(ua,{style:{fontSize:18,fontWeight:400,marginLeft:10,marginRight:10,textAlign:"center"},ellipsis:!0,children:[`${Ye}`," "]}),s.jsx(ua,{style:{fontSize:18,fontWeight:400,textAlign:"center"},children:`Lv${pe} S${Fe}`})]}),s.jsx("div",{className:"lightConeCard",style:{width:`${bn}px`,height:`${Sn}px`,overflow:"hidden",borderRadius:"8px",outline:qs,filter:Xi},onClick:()=>{c?(o(n),l(!0)):(r(!1),o(n),l(!0))},children:s.jsx(wi,{src:ga,style:{width:Si,transform:`translate(${(Si-bn)/2/Si*-100}%, ${(Ul-Sn)/2/Ul*-100+8}%)`}})})]})]})}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx(ct,{setEditModalOpen:f,setSelectedRelic:u,setAddModelOpen:I,relic:{...ce.Head,part:d.Parts.Head},source:e.source,characterId:ye,score:Ut.find(me=>me.part==d.Parts.Head)}),s.jsx(ct,{setEditModalOpen:f,setSelectedRelic:u,setAddModelOpen:I,relic:{...ce.Body,part:d.Parts.Body},source:e.source,characterId:ye,score:Ut.find(me=>me.part==d.Parts.Body)}),s.jsx(ct,{setEditModalOpen:f,setSelectedRelic:u,setAddModelOpen:I,relic:{...ce.PlanarSphere,part:d.Parts.PlanarSphere},source:e.source,characterId:ye,score:Ut.find(me=>me.part==d.Parts.PlanarSphere)})]}),s.jsxs(g,{vertical:!0,gap:Ze,children:[s.jsx(ct,{setEditModalOpen:f,setSelectedRelic:u,setAddModelOpen:I,relic:{...ce.Hands,part:d.Parts.Hands},source:e.source,characterId:ye,score:Ut.find(me=>me.part==d.Parts.Hands)}),s.jsx(ct,{setEditModalOpen:f,setSelectedRelic:u,setAddModelOpen:I,relic:{...ce.Feet,part:d.Parts.Feet},source:e.source,characterId:ye,score:Ut.find(me=>me.part==d.Parts.Feet)}),s.jsx(ct,{setEditModalOpen:f,setSelectedRelic:u,setAddModelOpen:I,relic:{...ce.LinkRope,part:d.Parts.LinkRope},source:e.source,characterId:ye,score:Ut.find(me=>me.part==d.Parts.LinkRope)})]})]})]})}),!h&&s.jsxs(g,{vertical:!0,children:[s.jsxs(g,{justify:"center",gap:25,children:[s.jsxs(g,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:a.colorBgContainer+"85"},align:"center",children:[s.jsx($s,{style:{width:150},children:"Scoring algorithm:"}),s.jsx(Li,{style:{width:300,height:30},onChange:me=>{M(me),window.store.getState().setSavedSessionKey(nt.scoringType,me),setTimeout(()=>Ie.save(),1e3)},value:L,block:!0,options:[{label:`Combat Score${Pe.scoringMetadata.simulation==null?" (TBD)":""}`,value:ki,disabled:!1},{label:"Stat Score",value:pn,disabled:!1}]})]}),s.jsxs(g,{justify:"center",style:{paddingLeft:20,paddingRight:5,borderRadius:7,height:40,marginTop:10,backgroundColor:a.colorBgContainer+"85"},align:"center",children:[s.jsx($s,{style:{width:150},children:"Combat score details:"}),s.jsx(Li,{style:{width:300,height:30},onChange:me=>{X(me),window.store.getState().setSavedSessionKey(nt.combatScoreDetails,me),setTimeout(()=>Ie.save(),1e3)},value:H,block:!0,options:[{label:"Combat Stats",value:Gn,disabled:Pe.scoringMetadata.simulation==null||L==pn},{label:"Damage Upgrades",value:Qn,disabled:Pe.scoringMetadata.simulation==null||L==pn}]})]})]}),s.jsx(Wf,{simScoringResult:De})]})]})}dn.propTypes={source:z.string,character:z.object,id:z.string};function $o(e){const a=e.top;return s.jsx(g,{vertical:!0,style:{position:"relative",height:0,top:a},align:"center",children:s.jsx($s,{style:{position:"absolute",backgroundColor:"rgb(0 0 0 / 75%)",padding:"2px 14px",borderRadius:4,fontSize:12,textOverflow:"ellipsis",whiteSpace:"nowrap",textShadow:"0px 0px 10px black",outline:qs,filter:Xi,lineHeight:"12px"},children:e.text})})}const kf={width:"33.3333%",textAlign:"center",padding:1,boxShadow:"none"},Hf=({open:e,setOpen:a,onOk:i})=>{const[n]=P.useForm();window.characterForm=n;function l(){const c=n.getFieldsValue();i(c.name)}const o=()=>{a(!1)};return s.jsx(Bt,{open:e,width:350,destroyOnClose:!0,centered:!0,onOk:l,onCancel:o,footer:[s.jsx(j,{onClick:o,children:"Cancel"},"back"),s.jsx(j,{type:"primary",onClick:l,children:"Save"},"submit")],children:s.jsx(P,{form:n,preserve:!1,layout:"vertical",children:s.jsx(P.Item,{name:"name",label:"Build name",rules:[{required:!0,message:"Please input a name"}],style:{width:300},children:s.jsx(qt,{})})})})},Pf=({open:e,setOpen:a,selectedCharacter:i})=>{var E,T;const[n,l]=Bt.useModal(),[o,r]=V.useState(null),c=Z.getMetadata().characters[(i==null?void 0:i.id)||0],h=c==null?void 0:c.displayName;V.useEffect(()=>{var D;e&&((D=i==null?void 0:i.builds)!=null&&D.length)&&(r(0),S(i.builds))},[e,i]);const b=V.useMemo(()=>{var D;if(o!=null&&((D=i==null?void 0:i.builds)!=null&&D[o].build)){const W=window.store.getState().relicsById,B=Object.values(i.builds[o].build).map(M=>W[M]),F={};B.filter(M=>!!M).map(M=>F[M.part]=M);const L=JSON.parse(JSON.stringify(i));return L.equipped=F,console.log("Previewing builds character:",L),s.jsx(dn,{character:L,source:"builds",id:"relicScorerPreview"})}return s.jsx("div",{style:{width:656,height:856,border:"1px solid #354b7d"}})},[o,i]);if(!((E=i==null?void 0:i.builds)!=null&&E.length))return s.jsxs(Bt,{open:e,width:300,destroyOnClose:!0,onOk:()=>a(!1),onCancel:()=>a(!1),centered:!0,children:["No saved builds",l]});async function R(D){return n.confirm({title:"Confirm",icon:s.jsx(fr,{}),content:D,okText:"Confirm",cancelText:"Cancel",centered:!0})}function S(D){for(const W of D){const B=window.store.getState().relicsById,F=Object.values(W.build).map(M=>B[M]),L=it.scoreCharacterWithRelics(i,F);W.score={score:Math.round(L.totalScore??0),rating:L.totalRating??"N/A"}}}function u(){a(!1)}const m=()=>{r(null),a(!1)},f=async()=>{await R("Are you sure you want to delete all builds?")&&(r(null),Z.clearCharacterBuilds(i==null?void 0:i.id),window.forceCharacterTabUpdate(),Ie.save(),Y.success(`Successfully deleted all builds for ${h}`),a(!1))},p=async D=>{await R(`Are you sure you want to delete ${D}?`)&&(r(null),Z.deleteCharacterBuild(i==null?void 0:i.id,D),window.forceCharacterTabUpdate(),Ie.save(),Y.success(`Successfully deleted build: ${D}`),(i==null?void 0:i.builds.length)==0&&a(!1))},I=async D=>{await R("Equipping this will unequip characters that use the relics in this build")&&(Z.equipRelicIdsToCharacter(Object.values(D.build),i==null?void 0:i.id),window.forceCharacterTabUpdate(),Ie.save(),Y.success(`Successfully equipped build: ${D.name}`),m())};return s.jsx(Bt,{open:e,width:1115,destroyOnClose:!0,centered:!0,onOk:u,onCancel:m,footer:[s.jsx(j,{onClick:()=>f(),children:"Delete all"},"delete"),s.jsx(j,{onClick:m,children:"Cancel"},"back")],children:s.jsxs(g,{gap:10,children:[i&&s.jsx(s.Fragment,{children:s.jsx(g,{vertical:!0,style:{overflowY:"auto",marginBottom:20,minWidth:400,maxWidth:400,height:840},gap:8,children:(T=i.builds)==null?void 0:T.map((D,W)=>s.jsx(Bs,{style:{backgroundColor:o===W?"#001529":void 0,cursor:"pointer"},onClick:B=>{B.target.closest("button")!==null||r(W)},hoverable:!0,children:s.jsxs(g,{justify:"space-between",gap:8,align:"center",children:[s.jsxs(g,{vertical:!0,align:"flex-start",children:[s.jsx(q,{style:{flex:1,fontSize:16,fontWeight:600},children:D.name}),s.jsx(ua,{style:{fontSize:14,fontWeight:400,textAlign:"center"},children:`Score: ${D.score.score} ${D.score.score==0?"":"("+D.score.rating+")"}`})]}),s.jsxs(g,{gap:5,children:[s.jsx(j,{onClick:()=>{I(D)},children:"Equip"}),s.jsx(j,{style:{width:35},type:"primary",icon:s.jsx(cl,{}),onClick:()=>{p(D.name)}})]})]})},W))})}),l,b]})})};function Q0({onOk:e,open:a,setOpen:i,currentCharacter:n}){const[l]=P.useForm();window.characterForm=l;const o=window.store(R=>R.characters),r=V.useMemo(()=>Dl({currentCharacters:o,excludeCharacters:[n],withNobodyOption:!1}),[o,n]);V.useEffect(()=>{a&&l.setFieldsValue({characterId:null})},[l,a]);function c(){const{selectedCharacter:R}=l.getFieldsValue();console.log("Switch relics modal submitted with:",R),e(R),i(!1)}const h=()=>{i(!1)};return s.jsx(Bt,{open:a,width:300,destroyOnClose:!0,centered:!0,onOk:c,onCancel:h,footer:[s.jsx(j,{onClick:h,children:"Cancel"},"back"),s.jsx(j,{type:"primary",onClick:c,children:"Save"},"submit")],children:s.jsxs(P,{form:l,preserve:!1,layout:"vertical",children:[s.jsx(g,{justify:"space-between",align:"center",children:s.jsx(q,{children:"Switch relics with character"})}),s.jsx(g,{vertical:!0,gap:Ze,children:s.jsx(g,{gap:Ze,children:s.jsx(P.Item,{size:"default",name:"selectedCharacter",children:s.jsx(N,{labelInValue:!0,showSearch:!0,filterOption:C.titleFilterOption,style:{width:253},options:r})})})})]})})}Q0.propTypes={onOk:z.func,open:z.bool,setOpen:z.func,currentCharacter:z.object};const{useToken:Nf}=Et,{Text:$0}=be;function qo(e){const a=e.data,i=U.getCharacterAvatarById(a.id);return s.jsx(ni,{preview:!1,width:50,src:i,style:{flex:"0 0 auto",maxWidth:"100%",minWidth:50}})}function Yf(e){const a=e.data,i=Z.getCharacters().find(n=>n.id==a.id);return s.jsx($0,{style:{height:"100%"},children:i.rank+1})}function Af(e){const a=e.data,n=Z.getMetadata().characters[a.id].displayName,l=a.equipped?Object.values(a.equipped).filter(r=>r!=null).length:0;let o="#81d47e";return l<6&&(o="rgb(229, 135, 66)"),l<1&&(o="#d72f2f"),s.jsxs(g,{align:"center",justify:"flex-start",style:{height:"100%",width:"100%"},children:[s.jsx($0,{style:{margin:"auto",padding:"0px 5px",textAlign:"center",overflow:"hidden",whiteSpace:"break-spaces",textWrap:"wrap",fontSize:14,width:"100%",lineHeight:"18px"},children:n}),s.jsx(g,{style:{display:"block",width:3,height:"100%",backgroundColor:o,zIndex:2}})]})}const wf={path:[],element:[]},Xf=[{key:"character group",type:"group",label:"Character",children:[{label:"Add a new character",key:"add"},{label:"Edit character / light cone",key:"edit"},{label:"Switch relics with",key:"switchRelics"},{label:"Unequip character",key:"unequip"},{label:"Delete character",key:"delete"}]},{key:"builds group",type:"group",label:"Builds",children:[{label:"Save current build",key:"saveBuild"},{label:"View saved builds",key:"viewBuilds"}]},{key:"scoring group",type:"group",label:"Scoring",children:[{label:"Scoring algorithm",key:"scoring"}]},{key:"priority group",type:"group",label:"Priority",children:[{label:"Sort all characters by score",key:"sortByScore"},{label:"Move character to top",key:"moveToTop"}]}];function q0(){const{token:e}=Nf(),[a,i]=Bt.useModal(),[n,l]=V.useState(!1),[o,r]=V.useState(!1),[c,h]=V.useState(!1),[b,R]=V.useState(!1),[S,u]=V.useState(!1),[m,f]=V.useState(!1),[p,I]=V.useState(!1),[E,T]=V.useState(),D=V.useRef(""),[W,B]=V.useState(wf);console.log("======================================================================= RENDER CharacterTab"),N0("refreshRelicsScore",()=>{setTimeout(()=>{window.forceCharacterTabUpdate()},100)});const F=V.useRef();window.characterGrid=F;const[L,M]=Zt.useState(Z.getCharacters());window.setCharacterRows=M;const H=window.store(K=>K.characterTabFocusCharacter),X=window.store(K=>K.setCharacterTabFocusCharacter),oe=window.store(K=>K.setScoringAlgorithmFocusCharacter),J=window.store(K=>K.charactersById)[H],[,re]=Zt.useReducer(K=>!K);window.forceCharacterTabUpdate=()=>{var K,ve;console.log("__________ CharacterTab forceCharacterTabUpdate"),re(),(ve=(K=F==null?void 0:F.current)==null?void 0:K.api)!=null&&ve.redrawRows?F.current.api.redrawRows():console.log("@forceCharacterTabUpdate: No characterGrid.current.api")};const Je=V.useMemo(()=>[{field:"",headerName:"Icon",cellRenderer:qo,width:52},{field:"",headerName:"Priority",cellRenderer:Yf,width:50,rowDrag:!0},{field:"",headerName:"Character",flex:1,cellRenderer:Af}],[]),Re=V.useMemo(()=>({rowHeight:50,rowSelection:"single",rowDragManaged:!0,animateRows:!0,suppressDragLeaveHidesColumns:!0,suppressScrollOnNewData:!0}),[]),bt=V.useMemo(()=>({sortable:!1,cellStyle:{display:"flex"}}),[]),et=V.useCallback(()=>{F.current.api.onFilterChanged()},[]),Ht=V.useCallback(K=>{const ve=Z.getMetadata().characters[K.data.id];return W.element.length&&!W.element.includes(ve.element)||W.path.length&&!W.path.includes(ve.path)?!1:ve.name.toLowerCase().includes(D.current)||ve.displayName.toLowerCase().includes(D.current)},[W]),jt=V.useCallback(()=>W.element.length+W.path.length+D.current.length>0,[W]),vt=V.useCallback(K=>{const ve=K.data;X(ve.id),console.log(`@CharacterTab::setCharacterTabFocusCharacter - [${ve.id}]`,K.data)},[X]),lt=window.store(K=>K.setActiveKey),ue=V.useCallback(K=>{lt(he.OPTIMIZER),$.setCharacter(K.data.id),console.log(`@CharacterTab.cellDoubleClickedListener::setOptimizerTabFocusCharacter - focus [${K.data.id}]`,K.data)},[]),ce=V.useCallback(K=>Vl(K,F,ve=>vt(ve)),[]);function fe(K,ve){const Gt=K.node.data;Z.insertCharacter(Gt.id,ve),Ie.save(),F.current.api.redrawRows()}const ye=V.useCallback(K=>{fe(K,K.overIndex)},[]),Pe=V.useCallback(K=>{K.overIndex==0?fe(K,0):K.overIndex==-1&&K.vDirection=="down"?fe(K,Z.getCharacters().length):K.overIndex==-1&&K.vDirection=="up"?fe(K,0):fe(K,K.overIndex)},[]);function Lt(){var hs,Ka;const K=F.current.api.getSelectedNodes();if(!K||K.length==0)return;const Gt=K[0].data.id;Z.removeCharacter(Gt),M(Z.getCharacters()),X(void 0),(Ka=(hs=window.relicsGrid)==null?void 0:hs.current)!=null&&Ka.api&&window.relicsGrid.current.api.redrawRows(),Ie.save(),Y.success("Successfully removed character")}function Ot(){console.log("unequipClicked",Z.getCharacterById(H));const K=F.current.api.getSelectedNodes();if(!K||K.length==0)return;const Gt=K[0].data.id;Z.unequipCharacter(Gt),F.current.api.redrawRows(),window.forceCharacterTabUpdate(),Y.success("Successfully unequipped character"),window.relicsGrid.current.api.redrawRows(),Ie.save()}function Kt(K){if(!K.characterId)return Y.error("No selected character");const ve=Z.addFromForm(K);window.characterGrid.current.api.ensureIndexVisible(ve.rank)}function ie(K){if(!K)return Y.error("No selected character");Z.switchRelics(J.id,K.value),Ie.save(),F.current.api.redrawRows(),window.forceCharacterTabUpdate(),Y.success(`Successfully switched relics to ${K.title}`),window.relicsGrid.current.api.redrawRows()}function ze(){H&&oe(H),window.setIsScoringModalOpen(!0)}function St(){Z.insertCharacter(H,0),Z.refreshCharacters(),Ie.save()}async function De(){if(!await Ye(s.jsxs(s.Fragment,{children:["Are you sure you want to sort all characters? ",s.jsx("br",{}),"You will lose any custom rankings you have set."]})))return;const ve=Z.getCharacters().map(Gt=>({score:it.scoreCharacter(Gt),character:Gt})).sort((Gt,hs)=>hs.score.totalScore-Gt.score.totalScore).map(Gt=>Gt.character);Z.setCharacters(ve),Z.refreshCharacters(),Ie.save()}function Ut(){l(!0),setTimeout(()=>{C.screenshotElementById("characterTabPreview","clipboard").finally(()=>{l(!1)})},100)}function k(){r(!0),setTimeout(()=>{const K=J?Z.getMetadata().characters[J.id].displayName:null;C.screenshotElementById("characterTabPreview","download",K).finally(()=>{r(!1)})},100)}function pe(K){const ve=it.scoreCharacter(J),Gt=Z.saveCharacterBuild(K,J.id,{score:ve.totalScore.toFixed(0),rating:ve.totalRating});if(Gt){Y.error(Gt.error);return}Y.success("Successfully saved build: "+K),Ie.save(),u(!1)}const de={items:Xf,onClick:async K=>{if(!J&&K.key!="add"&&K.key!="scoring"&&K.key!="sortByScore"){Y.error("No selected character");return}switch(K.key){case"add":I(!0),T(null),h(!0);break;case"edit":I(!1),T(J),h(!0);break;case"switchRelics":R(!0);break;case"unequip":if(!await Ye(`Are you sure you want to unequip ${C.getCharacterNameById(J.id)}?`))return;Ot();break;case"delete":if(!await Ye(`Are you sure you want to delete ${C.getCharacterNameById(J.id)}?`))return;Lt();break;case"saveBuild":u(!0);break;case"viewBuilds":f(!0);break;case"scoring":ze();break;case"moveToTop":St();break;case"sortByScore":De();break;default:console.error(`Unknown key ${K.key} in handleActionsMenuClick`)}}};async function Ye(K){return a.confirm({title:"Confirm",icon:s.jsx(fr,{}),content:K,okText:"Confirm",cancelText:"Cancel",centered:!0})}const ga=8,hn=280*3+ga*2;return s.jsxs(g,{vertical:!0,style:{height:"100%",marginBottom:200},children:[s.jsxs(g,{vertical:!0,gap:ga,children:[s.jsxs(g,{gap:6,style:{width:"100%",marginBottom:0,paddingRight:1},children:[s.jsx(g,{justify:"space-between",gap:8,style:{width:230,height:"100%"},children:s.jsx(ui,{placement:"topLeft",menu:de,trigger:["hover"],children:s.jsxs(j,{style:{width:"100%",height:"100%"},icon:s.jsx(gr,{}),type:"default",children:["Character menu",s.jsx(en,{})]})})}),s.jsx(g,{style:{width:242},children:s.jsx(qt,{allowClear:!0,size:"large",style:{height:40},placeholder:"Search character name",onChange:K=>{D.current=K.target.value.toLowerCase(),et()}})}),s.jsx(g,{style:{flex:1},children:s.jsx(Us,{name:"path",tags:Bl(),flexBasis:"14.2%",currentFilters:W,setCurrentFilters:B})}),s.jsx(g,{style:{flex:1},children:s.jsx(Us,{name:"element",tags:Z0(),flexBasis:"14.2%",currentFilters:W,setCurrentFilters:B})})]}),s.jsxs(g,{style:{height:"100%"},children:[s.jsxs(g,{vertical:!0,gap:8,style:{marginRight:J?6:8},children:[s.jsx("div",{id:"characterGrid",className:"ag-theme-balham-dark",style:{display:"block",width:230,height:hn-38,...Il(e)},children:s.jsx(dl,{ref:F,rowData:L,gridOptions:Re,getRowNodeId:K=>K.id,columnDefs:Je,defaultColDef:bt,deltaRowDataMode:!0,headerHeight:24,onCellClicked:vt,onCellDoubleClicked:ue,onRowDragEnd:ye,onRowDragLeave:Pe,navigateToNextCell:ce,isExternalFilterPresent:jt,doesExternalFilterPass:Ht})}),s.jsx(g,{vertical:!0,gap:8,children:s.jsxs(g,{gap:8,children:[s.jsx(j,{style:{flex:"auto"},icon:s.jsx(pr,{}),onClick:Ut,type:"primary",loading:n,children:"Copy screenshot"}),s.jsx(j,{style:{width:40},type:"primary",icon:s.jsx(ul,{}),onClick:k,loading:o})]})})]}),s.jsx(g,{vertical:!0,children:s.jsx(dn,{id:"characterTabPreview",character:J,setOriginalCharacterModalOpen:h,setOriginalCharacterModalInitialCharacter:T,setCharacterModalAdd:I})})]})]}),s.jsx(cn,{onOk:Kt,open:c,setOpen:h,initialCharacter:E,addCharacter:p}),s.jsx(Q0,{onOk:ie,open:b,setOpen:R,currentCharacter:J}),s.jsx(Hf,{open:S,setOpen:u,onOk:pe}),s.jsx(Pf,{open:m,setOpen:f,selectedCharacter:J,imgRenderer:qo}),i]})}q0.propTypes={active:z.bool};const{useToken:jf}=Et,vf="https://9di5b7zvtb.execute-api.us-west-2.amazonaws.com/prod";function Of(){const e=i=>{var n;return((n=Object.values(Z.getMetadata().characters).find(l=>l.displayName==i))==null?void 0:n.id)||null},a=i=>{var n;return((n=Object.values(Z.getMetadata().lightCones).find(l=>l.displayName==i))==null?void 0:n.id)||null};return[{characterId:e("Rappa"),lightConeId:a("Ninjutsu Inscription: Dazzling Evilbreaker")},{characterId:e("Feixiao"),lightConeId:a("I Venture Forth to Hunt")},{characterId:e("Lingsha"),lightConeId:a("Scent Alone Stays True")},{characterId:e("Jiaoqiu"),lightConeId:a("Those Many Springs")},{custom:!0}].filter(i=>i.characterId!=null||i.custom)}const{Text:Kf}=be,On=10;function ec(){console.log("======================================================================= RENDER RelicScorerTab");const[e,a]=V.useState(!1),[i,n]=V.useState([]),[l,o]=V.useState(),r=V.useRef(null),c=window.store(m=>m.scorerId),h=window.store(m=>m.setScorerId),[b]=P.useForm();window.scorerForm=b,V.useEffect(()=>{const m=window.location.href.split("?")[1];if(m){const f=m.split("id=")[1].split("&")[0];S({scorerId:f})}},[]);const R=window.store(m=>m.activeKey);V.useEffect(()=>{i.length&&c&&R==he.RELIC_SCORER&&window.history.replaceState({id:c},`profile: ${c}`,Za[he.RELIC_SCORER]+`?id=${c}`)},[R]);function S(m){var p;if(r.current){Y.warning(`Please wait ${Math.max(1,Math.ceil(On-(new Date-r.current)/1e3))} seconds before retrying`),e&&a(!1);return}else a(!0),r.current=new Date,setTimeout(()=>{r.current=null},On*1e3);console.log("finish",m);const f=((p=m==null?void 0:m.scorerId)==null?void 0:p.toString().trim())||"";if(!f||f.length!=9){a(!1),Y.error("Invalid ID");return}h(f),Ie.save(),window.history.replaceState({id:f},`profile: ${f}`,Za[he.RELIC_SCORER]+`?id=${f}`),fetch(`${vf}/profile/${f}`,{method:"GET"}).then(I=>{if(!I.ok&&!I.source)throw new Error(`HTTP error! Status: ${I.status}`);return I.json()}).then(I=>{console.log(I);let E;if(I.source=="mana")I=C.recursiveToCamel(I),E=[I.detailInfo.assistAvatars[0],I.detailInfo.assistAvatars[1],I.detailInfo.assistAvatars[2],I.detailInfo.avatarDetailList[0],I.detailInfo.avatarDetailList[1],I.detailInfo.avatarDetailList[2],I.detailInfo.avatarDetailList[3],I.detailInfo.avatarDetailList[4]].filter(D=>!!D);else if(I.source=="mihomo"){E=I.characters.filter(D=>!!D);for(const D of E){D.relicList=D.relics||[],D.equipment=D.light_cone,D.avatarId=D.id,D.equipment&&(D.equipment.tid=D.equipment.id);for(const W of D.relicList)W.tid=W.id,W.subAffixList=W.sub_affix}}else{if(!I.detailInfo)return a(!1),Y.error("Error loading ID"),"ERROR";E=[...I.detailInfo.assistAvatarList||[],...I.detailInfo.avatarDetailList||[]].filter(D=>!!D).sort((D,W)=>W._assist&&D._assist?(D.pos||0)-(W.pos||0):W._assist?1:D._assist?-1:0).filter((D,W,B)=>B.findIndex(F=>F.avatarId===D.avatarId)===W)}console.log("characters",E);const T=E.map(D=>Rl.convert(D)).filter((D,W,B)=>B.map(F=>F.id).indexOf(D.id)==W);for(let D=0;D<T.length;D++)T[D].index=D;n(T),T.length&&o(T[0]),a(!1),Y.success("Successfully loaded profile"),console.log(T),b.setFieldValue("scorerId",f)}).catch(I=>{setTimeout(()=>{Y.warning("Error during lookup, please try again in a bit"),console.error("Fetch error:",I),a(!1)},Math.max(0,On*1e3-(new Date-r.current)))})}let u;if(c)try{const m=parseInt(c);u=isNaN(m)?void 0:m}catch(m){console.error(m)}return s.jsx("div",{children:s.jsxs(g,{vertical:!0,gap:0,align:"center",children:[s.jsx(g,{gap:10,vertical:!0,align:"center",children:s.jsxs(Kf,{children:["Enter your account UID to score your profile characters at level 80 & maxed traces. Log out to refresh instantly.",window.officialOnly?"":` (Current version ${Tr})`]})}),s.jsx(P,{form:b,onFinish:S,initialValues:{scorerId:u},children:s.jsxs(g,{style:{margin:10,width:1100},justify:"center",align:"center",gap:10,children:[s.jsx(P.Item,{size:"default",name:"scorerId",children:s.jsx(qt,{style:{width:150},placeholder:"Account UID"})}),s.jsx(j,{type:"primary",htmlType:"submit",loading:e,style:{width:150},children:"Submit"}),s.jsx(j,{style:{width:150},onClick:()=>window.setIsScoringModalOpen(!0),children:"Scoring algorithm"})]})}),s.jsx(tc,{availableCharacters:i,setAvailableCharacters:n,setSelectedCharacter:o,selectedCharacter:l})]})})}ec.propTypes={active:z.bool};function tc(e){var X,oe;const a=window.store(A=>A.activeKey),{token:i}=jf(),n=window.store(A=>A.setScoringAlgorithmFocusCharacter),[l,o]=V.useState(!1),[r,c]=V.useState(e.selectedCharacter),[h,b]=V.useState(!1),[R,S]=V.useState(!1),f={items:[{label:s.jsxs(g,{gap:10,children:[s.jsx(ei,{}),"Import all characters & all relics into optimizer"]}),key:"import characters"},{label:s.jsxs(g,{gap:10,children:[s.jsx(ei,{}),"Import selected character & all relics into optimizer"]}),key:"import single character"}],onClick:A=>{switch(A.key){case"import characters":console.log("importing with characters"),W();break;case"import single character":console.log("importing single character"),B();break;default:Y.error("unknown button clicked");break}}};V.useEffect(()=>{var A;n((A=e.selectedCharacter)==null?void 0:A.id)},[(X=e.selectedCharacter)==null?void 0:X.id,n]);const p=[];for(let A=0;A<e.availableCharacters.length;A++){const J=e.availableCharacters[A];p.push({label:s.jsx(g,{align:"center",justify:"space-around",children:s.jsx("img",{style:{width:100,height:100,objectFit:"contain",borderRadius:50,border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"},src:U.getCharacterAvatarById(J.id)})}),value:J.id,key:A})}function I(A){console.log("selectionChange",A),e.setSelectedCharacter(e.availableCharacters.find(J=>J.id==A)),n(A)}async function E(){console.log("Simulate",e.selectedCharacter),o(!0)}function T(A){if(!A.characterId)return Y.error("No selected character");if(e.availableCharacters.find(re=>re.id==A.characterId)&&e.selectedCharacter.id!=A.characterId)return Y.error("Selected character already exists");const J=e.availableCharacters[e.selectedCharacter.index];J.form=A,J.id=A.characterId,e.selectedCharacter.form=A,e.selectedCharacter.id=A.characterId,Object.values(e.selectedCharacter.equipped).filter(re=>!!re).map(re=>re.equippedBy=A.characterId),e.setAvailableCharacters(JSON.parse(JSON.stringify(e.availableCharacters))),e.setSelectedCharacter(JSON.parse(JSON.stringify(e.selectedCharacter))),console.log("Modified character",e.selectedCharacter)}function D(){const A=e.availableCharacters.flatMap(J=>Object.values(J.equipped)).filter(J=>!!J);console.log("importClicked",e.availableCharacters,A),Z.mergePartialRelicsWithState(A),Ie.save()}function W(){for(const J of e.availableCharacters)Z.addFromForm(J.form,!1);const A=e.availableCharacters.flatMap(J=>Object.values(J.equipped)).filter(J=>!!J);console.log("importCharactersClicked",e.availableCharacters,A),Z.mergePartialRelicsWithState(A,e.availableCharacters),Ie.save()}function B(){Z.addFromForm(e.selectedCharacter.form,!1);const A=e.availableCharacters.flatMap(J=>Object.values(J.equipped)).filter(J=>!!J);console.log("importCharacterClicked",e.selectedCharacter,A),Z.mergePartialRelicsWithState(A,[e.selectedCharacter]),Ie.save()}async function F(){b(!0),setTimeout(()=>{C.screenshotElementById("relicScorerPreview","clipboard").finally(()=>{b(!1)})},100)}async function L(){S(!0),setTimeout(()=>{const A=e.selectedCharacter?Z.getMetadata().characters[e.selectedCharacter.id].displayName:null;C.screenshotElementById("relicScorerPreview","download",A).finally(()=>{S(!1)})},100)}function M(A){if(A.custom)return E();T({characterId:A.characterId,lightCone:A.lightConeId,characterLevel:80,lightConeLevel:80,characterEidolon:0,lightConeSuperimposition:A.lightConeSuperimposition||1})}function H(){const A=e.selectedCharacter.form,J=A.characterId;D(),Z.addFromForm(A),window.store.getState().setActiveKey(he.OPTIMIZER),window.store.getState().setOptimizerTabFocusCharacter(J),setTimeout(()=>{const re=C.clone(e.selectedCharacter.equipped),Je=$.getDisplayFormValues(A),Re={};for(const et of Object.values(d.Parts))Re[et]=[re[et]];RelicFilters.condenseRelicSubstatsForOptimizer(Re);const bt=As(Je,re);Jr(C.precisionRound(bt.SPD,3),J),setTimeout(()=>{window.optimizerStartClicked()},500)},1e3)}return s.jsx(g,{style:{width:1300,marginLeft:25},justify:"space-around",children:s.jsxs(g,{vertical:!0,align:"center",gap:5,style:{marginBottom:100,width:1068},children:[s.jsxs(g,{vertical:!0,style:{display:e.availableCharacters.length>0?"flex":"none"},children:[s.jsx(_f,{presetClicked:M,optimizeClicked:H,activeKey:a}),s.jsxs(g,{gap:10,style:{display:e.availableCharacters.length>0?"flex":"none"},children:[s.jsx(j,{onClick:F,style:{width:230},icon:s.jsx(pr,{}),loading:h,type:"primary",children:"Copy screenshot"}),s.jsx(j,{style:{width:40},icon:s.jsx(ul,{}),onClick:L,loading:R}),s.jsxs(ui.Button,{onClick:D,style:{width:250},menu:f,children:[s.jsx(ei,{}),"Import relics into optimizer"]}),s.jsx(j,{icon:s.jsx(Gr,{}),onClick:E,style:{width:280},children:"Simulate relics on another character"}),s.jsx(j,{icon:s.jsx(Ir,{}),onClick:H,style:{width:228},children:"Optimize character stats"})]})]}),s.jsx(Li,{style:{width:"100%",overflow:"hidden"},options:p,block:!0,onChange:I,value:(oe=e.selectedCharacter)==null?void 0:oe.id}),s.jsx(g,{id:"previewWrapper",style:{padding:"5px",backgroundColor:i.colorBgBase},children:s.jsx(dn,{class:"relicScorerCharacterPreview",character:e.selectedCharacter,source:"scorer",id:"relicScorerPreview",setOriginalCharacterModalOpen:o,setOriginalCharacterModalInitialCharacter:c})}),s.jsx(cn,{onOk:T,open:l,setOpen:o,initialCharacter:r})]})})}tc.propTypes={availableCharacters:z.array,setAvailableCharacters:z.func,selectedCharacter:z.object,setSelectedCharacter:z.func};function _f(e){const[a,i]=V.useState(window.store.getState().savedSession[nt.relicScorerSidebarOpen]);V.useEffect(()=>{window.store.getState().setSavedSessionKey(nt.relicScorerSidebarOpen,a),setTimeout(()=>Ie.save(),1e3)},[a]);const n=V.useMemo(()=>{let l=0;return s.jsx(g,{vertical:!0,gap:0,children:Of().map(o=>{const r=o.custom?s.jsx(rs,{component:xi,style:{fontSize:85}}):s.jsx("img",{src:U.getCharacterAvatarById(o.characterId),style:{height:100,width:100,borderRadius:100,border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.05)"}});return s.jsx(j,{type:"text",style:{width:107,height:107,padding:5,paddingTop:2,marginLeft:-5,display:e.activeKey==he.RELIC_SCORER?"flex":"none"},onClick:()=>e.presetClicked(o),children:r},l++)})})},[e]);return s.jsx(g,{vertical:!0,style:{position:"relative",left:-125,top:38,width:0,height:0},gap:5,children:s.jsx(ui,{dropdownRender:()=>n,open:a,children:s.jsx("a",{onClick:l=>{l.preventDefault(),i(!a)},children:s.jsx(j,{type:"primary",shape:"round",style:{height:100,width:100,borderRadius:50,marginBottom:5},children:s.jsx(rs,{component:Gr,style:{fontSize:65}})})})})})}const Jf=[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"CRIT Rate",value:11.016,scoreMeta:{multiplier:1,score:22}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Effect RES",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:5.183999999999999,scoreMeta:{multiplier:0,score:0}}],id:"cd85c14c-a662-4413-a149-a379e6d538d3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"CRIT Rate":.11016,"CRIT DMG":.10367999999999998,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:5.184,ds:5.183999999999999,cs:32.4,equippedBy:"1212",weightScore:42.767999999999994},{part:"Head",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"HP%",value:12.096},{stat:"DEF%",value:14.580000000000002},{stat:"Effect RES",value:7.344}],id:"0bd7404f-3420-4bf5-9e45-f79343728685",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"HP%":.12096,"DEF%":.1458,"Effect RES":.07344,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:46.656,ds:0,equippedBy:"1217",cs:0},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:35.9869141},{stat:"SPD",value:8},{stat:"CRIT Rate",value:2.916},{stat:"Effect RES",value:7.344}],id:"77ac4c85-21a7-4526-999a-6e54646dda6d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:35.9869141,SPD:8,"CRIT Rate":.02916,"Effect RES":.07344,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.6,ss:31.816000000000003,ds:20.8,cs:26.632,weightScore:41.5581710950614},{part:"Head",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:4.32},{stat:"SPD",value:4},{stat:"CRIT Rate",value:10.367999999999999},{stat:"Effect RES",value:4.32}],id:"e898e418-bc4e-404d-be3f-2477dec9839a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.0432,SPD:4,"CRIT Rate":.10367999999999998,"Effect RES":.0432,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:37.45,ss:16.880000000000003,ds:16.880000000000003,equippedBy:"1205",cs:31.135999999999996},{part:"Head",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:8.424},{stat:"CRIT DMG",value:18.144},{stat:"Effect RES",value:8.208}],id:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:19.0518957,"CRIT Rate":.08424,"CRIT DMG":.18144,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.900000000000006,ss:12.312000000000001,ds:0,equippedBy:"1102",cs:34.992},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:5.4},{stat:"CRIT Rate",value:2.916},{stat:"CRIT DMG",value:23.976}],id:"8de51c73-36b5-40ea-91a2-e566d97da2a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"DEF%":.054000000000000006,"CRIT Rate":.02916,"CRIT DMG":.23976,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.7,ss:6.48,ds:0,equippedBy:"1101",cs:29.808,weightScore:41.00089936920223},{part:"Head",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:10.8},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"Break Effect",value:12.312}],id:"354bde06-a10b-4449-8365-16f0dcac7b88",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.10800000000000001,"DEF%":.0972,SPD:2,"Break Effect":.12312,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.400000000000002,ss:16.863999999999997,ds:33.712,equippedBy:"1005",cs:5.2},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"CRIT DMG",value:17.496000000000002}],id:"1e0de4ea-c1bf-4990-a0bd-739b1eea2e1d",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.03456,"ATK%":.07776,"DEF%":.1026,"CRIT DMG":.17496000000000003,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.95,ss:17.496,ds:11.664,cs:17.496000000000002},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:21.168773},{stat:"ATK%",value:12.096},{stat:"CRIT Rate",value:9.072}],id:"be226101-f443-4ea0-93e8-81813e48f692",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:40.2206687,DEF:21.168773,"ATK%":.12096,"CRIT Rate":.09072,"HP%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:36,ss:0,ds:18.144,cs:18.144,weightScore:43.34799806299142},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:12.528,scoreMeta:{multiplier:0,score:0}},{stat:"DEF%",value:9.719999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.832,scoreMeta:{multiplier:1,score:11.664}},{stat:"CRIT DMG",value:12.959999999999999,scoreMeta:{multiplier:1,score:12.959999999999999}}],id:"e30bce86-38ef-42db-9cea-58b18a94d4bc",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.12528,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.1296,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:30.456,ds:0,cs:24.624,weightScore:55.08},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK%",value:15.552},{stat:"DEF%",value:9.719999999999999},{stat:"SPD",value:2},{stat:"CRIT DMG",value:6.4799999999999995}],id:"01287db9-7fe8-49c9-b30e-907db3b6d0d0",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"ATK%":.15552,"DEF%":.0972,SPD:2,"CRIT DMG":.0648,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.85,ss:16.863999999999997,ds:28.528,cs:11.68,weightScore:46.655999999999985},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:3.456},{stat:"SPD",value:6},{stat:"CRIT DMG",value:18.792}],id:"85c1d15d-a89e-4e08-ab91-29c09449eaf7",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:19.0518957,"HP%":.03456,SPD:6,"CRIT DMG":.18792,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:20.784000000000002,ds:15.600000000000001,cs:34.392,weightScore:41.63197293267957},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"HP%",value:4.32},{stat:"DEF%",value:13.5},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:5.832}],id:"15153c3a-7c55-4f18-8b0f-5938ea3165a9",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,"HP%":.0432,"DEF%":.135,"CRIT Rate":.08748000000000002,"CRIT DMG":.05832,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.2,ss:22.68,ds:0,cs:23.328000000000003,weightScore:46.008},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:11.664},{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:12.312}],id:"406b32a8-1a17-4a85-a9b2-f707bbb7d789",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:38.1037914,"HP%":.11664,"CRIT Rate":.06156,"CRIT DMG":.12312,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:17.496,ds:0,cs:24.624,weightScore:46.832899369202224},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:23.976},{stat:"Effect Hit Rate",value:7.776},{stat:"Effect RES",value:3.888}],id:"32478990-1729-40f5-a85a-c6c448abf4e3",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,SPD:4,"CRIT DMG":.23976,"Effect Hit Rate":.07776,"Effect RES":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.3,ss:16.232,ds:22.064,cs:34.376,weightScore:51.839999999999996},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"DEF",value:16.9350184},{stat:"HP%",value:11.664},{stat:"SPD",value:4},{stat:"CRIT Rate",value:6.156}],id:"631dc239-48a5-4109-b4ad-57db6387e61a",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,DEF:16.9350184,"HP%":.11664,SPD:4,"CRIT Rate":.06156,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:27.896,ds:10.4,cs:22.712,weightScore:42.27062194186765},{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6000000101048},substats:[{stat:"ATK",value:38.1037914},{stat:"SPD",value:4},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:8.208}],id:"f02e66d8-7de8-4d81-97d1-3ea73fce4056",augmentedStats:{mainStat:"HP",mainValue:705.6000000101048,ATK:38.1037914,SPD:4,"CRIT DMG":.11016,"Effect RES":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.4,ss:22.712000000000003,ds:10.4,cs:21.416,weightScore:37.90394586535913},{part:"Head",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"DEF",value:33.8700368},{stat:"HP%",value:8.208},{stat:"CRIT Rate",value:5.832},{stat:"Effect Hit Rate",value:8.208}],id:"e3169778-e239-4cc6-b673-f02137df9378",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,DEF:33.8700368,"HP%":.08208,"CRIT Rate":.05832,"Effect Hit Rate":.08208,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:12.312000000000001,ds:12.312000000000001,cs:11.664},{part:"Head",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:5.832}],id:"f5ca028c-ebfc-4a3f-86b9-92e8c191ca0f",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.08208,"CRIT Rate":.05183999999999999,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.299999999999997,ss:10.368,ds:12.312000000000001,cs:16.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:7.776},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.776}],id:"712b4702-b22a-4e75-8921-1fe6dcca2f50",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.07776,"DEF%":.09180000000000002,"CRIT DMG":.0648,"Effect RES":.07776,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:34.344,ds:0,cs:6.4799999999999995},{part:"Head",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:6.912},{stat:"ATK%",value:7.344},{stat:"SPD",value:2},{stat:"Break Effect",value:11.664}],id:"0ad72590-0a68-46b5-b2ba-1d7a45d77fd7",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.06912,"ATK%":.07344,SPD:2,"Break Effect":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.15,ss:15.568000000000001,ds:27.88,cs:5.2},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:6.156},{stat:"CRIT DMG",value:16.848},{stat:"Effect RES",value:4.32},{stat:"Break Effect",value:6.4799999999999995}],id:"5e6a0316-5618-4e9e-8c7f-ae788edea454",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.06156,"CRIT DMG":.16848,"Effect RES":.0432,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29,ss:6.48,ds:6.4799999999999995,cs:29.159999999999997},{part:"Head",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:12.312},{stat:"Effect Hit Rate",value:6.912}],id:"f8667a7d-7ba6-4e2f-931e-cbe2230b51bc",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.0432,"CRIT DMG":.12312,"Effect Hit Rate":.06912,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.3,ss:6.48,ds:10.368,cs:12.312},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect Hit Rate",value:10.367999999999999}],id:"3a3dcda5-a6b0-4514-9aa3-5930e832aca5",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"HP%":.0432,"ATK%":.03456,"CRIT Rate":.0648,"Effect Hit Rate":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.900000000000002,ss:6.48,ds:20.735999999999997,cs:12.959999999999999},{part:"Head",set:"Band of Sizzling Thunder",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"ATK",value:40.2206687},{stat:"HP%",value:3.888},{stat:"SPD",value:4},{stat:"CRIT Rate",value:9.072}],id:"75756842-66be-4ac6-bb65-70b51f222b0a",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,ATK:40.2206687,"HP%":.03888,SPD:4,"CRIT Rate":.09072,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:16.232,ds:10.4,cs:28.543999999999997},{part:"Head",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"HP",value:587.059200008167},substats:[{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:12.959999999999999},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:11.664}],id:"c4adf66e-d769-47be-bf6d-d22f94786308",augmentedStats:{mainStat:"HP",mainValue:587.059200008167,"CRIT Rate":.05832,"CRIT DMG":.1296,"Effect RES":.07344,"Break Effect":.11664,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:11.016,ds:11.664,cs:24.624},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:4,scoreMeta:{multiplier:1,score:10.368}},{stat:"CRIT DMG",value:22.68,scoreMeta:{multiplier:1,score:22.6}},{stat:"Effect Hit Rate",value:3.456,scoreMeta:{multiplier:0,score:0}}],id:"798657c8-5c5c-4b44-9c5f-f5f094414289",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.2268,"Effect Hit Rate":.03456,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:15.584,ds:15.584,equippedBy:"1212",cs:33.08,weightScore:43.416},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:4.32},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.08208,"ATK%":.0432,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.849999999999998,ss:23.976,ds:6.48,equippedBy:"1217",cs:17.496000000000002},{part:"Hands",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"SPD",value:7},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:4.32}],id:"71b088e8-e254-4219-96d5-f56cde1702d3",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,SPD:7,"CRIT Rate":.05508,"CRIT DMG":.11664,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.8,ss:18.2,ds:24.68,equippedBy:"1205",cs:40.879999999999995},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:8.748000000000001},{stat:"CRIT DMG",value:12.312}],id:"d0b2b781-33dc-4029-b875-81ecbc659466",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"ATK%":.07776,"CRIT Rate":.08748000000000002,"CRIT DMG":.12312,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:41.25,ss:0,ds:11.664,equippedBy:"1102",cs:29.808},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"SPD",value:4},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:10.8}],id:"1c3f175d-c9db-4b42-aa7d-0ffb5f9f3cf4",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,SPD:4,"CRIT DMG":.17496000000000003,"Effect RES":.10800000000000001,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:31.784000000000006,ds:10.4,cs:27.896,weightScore:49.248000000000005},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:38.1037941},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:16.2},{stat:"Effect Hit Rate",value:8.208}],id:"9f2ab764-badb-4240-9b57-484fdab84ff7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:38.1037941,"CRIT Rate":.05832,"CRIT DMG":.162,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.799999999999997,ss:0,ds:12.312000000000001,cs:27.863999999999997},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"DEF",value:69.8569509},{stat:"ATK%",value:10.367999999999999},{stat:"CRIT Rate",value:2.5919999999999996}],id:"25966262-0749-4675-a5c3-7e701163e083",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,DEF:69.8569509,"ATK%":.10367999999999998,"CRIT Rate":.025919999999999995,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:20.450000000000003,ss:0,ds:15.551999999999998,cs:5.183999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP",value:42.337549},{stat:"ATK%",value:15.120000000000001},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:5.832}],id:"81a06240-1434-4b48-b7c4-cedbca15ff50",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,HP:42.337549,"ATK%":.1512,"CRIT DMG":.11664,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.25,ss:0,ds:28.512,equippedBy:"1005",cs:11.664},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:12.096},{stat:"Effect RES",value:7.776}],id:"24a8bb7d-4924-446c-8d8d-56b7d782ab70",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"DEF%":.0432,SPD:4,"Effect Hit Rate":.12096,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:27.247999999999998,ds:28.543999999999997,cs:10.4},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.888},{stat:"ATK%",value:8.208},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9}],id:"039ac008-c1a4-453a-92d2-0aaece2fb9ca",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03888,"ATK%":.08208,"DEF%":.0486,SPD:9,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:35.064,ds:35.712,cs:23.400000000000002},{part:"Hands",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:42.337546},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:8.64},{stat:"Break Effect",value:12.959999999999999}],id:"0d95b359-89d2-4809-9f84-e0dc5794a367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:42.337546,SPD:4,"Effect Hit Rate":.0864,"Break Effect":.1296,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:10.4,ds:36.32,cs:10.4},{part:"Hands",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"ATK%",value:15.984000000000002},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:5.183999999999999}],id:"19cb32c1-62e9-4a24-8b09-2e4d48056681",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"ATK%":.15984,"CRIT Rate":.05832,"CRIT DMG":.05183999999999999,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.550000000000004,ss:11.664,ds:23.976000000000003,cs:16.848},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"CRIT Rate",value:5.508}],id:"58fd5666-2e8a-4a56-a675-5098c886ff87",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:38.1037914,"ATK%":.03888,SPD:6,"CRIT Rate":.05508,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:32.3,ss:15.600000000000001,ds:21.432000000000002,cs:26.616},{part:"Hands",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:55.0388098},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:11.016},{stat:"Effect RES",value:10.8}],id:"92158d7b-fd3a-462c-b4fd-2091b81286b2",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:55.0388098,"CRIT Rate":.025919999999999995,"CRIT DMG":.11016,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16,ss:16.200000000000003,ds:0,cs:16.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:16.2},{stat:"Break Effect",value:10.367999999999999}],id:"26d1567a-3fe8-4c02-9874-80612a6fa4a7",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,"CRIT Rate":.05183999999999999,"CRIT DMG":.162,"Break Effect":.10367999999999998,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.4,ss:11.664,ds:10.367999999999999,cs:26.567999999999998,weightScore:48.599999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:40.2206687},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832},{stat:"Break Effect",value:18.144}],id:"130a284c-8e10-40bf-9ba9-b3e56ac894b9",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:40.2206687,"CRIT Rate":.09072,"CRIT DMG":.05832,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.8,ss:0,ds:18.144,cs:23.976,weightScore:47.09472711193568},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:5.832},{stat:"CRIT DMG",value:11.016}],id:"0bb9bf7e-5f26-496b-91ff-fa0087f1407b",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07344,"DEF%":.0972,"CRIT Rate":.05832,"CRIT DMG":.11016,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.6,ss:22.68,ds:0,cs:22.68,weightScore:45.35999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:7.776,scoreMeta:{multiplier:0,score:0}},{stat:"SPD",value:8,scoreMeta:{multiplier:1,score:20.736}},{stat:"CRIT DMG",value:6.4799999999999995,scoreMeta:{multiplier:1,score:6.4799999999999995}},{stat:"Effect Hit Rate",value:7.344,scoreMeta:{multiplier:0,score:0}}],id:"5b198c90-85fd-4baa-b44a-556f6e9d4d18",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.07776,SPD:8,"CRIT DMG":.0648,"Effect Hit Rate":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.200000000000003,ss:32.464,ds:31.816000000000003,cs:27.28,weightScore:49.895999999999994},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"DEF",value:19.0518957},{stat:"CRIT Rate",value:5.183999999999999},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:10.8}],id:"85589ec4-df10-4cbc-b190-8a3fca0030b0",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,DEF:19.0518957,"CRIT Rate":.05183999999999999,"CRIT DMG":.12312,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:16.200000000000003,ds:0,cs:22.68,weightScore:41.23644968460111},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"HP%",value:3.456},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:11.988},{stat:"Effect RES",value:3.888}],id:"467aa841-1d6b-4d13-8b7b-3f6d4c288367",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"HP%":.03456,"ATK%":.07776,"CRIT Rate":.11988,"Effect RES":.03888,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.35,ss:11.016,ds:11.664,cs:23.976,weightScore:46.656},{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8000000116881},substats:[{stat:"ATK%",value:8.64},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:12.312},{stat:"Break Effect",value:12.959999999999999}],id:"df9b4eda-ad97-4940-935e-a2094414414c",augmentedStats:{mainStat:"ATK",mainValue:352.8000000116881,"ATK%":.0864,"DEF%":.09180000000000002,"CRIT DMG":.12312,"Break Effect":.1296,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.2,ss:11.016000000000002,ds:25.92,cs:12.312,weightScore:49.248},{part:"Hands",set:"Guard of Wuthering Snow",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:3.888},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:6.912},{stat:"Effect RES",value:10.8}],id:"605af0bc-ad64-46da-9681-e8889fa8d66d",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.03888,"DEF%":.0432,"Effect Hit Rate":.06912,"Effect RES":.10800000000000001,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:27.216,ds:10.368,cs:0},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:33.8700368},{stat:"HP%",value:12.959999999999999},{stat:"DEF%",value:4.32}],id:"67999399-0a5f-4a94-9267-32c42a7fbbe5",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:71.9738333,DEF:33.8700368,"HP%":.1296,"DEF%":.0432,"ATK%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:24.624,ds:0,equippedBy:"1202",cs:0},{part:"Hands",set:"Longevous Disciple",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP%",value:16.416},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:5.832},{stat:"Effect Hit Rate",value:3.456}],id:"2fa02060-e9c7-4910-bd20-c89864379aff",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,"HP%":.16416,"ATK%":.07776,"CRIT DMG":.05832,"Effect Hit Rate":.03456,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.35,ss:24.624000000000002,ds:16.848,cs:5.832},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"DEF",value:57.1556871},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:5.183999999999999}],id:"5e67a642-be84-4d5d-b887-cc323b84e8c6",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,DEF:57.1556871,"ATK%":.0864,"CRIT Rate":.0324,"CRIT DMG":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.4,ss:0,ds:12.96,cs:11.663999999999998},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:6},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:10.8}],id:"6f1373fd-b42f-4dc3-a562-9c44fbe8e1fb",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:38.1037941,SPD:6,"CRIT DMG":.0648,"Effect RES":.10800000000000001,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22,ss:31.800000000000004,ds:15.600000000000001,cs:22.080000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"ATK",value:293.52960000932217},substats:[{stat:"HP",value:42.337549},{stat:"SPD",value:2},{stat:"CRIT DMG",value:11.664},{stat:"Effect RES",value:12.096}],id:"63457d83-ec25-40dd-a1d1-04dda49a3740",augmentedStats:{mainStat:"ATK",mainValue:293.52960000932217,HP:42.337549,SPD:2,"CRIT DMG":.11664,"Effect RES":.12096,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:23.343999999999998,ds:5.2,cs:16.864},{part:"Hands",set:"Guard of Wuthering Snow",enhance:10,grade:3,main:{stat:"ATK",value:152.40960001200438},substats:[{stat:"HP",value:71},{stat:"HP%",value:8.2},{stat:"Effect Hit Rate",value:8.2},{stat:"Effect RES",value:3.8}],id:"d6aaf5a8-2351-4880-bcd6-0f7ceb011956",augmentedStats:{mainStat:"ATK",mainValue:152.40960001200438,HP:71,"HP%":.08199999999999999,"Effect Hit Rate":.08199999999999999,"Effect RES":.038,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:18,ds:12.299999999999999},{part:"Hands",set:"Musketeer of Wild Wheat",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:10.2},{stat:"Effect RES",value:7.3},{stat:"Break Effect",value:5.1}],id:"d61a533d-e721-4edb-99f4-787708a08132",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.102,"Effect RES":.073,"Break Effect":.051,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.29,ds:5.1},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:42},{stat:"HP%",value:7.7},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4}],id:"a75828e1-5e27-49ab-8bca-67e2e1fdd3ec",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:42,"HP%":.077,"CRIT Rate":.055,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:11.55,ds:5.1000000000000005},{part:"Hands",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:38},{stat:"DEF%",value:15.6},{stat:"CRIT Rate",value:2.9},{stat:"Effect Hit Rate",value:3.4}],id:"1c2a19ba-fb58-4ff6-9f4d-582c3db368ae",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:38,"DEF%":.156,"CRIT Rate":.028999999999999998,"Effect Hit Rate":.034,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.8,ss:18.72,ds:5.1000000000000005},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:8.6},{stat:"DEF%",value:4.3},{stat:"SPD",value:2},{stat:"Break Effect",value:11}],id:"30362d67-7152-4dd2-a57c-4408c0287b8e",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.086,"DEF%":.043,SPD:2,"Break Effect":.11,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:23.259999999999998,ds:16.2},{part:"Hands",set:"Longevous Disciple",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"DEF%",value:14.5},{stat:"CRIT DMG",value:6.4},{stat:"Effect Hit Rate",value:3.8}],id:"0a4f8d97-9ca4-452c-b872-3d19a9576b4c",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"DEF%":.145,"CRIT DMG":.064,"Effect Hit Rate":.038,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:22.5,ds:5.699999999999999},{part:"Hands",set:"Band of Sizzling Thunder",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.8},{stat:"ATK%",value:3.4},{stat:"Effect Hit Rate",value:12},{stat:"Break Effect",value:5.8}],id:"4e512372-e8b0-456e-a37e-8080445edfed",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.038,"ATK%":.034,"Effect Hit Rate":.12,"Break Effect":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:5.699999999999999,ds:28.900000000000002},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:21.5921488},{stat:"SPD",value:2},{stat:"CRIT Rate",value:5.8},{stat:"Effect RES",value:7.3}],id:"c128854c-b34e-4a05-acdc-5179534bf55f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:21.5921488,SPD:2,"CRIT Rate":.057999999999999996,"Effect RES":.073,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.8,ss:16.15,ds:5.2},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP",value:71},{stat:"ATK%",value:3.8},{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5}],id:"9e27d180-01ec-4b06-86fc-cd7cb7868724",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,HP:71,"ATK%":.038,"DEF%":.048,"CRIT Rate":.055,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.76,ds:5.699999999999999},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF%",value:5.4},{stat:"SPD",value:4},{stat:"CRIT DMG",value:5.8},{stat:"Effect RES",value:8.2}],id:"8ed0420b-66e4-4b5e-83d0-6aa75db77e5d",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"DEF%":.054000000000000006,SPD:4,"CRIT DMG":.057999999999999996,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:29.18,ds:10.4},{part:"Hands",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"HP%",value:3.4},{stat:"ATK%",value:3.8},{stat:"DEF%",value:9.7},{stat:"CRIT Rate",value:5.8}],id:"0d3e87b1-c8de-4a05-a817-4e1e59f0281f",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,"HP%":.034,"ATK%":.038,"DEF%":.09699999999999999,"CRIT Rate":.057999999999999996,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:16.74,ds:5.699999999999999},{part:"Hands",set:"Passerby of Wandering Cloud",enhance:9,grade:3,main:{stat:"ATK",value:140.55552001087926},substats:[{stat:"DEF",value:16},{stat:"HP%",value:4.3},{stat:"DEF%",value:15.1},{stat:"Break Effect",value:6.4}],id:"98fdd38c-9f98-41b4-ba20-9b9333a4ed22",augmentedStats:{mainStat:"ATK",mainValue:140.55552001087926,DEF:16,"HP%":.043,"DEF%":.151,"Break Effect":.064,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:24.569999999999997,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:114.3113823,scoreMeta:{multiplier:0,score:0}},{stat:"ATK%",value:7.344,scoreMeta:{multiplier:.75,score:8.212499999999999}},{stat:"DEF%",value:4.32,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.1,scoreMeta:{multiplier:1,score:16.2}}],id:"b3376a19-62f9-489e-80e6-8f98335af158",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:114.3113823,"ATK%":.07344,"DEF%":.0432,"CRIT Rate":.081,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.15,ss:5.184,ds:11.016,equippedBy:"1212",cs:16.2,weightScore:38.37073442122549},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"DEF",value:21.5921488},{stat:"DEF%",value:14.04},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:11.664}],id:"0241587d-bbff-4ffb-b93c-d201728d1c0b",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,DEF:21.5921488,"DEF%":.1404,"Effect RES":.07776,"Break Effect":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:28.512,ds:11.664},{part:"Body",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:139.7139117},{stat:"DEF%",value:4.32},{stat:"SPD",value:4},{stat:"Break Effect",value:5.832}],id:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:139.7139117,"DEF%":.0432,SPD:4,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:15.584,ds:16.232,equippedBy:"1205",cs:10.4},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT Rate",value:32.399999862536205},substats:[{stat:"ATK%",value:12.096},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:5.183999999999999}],id:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",augmentedStats:{mainStat:"CRIT Rate",mainValue:.32399999862536205,"ATK%":.12096,SPD:4,"Effect Hit Rate":.06912,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.4,ss:10.4,ds:44.096,equippedBy:"1102",cs:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:71.9738333},{stat:"DEF",value:21.5921488},{stat:"SPD",value:5},{stat:"Break Effect",value:17.496000000000002}],id:"1717f468-9cb4-495a-b20d-57f69205b5f6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:71.9738333,DEF:21.5921488,SPD:5,"Break Effect":.17496000000000003,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:13,ss:13,ds:30.496000000000002,weightScore:36.885994320187535},{part:"Body",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:110.0776274},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"3e94d21f-f47c-4dba-8470-8eaf4b8624e9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:110.0776274,"ATK%":.0864,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:25.099999999999998,ss:0,ds:18.792,cs:12.312},{part:"Body",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:71.9738333},{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:4},{stat:"Break Effect",value:12.312}],id:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:71.9738333,"DEF%":.09180000000000002,SPD:4,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.4,ss:21.416000000000004,ds:22.712,equippedBy:"1005",cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:8.64},{stat:"ATK%",value:7.776},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:12.528}],id:"29f91de6-5c70-4e10-90e1-cf79888932d6",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.0864,"ATK%":.07776,"DEF%":.1026,"Effect Hit Rate":.12528,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.55,ss:25.272,ds:30.456000000000003,cs:0},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP%",value:11.232000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"Effect RES",value:7.344}],id:"b41c1519-2f34-4701-9d04-2c54cbfa8a3f",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"HP%":.11232000000000002,SPD:2,"CRIT Rate":.0648,"Effect RES":.07344,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18.16,ss:33.06400000000001,ds:5.2},{part:"Body",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:76.2075882},{stat:"DEF%",value:4.32},{stat:"SPD",value:6},{stat:"CRIT DMG",value:12.312}],id:"834292d9-899b-42a7-84b1-82f663bc007d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:76.2075882,"DEF%":.0432,SPD:6,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.900000000000002,ss:20.784000000000002,ds:15.600000000000001,cs:27.912},{part:"Body",set:"Guard of Wuthering Snow",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP%",value:7.344},{stat:"DEF%",value:10.26},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:12.096}],id:"9a5915a8-e547-47aa-9ff1-fd907341a6c3",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,"HP%":.07344,"DEF%":.1026,"Effect Hit Rate":.03456,"Effect RES":.12096,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:41.471999999999994,ds:5.184,cs:0},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"HP",value:67.7400784},{stat:"ATK%",value:7.776},{stat:"CRIT Rate",value:5.832},{stat:"Break Effect",value:16.848}],id:"b1006c27-f93f-4965-911b-4a934cd41021",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,HP:67.7400784,"ATK%":.07776,"CRIT Rate":.05832,"Break Effect":.16848,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:28.512,cs:11.664,weightScore:43.71421299035585},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK%",value:7.776,scoreMeta:{multiplier:.75,score:8.748}},{stat:"CRIT Rate",value:6.156,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect RES",value:7.344,scoreMeta:{multiplier:0,score:0}},{stat:"Break Effect",value:12.312,scoreMeta:{multiplier:0,score:0}}],id:"a8d2e198-7d41-4251-91ef-f7259ff39df4",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,"ATK%":.07776,"CRIT Rate":.06156,"Effect RES":.07344,"Break Effect":.12312,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.75,ss:11.016,ds:23.976,cs:12.312,weightScore:47.303999999999995},{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8000007029628},substats:[{stat:"ATK",value:19.0518957},{stat:"DEF",value:40.2206687},{stat:"HP%",value:15.984000000000002},{stat:"CRIT Rate",value:2.916}],id:"f3177930-819d-4e84-8818-adc97455f734",augmentedStats:{mainStat:"CRIT DMG",mainValue:.648000007029628,ATK:19.0518957,DEF:40.2206687,"HP%":.15984,"CRIT Rate":.02916,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.8,ss:23.976000000000003,ds:0,cs:5.832,weightScore:36.886700044615246},{part:"Body",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"Outgoing Healing Boost",value:34.5606000395488},substats:[{stat:"HP",value:38.1037941},{stat:"SPD",value:9},{stat:"CRIT DMG",value:12.312},{stat:"Effect RES",value:3.456}],id:"725e6ee5-9465-45a2-8172-ed69241c1e54",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.345606000395488,HP:38.1037941,SPD:9,"CRIT DMG":.12312,"Effect RES":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35.7,ss:28.584000000000003,ds:23.400000000000002,equippedBy:"1217",cs:35.712},{part:"Body",set:"Guard of Wuthering Snow",enhance:14,grade:5,main:{stat:"CRIT DMG",value:61.1712006619205},substats:[{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"Effect RES",value:11.232000000000001},{stat:"Break Effect",value:5.832}],id:"79f1d0f3-741b-4430-9685-87e29267e01d",augmentedStats:{mainStat:"CRIT DMG",mainValue:.611712006619205,"DEF%":.0486,SPD:4,"Effect RES":.11232000000000002,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:33.08,ds:16.232},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"Outgoing Healing Boost",value:28.7544000428167},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:35.9869141},{stat:"ATK%",value:8.64},{stat:"SPD",value:4}],id:"0b4bdbc7-dac3-4648-bd6f-631d6750a5b5",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.287544000428167,HP:38.1037941,ATK:35.9869141,"ATK%":.0864,SPD:4,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:10.4,ds:23.36,cs:10.4},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"SPD",value:4},{stat:"CRIT Rate",value:5.508},{stat:"CRIT DMG",value:11.664},{stat:"Break Effect",value:6.4799999999999995}],id:"fb53d114-66ea-4014-9ef6-7dc4519cc4e1",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,SPD:4,"CRIT Rate":.05508,"CRIT DMG":.11664,"Break Effect":.0648,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:16.88,cs:33.08},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"HP",value:105.8438725},{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect Hit Rate",value:4.32}],id:"45ad26f9-f51b-4ca6-960b-b0db7edb5087",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,HP:105.8438725,SPD:4,"CRIT DMG":.0648,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:10.4,ds:16.880000000000003,cs:16.88},{part:"Body",set:"Champion of Streetwise Boxing",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP%",value:4.32},{stat:"ATK%",value:8.208},{stat:"CRIT Rate",value:5.508},{stat:"Break Effect",value:10.367999999999999}],id:"3f8b30aa-4c91-4677-af83-8906d7d968d9",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,"HP%":.0432,"ATK%":.08208,"CRIT Rate":.05508,"Break Effect":.10367999999999998,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.299999999999997,ss:6.48,ds:22.68,cs:11.016},{part:"Body",set:"Hunter of Glacial Forest",enhance:12,grade:5,main:{stat:"CRIT DMG",value:53.913600579835894},substats:[{stat:"HP",value:110.0776274},{stat:"DEF",value:38.1037914},{stat:"ATK%",value:3.456},{stat:"CRIT Rate",value:3.2399999999999998}],id:"c23bb26b-ccb0-4318-ae7b-a8aec9ef0db1",augmentedStats:{mainStat:"CRIT DMG",mainValue:.539136005798359,HP:110.0776274,DEF:38.1037914,"ATK%":.03456,"CRIT Rate":.0324,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.5,ss:0,ds:5.184,cs:6.4799999999999995},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"ATK%",value:3.888},{stat:"SPD",value:6},{stat:"Effect Hit Rate",value:7.344},{stat:"Break Effect",value:12.959999999999999}],id:"3147142d-dd65-4524-85ff-2535a61bd342",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,"ATK%":.03888,SPD:6,"Effect Hit Rate":.07344,"Break Effect":.1296,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.3,ss:15.600000000000001,ds:45.408,cs:15.600000000000001},{part:"Body",set:"Knight of Purity Palace",enhance:12,grade:4,main:{stat:"DEF%",value:35.9424005728218},substats:[{stat:"DEF",value:28.789534},{stat:"ATK%",value:6.5664},{stat:"SPD",value:1},{stat:"Effect Hit Rate",value:6.912}],id:"c85f95b4-28af-4519-8992-bd274ed268f1",augmentedStats:{mainStat:"DEF%",mainValue:.35942400572821803,DEF:28.789534,"ATK%":.065664,SPD:1,"Effect Hit Rate":.06912,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.35,ss:2.6,ds:22.8176,cs:2.6},{part:"Body",set:"Musketeer of Wild Wheat",enhance:12,grade:4,main:{stat:"HP%",value:28.7544000428167},substats:[{stat:"HP",value:30.4830351},{stat:"DEF%",value:12.096},{stat:"SPD",value:3},{stat:"Break Effect",value:4.1472}],id:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",augmentedStats:{mainStat:"HP%",mainValue:.287544000428167,HP:30.4830351,"DEF%":.12096,SPD:3,"Break Effect":.041471999999999995,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:7.800000000000001,ss:22.3152,ds:11.9472,equippedBy:"1202",cs:7.800000000000001},{part:"Body",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"Outgoing Healing Boost",value:23.003300675190395},substats:[{stat:"HP%",value:2.7647999999999997},{stat:"ATK%",value:3.1104},{stat:"SPD",value:3},{stat:"CRIT DMG",value:14.5152}],id:"05045a76-0f4c-4ad8-8997-878b60b2d226",augmentedStats:{mainStat:"Outgoing Healing Boost",mainValue:.23003300675190397,"HP%":.027647999999999995,"ATK%":.031104,SPD:3,"CRIT DMG":.145152,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:26.95,ss:11.9472,ds:12.4656,cs:22.3152},{part:"Body",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:40},{stat:"HP%",value:3.4},{stat:"ATK%",value:4.3},{stat:"CRIT Rate",value:5.8}],id:"6be4a25d-b557-44a5-9176-12499975ba72",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:40,"HP%":.034,"ATK%":.043,"CRIT Rate":.057999999999999996,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11.6,ss:5.1000000000000005,ds:6.449999999999999},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"ATK",value:35},{stat:"HP%",value:7.7},{stat:"SPD",value:2},{stat:"Effect Hit Rate",value:3.4}],id:"c1257f42-d466-4cc6-ac37-a164be4efd1b",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,ATK:35,"HP%":.077,SPD:2,"Effect Hit Rate":.034,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.2,ss:16.75,ds:10.3},{part:"Body",set:"Genius of Brilliant Stars",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK",value:38},{stat:"DEF",value:21.5921488},{stat:"DEF%",value:5.4},{stat:"SPD",value:6}],id:"5629890a-6aec-4990-851c-74532f2f37af",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,ATK:38,DEF:21.5921488,"DEF%":.054000000000000006,SPD:6,"HP%":0,"ATK%":0,"SPD%":0,HP:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:15.600000000000001,ss:22.080000000000002,ds:15.600000000000001},{part:"Body",set:"Messenger Traversing Hackerspace",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP%",value:3.8},{stat:"DEF%",value:9.1},{stat:"SPD",value:4},{stat:"CRIT Rate",value:2.9}],id:"8b8127ed-1513-4b8e-bfc5-e2f6ae07f501",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,"HP%":.038,"DEF%":.091,SPD:4,"CRIT Rate":.028999999999999998,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:16.2,ss:27.019999999999996,ds:10.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT Rate",value:12.9078010562808},substats:[{stat:"ATK",value:35},{stat:"DEF",value:42},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:6.4}],id:"ca9148ab-988c-4e5f-b24d-36336521b584",augmentedStats:{mainStat:"CRIT Rate",mainValue:.129078010562808,ATK:35,DEF:42,"CRIT DMG":.064,"Break Effect":.064,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:0,ds:6.4},{part:"Body",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"CRIT DMG",value:25.8165008621286},substats:[{stat:"HP",value:33},{stat:"ATK",value:33},{stat:"ATK%",value:3.4},{stat:"Break Effect",value:12.3}],id:"9bc3914c-ef10-492c-b9dc-20b9bbb53678",augmentedStats:{mainStat:"CRIT DMG",mainValue:.258165008621286,HP:33,ATK:33,"ATK%":.034,"Break Effect":.12300000000000001,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:0,ds:17.400000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:21.168773,scoreMeta:{multiplier:.75,score:1.7533107772329706}},{stat:"ATK%",value:11.664,scoreMeta:{multiplier:.75,score:13.121999999999996}},{stat:"DEF%",value:4.859999999999999,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:17.496000000000002,scoreMeta:{multiplier:1,score:17.496000000000002}}],id:"92c53d06-80d0-43a8-b896-2feeda419674",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:21.168773,"ATK%":.11664,"DEF%":.0486,"CRIT DMG":.17496000000000003,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.8,ss:5.831999999999999,ds:17.496,equippedBy:"1212",cs:17.496000000000002,weightScore:43.161747702977294},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:148.1814215},{stat:"ATK%",value:6.912},{stat:"Effect Hit Rate",value:3.888},{stat:"Break Effect",value:5.183999999999999}],id:"f8d42acd-c848-484a-9eee-d03a7b88f030",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:148.1814215,"ATK%":.06912,"Effect Hit Rate":.03888,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:10.350000000000001,ss:0,ds:21.384,equippedBy:"1217",cs:0},{part:"Feet",set:"Longevous Disciple",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"HP%",value:16.848},{stat:"CRIT DMG",value:5.183999999999999}],id:"726e7b1f-f630-4182-ac11-1e8523a33fc1",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:38.1037914,DEF:21.168773,"HP%":.16848,"CRIT DMG":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:25.272,ds:0,equippedBy:"1205",cs:5.183999999999999},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:38.1037941},{stat:"HP%",value:8.208},{stat:"ATK%",value:11.664},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:38.1037941,"HP%":.08208,"ATK%":.11664,"Effect Hit Rate":.11232000000000002,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:12.312000000000001,ds:34.344,equippedBy:"1202",cs:0},{part:"Feet",set:"Musketeer of Wild Wheat",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:76.2075882},{stat:"ATK",value:38.1037914},{stat:"Effect RES",value:7.776},{stat:"Break Effect",value:12.312}],id:"ad67f0ac-1c0e-4869-8855-3718b601447b",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:76.2075882,ATK:38.1037914,"Effect RES":.07776,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:12.312,cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:9},{stat:"CRIT DMG",value:11.664}],id:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.0486,SPD:9,"CRIT DMG":.11664,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:35,ss:29.232,ds:23.400000000000002,equippedBy:"1102",cs:35.064},{part:"Feet",set:"Eagle of Twilight Line",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"HP",value:84.675098},{stat:"HP%",value:4.32},{stat:"DEF%",value:5.4},{stat:"Effect RES",value:16.416}],id:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,HP:84.675098,"HP%":.0432,"DEF%":.054000000000000006,"Effect RES":.16416,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:37.584,ds:0,equippedBy:"1101",cs:0},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:9.180000000000001},{stat:"SPD",value:2},{stat:"CRIT Rate",value:11.016},{stat:"CRIT DMG",value:12.312}],id:"a615dc2f-c26d-4f13-8c92-0b2c746e0f3f",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.09180000000000002,SPD:2,"CRIT Rate":.11016,"CRIT DMG":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:39.5,ss:16.216,ds:5.2,cs:39.544000000000004},{part:"Feet",set:"Band of Sizzling Thunder",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"DEF",value:16.9350184},{stat:"ATK%",value:4.32},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:19.872}],id:"53a00fa5-22a9-40bc-948b-8469d6e248ec",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,DEF:16.9350184,"ATK%":.0432,"CRIT Rate":.025919999999999995,"Effect RES":.19872,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.45,ss:29.808,ds:6.48,equippedBy:"1005",cs:5.183999999999999},{part:"Feet",set:"Messenger Traversing Hackerspace",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:33.8700368},{stat:"ATK%",value:7.344},{stat:"DEF%",value:19.439999999999998},{stat:"CRIT Rate",value:2.916}],id:"76603793-39c6-477f-9874-194d66f8ae88",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:33.8700368,"ATK%":.07344,"DEF%":.1944,"CRIT Rate":.02916,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:23.327999999999996,ds:11.016,cs:5.832},{part:"Feet",set:"Genius of Brilliant Stars",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:156.6489313},{stat:"DEF%",value:5.4},{stat:"SPD",value:7},{stat:"Break Effect",value:5.832}],id:"5ba46dc3-191b-4a37-9781-bcaa1adf7f0d",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:156.6489313,"DEF%":.054000000000000006,SPD:7,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.2,ss:24.68,ds:24.032,cs:18.2},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:16.9350184},{stat:"DEF",value:19.0518957},{stat:"SPD",value:4},{stat:"CRIT DMG",value:22.68}],id:"af5b9fae-fdcc-4b11-bf4a-0ce3bd832648",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:16.9350184,DEF:19.0518957,SPD:4,"CRIT DMG":.2268,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33,ss:10.4,ds:10.4,cs:33.08},{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.03200000547804},substats:[{stat:"ATK",value:40.2206687},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:8.424},{stat:"Break Effect",value:11.016}],id:"01eca278-3dec-4b6a-bb39-e199603423f3",augmentedStats:{mainStat:"SPD",mainValue:25.03200000547804,ATK:40.2206687,"ATK%":.03888,"CRIT Rate":.08424,"Break Effect":.11016,"HP%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:22.5,ss:0,ds:16.848,cs:16.848,weightScore:38.137720635656855},{part:"Feet",set:"Genius of Brilliant Stars",enhance:12,grade:5,main:{stat:"SPD",value:20.832000004360452},substats:[{stat:"ATK%",value:3.456},{stat:"DEF%",value:10.8},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:11.664}],id:"d348e2e3-87f5-4782-81db-1478c1ab2901",augmentedStats:{mainStat:"SPD",mainValue:20.832000004360452,"ATK%":.03456,"DEF%":.10800000000000001,"Effect Hit Rate":.07776,"Break Effect":.11664,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1000000000000005,ss:12.96,ds:28.512,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK",value:28.789534},{stat:"DEF%",value:7.344},{stat:"Effect Hit Rate",value:3.456},{stat:"Effect RES",value:2.7647999999999997}],id:"4fa7cb12-80ac-43af-ae67-cec01b31208d",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,ATK:28.789534,"DEF%":.07344,"Effect Hit Rate":.03456,"Effect RES":.027647999999999995,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:12.959999999999999,ds:5.184,cs:0},{part:"Feet",set:"Passerby of Wandering Cloud",enhance:12,grade:4,main:{stat:"SPD",value:16.42560000135563},substats:[{stat:"ATK%",value:9.6768},{stat:"Effect Hit Rate",value:2.7647999999999997},{stat:"Effect RES",value:3.456},{stat:"Break Effect",value:5.183999999999999}],id:"120c957e-4880-4fd7-a1a9-33fd9e5b5b74",augmentedStats:{mainStat:"SPD",mainValue:16.42560000135563,"ATK%":.096768,"Effect Hit Rate":.027647999999999995,"Effect RES":.03456,"Break Effect":.05183999999999999,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:14.399999999999999,ss:5.184,ds:23.846399999999996,cs:0},{part:"Feet",set:"Guard of Wuthering Snow",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"HP",value:38},{stat:"DEF",value:57},{stat:"HP%",value:4.3},{stat:"CRIT Rate",value:3.2}],id:"685b8eec-9f29-4213-b26e-7fc46ce17f43",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,HP:38,DEF:57,"HP%":.043,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:6.4,ss:6.449999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP%",value:8.6},{stat:"ATK%",value:3.4},{stat:"CRIT Rate",value:6.1},{stat:"Effect Hit Rate",value:7.7}],id:"a616f8ad-8b70-43f9-a877-ec33ba60d6e8",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,"HP%":.086,"ATK%":.034,"CRIT Rate":.061,"Effect Hit Rate":.077,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.899999999999999,ds:16.650000000000002},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF%",value:4.8},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.4},{stat:"Effect RES",value:7.3}],id:"578c0fdb-8976-4408-9271-fe43ce0afc5d",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,"DEF%":.048,"CRIT Rate":.055,"Effect Hit Rate":.034,"Effect RES":.073,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:16.71,ds:5.1000000000000005},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"SPD",value:11.419199999887496},substats:[{stat:"HP",value:33},{stat:"ATK",value:21.5921488},{stat:"CRIT Rate",value:6.1},{stat:"Effect RES",value:8.2}],id:"620a1f8e-ba95-47d9-99c1-8fd7713c7b10",augmentedStats:{mainStat:"SPD",mainValue:11.419199999887496,HP:33,ATK:21.5921488,"CRIT Rate":.061,"Effect RES":.08199999999999999,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:12.2,ss:12.299999999999999,ds:0},{part:"Feet",set:"Hunter of Glacial Forest",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"HP",value:38},{stat:"HP%",value:12.5},{stat:"SPD",value:5},{stat:"CRIT Rate",value:3.2}],id:"fe8aca62-7935-4897-ad02-fae126b720b1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,HP:38,"HP%":.125,SPD:5,"CRIT Rate":.032,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:19.4,ss:31.75,ds:13},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:74.0907055,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:5.508,scoreMeta:{multiplier:1,score:11.016}},{stat:"CRIT DMG",value:12.312,scoreMeta:{multiplier:1,score:12.312}},{stat:"Effect Hit Rate",value:4.32,scoreMeta:{multiplier:0,score:0}}],id:"80abbd56-b1a0-4587-a349-754c33627217",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:74.0907055,"CRIT Rate":.05508,"CRIT DMG":.12312,"Effect Hit Rate":.0432,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:0,ds:6.48,equippedBy:"1212",cs:23.328,weightScore:38.97197099567099},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK%",value:12.096},{stat:"DEF%",value:4.32},{stat:"Effect Hit Rate",value:4.32},{stat:"Break Effect",value:17.496000000000002}],id:"f89266f4-241e-43bc-b04a-a864eea60e49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"ATK%":.12096,"DEF%":.0432,"Effect Hit Rate":.0432,"Break Effect":.17496000000000003,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:5.184,ds:42.120000000000005,equippedBy:"1217",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"DEF%",value:54.0000006789338},substats:[{stat:"HP%",value:8.208},{stat:"ATK%",value:3.888},{stat:"SPD",value:4},{stat:"Effect RES",value:11.664}],id:"16f7f4d9-5734-401f-b14f-2a74eaec9dcc",augmentedStats:{mainStat:"DEF%",mainValue:.540000006789338,"HP%":.08208,"ATK%":.03888,SPD:4,"Effect RES":.11664,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.1,ss:40.208,ds:16.232,cs:10.4},{part:"PlanarSphere",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"ATK",value:19.0518957},{stat:"CRIT Rate",value:6.4799999999999995},{stat:"CRIT DMG",value:17.496000000000002},{stat:"Effect RES",value:7.776}],id:"9714ef68-45e7-4f62-81f2-b437649d3a49",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,ATK:19.0518957,"CRIT Rate":.0648,"CRIT DMG":.17496000000000003,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:30.2,ss:11.664,ds:0,equippedBy:"1205",cs:30.456000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Physical DMG Boost",value:38.8803014298894},substats:[{stat:"SPD",value:2},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"CRIT DMG",value:23.328},{stat:"Effect RES",value:7.776}],id:"2340f351-b46e-4e11-87a2-732c5c887941",augmentedStats:{mainStat:"Physical DMG Boost",mainValue:.388803014298894,SPD:2,"CRIT Rate":.025919999999999995,"CRIT DMG":.23328,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:33.5,ss:16.864,ds:5.2,cs:33.712},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"ATK%",value:7.776},{stat:"DEF%",value:4.859999999999999},{stat:"SPD",value:4},{stat:"CRIT DMG",value:18.144}],id:"4806d951-5a01-48bb-876f-5368059a674d",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"ATK%":.07776,"DEF%":.0486,SPD:4,"CRIT DMG":.18144,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:40.050000000000004,ss:16.232,ds:22.064,equippedBy:"1102",cs:28.543999999999997},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"DEF",value:59.2725644},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Effect Hit Rate",value:11.232000000000001}],id:"1735bd09-55f7-4023-866f-509dc716badf",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,DEF:59.2725644,"DEF%":.054000000000000006,"CRIT DMG":.05183999999999999,"Effect Hit Rate":.11232000000000002,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:5.183999999999999,ss:6.48,ds:16.848000000000003},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Lightning DMG Boost",value:38.8803014298894},substats:[{stat:"ATK",value:59.2725644},{stat:"ATK%",value:8.208},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:6.912}],id:"15d53aff-64cc-421f-837f-5ccfd55240b6",augmentedStats:{mainStat:"Lightning DMG Boost",mainValue:.388803014298894,ATK:59.2725644,"ATK%":.08208,"DEF%":.054000000000000006,"Effect Hit Rate":.06912,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.299999999999999,ss:6.48,ds:22.68,equippedBy:"1005",cs:0},{part:"PlanarSphere",set:"Broken Keel",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"HP",value:67.7400784},{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.719999999999999},{stat:"Effect Hit Rate",value:6.912}],id:"86816eed-af3c-441e-9379-22aca07bc15f",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,HP:67.7400784,ATK:38.1037914,"DEF%":.0972,"Effect Hit Rate":.06912,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.663999999999998,ds:10.368,equippedBy:"1101",cs:0},{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803014298894},substats:[{stat:"DEF",value:40.2206687},{stat:"SPD",value:9},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect Hit Rate",value:3.456}],id:"1e00ea87-98be-4601-a1b6-90eed8929758",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.388803014298894,DEF:40.2206687,SPD:9,"CRIT Rate":.025919999999999995,"Effect Hit Rate":.03456,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:28.400000000000002,ss:23.400000000000002,ds:28.584000000000003,cs:28.584000000000003,weightScore:38.670727111935676},{part:"PlanarSphere",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"Quantum DMG Boost",value:38.8803014298894},substats:[{stat:"HP%",value:7.344},{stat:"ATK%",value:6.912},{stat:"CRIT Rate",value:9.072},{stat:"CRIT DMG",value:5.832}],id:"030acc28-213c-4913-b527-fd5e4242ade5",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.388803014298894,"HP%":.07344,"ATK%":.06912,"CRIT Rate":.09072,"CRIT DMG":.05832,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:34.150000000000006,ss:11.016,ds:10.368,cs:23.976},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:61.3894417},{stat:"HP%",value:3.888},{stat:"ATK%",value:8.64},{stat:"SPD",value:2}],id:"687f3295-1bfa-4349-b529-68145a681f3d",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:61.3894417,"HP%":.03888,"ATK%":.0864,SPD:2,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.099999999999998,ss:11.032,ds:18.16,cs:5.2},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:33.8700392},{stat:"HP%",value:7.344},{stat:"Effect Hit Rate",value:8.208},{stat:"Break Effect",value:12.959999999999999}],id:"f838c821-addf-477a-97e7-605a00417a80",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:33.8700392,"HP%":.07344,"Effect Hit Rate":.08208,"Break Effect":.1296,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.016,ds:25.272,cs:0},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP",value:122.7788921},{stat:"ATK",value:38.1037914},{stat:"HP%",value:4.32},{stat:"CRIT DMG",value:6.4799999999999995}],id:"2576e256-b473-481b-9e69-5e5ce2641f1a",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,HP:122.7788921,ATK:38.1037914,"HP%":.0432,"CRIT DMG":.0648,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:6.48,ds:0,equippedBy:"1202",cs:6.4799999999999995},{part:"PlanarSphere",set:"Sprightly Vonwacq",enhance:12,grade:5,main:{stat:"HP%",value:35.9424005728218},substats:[{stat:"DEF",value:21.168773},{stat:"ATK%",value:8.64},{stat:"CRIT Rate",value:5.832},{stat:"Effect RES",value:8.208}],id:"29ec4a4e-a2d1-470b-8898-4271e5d58801",augmentedStats:{mainStat:"HP%",mainValue:.35942400572821803,DEF:21.168773,"ATK%":.0864,"CRIT Rate":.05832,"Effect RES":.08208,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:24.5,ss:12.312000000000001,ds:12.96,cs:11.664},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Ice DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT Rate",value:6.156},{stat:"Break Effect",value:5.832}],id:"6ea90a16-c508-400a-84e5-956be061dd81",augmentedStats:{mainStat:"Ice DMG Boost",mainValue:.32348401146009,ATK:38.1037914,"DEF%":.09180000000000002,"CRIT Rate":.06156,"Break Effect":.05832,"HP%":0,"ATK%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:11.016000000000002,ds:5.832,cs:12.312},{part:"PlanarSphere",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"Quantum DMG Boost",value:32.348401146008996},substats:[{stat:"ATK",value:21.168773},{stat:"ATK%",value:7.344},{stat:"DEF%",value:10.26},{stat:"CRIT Rate",value:6.156}],id:"f6f59c42-c75d-4b13-8630-cf4030317fb6",augmentedStats:{mainStat:"Quantum DMG Boost",mainValue:.32348401146009,ATK:21.168773,"ATK%":.07344,"DEF%":.1026,"CRIT Rate":.06156,"HP%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:12.312,ds:11.016,cs:12.312},{part:"PlanarSphere",set:"Fleet of the Ageless",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:42},{stat:"ATK%",value:11.2},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:3.4}],id:"bc8d6ec2-f7ce-46b5-99bd-f9abcb5cd7d3",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:42,"ATK%":.11199999999999999,"DEF%":.054000000000000006,"Effect Hit Rate":.034,"HP%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:6.48,ds:21.9},{part:"PlanarSphere",set:"Belobog of the Architects",enhance:9,grade:3,main:{stat:"DEF%",value:21.5135999489572},substats:[{stat:"DEF",value:52},{stat:"HP%",value:7.7},{stat:"Effect RES",value:3.4},{stat:"Break Effect",value:6.4}],id:"1d4bfa56-f16b-4380-8124-481ef3c284f2",augmentedStats:{mainStat:"DEF%",mainValue:.215135999489572,DEF:52,"HP%":.077,"Effect RES":.034,"Break Effect":.064,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:16.650000000000002,ds:6.4},{part:"PlanarSphere",set:"Broken Keel",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"HP",value:33},{stat:"ATK",value:19},{stat:"Effect Hit Rate",value:7.3},{stat:"Effect RES",value:6.9}],id:"5968a21b-6035-45f7-8347-3445cb23dd48",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,HP:33,ATK:19,"Effect Hit Rate":.073,"Effect RES":.069,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:10.350000000000001,ds:10.95},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:80.4413431,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT Rate",value:8.424,scoreMeta:{multiplier:1,score:16.8}},{stat:"CRIT DMG",value:10.367999999999999,scoreMeta:{multiplier:1,score:10.3}},{stat:"Break Effect",value:5.832,scoreMeta:{multiplier:0,score:0}}],id:"c521dc03-6c6e-45ef-9933-811367312441",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:80.4413431,"CRIT Rate":.08424,"CRIT DMG":.10367999999999998,"Break Effect":.05832,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:27.1,ss:0,ds:5.832,equippedBy:"1212",cs:27.215999999999998,weightScore:37.249627926047566},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK",value:38.1037914},{stat:"DEF",value:21.168773},{stat:"DEF%",value:15.659999999999998},{stat:"Break Effect",value:12.312}],id:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,ATK:38.1037914,DEF:21.168773,"DEF%":.1566,"Break Effect":.12312,"HP%":0,"ATK%":0,"SPD%":0,HP:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:18.791999999999998,ds:12.312,equippedBy:"1217",cs:0},{part:"LinkRope",set:"Inert Salsotto",enhance:15,grade:5,main:{stat:"HP%",value:43.200000724755604},substats:[{stat:"CRIT Rate",value:6.156},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:8.208},{stat:"Break Effect",value:12.312}],id:"426a1d2d-c361-42d0-a7d6-5001755c220d",augmentedStats:{mainStat:"HP%",mainValue:.43200000724755605,"CRIT Rate":.06156,"Effect Hit Rate":.07344,"Effect RES":.08208,"Break Effect":.12312,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:12.2,ss:12.312000000000001,ds:23.328,equippedBy:"1205",cs:12.312},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"DEF",value:35.9869141},{stat:"ATK%",value:7.776},{stat:"DEF%",value:14.04},{stat:"SPD",value:2}],id:"9c66993a-07b4-4994-8bb5-86507e6ba49b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,DEF:35.9869141,"ATK%":.07776,"DEF%":.1404,SPD:2,"HP%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.75,ss:22.048,ds:16.864,equippedBy:"1202",cs:5.2},{part:"LinkRope",set:"Belobog of the Architects",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"ATK%",value:14.688},{stat:"DEF%",value:5.4},{stat:"Effect Hit Rate",value:7.776},{stat:"Break Effect",value:5.183999999999999}],id:"f751b41e-8099-4b80-94c1-a86d264ca8bd",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"ATK%":.14688,"DEF%":.054000000000000006,"Effect Hit Rate":.07776,"Break Effect":.05183999999999999,"HP%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:21.9,ss:6.48,ds:38.879999999999995,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:2},{stat:"CRIT DMG",value:18.144},{stat:"Effect Hit Rate",value:7.344},{stat:"Effect RES",value:7.776}],id:"c32194b9-dddc-47de-853e-17ac8b8f61a4",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:2,"CRIT DMG":.18144,"Effect Hit Rate":.07344,"Effect RES":.07776,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.3,ss:16.864,ds:16.216,equippedBy:"1102",cs:23.343999999999998,weightScore:46.007999999999996},{part:"LinkRope",set:"Broken Keel",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP%",value:15.984000000000002},{stat:"ATK%",value:3.888},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"CRIT DMG",value:17.496000000000002}],id:"5788b45d-6d75-4189-9689-872fd84280f7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,"HP%":.15984,"ATK%":.03888,"CRIT Rate":.0324,"CRIT DMG":.17496000000000003,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:29.5,ss:23.976000000000003,ds:5.832,equippedBy:"1101",cs:23.976000000000003},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:63.506319},{stat:"SPD",value:5},{stat:"Effect Hit Rate",value:8.208}],id:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,ATK:63.506319,SPD:5,"Effect Hit Rate":.08208,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,DEF:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:13,ss:13,ds:25.312,equippedBy:"1005",cs:13},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF%",value:10.8},{stat:"CRIT Rate",value:9.072},{stat:"Effect Hit Rate",value:6.912},{stat:"Break Effect",value:6.4799999999999995}],id:"9dc0a37b-9c62-4c1a-80f9-3edd769b0e68",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,"DEF%":.10800000000000001,"CRIT Rate":.09072,"Effect Hit Rate":.06912,"Break Effect":.0648,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT DMG":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18,ss:12.96,ds:16.848,cs:18.144,weightScore:47.95199999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"HP",value:38.1037941},{stat:"DEF%",value:10.8},{stat:"CRIT DMG",value:18.792},{stat:"Effect RES",value:7.776}],id:"b63d8cc1-3b84-476f-b8f7-ea31e0a83dbc",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,HP:38.1037941,"DEF%":.10800000000000001,"CRIT DMG":.18792,"Effect RES":.07776,"HP%":0,"ATK%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:18.7,ss:24.624000000000002,ds:0,cs:18.792,weightScore:45.40624480707517},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"ATK",value:35.9869141,scoreMeta:{multiplier:.75,score:2.9806283212960496}},{stat:"HP%",value:3.456,scoreMeta:{multiplier:0,score:0}},{stat:"CRIT DMG",value:5.183999999999999,scoreMeta:{multiplier:1,score:5.183999999999999}},{stat:"Effect RES",value:15.984000000000002,scoreMeta:{multiplier:0,score:0}}],id:"7d1bb971-e351-47ee-9ab9-3c605386b6f8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,ATK:35.9869141,"HP%":.03456,"CRIT DMG":.05183999999999999,"Effect RES":.15984,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:29.160000000000004,ds:0,cs:5.183999999999999,weightScore:38.318171095061395},{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:38.1037941},{stat:"ATK",value:78.3244601},{stat:"ATK%",value:7.776},{stat:"CRIT DMG",value:11.664}],id:"fce0a251-7922-469e-a3e6-b63783177cbf",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:38.1037941,ATK:78.3244601,"ATK%":.07776,"CRIT DMG":.11664,"HP%":0,"DEF%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:23.15,ss:0,ds:11.664,cs:11.664},{part:"LinkRope",set:"Fleet of the Ageless",enhance:15,grade:5,main:{stat:"Energy Regeneration Rate",value:19.4394017569722},substats:[{stat:"HP",value:33.8700392},{stat:"ATK",value:57.1556871},{stat:"DEF%",value:5.4},{stat:"CRIT DMG",value:17.496000000000002}],id:"4de09d13-9ab5-48c0-8552-c99e0961c6d7",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.194394017569722,HP:33.8700392,ATK:57.1556871,"DEF%":.054000000000000006,"CRIT DMG":.17496000000000003,"HP%":0,"ATK%":0,"SPD%":0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:17.4,ss:6.48,ds:0,cs:17.496000000000002},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"SPD",value:4},{stat:"CRIT DMG",value:6.4799999999999995},{stat:"Effect RES",value:7.344},{stat:"Break Effect",value:18.144}],id:"5336ce8e-c6be-426f-9e6b-cbdf058d7eb8",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,SPD:4,"CRIT DMG":.0648,"Effect RES":.07344,"Break Effect":.18144,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,"CRIT Rate":0,"Effect Hit Rate":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:16.8,ss:21.416,ds:28.543999999999997,cs:16.88},{part:"LinkRope",set:"Space Sealing Station",enhance:15,grade:5,main:{stat:"ATK%",value:43.200000724755604},substats:[{stat:"DEF",value:38.1037914},{stat:"DEF%",value:17.82},{stat:"CRIT Rate",value:2.5919999999999996},{stat:"Effect RES",value:3.456}],id:"507b39d1-d464-4b88-a968-074059a16326",augmentedStats:{mainStat:"ATK%",mainValue:.43200000724755605,DEF:38.1037914,"DEF%":.1782,"CRIT Rate":.025919999999999995,"Effect RES":.03456,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5,ss:26.568,ds:0,cs:5.183999999999999},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"DEF%",value:44.9280005414036},substats:[{stat:"DEF",value:38.1037914},{stat:"HP%",value:4.32},{stat:"ATK%",value:3.888},{stat:"Effect Hit Rate",value:15.552}],id:"13562a04-2e82-44a6-acee-42500b505634",augmentedStats:{mainStat:"DEF%",mainValue:.449280005414036,DEF:38.1037914,"HP%":.0432,"ATK%":.03888,"Effect Hit Rate":.15552,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.699999999999999,ss:6.48,ds:29.16,cs:0},{part:"LinkRope",set:"Fleet of the Ageless",enhance:12,grade:5,main:{stat:"Energy Regeneration Rate",value:16.1736014066265},substats:[{stat:"DEF",value:16.9350184},{stat:"DEF%",value:9.719999999999999},{stat:"CRIT Rate",value:3.2399999999999998},{stat:"Effect RES",value:12.096}],id:"1364b4d9-1dc2-4ea9-973c-5508c5676a78",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.161736014066265,DEF:16.9350184,"DEF%":.0972,"CRIT Rate":.0324,"Effect RES":.12096,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:6.4,ss:29.807999999999996,ds:0,cs:6.4799999999999995},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"HP%",value:15.552},{stat:"DEF%",value:9.180000000000001},{stat:"CRIT DMG",value:5.183999999999999},{stat:"Break Effect",value:6.4799999999999995}],id:"439c6e66-9371-4872-a5dc-916756a46a99",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,"HP%":.15552,"DEF%":.09180000000000002,"CRIT DMG":.05183999999999999,"Break Effect":.0648,"ATK%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:5.1,ss:34.344,ds:6.4799999999999995,cs:5.183999999999999},{part:"LinkRope",set:"Space Sealing Station",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:19.0518957},{stat:"HP%",value:7.776},{stat:"Effect Hit Rate",value:11.664},{stat:"Break Effect",value:5.183999999999999}],id:"24e5659e-51f5-428d-83b7-0daa994ecf97",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:19.0518957,"HP%":.07776,"Effect Hit Rate":.11664,"Break Effect":.05183999999999999,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,DEF:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:0,ss:11.664,ds:22.68,cs:0},{part:"LinkRope",set:"Rutilant Arena",enhance:12,grade:5,main:{stat:"ATK%",value:35.9424005728218},substats:[{stat:"ATK",value:40.2206687},{stat:"DEF",value:40.2206687},{stat:"CRIT DMG",value:11.664},{stat:"Effect Hit Rate",value:3.888}],id:"3aac125b-f436-4a66-bc76-124bccee2190",augmentedStats:{mainStat:"ATK%",mainValue:.35942400572821803,ATK:40.2206687,DEF:40.2206687,"CRIT DMG":.11664,"Effect Hit Rate":.03888,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,SPD:0,"CRIT Rate":0,"Effect RES":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},os:11.6,ss:0,ds:5.832,cs:11.664},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:19},{stat:"SPD",value:4},{stat:"Effect Hit Rate",value:7.7},{stat:"Effect RES",value:4.3}],id:"563780c9-ac0a-4c54-98fa-2c24883f633b",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:19,SPD:4,"Effect Hit Rate":.077,"Effect RES":.043,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.4,ss:16.85,ds:21.950000000000003},{part:"LinkRope",set:"Broken Keel",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"HP",value:38},{stat:"ATK%",value:12.5},{stat:"CRIT DMG",value:10.3},{stat:"Effect RES",value:4.3}],id:"bc344db6-5740-44ed-9858-46f15000d4a8",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,HP:38,"ATK%":.125,"CRIT DMG":.10300000000000001,"Effect RES":.043,"HP%":0,"DEF%":0,"SPD%":0,ATK:0,DEF:0,SPD:0,"CRIT Rate":0,"Effect Hit Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:10.3,ss:6.449999999999999,ds:18.75},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"ATK%",value:17.210700223222197},substats:[{stat:"DEF",value:40},{stat:"CRIT Rate",value:5.5},{stat:"Effect Hit Rate",value:3.8},{stat:"Effect RES",value:3.4}],id:"802a690c-b6be-4c91-8551-c79c4fe019d1",augmentedStats:{mainStat:"ATK%",mainValue:.17210700223222197,DEF:40,"CRIT Rate":.055,"Effect Hit Rate":.038,"Effect RES":.034,"HP%":0,"ATK%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:11,ss:5.1000000000000005,ds:5.699999999999999},{part:"LinkRope",set:"Rutilant Arena",enhance:9,grade:3,main:{stat:"HP%",value:17.210700223222197},substats:[{stat:"ATK%",value:7.7},{stat:"CRIT Rate",value:5.8},{stat:"CRIT DMG",value:6.4},{stat:"Break Effect",value:11}],id:"13ec2e5b-6f28-40b2-b85a-72a862499671",augmentedStats:{mainStat:"HP%",mainValue:.17210700223222197,"ATK%":.077,"CRIT Rate":.057999999999999996,"CRIT DMG":.064,"Break Effect":.11,"HP%":0,"DEF%":0,"SPD%":0,HP:0,ATK:0,DEF:0,SPD:0,"Effect Hit Rate":0,"Effect RES":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:18,ss:0,ds:22.55},{part:"LinkRope",set:"Inert Salsotto",enhance:9,grade:3,main:{stat:"Energy Regeneration Rate",value:7.7450001612309},substats:[{stat:"DEF",value:16},{stat:"DEF%",value:10.2},{stat:"Effect Hit Rate",value:8.6},{stat:"Effect RES",value:7.7}],id:"6a81c65c-861d-4568-8373-d0a4ffe52989",augmentedStats:{mainStat:"Energy Regeneration Rate",mainValue:.077450001612309,DEF:16,"DEF%":.102,"Effect Hit Rate":.086,"Effect RES":.077,"HP%":0,"ATK%":0,"SPD%":0,HP:0,ATK:0,SPD:0,"CRIT DMG":0,"CRIT Rate":0,"Break Effect":0,"Energy Regeneration Rate":0,"Outgoing Healing Boost":0,"Physical DMG Boost":0,"Fire DMG Boost":0,"Ice DMG Boost":0,"Lightning DMG Boost":0,"Wind DMG Boost":0,"Quantum DMG Boost":0,"Imaginary DMG Boost":0},cs:0,ss:23.79,ds:12.899999999999999}],zf=[{id:"1212",form:{characterId:"1212",characterLevel:80,characterEidolon:1,lightCone:"23014",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Ice DMG Boost"],mainLinkRope:["ATK%"],ornamentSets:["Rutilant Arena"],relicSets:[["4 Piece","Hunter of Glacial Forest"]],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minCv:0,maxCv:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:3.12,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,mainStatUpscaleLevel:12,keepCurrentRelics:!1,enhance:15,grade:5,mainHead:[],mainHands:[],setConditionals:{"Passerby of Wandering Cloud":[null,!0],"Musketeer of Wild Wheat":[null,!0],"Knight of Purity Palace":[null,!0],"Hunter of Glacial Forest":[null,!0],"Champion of Streetwise Boxing":[null,5],"Guard of Wuthering Snow":[null,!0],"Firesmith of Lava-Forging":[null,!0],"Genius of Brilliant Stars":[null,!0],"Band of Sizzling Thunder":[null,!0],"Eagle of Twilight Line":[null,!0],"Thief of Shooting Meteor":[null,!0],"Wastelander of Banditry Desert":[null,0],"Longevous Disciple":[null,2],"Messenger Traversing Hackerspace":[null,!0],"The Ashblazing Grand Duke":[null,0],"Prisoner in Deep Confinement":[null,0],"Space Sealing Station":[null,!0],"Fleet of the Ageless":[null,!0],"Pan-Cosmic Commercial Enterprise":[null,!0],"Belobog of the Architects":[null,!0],"Celestial Differentiator":[null,!1],"Inert Salsotto":[null,!0],"Talia: Kingdom of Banditry":[null,!0],"Sprightly Vonwacq":[null,!0],"Rutilant Arena":[null,!0],"Broken Keel":[null,!0],"Firmament Frontline: Glamoth":[null,!0],"Penacony, Land of the Dreams":[null,!0]},characterConditionals:{talentEnhancedState:!0,talentHpDrainAtkBuff:1.8,e1CdBuff:!0,e2SkillDmgBuff:!0},lightConeConditionals:{eclipseStacks:3,maxStackDefPen:!0},enemyLevel:95,enemyCount:1,enemyResistance:.2,enemyMaxToughness:360,enemyElementalWeak:!0,enemyWeaknessBroken:!1,statDisplay:"base",weights:{"ATK%":1,"DEF%":1,"HP%":1,SPD:1,"CRIT Rate":1,"CRIT DMG":1,"Effect Hit Rate":1,"Effect RES":1,"Break Effect":1,topPercent:100,ATK:1,DEF:1,HP:1},minWeight:0,maxWeight:2147483647,minBasic:0,maxBasic:2147483647,minSkill:0,maxSkill:2147483647,minUlt:0,maxUlt:2147483647,minFua:0,maxFua:2147483647,minDot:0,maxDot:2147483647,buffSpd:0,buffSpdP:0,buffBe:0,buffDmgBoost:0,buffDefShred:0,buffResPen:0},equipped:{Head:"cd85c14c-a662-4413-a149-a379e6d538d3",Hands:"798657c8-5c5c-4b44-9c5f-f5f094414289",Body:"b3376a19-62f9-489e-80e6-8f98335af158",Feet:"92c53d06-80d0-43a8-b896-2feeda419674",PlanarSphere:"80abbd56-b1a0-4587-a349-754c33627217",LinkRope:"c521dc03-6c6e-45ef-9933-811367312441"},rank:0},{id:"1005",form:{characterId:"1005",characterLevel:80,characterEidolon:0,lightCone:"21022",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["ATK%"],mainFeet:["SPD"],mainPlanarSphere:["Lightning DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Band of Sizzling Thunder"]],ornamentSets:["Space Sealing Station"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"354bde06-a10b-4449-8365-16f0dcac7b88",Hands:"81a06240-1434-4b48-b7c4-cedbca15ff50",Body:"dd7d21eb-5a85-466e-a7a3-98fc6f63e546",Feet:"53a00fa5-22a9-40bc-948b-8469d6e248ec",PlanarSphere:"15d53aff-64cc-421f-837f-5ccfd55240b6",LinkRope:"c46c97d3-0cc6-4ac9-8b0d-2d5ad0f0a0e7"},rank:1},{id:"1102",form:{characterId:"1102",characterLevel:80,characterEidolon:0,lightCone:"24001",lightConeLevel:80,lightConeSuperimposition:5,mainBody:["CRIT DMG","CRIT Rate"],mainFeet:["ATK%"],mainPlanarSphere:["Quantum DMG Boost"],mainLinkRope:["ATK%"],relicSets:[["4 Piece","Genius of Brilliant Stars"]],ornamentSets:["Rutilant Arena"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"eda5ede8-dfaa-4fa9-b2c2-17011ed0abe6",Hands:"d0b2b781-33dc-4029-b875-81ecbc659466",Body:"4b8dafeb-6f5a-410c-bcbc-4caaef116af2",Feet:"9d68a932-b623-4ac7-bd0a-7c54779b64fb",PlanarSphere:"4806d951-5a01-48bb-876f-5368059a674d",LinkRope:"c32194b9-dddc-47de-853e-17ac8b8f61a4"},rank:2},{id:"1217",form:{characterId:"1217",characterLevel:80,characterEidolon:0,lightCone:"21000",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Passerby of Wandering Cloud"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:130,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"0bd7404f-3420-4bf5-9e45-f79343728685",Hands:"9b3f7f9b-b394-4c87-af67-0f4f7e41a6a8",Body:"725e6ee5-9465-45a2-8172-ed69241c1e54",Feet:"f8d42acd-c848-484a-9eee-d03a7b88f030",PlanarSphere:"f89266f4-241e-43bc-b04a-a864eea60e49",LinkRope:"e1650ead-9ec8-4e2a-9ab9-c4199e1b609c"},rank:3},{id:"1205",form:{characterId:"1205",characterLevel:80,characterEidolon:0,lightCone:"21012",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT Rate","CRIT DMG"],mainFeet:["SPD"],mainPlanarSphere:["Wind DMG Boost","HP%"],mainLinkRope:["HP%"],relicSets:[["4 Piece","Longevous Disciple"]],ornamentSets:["Inert Salsotto"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"e898e418-bc4e-404d-be3f-2477dec9839a",Hands:"71b088e8-e254-4219-96d5-f56cde1702d3",Body:"7cdd90c6-73fc-4a5f-9cea-6458d5e6f456",Feet:"726e7b1f-f630-4182-ac11-1e8523a33fc1",PlanarSphere:"9714ef68-45e7-4f62-81f2-b437649d3a49",LinkRope:"426a1d2d-c361-42d0-a7d6-5001755c220d"},rank:4},{id:"1202",form:{characterId:"1202",characterLevel:80,characterEidolon:6,lightCone:"21032",lightConeLevel:80,lightConeSuperimposition:4,mainBody:["HP%","ATK%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","ATK%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["4 Piece","Musketeer of Wild Wheat"]],ornamentSets:["Fleet of the Ageless"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:140,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Hands:"67999399-0a5f-4a94-9267-32c42a7fbbe5",Body:"cd8b362d-24e4-4427-b09e-2666c1fb97b4",Feet:"ac206198-c5b1-4be7-8dda-0d7b85e1aabf",PlanarSphere:"2576e256-b473-481b-9e69-5e5ce2641f1a",LinkRope:"9c66993a-07b4-4994-8bb5-86507e6ba49b"},rank:5},{id:"1101",form:{characterId:"1101",characterLevel:80,characterEidolon:1,lightCone:"23003",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["CRIT DMG","HP%"],mainFeet:["SPD"],mainPlanarSphere:["HP%","DEF%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[["2 Piece","Eagle of Twilight Line"]],ornamentSets:["Fleet of the Ageless","Broken Keel"],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:134,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{Head:"8de51c73-36b5-40ea-91a2-e566d97da2a9",Feet:"dd1bb72d-80f3-432c-b8d9-0b62c7790b9a",PlanarSphere:"86816eed-af3c-441e-9379-22aca07bc15f",LinkRope:"5788b45d-6d75-4189-9689-872fd84280f7"},rank:6},{id:"1105",form:{characterId:"1105",characterLevel:80,characterEidolon:6,lightCone:"21007",lightConeLevel:80,lightConeSuperimposition:1,mainBody:["Outgoing Healing Boost"],mainFeet:["SPD"],mainPlanarSphere:["HP%"],mainLinkRope:["Energy Regeneration Rate"],relicSets:[],ornamentSets:[],minAtk:0,maxAtk:2147483647,minHp:0,maxHp:2147483647,minDef:0,maxDef:2147483647,minSpd:0,maxSpd:2147483647,minCr:0,maxCr:2147483647,minCd:0,maxCd:2147483647,minEhr:0,maxEhr:2147483647,minRes:0,maxRes:2147483647,minBe:0,maxBe:2147483647,minDmg:0,maxDmg:2147483647,minMcd:0,maxMcd:2147483647,minEhp:0,maxEhp:2147483647,buffAtk:0,buffAtkP:0,buffCr:0,buffCd:0,rankFilter:!0,predictMaxedMainStat:!0,keepCurrentRelics:!1,enhance:9,grade:5,mainHead:[],mainHands:[]},equipped:{},rank:7}],Qf={relics:Jf,characters:zf},{Text:er}=be,Fl=Object.values(ws.characters),$f=Object.values(ws.lightCones),ol=Object.entries(y);for(const e of ol)e[2]=e[1],e[1]=sc(e[1]);const qf=ws.relics.reduce((e,a)=>(e[a.id]=a,e),{});class xl{constructor(a){this.config=a}parse(a){const i={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};if(a.source!=this.config.sourceString)throw new Error(`Incorrect source string, was '${a.source}', expected '${this.config.sourceString}'`);if(a.version!=this.config.latestOutputVersion&&Y.warning(s.jsxs(er,{children:["Your scanner version is out of date and may result in incorrect imports! Please update to the latest version from Github:"," ",s.jsx("a",{target:"_blank",style:{color:"#3f8eff"},href:this.config.releases,rel:"noreferrer",children:this.config.releases})]}),15),a.version!=3&&a.version!=4)throw new Error(`Incorrect json version, was '${a.version}', expected '${this.config.latestOutputVersion}'`);const n=a.build||"v0.0.0";ur.lt(n,this.config.latestBuildVersion)&&(console.log(`Current: ${n}, Latest: ${this.config.latestBuildVersion}`),Y.warning(s.jsxs(er,{children:[`Your scanner version ${n} is out of date and may result in incorrect imports! Please update to the latest version from Github:`," ",s.jsx("a",{target:"_blank",style:{color:"#3f8eff"},href:this.config.releases,rel:"noreferrer",children:this.config.releases})]}),15));let o,r;return a.version==3&&(r=tg,o=eg),a.version==4&&(r=sg,o=ag),i.metadata.trailblazer=a.metadata.trailblazer||"Stelle",i.metadata.current_trailblazer_path=a.metadata.current_trailblazer_path||"Stelle",a.relics&&(i.relics=a.relics.map(c=>r(c,i.metadata.trailblazer,i.metadata.current_trailblazer_path,this.config)).map(c=>ds.augment(c)).filter(c=>(c||console.warn("Could not parse relic"),c))),a.characters&&(i.characters=a.characters.map(c=>o(c,a.light_cones,i.metadata.trailblazer,i.metadata.current_trailblazer_path)).filter(c=>(c||console.warn("Could not parse character"),c))),i}}function eg(e,a,i,n){var h,b;let l;a&&(e.key.startsWith("Trailblazer")?l=a.find(R=>R.location===e.key)||a.find(R=>R.location.startsWith("Trailblazer")):l=a.find(R=>R.location===e.key));let o;e.key.startsWith("Trailblazer")?o=ic(e.key,i,n):o=(h=Fl.find(R=>R.name===e.key))==null?void 0:h.id;const r=l==null?void 0:l.key,c=(b=$f.find(R=>R.name===r))==null?void 0:b.id;return o?{characterId:o,characterLevel:e.level||80,characterEidolon:e.eidolon||0,lightCone:c||null,lightConeLevel:(l==null?void 0:l.level)||80,lightConeSuperimposition:(l==null?void 0:l.superimposition)||1}:null}function tg(e,a,i,n){var m;const o=_n.findBestMatch(e.slot,Object.values(G)).bestMatch.target,r=_n.findBestMatch(sc(e.set),ol.map(f=>f[1])),c=ol[r.bestMatchIndex][2],h=Math.min(Math.max(parseInt(e.level),0),15),b=Math.min(Math.max(parseInt(e.rarity),2),5),{main:R,substats:S}=ac(e,o,b,h);let u;if(e.location!==""){const f=(m=Fl.find(p=>p.name==e.location))==null?void 0:m.id;f?u=f:e.location.startsWith("Trailblazer")&&(u=ic(e.location,a,i))}return{part:o,set:c,enhance:h,grade:b,main:R,substats:S,equippedBy:u,verified:n.speedVerified}}function ag(e,a,i,n){let l;a&&(l=a.find(h=>h.location===e.id));const o=e.id,c=l==null?void 0:l.id;return o?{characterId:o,characterLevel:e.level||80,characterEidolon:e.eidolon||0,lightCone:c||null,lightConeLevel:(l==null?void 0:l.level)||80,lightConeSuperimposition:(l==null?void 0:l.superimposition)||1}:null}function sg(e,a,i,n){var m;const o=_n.findBestMatch(e.slot,Object.values(G)).bestMatch.target,r=e.set_id,c=qf[r].name,h=Math.min(Math.max(parseInt(e.level),0),15),b=Math.min(Math.max(parseInt(e.rarity),2),5),{main:R,substats:S}=ac(e,o,b,h);let u;if(e.location!==""){const f=(m=Fl.find(p=>p.id==e.location))==null?void 0:m.id;f&&(u=f)}return{part:o,set:c,enhance:h,grade:b,main:R,substats:S,equippedBy:u,verified:n.speedVerified}}function ac(e,a,i,n){let l;a==="Hands"?l=d.Stats.ATK:a==="Head"?l=d.Stats.HP:l=ng(e.mainstat);const o=og(a),r=`${i}${o}`,c=Object.values(Z.getMetadata().relics.relicMainAffixes[r].affixes),h=lg(l),b=c.find(u=>u.property===h),R=b.base+b.step*n,S=e.substats.map(u=>({stat:ig(u.key),value:u.value}));return{main:{stat:l,value:C.truncate10000ths(R*(C.isFlat(l)?1:100))},substats:S}}function ig(e){switch(e){case"ATK":return d.Stats.ATK;case"HP":return d.Stats.HP;case"DEF":return d.Stats.DEF;case"ATK_":return d.Stats.ATK_P;case"HP_":return d.Stats.HP_P;case"DEF_":return d.Stats.DEF_P;case"SPD":return d.Stats.SPD;case"CRIT Rate_":return d.Stats.CR;case"CRIT DMG_":return d.Stats.CD;case"Effect Hit Rate_":return d.Stats.EHR;case"Effect RES_":return d.Stats.RES;case"Break Effect_":return d.Stats.BE;default:return null}}function ng(e){switch(e){case"ATK":return d.Stats.ATK_P;case"HP":return d.Stats.HP_P;case"DEF":return d.Stats.DEF_P;case"SPD":return d.Stats.SPD;case"CRIT Rate":return d.Stats.CR;case"CRIT DMG":return d.Stats.CD;case"Effect Hit Rate":return d.Stats.EHR;case"Break Effect":return d.Stats.BE;case"Energy Regeneration Rate":return d.Stats.ERR;case"Outgoing Healing Boost":return d.Stats.OHB;case"Physical DMG Boost":return d.Stats.Physical_DMG;case"Fire DMG Boost":return d.Stats.Fire_DMG;case"Ice DMG Boost":return d.Stats.Ice_DMG;case"Lightning DMG Boost":return d.Stats.Lightning_DMG;case"Wind DMG Boost":return d.Stats.Wind_DMG;case"Quantum DMG Boost":return d.Stats.Quantum_DMG;case"Imaginary DMG Boost":return d.Stats.Imaginary_DMG;default:return null}}function lg(e){switch(e){case d.Stats.HP_P:return"HPAddedRatio";case d.Stats.ATK_P:return"AttackAddedRatio";case d.Stats.DEF_P:return"DefenceAddedRatio";case d.Stats.HP:return"HPDelta";case d.Stats.ATK:return"AttackDelta";case d.Stats.DEF:return"DefenceDelta";case d.Stats.SPD:return"SpeedDelta";case d.Stats.CD:return"CriticalDamageBase";case d.Stats.CR:return"CriticalChanceBase";case d.Stats.EHR:return"StatusProbabilityBase";case d.Stats.RES:return"StatusResistanceBase";case d.Stats.BE:return"BreakDamageAddedRatioBase";case d.Stats.ERR:return"SPRatioBase";case d.Stats.OHB:return"HealRatioBase";case d.Stats.Physical_DMG:return"PhysicalAddedRatio";case d.Stats.Fire_DMG:return"FireAddedRatio";case d.Stats.Ice_DMG:return"IceAddedRatio";case d.Stats.Lightning_DMG:return"ThunderAddedRatio";case d.Stats.Wind_DMG:return"WindAddedRatio";case d.Stats.Quantum_DMG:return"QuantumAddedRatio";case d.Stats.Imaginary_DMG:return"ImaginaryAddedRatio";default:return null}}function og(e){switch(e){case d.Parts.Head:return 1;case d.Parts.Hands:return 2;case d.Parts.Body:return 3;case d.Parts.Feet:return 4;case d.Parts.PlanarSphere:return 5;case d.Parts.LinkRope:return 6;default:return null}}function sc(e){return e.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")}function ic(e,a,i){return e==="TrailblazerDestruction"?a==="Stelle"?"8002":"8001":e==="TrailblazerPreservation"?a==="Stelle"?"8004":"8003":e==="TrailblazerHarmony"?a==="Stelle"?"8006":"8005":i==="Destruction"?a==="Stelle"?"8002":"8001":i==="Preservation"?a==="Stelle"?"8004":"8003":i==="Harmony"?a==="Stelle"?"8006":"8005":"8002"}const un={name:"HSR-Scanner",author:"Kel-z",homepage:"https://github.com/kel-z/HSR-Scanner",releases:"https://github.com/kel-z/HSR-Scanner/releases/latest",defaultFileName:"HSRScanData.json",sourceString:"HSR-Scanner",latestBuildVersion:"v1.2.0",latestOutputVersion:4,speedVerified:!1},Ll={name:"Reliquary Archiver",author:"IceDynamix",homepage:"https://github.com/IceDynamix/reliquary-archiver",releases:"https://github.com/IceDynamix/reliquary-archiver/releases/latest",defaultFileName:"archiver_output.json",sourceString:"reliquary_archiver",latestBuildVersion:"v0.1.11",latestOutputVersion:4,speedVerified:!0},nc={name:"Yas Scanner",author:"wormtql, YCR160",homepage:"https://github.com/wormtql/yas",releases:"",defaultFileName:"hsr.json",sourceString:"yas-scanner",latestBuildVersion:"v0.0.0",latestOutputVersion:3},rg=new xl(un),cg=new xl(Ll),dg=new xl(nc),lc={[un.sourceString]:rg,[Ll.sourceString]:cg,[nc.sourceString]:dg},ug=Object.keys(lc);function oc(){return s.jsx(s.Fragment,{children:s.jsxs("li",{children:[s.jsx("b",{children:"(Recommended) IceDynamix Reliquary Archiver"})," (",s.jsx(ya,{text:"Github",url:Ll.releases}),")",s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx("b",{style:{color:"#82e192"},children:"Status: Updated for patch 2.5 — New download required"})}),s.jsx("li",{children:"Accurate speed decimals, instant scan"}),s.jsx("li",{children:"Imports full inventory and character roster"})]})]})})}const{useToken:mg}=Et,{Text:hg}=be;function rc(){const{token:e}=mg();console.log("======================================================================= RENDER GettingStartedTab");function a(){Z.setStore(JSON.parse(JSON.stringify(Qf))),Y.success("Successfully loaded data")}const i={border:`2px solid ${e.colorBgContainer}`},n={marginTop:40},l={textDecoration:"underline"};return s.jsx("div",{children:s.jsx(hg,{children:s.jsxs(g,{vertical:!0,gap:5,style:{marginLeft:20,marginBottom:50,width:1e3},children:[s.jsx("h1",{children:s.jsx("u",{children:"Try it out!"})}),s.jsx("h3",{children:"Option 1: Load a sample save"}),s.jsx("p",{children:"If you would like to give the optimizer a try before doing any relic importing, use this to load a sample save file and check out the features."}),s.jsx(Oa,{title:"Confirm",description:"Load a sample save file?",onConfirm:a,placement:"bottom",okText:"Yes",cancelText:"Cancel",children:s.jsx(j,{type:"primary",icon:s.jsx(ei,{}),style:{width:200},children:"Try it out!"})}),s.jsx("h3",{children:"Option 2: One-click-optimize from the Relic Scorer"}),s.jsx("img",{src:U.getGuideImage("quickstart"),style:i}),s.jsxs("p",{children:["From the ",s.jsx("span",{onClick:()=>window.store.getState().setActiveKey(he.RELIC_SCORER),children:s.jsx(ya,{text:"Relic scorer"})})," tab, clicking on the Optimize Character Stats button will automatically import and run the optimizer on your selected character. This option will only be able to use the relics from your profile's showcase characters, so it is still recommended to use a scanner to import your full inventory of relics, but this allows for a quick calculation of character stats in combat."]}),s.jsx(It,{style:n}),s.jsx("h1",{children:s.jsx("u",{children:"How do I use the optimizer?"})}),s.jsx("h2",{children:"Step 1: Import relics"}),s.jsx("p",{children:"The optimizer needs a database of relics to run against. Install and run one of the relic scanner options:"}),s.jsxs("ul",{children:[s.jsx(oc,{}),s.jsxs("li",{children:["Kel-Z HSR Scanner (",s.jsx(ya,{text:"Github",url:un.releases}),")",s.jsxs("ul",{children:[s.jsx("li",{children:"OCR scanner"}),s.jsx("li",{children:"Supports all 16:9 screen resolutions"})]})]}),s.jsxs("li",{children:["Relic Scorer Import (",s.jsx("span",{onClick:()=>window.store.getState().setActiveKey(he.RELIC_SCORER),children:s.jsx(ya,{text:"Relic scorer"})}),")",s.jsxs("ul",{children:[s.jsx("li",{children:"No download needed, but limited to relics from the 8 characters on profile showcase"}),s.jsx("li",{children:"Imports accurate speed decimals"})]})]})]}),s.jsx("h2",{children:"Step 2: Select a character"}),s.jsx("img",{src:U.getGuideImage("characterOptions"),style:i}),s.jsx("p",{children:"Select a character and light cone from the Character Options menu. Next, use the Recommended Presets button to select a preset speed target to optimize for. For most characters, the 133 speed breakpoint is recommended, and this will set a minimum speed for your optimization resukts. This preset will also automatically fill out the ideal main stats and relic set conditionals for the optimizer."}),s.jsx("p",{children:"Once a character is chosen, their ability passives and light cone passives can be customized. These selectors will affect the final combat stats and damage calculations for the character. For the first run these can be left as default."}),s.jsx("p",{children:"Most of the Enemy Options and Optimizer Options can be left as default to get started. One important option is the Character Priority filter setting, which defines which relics the character may steal from other characters. Characters can only take relics from lower priority characters, so for the first run set this priority to #1, but later on your characters list should be ordered by which characters have the highest priority for taking gear."}),s.jsx("h2",{children:"Step 3: Apply filters"}),s.jsx("img",{src:U.getGuideImage("relicFilters"),style:i}),s.jsx("h4",{style:l,children:"Main Stats"}),s.jsx("p",{children:"The main stat filters limits optimizer to using preferred body, feet, planar sphere, and link rope main stats. Multiple options can be chosen for each slot. The Recommended Presets button will fill these out with each character's ideal stats, but these can be customized for other builds."}),s.jsx("h4",{style:l,children:"Set filters"}),s.jsx("img",{src:U.getGuideImage("sets"),style:i}),s.jsx("p",{children:"The relic set filter allows for a combination of 2-piece sets, 4-piece sets, or can be left empty. When multiple options are chosen, the search results will only show builds with least one of the selected filters active. Conditional set effects can be customized from the menu."}),s.jsx("h4",{style:l,children:"Stat min / max filters"}),s.jsx("p",{children:"This section defines the minimum / maximum stats to filter the results by. Left side is minimum and right side is maximum, both inclusive. In this above example, only results with ≥ 134 speed AND ≥ 35% Crit Rate are shown. Stat abbreviations are ATK / HP / DEF / SPD / Crit Rate / Crit Damage / Effect Hit Rate / Effect RES / Break Effect."}),s.jsx("p",{children:"Important note: relics typed in manually or imported with the OCR tool may be affected by hidden decimal points for speed that aren't shown by ingame stats. For example, 5 star relics can have speed substats of values between 2.0 - 2.6, which would all show ingame as 2. This means that speed results should be treated as minimum values, as the real value may be slightly higher ingame. This also means that maximum filters on speed should be used carefully since they may be too restrictive."}),s.jsx("h2",{children:"Step 4: Select teammates"}),s.jsx("img",{src:U.getGuideImage("teammateOptions"),style:i}),s.jsx("p",{children:"In this menu, select the 3 teammates that you're using with the main character. These teammates will apply their buffs and passive effects to the calculations. The relic/ornament sets and conditionals can be customized to fit the combat scenario."}),s.jsx("h2",{children:"Step 5: Save results"}),s.jsx("img",{src:U.getGuideImage("resultsGrid"),style:i}),s.jsx("h4",{style:l,children:"Result rows"}),s.jsx("p",{children:"This section displays all the results found that match the filters. Every row represents one build that was found. The pinned top row shows the character's currently equipped build. Clicking on each row will show the relics used in the selected build. There may be multiple pages of results, so clicking a column header to sort the results by a stat or rating can make it easier to find desired builds."}),s.jsx("h4",{style:l,children:"Permutations"}),s.jsx("p",{children:"This section shows the number of permutations the optimizer has to search and details on the number of matching relics per slot. If any of the numbers are zero, that indicates that no relics were found that would satisfy the constraints."}),s.jsxs("ul",{children:[s.jsx("li",{children:"Perms - Number of permutations that need to be searched. Stricter filters will reduce permutations and search time"}),s.jsx("li",{children:"Searched - Number of permutations completed in an in-progress search"}),s.jsx("li",{children:"Results - Number of displayed results that satisfy the stat filters"})]}),s.jsx("h4",{style:l,children:"Selected build"}),s.jsx("p",{children:"This section displays the selected build from the grid, and which relics are used & who they are currently equipped on. Pressing the 'Equip' button will assign the relics to the selected character in the optimizer, though the ingame character build is not affected."}),s.jsx(It,{style:n}),s.jsx("h2",{children:"Character tab"}),s.jsx("img",{src:U.getGuideImage("characterTab"),style:i}),s.jsx("h4",{style:l,children:"Character priority"}),s.jsx("p",{children:"This section displays all the optimized characters and their priority order. Characters are added to this list from the Optimizer tab, when their filters are applied and 'Start' is pressed."}),s.jsx("p",{children:"The ranking is important when used with the 'Priority filter' on the Optimizer tab. When enabled, characters may only take relics from lower priority characters. For example, the priority #2 character may take relics from priority #3, but cannot take from priority #2. Priority #1 can take from any other character. Rows can be dragged to re-order characters."}),s.jsx("p",{children:"The colored highlight on the right of the grid shows the equipped item status of the character. In the above example, Jingliu's green indicator means she has all 6 relics equipped, Bronya's yellow indicator means she is missing at least one relic from her build, and Natasha's red indicator means she has no relics equipped."}),s.jsx("h4",{style:l,children:"Stats summary"}),s.jsx("p",{children:"This section displays the character's stats with their base stats / light cone / maxed traces / and relics equipped in the optimizer. Note that similar to the optimizer results, the actual values ingame may be slightly higher than displayed here due to hidden decimal values on relic stats."}),s.jsx(It,{style:n}),s.jsx("h2",{children:"Relics tab"}),s.jsx("img",{src:U.getGuideImage("relicsGrid"),style:i}),s.jsx("h4",{style:l,children:"Relics table"}),s.jsx("p",{children:"This section displays all the relics that were added / imported into the optimizer. Relics should be updated occasionally with the importer to add in newly acquired relics. Clicking columns will sort the relics table."})]})})})}rc.propTypes={active:z.bool};const bg=()=>(e,a)=>{console.log(`++++++++++ Publishing [${e}] with data: ${a}`),document.dispatchEvent(new CustomEvent(e,{detail:a}))},{Text:$a}=be,Fi=yt(It)`
    margin-top: 10px !important;
    margin-bottom: 10px !important;
`,Sg=yt(ba)`
    width: 62px
`,sa=yt.p`
`;function Rg(){const e=bg(),[a]=P.useForm();window.scoringAlgorithmForm=a;const i=window.store(B=>B.scoringAlgorithmFocusCharacter),n=window.store(B=>B.setScoringAlgorithmFocusCharacter),l=window.store(B=>B.charactersById),[o,r]=V.useState(!1);window.setIsScoringModalOpen=r;function c(B){n(B)}function h(B){for(const F of Object.entries(B.stats))F[1]==0&&(B.stats[F[0]]=null);return B}V.useEffect(()=>{const B=i;if(B){let F=C.clone(Z.getScoringMetadata(B));F=h(F),a.setFieldsValue(F),console.log("Scoring modal opening set as:",F)}},[i,o,a]);const b=225,R=5,S=360;function u(B){return s.jsxs(g,{justify:"flex-start",style:{width:b},align:"center",gap:5,children:[s.jsx(P.Item,{size:"default",name:["stats",B.stat],children:s.jsx(Sg,{controls:!1,size:"small"})}),s.jsxs(g,{children:[s.jsx("img",{src:U.getStatIcon(B.stat),style:{width:25,height:25,marginRight:3}}),s.jsx($a,{style:{lineHeight:1.8},children:d.StatsToReadable[B.stat]})]})]})}u.propTypes={stat:z.string};function m(){console.log("onModalOk OK");const B=a.getFieldsValue();f(B),r(!1),e("refreshRelicsScore","null")}const f=B=>{if(!i)return;console.log("Form finished",B),B.stats[d.Stats.ATK_P]=B.stats[d.Stats.ATK],B.stats[d.Stats.DEF_P]=B.stats[d.Stats.DEF],B.stats[d.Stats.HP_P]=B.stats[d.Stats.HP];const F=C.clone(Z.getMetadata().characters[i].scoringMetadata),L=Z.getScoringMetadata(i);F.simulation=L.simulation;function M(H){return H??0}B.modified=!1;for(const H of Object.values(d.Stats))M(B.stats[H])!=M(F.stats[H])&&(B.modified=!0);Z.updateCharacterScoreOverrides(i,B)},p=()=>{if(!i)return;const B=Z.getMetadata().characters[i].scoringMetadata,F=h(B);Z.updateCharacterScoreOverrides(i,B),a.setFieldsValue(F)};function I(){const B=()=>{console.log("Reset the scoring algorithm for all characters");for(const M of Object.keys(l)){const H=Z.getMetadata().characters[M].scoringMetadata;Z.updateCharacterScoreOverrides(M,H)}const F=Z.getMetadata().characters[i].scoringMetadata,L=h(F);a.setFieldsValue(L)};return s.jsx(Oa,{title:"Reset the scoring algorithm for all characters?",description:"You will lose any custom scoring settings you have set on any character.",onConfirm:B,okText:"Yes",cancelText:"No",children:s.jsx(j,{danger:!0,children:"Reset all characters"})})}const E=()=>{r(!1)},T=i?U.getCharacterPreviewById(i):U.getBlank(),D=s.jsxs($a,{children:[s.jsx(sa,{style:{margin:"7px 0px"},children:"Substat weights are graded on a 0.0 to 1.0 scale in increments of 0.25, based on how valuable each stat is to the character. Weights are evaluated based on the following general ruleset:"}),s.jsx(g,{justify:"space-between",style:{marginRight:30},children:s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx("u",{children:"Speed weight:"})}),s.jsx("li",{children:"— SPD is given a value of 1.0 for every character. This is due to the importance of speed tuning in team compositions, and the optimizer should be used to maximize each character's stats at a certain speed breakpoint."}),s.jsx("br",{}),s.jsx("li",{children:s.jsx("u",{children:"CRIT Rate / CRIT Damage weight:"})}),s.jsx("li",{children:"— Crit DPS in general are given the weights 0.75 ATK | 1.0 SPD | 1.0 CR | 1.0 CD, unless they have any other special scaling."}),s.jsx("li",{children:"— ATK is weighted slightly than CR and CD rolls because in general crit substats will provide a higher boost to damage."}),s.jsx("br",{}),s.jsx("li",{children:s.jsx("u",{children:"HP / DEF weight:"})}),s.jsx("li",{children:"— Defensive supports are given 2.0 weight to distribute between HP and DEF."}),s.jsx("li",{children:"— For each additional (0.75 | 1.0) stat weight that they scale with, deduct 0.5 down to a minimum of 1.0."}),s.jsx("li",{children:"— If 2.0 still remains and one of the stats is worth more than the other (Huohuo and HP% for example), assign a 1.0 / 0.75 split."}),s.jsx("li",{children:"— Offensive supports follow the same ruleset, except they start with 1.5 weight to distribute between HP and DEF."}),s.jsx("br",{}),s.jsx("li",{children:s.jsx("u",{children:"RES weight:"})}),s.jsx("li",{children:"— Support characters are granted 0.5 RES weight by default, with an additional 0.25 weight if they have synergy with RES or have critical team-saving abilities."})]})}),s.jsx(sa,{style:{margin:"7px 0px"},children:"These weights are the defaults, but each player may have different preferences. Feel free to adjust the weights to fit a certain playstyle. DPS characters should rely on the optimizer and Combat Score to evaluate their performance in combat, since substats scores don't take into account external factors like team buffs or passive effects."})]}),W=s.jsxs($a,{children:[s.jsxs(sa,{style:{margin:"7px 0px"},children:["Relic scores are calculated by"," ",s.jsxs("code",{children:["Score = substatScore / idealScore * ",Ia]}),". This allows for characters with fewer desired stats to achieve scores comparable to characters with many desired stats."]}),s.jsx(sa,{style:{margin:"7px 0px"},children:"The idealScore is the substatScore for a theoretical perfect relic. By adjusting the score to the maximum possible relic, this means that when a weighted substat is occupied by the main stat, the score value of the remaining substat weights increases."}),s.jsxs(sa,{style:{margin:"7px 0px"},children:["The substatScore is calculated by"," ",s.jsx("code",{children:"SubstatScore = weight * normalization * value"}),". The weight of each stat is defined above, on a scale of 0 to 1. The normalization of each stat is calculated based on the ratio of their main stat values to Crit DMG with max value"," ",s.jsx("code",{children:"64.8"}),":"]}),s.jsxs(g,{justify:"space-between",style:{marginRight:120},children:[s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx("code",{children:"CD BE = 64.8 / 64.8 == 1.0"})}),s.jsx("li",{children:s.jsx("code",{children:"DEF% = 64.8 / 54.0 == 1.2"})}),s.jsx("li",{children:s.jsx("code",{children:"HP% ATK% EHR RES = 64.8 / 43.2 == 1.5"})}),s.jsx("li",{children:s.jsx("code",{children:"CR = 64.8 / 32.4 == 2"})})]}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx("code",{children:"SPD = 64.8 / 25.032 == 2.59"})}),s.jsx("li",{children:s.jsx("code",{children:"OHB = 64.8 / 34.561 == 1.87"})}),s.jsx("li",{children:s.jsx("code",{children:"ERR = 64.8 / 19.439 == 3.33"})}),s.jsx("li",{children:s.jsx("code",{children:"ELEMENTAL DMG = 64.8 / 38.88 == 1.67"})})]})]}),s.jsxs(sa,{style:{margin:"7px 0px"},children:["Flat ATK/HP/DEF have a separate calculation:"," ","Their weights are automatically calculated based on the weights given to their respective % counterparts",s.jsx("code",{children:" % stat weight * flat stat low roll / (baseStats.HP * 2 * % stat low roll)"}),"the weight calculation for flat atk for Seele for example would be:",s.jsx("code",{children:" 0.75 * 19 / (baseStats.HP * 2 * 0.03888)"}),"."]}),s.jsxs(sa,{style:{margin:"7px 0px"},children:["The normalization is calculated based on the normalization for the respective % counterparts:",s.jsxs("li",{children:[s.jsx("code",{children:"64.8 / % main stat value * % stat high roll value / flat stat high roll value"}),". in combination with the adjusted weights, this allows for flat stats to be accurately scored when compared against their % counterparts."]})]}),s.jsxs(sa,{style:{margin:"7px 0px"},children:["A letter grade is assigned based on the number of normalized min rolls of each substat. The score for each min roll is equivalent to"," ",s.jsx("code",{children:di}),`
`,"The general scale for grade by rolls is",s.jsx("code",{children:"F=1, D=2, C=3, B=4, A=5, S=6, SS=7, SSS=8, WTF=9"})," ","with a"," ",s.jsx("code",{children:"+"})," ","assigned for an additional half roll."]}),s.jsxs(sa,{style:{margin:"7px 0px"},children:["Character scores are calculated by"," ",s.jsx("code",{children:"Score = sum(relic scores) + sum(main stat scores)"}),". Only the feet/body/sphere/rope relics have main stat scores. The main stat score for a 5 star maxed relic is"," ",s.jsx("code",{children:"64.8"})," ","if the main stat is optimal, otherwise scaled down by the stat weight. Non 5 star relic scores are also scaled down by their maximum enhance. Characters are expected to have 3 full sets, so 3 rolls worth of score is deducted for each missing set."]}),s.jsxs(sa,{style:{margin:"7px 0px"},children:["Relics with main stats (body/feet/sphere/rope) are granted extra rolls to compensate for the difficulty of obtaining optimal main stats with desired substats. These numbers were calculated by a simulation of relic rolls accounting for main stat drop rate and expected substat value. These rolls are first multiplied by the min roll value of"," ",s.jsx("code",{children:di})," ","and then, if the main stat is not optimal, scaled down by the stat weight to obtain the bonus score value."]}),s.jsxs(g,{justify:"space-between",style:{marginRight:30},children:[s.jsxs("ul",{children:[s.jsx("li",{children:s.jsxs("code",{children:["Body — HP %: ",rt[d.Parts.Body][d.Stats.HP_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Body — ATK %: ",rt[d.Parts.Body][d.Stats.ATK_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Body — DEF %: ",rt[d.Parts.Body][d.Stats.DEF_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Body — CR: ",rt[d.Parts.Body][d.Stats.CR].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Body — CD: ",rt[d.Parts.Body][d.Stats.CD].toFixed(1)]})})]}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsxs("code",{children:["Body — OHB: ",rt[d.Parts.Body][d.Stats.OHB].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Body — EHR: ",rt[d.Parts.Body][d.Stats.EHR].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Feet — HP %: ",rt[d.Parts.Feet][d.Stats.HP_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Feet — ATK %: ",rt[d.Parts.Feet][d.Stats.ATK_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Feet — DEF %: ",rt[d.Parts.Feet][d.Stats.DEF_P].toFixed(1)]})})]}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsxs("code",{children:["Feet — SPD: ",rt[d.Parts.Feet][d.Stats.SPD].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Sphere — HP %: ",rt[d.Parts.PlanarSphere][d.Stats.HP_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Sphere — ATK %: ",rt[d.Parts.PlanarSphere][d.Stats.ATK_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Sphere — DEF %: ",rt[d.Parts.PlanarSphere][d.Stats.DEF_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Sphere — Elemental DMG %: ",Ha.toFixed(1)]})})]}),s.jsxs("ul",{children:[s.jsx("li",{children:s.jsxs("code",{children:["Rope — HP %: ",rt[d.Parts.LinkRope][d.Stats.HP_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Rope — ATK %: ",rt[d.Parts.LinkRope][d.Stats.ATK_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Rope — DEF %: ",rt[d.Parts.LinkRope][d.Stats.DEF_P].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Rope — BE: ",rt[d.Parts.LinkRope][d.Stats.BE].toFixed(1)]})}),s.jsx("li",{children:s.jsxs("code",{children:["Rope — ERR: ",rt[d.Parts.LinkRope][d.Stats.ERR].toFixed(1)]})})]})]}),s.jsx(sa,{style:{margin:"7px 0px"},children:"This scoring method is still experimental and subject to change, please come by the discord server to share any feedback!"})]});return s.jsx(Bt,{open:o,width:900,destroyOnClose:!0,centered:!0,onOk:m,onCancel:E,forceRender:!0,footer:[s.jsx(j,{onClick:E,children:"Cancel"},"back"),s.jsx(j,{onClick:p,children:"Reset to default"},"default"),s.jsx(I,{},"resetAll"),s.jsx(j,{type:"primary",onClick:m,children:"Save changes"},"submit")],children:s.jsxs(P,{form:a,preserve:!1,layout:"vertical",onFinish:f,children:[s.jsx(Fi,{children:"Stat weights"}),s.jsx(g,{gap:10,vertical:!0,children:s.jsxs(g,{gap:20,justify:"space-between",children:[s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(P.Item,{size:"default",name:"characterId",children:s.jsx(ks,{value:"",selectStyle:{},onChange:c})}),s.jsx("div",{style:{height:230,width:b,overflow:"hidden"},children:s.jsx("img",{src:T,style:{width:b}})})]}),s.jsxs(g,{vertical:!0,gap:3,children:[s.jsx(u,{stat:d.Stats.ATK}),s.jsx(u,{stat:d.Stats.HP}),s.jsx(u,{stat:d.Stats.DEF}),s.jsx(u,{stat:d.Stats.SPD}),s.jsx(u,{stat:d.Stats.CR}),s.jsx(u,{stat:d.Stats.CD}),s.jsx(u,{stat:d.Stats.EHR}),s.jsx(u,{stat:d.Stats.RES}),s.jsx(u,{stat:d.Stats.BE})]}),s.jsxs(g,{vertical:!0,gap:3,children:[s.jsx(u,{stat:d.Stats.ERR}),s.jsx(u,{stat:d.Stats.OHB}),s.jsx(u,{stat:d.Stats.Physical_DMG}),s.jsx(u,{stat:d.Stats.Fire_DMG}),s.jsx(u,{stat:d.Stats.Ice_DMG}),s.jsx(u,{stat:d.Stats.Lightning_DMG}),s.jsx(u,{stat:d.Stats.Wind_DMG}),s.jsx(u,{stat:d.Stats.Quantum_DMG}),s.jsx(u,{stat:d.Stats.Imaginary_DMG})]})]})}),s.jsx(Fi,{children:"Optimal main stats"}),s.jsxs(g,{justify:"space-between",children:[s.jsxs(g,{vertical:!0,gap:R*2,children:[s.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[s.jsx($a,{style:{marginLeft:5},children:"Body"}),s.jsx(P.Item,{size:"default",name:["parts",d.Parts.Body],children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:S},placeholder:"Body",maxTagCount:"responsive",children:[s.jsx(N.Option,{value:d.Stats.HP_P,children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.CR,children:"CRIT Rate"}),s.jsx(N.Option,{value:d.Stats.CD,children:"CRIT DMG"}),s.jsx(N.Option,{value:d.Stats.OHB,children:"Outgoing Healing"}),s.jsx(N.Option,{value:d.Stats.EHR,children:"Effect HIT Rate"})]})})]}),s.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[s.jsx($a,{style:{marginLeft:5},children:"Feet"}),s.jsx(P.Item,{size:"default",name:["parts",d.Parts.Feet],children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:S},placeholder:"Feet",maxTagCount:"responsive",children:[s.jsx(N.Option,{value:d.Stats.HP_P,children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.SPD,children:"Speed"})]})})]})]}),s.jsxs(g,{vertical:!0,gap:R*2,children:[s.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[s.jsx($a,{style:{marginLeft:5},children:"Planar Sphere"}),s.jsx(P.Item,{size:"default",name:["parts",d.Parts.PlanarSphere],children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:S},placeholder:"Planar Sphere",listHeight:400,maxTagCount:"responsive",children:[s.jsx(N.Option,{value:d.Stats.HP_P,children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.Physical_DMG,children:"Physical DMG"}),s.jsx(N.Option,{value:d.Stats.Fire_DMG,children:"Fire DMG"}),s.jsx(N.Option,{value:d.Stats.Ice_DMG,children:"Ice DMG"}),s.jsx(N.Option,{value:d.Stats.Lightning_DMG,children:"Lightning DMG"}),s.jsx(N.Option,{value:d.Stats.Wind_DMG,children:"Wind DMG"}),s.jsx(N.Option,{value:d.Stats.Quantum_DMG,children:"Quantum DMG"}),s.jsx(N.Option,{value:d.Stats.Imaginary_DMG,children:"Imaginary DMG"})]})})]}),s.jsxs(g,{vertical:!0,gap:1,justify:"flex-start",children:[s.jsx($a,{style:{marginLeft:5},children:"Link rope"}),s.jsx(P.Item,{size:"default",name:["parts",d.Parts.LinkRope],children:s.jsxs(N,{mode:"multiple",allowClear:!0,style:{width:S},placeholder:"Link Rope",maxTagCount:"responsive",children:[s.jsx(N.Option,{value:d.Stats.HP_P,children:"HP%"}),s.jsx(N.Option,{value:d.Stats.ATK_P,children:"ATK%"}),s.jsx(N.Option,{value:d.Stats.DEF_P,children:"DEF%"}),s.jsx(N.Option,{value:d.Stats.BE,children:"Break Effect"}),s.jsx(N.Option,{value:d.Stats.ERR,children:"Energy Regeneration Rate"})]})})]})]})]}),s.jsx(Fi,{children:"Substat weight methodology"}),s.jsx(Oi,{ghost:!0,items:[{key:"1",label:"Click to show details",children:D}]}),s.jsx(Fi,{children:"Calculations"}),s.jsx(Oi,{ghost:!0,items:[{key:"1",label:"Click to show details",children:W}]})]})})}const{useToken:fg}=Et,{Text:gg}=be;function pg(){const{token:e}=fg(),a=window.store(l=>l.activeKey),i=V.useMemo(()=>Gg(),[]);if(a!=he.CHANGELOG)return s.jsx(s.Fragment,{});function n(l,o){const r=[];let c=0;for(const h of l)h.endsWith(".webp")?r.push(s.jsx("img",{src:U.getChangelog(`${o.date}/${h}`),loading:"lazy",style:{border:`2px solid ${e.colorBgContainer}`,margin:5,maxWidth:1200}},c++)):h.startsWith("https")?r.push(s.jsx("li",{children:s.jsx(ya,{text:h,url:h},c++)},c++)):r.push(s.jsx("li",{children:s.jsx(gg,{style:{fontSize:16},children:h})},c++));return s.jsxs(g,{vertical:!0,children:[s.jsx(be.Title,{style:{marginLeft:20},children:s.jsx("u",{children:`Update ${o.date}`})}),s.jsx("ul",{children:r})]})}return s.jsx(_l,{itemLayout:"vertical",size:"large",pagination:{onChange:l=>{console.log(l)},position:"bottom",align:"start",pageSize:4},dataSource:i,renderItem:l=>s.jsx(_l.Item,{children:n(l.content,l)},l.title)})}function tr(e){return window.officialOnly?"":e}function Gg(){const e=[{title:"",date:"09-20-2024",content:["Added a Relic Locator tool to the Relics tab for finding the relic's row / column in the inventory","locator.webp","Updated all assets files to high quality images for character portraits, light cones, icons","Readjusted the crop and zoom for the new portrait assets","Reduced the light cone portrait height for Combat scoring view","Moved the Character Menu button to the top of the Characters tab for better findability","characterTab.webp","Reliquary is now updated for 2.5","reliquary.webp","Updated Rappa's default scoring team","rappaTeam.webp","Added pointer cursors to clickable icons","Optimizer tab character and teammate menus are now open upon clicking their icons","Fix: Save file now correctly loads previous scoring algorithm changes","Fix: Pioneer Diver of Dead Waters 0x conditional now correctly applies","Balance: Lowered the scoring penalty for missing flat stat breakpoints for combat scoring","Balance: Updated Pioneer Diver of Dead Waters default conditional to 3x+ for characters with debuffs","Balance: Changed Rappa's scoring weights from 1 ATK / 1 SPD / 1 BE to 0.5 ATK / 1 SPD / 1 BE"]},{title:"",date:"09-08-2024",content:["Added GPU acceleration to perform calculations on the graphics card for a significant improvement in optimizer search speed","Enabling GPU acceleration will improve the optimizer's search speed to hundreds of millions of permutations per second, up to billions on high end devices","3 compute engine options are now available","— GPU Experimental: Fastest search speed but potentially unsupported on some devices","— GPU Stable: Fast search speed for general device compatability (default)","— CPU Only","GPU acceleration only supported on Windows & Mac: Chrome, Opera, Edge browsers, Linux: Chromium browsers with a cli flag","gpu.webp","Updated the substat scoring algorithm to score relics stats relative to the maximum possible score on the relic","This means that when a weighted substat is occupied by the main stat, the score value of the remaining substat weights increases","Default character weights were rebalanced to account for this, and now more accurately reflect the true value of substats, for example:","Firefly's previous weight of 1.0 ATK / 1.0 SPD / 1.0 BE has been updated to 0.5 ATK / 1.0 SPD / 1.0 BE since her passive converts ATK at roughly half the value of BE","While the ATK weight was reduced, this actually makes the score value of SPD and BE higher since the new system scores stats relative to the other weights","The updated substat weight methodology can be viewed from the Scoring Algorithm menu","scoring.webp","Updated the copy screenshot button to work for all browsers. Also works on mobile devices now","screenshot.webp","Updated the Edit Portrait workflow to be smoother. Added an 'Upload new image' button to change the portrait","portrait.webp","Multiple relics can now be selected and deleted simultaneously on the Relics tab with Shift + Click and Ctrl + Click","multiselect.webp","Added a new setting for enabling / disabling a full inventory rescore on page load. Disable for faster load times on large inventories","scoreSetting.webp","Results limits for the optimization target have been changed to be compatible with GPU optimizer - now defaults to 1024 results","resultCount.webp","The Relic Insights tool now opens the character scoring panel on click, and now updates correctly when the selected character is changed","insights.webp",tr("Updated with version 2.6v1 content"),tr("rappa.webp"),"Clicking the light cone portrait on character cards now bring up the Edit Character / Light Cone menu","Added a confirmation popup for resetting optimizer filters","Added on-hit buffs for the character's primary ability to the Combat stats section of scoring cards","Relic scorer URL can now be shared with user IDs included","Relic cards now show a border on hover","Performance: Improved relic scorer stability","Performance: Improved portrait image loading times, fixed images jumping around when loading","Performance: Improved character card loading time for Combat score cards","Performance: Improved relic import responsiveness","Performance: Improved editing and saving relics responsiveness","Fix: Some custom portrait dimensions were not cropping correctly","Fix: On the Relics tab, relics will remain selected after editing it","Fix: Prevent Combat stats panel from overflowing on scoring cards","Fix: Firesmith of Lava-Forging 4p was incorrectly adding combat buffs","Fix: Relic / ornament set selector on Optimizer tab was incorrectly rendering overflowing tags","Fix: But the Battle Isn't Over was not showing the Energy Regeneration Rate passive","Balance: Allow ATK % rope on Lingsha default scoring","Balance: Fixed a bug where the 200% benchmark used an extra substat roll in some cases, resulting in an impossible build. Minor DPS Score buff to affected characters","Balance: The Wind-Soaring Valorous 4p is now disabled by default, but activated by default only for specific characters who can benefit from it","Balance: Updated Jiaoqiu to have 3x stacks of Prisoner in Deep Confinement 4p by default","Balance: Updated Moze to have 3x+ stacks of Pioneer Diver of Dead Waters 4p by default","Balance: Updated Jade to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Herta to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Yunli to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Updated Himeko to have 8x stacks of The Ashblazing Grand Duke 4p by default","Balance: Revisited all characters weights and adjusted values for maximum-potential based relic scoring","Balance: Kafka weights","— Prev: 1.0 ATK / 1.0 SPD / 0.5 CR / 0.5 CD / 0.5 EHR / 0.75 BE","— Now: 1.0 ATK, 1.0 SPD, 0.5 EHR","Balance: Silver Wolf weights","— Prev: 0.5 ATK / 0.25 DEF / 0.25 HP / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 EHR / 0.75 BE","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Asta weights","— Prev: 0.75 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 0.5 BE","— Now: 0.5 ATK / 0.5 DEF / 1.0 HP / 1.0 SPD / 0.5 RES / 0.5 BE","Balance: Bronya weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.75 RES","Balance: Pela weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.75 RES","— Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Tingyun weights","— Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Fu Xuan weights","— Prev: 0.75 DEF / 1.0 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 DEF / 1.0 HP / 1.0 SPD / 0.5 RES","Balance: Guinaifen weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.75 BE","— Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Hanya weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.5 RES","Balance: Jiaoqiu weights","— Prev: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR","— Now: 0.5 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 EHR / 0.5 RES","Balance: Ruan Mei weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Balance: Aventurine weights","— Prev: 1.0 DEF / 0.5 HP / 1.0 SPD / 1.0 CR / 1.0 CD","— Now: 1.0 DEF / 1.0 SPD / 1.0 CR / 1.0 CD","Balance: Sparkle weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 1.0 CD / 0.75 RES","— Now: 0.5 DEF / 0.5 HP / 1.0 SPD / 1.0 CD / 0.5 RES","Balance: Black Swan weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 EHR / 0.5 BE","— Now: 1.0 ATK / 1.0 SPD / 1.0 EHR","Balance: Robin weights","— Prev: 1.0 ATK / 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES","— Now: 1.0 ATK / 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES","Balance: Firefly weights","— Prev: 1.0 ATK / 1.0 SPD / 1.0 BE","— Now: 0.5 ATK / 1.0 SPD / 1.0 BE","Balance: Boothill weights","— Prev: 0.5 ATK / 1.0 SPD / 0.75 CR / 0.75 CD / 1.0 BE","— Now: 0.25 ATK / 1.0 SPD / 0.25 CR / 0.25 CD / 1.0 BE","Balance: Trailblazer Harmony weights","— Prev: 0.75 DEF / 0.75 HP / 1.0 SPD / 0.75 RES / 1.0 BE","— New: 0.5 DEF / 0.5 HP / 1.0 SPD / 0.5 RES / 1.0 BE","Keep in mind with the new substat scoring system, a reduction in one stat's weight now actually makes the other substats worth more","Meaning in most cases these weight reductions actually are buffs to the scores of good relics"]},{title:"",date:"08-19-2024",content:["Added a new Combat Stats view for the score card, showing the character's fully buffed in-combat details","combat.webp","Added a new toggle to switch between Combat Stats and Damage Upgrades card view","upgrades.webp","Added a new panel to suggest filter changes when optimizer searches produce zero results","popup.webp","Updated scoring card with better rules for showing relevant stats","Renamed Sim Damage to Combo DMG for clarity","stats.webp","Updated Edit Character menu to auto-populate the light cone path, added path icons","Switching light cones will now reset its superimposition to S1","modal.webp","Relic scorer card now has an Edit character button","edit.webp","Moved Relic Scorer tab to a new Showcase menu at the top of the sidebar for visibility","showcase.webp","Updated content to version 2.5v4","Editing a relic now re-scores it automatically and updates the Relics tab grid","Updated Kel-Z and Reliquary Archiver imports to support the new v4 format","Fix: Some relic set text descriptions were out of date","Fix: Importing relics no longer overwrites the optimizer's equipped owner","Balance: Kafka / Black Swan's sim scoring updated to lean more towards DoT","Balance: Moze's default sim updated to to 4p Pioneer, allow Ashblazing and Izumo","Balance: Feixiao's damage combo updated to remove Break, updated combo with her ult changes"]},{title:"",date:"08-10-2024",content:["Added Healing Boost and Energy Regen on the character score card","Removed CV from the stat card","card.webp","Optimizer builds can now be pinned to the top of the grid for easier comparisons","pin.webp","The Relic scorer can now import characters along with relics","import.webp","Updated the Edit character menu with more convenient selectors","edit.webp","Added estimated time remaining to optimizer searches","eta.webp","Added an Equipped state filter to the Relics tab","equipped.webp","Added Lushaka set to teammate effects","lushaka.webp","Updated with 2.5 beta data","Fix: Conditional sliders max/min selections will now update properly when eidolons change","Fix: The baseline simulation will now use the best default set when the user's character isn't using an equivalent set","Fix: Lingsha calculations now correctly take into account teammate super break triggers","Balance: Himeko's default ornament set is now Duran","Balance: Dr Ratio's default ornament set is now Duran","Balance: Feixiao secondary ult now forces weakness break to enabled","Balance: Removed break damage from Feixiao's rotation","Balance: Adjusted logic for simulation scoring using speed boots vs atk boots"]},{title:"",date:"07-08-2024",content:["Buffed DPS scores across all characters, making the 100% benchmark slightly easier to reach","benchmark.webp","The Characters tab now has a search bar, and filters for element / path","search.webp","The Relics tab custom characters menu now has buttons to Exclude all / Clear","Custom view is now the default","exclude.webp","Reliquary archiver is back online and been updated for v2.3, new download required","reliquary.webp","Re-formatted optimizer grid headers for readability","grid.webp","Characters' default scoring combo is now automatically filled in on the optimizer","combo.webp","Updated Yunli's default scoring team","yunli.webp","Updated Yunli and March 8th's Ashblazing set calcs","Updated v2.3 characters conditional tooltips","Re-centered all light cones for simulation scoring view","Fix: Updated ability-type buff logic to correctly apply DMG buffs on characters that can change ability types","Fix: Aventurine now correctly applies CD buff on Unnerved","Fix: Certain relics weren't showing correctly in Hoyolab import","Fix: Duran and Lantern set stats are now applied correctly for scoring","Fix: Manual relic creation was broken in certain cases","Balance: Allow the scoring simulation to use Lantern/Talia sets as well as Cavalry on Harmony MC teams","Balance: Seele E1 CR buff is now disabled by default","Balance: March 8th now uses S5 Cruising in the Stellar Sea for scoring"]},{title:"",date:"06-18-2024",content:["Added 2.4 characters and light cones","beta.webp","Changed DPS Score Improvements -> Damage improvements and updated the percentage to use damage","damageImprovements.webp","Added relic counter on the relics tab grid","relicCount.webp","The sorted optimizer column is now highlighted","highlightColumn.webp","Moved enemy options to an Enemy configurations menu under Advanced options","advancedOptions.webp","Added Effect RES as a customizable enemy option for DoT calcs","enemyConfigurations.webp","Added options to toggle seeing all / custom characters on the potential graph","customCharacters.webp","Expanded the Extra combat stats menu with more buff options","combatBuffs.webp","Added a new Boost main stat option to select the desired main stat upgrade level","optimizerOptions.webp","Added character icons to various places","Character cards now zoom out properly for the smaller sim scoring portrait","Fix: Herta's technique now disabled by default","Fix: Manually editing verified relics will now remove their verified status","Fix: Elemental damage now shows correctly on the character card","Fix: Corrected display bug on relics tab potential upgrades suggesting invalid stats","Fix: Ruan Mei's E2 is now correctly calculated for Firefly","Fix: Harmony Trailblazer is now imported correctly from the scanners","Balance: Increased DoT scoring for Luka / Sampo","Balance: Adding Break Effect and Cavalry set as valid BiS scoring options when HMC is on the simulation team","Balance: Adjusted multiple support characters main stats to be more flexible","Balance: Firefly's scoring stats have been adjusted","Balance: Firefly's default sim now uses Cavalry / Lantern sets"]},{title:"",date:"06-06-2024",content:["Improved relic edit menu UI, with automatic substat upgrade calculations","relicModal.webp","DPS Score upgrades section now shows the score improvement of switching main stats, and switching to BiS relic set","scoreUpgrades.webp","Adding option to switch between scoring types","switchScoring.webp","Added a settings menu for combat sim options","scoringSettings.webp","Added new Edit character button to the Characters tab for changing eidolons / lcs","editCharacter.webp","Added new Sim Damage stat for showing the simulated combo damage used for scoring","simDamage.webp","Added new version of the substat weight filter, to filter relics by minimum weighted rolls per gear slot","substatWeight.webp","Changed the scoring grade scale to balance DPS score changes","newGrades.webp","Updated build analysis section with more details about the benchmark builds","buildAnalysis.webp","Added HoyoLab import to the scanner options","importer.webp","Various other DPS score balance changes, detailed out in the methodology section. New benchmark ruleset measures against 0% / 100% / 200% builds","Fix: Sets were not activating correctly in some cases for Aventurine","Fix: Jade now correctly applies Ashblazing set buffs","Fix: Boothill's Standoff conditional now correctly applies as a vulnerability instead of DMG increase","Fix: Sleep Like the Dead's Crit Rate buff is now deactivated by default","Fix: Cruising in the Stellar Sea's Crit Rate buff is now deactivated by default","Fix: Adjusted Firefly and Boothill scoring main stats","Fix: Ruan Mei scoring can now use all main stats for body / sphere"]},{title:"",date:"05-22-2024",content:["Updated with new character card layout","Added damage simulation based character scoring","newScore.webp","Add custom teammates display","customTeam.webp","Added a substat upgrade calculation for damage scoring","scoreUpgrades.webp","More details about the simulation scoring can be found below the character card","scoreSummary.webp","Added EHR considerations for DoT damage calculation, assumes 20% enemy RES","Adding customizable Rotation Combo damage formula","comboMenu.webp","The combo results can be filtered and sorted in the optimizer","comboGrid.webp","Added responsive handling to optimizer permutations sidebar, which now collapses into a footer for smaller screens","footer.webp","Moved Combat Buffs menu into a drawer","combatBuffs.webp","Added a +3 enhance button to the Relic Edit modal for easy enhancing","plusThree.webp","Added bar search to damage sim selectors","Raised Robin’s ATK cap to 8000","Raised Robin’s ATK default to 5000","Reliquary version bumped to 0.1.6","Character / light cone images are now blurred while loading","Updated with beta 5.3v3 changes","Fix: Fixed Firefly Break Effect conversion interaction with ratio converted ATK buffs (Robin/Lynx)","Fix: Ruan Mei’s default sort is now Break Effect","Fix: Robin’s default sort is now ATK","Fix: Prevent Ult DMG buffs from applying to Robin’s ult (Salsotto)","Fix: Removed Jade skill damage","Fix: Sparkle now correctly applies her skill CD","Fix: Custom character weights are now applied to the optimizer page","Fix: Allow all main stats for Harmony MC on body and sphere","Fix: Super break override now applies correctly to HMC","Fix: Prevent teammate sync from adding messenger set to calculations","Fix: Various relics tab potential optimality bugs have been fixed","Fix: Characters with not enough desired stats now score correctly on relics tab","Fix: Renamed Base stats to Basic stats"]},{title:"",date:"05-07-2024",content:['Added a new "Character custom stats simulation" feature',"This allows for simulating and comparing multiple character builds with custom main stats / teammates / sets / substats without having to edit relics","The substat rolls view calculates builds based on the number of max rolls in each substat","Optimizer builds can be imported as substat roll simulations","rollSim.webp","The substat totals view simulates the sum of the substat values","totalsSim.webp","Jade and Firefly have been added with damage calculations, and to the Relic Scorer experiment options","jade.webp","Custom character portraits can now be saved from the Relic Scorer","scorer.webp","Updated Harmony Trailblazer with Super Break DMG calculations","When the Super Break conditional is enabled, each ability's toughness DMG will be used to calculate Super Break DMG, which is added to the respective ability's damage column","superBreak.webp","Added new 2.3 relic sets","relics.webp","Added new 2.3 ornament sets","ornaments.webp","Reliquary Archiver is now the recommended scanner","Note: It may have a few hours of downtime following new ingame patches","import.webp","New updates will now show a notification linking to the changelog","update.webp","Added a new settings panel","The first setting is toggle the behavior when equipping relics with another owner, which now defaults to replacing without swapping","settings.webp","Using the Recommended Presets button now takes into account custom scoring overrides","Newly added characters will have their recommended presets applied by default","Harmony Trailblazer's default teammate Break Effect conditional is now 200%, and the cap is increased to 400%","The Genius set's conditional effects are now only active by default on Quantum characters, and disabled by default otherwise","Fix: Tingyun SPD buff is now disabled by default due to having inconsistent uptime","Fix: Himeko's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Qingque's SPD buff is now disabled by default due to having inconsistent uptime","Fix: Sparkle's self-skill buff is now disabled on herself by default","Fix: Bronya's battle-start buffs are now disabled by default","Fix: Asta's skill now correctly calculates the sum of the bounces for damage instead of an individual hit","Fix: Remove ATK% rope from Robin's presets","Fix: Main stat free rolls are now applied correctly to non-full-weight main stats. This results in a minor score buff for certain main stats","Fix: Various visual overflow issues on small screens"]},{title:"",date:"04-18-2024",content:["Launched a new leak-free version of the optimizer which has no leaks and only contains officially released content","https://starrailoptimizer.github.io","noLeaks.webp","Added a one-click-optimize button to the Relic Scorer page, accessed by clicking the graph icon or the Optimize Character Stats button","This automatically imports the scored profile relics, adds the character and light cone, applies recommended filters and conditionals, and starts an optimizer search","This is meant to be an easy way for new users to get started using the optimizer","oneClick.webp","Updated the Get Started tab with up to date instructions and a step-by-step guide to using the optimizer for the first time","getStarted.webp","Added new Average potential view as an option alongside Max potential on Relics tab","potentialUpdates.webp","Relic potential ratings menu now has a Custom characters view enabled by default, where only a subset of characters are considered for the potential calculations","relicRatings.webp","All characters are included initially, then specific characters can be selected to excluded from the relic potential view","customCharacters.webp","Clicking empty relic slots now brings up the Add New Relic menu","clickEmpty.webp","Added icons to sidebar menu tabs","Added a button to hide the menu sidebar for easier viewing on smaller screens","hideSidebar.webp","Updated the Recommended Presets speed breakpoints to 1000ths precision","breakpoints.webp","Ambiguous speed values near specific breakpoints (such as 133.333..) are now displayed to 1000ths precision for checking if the breakpoint is met","spdValues.webp","Added a Reset All Characters button to the scoring algorithm menu","resetAll.webp","Rephrased pioneer conditional to specify between basic and combat stat buffs","The last optimized character will now be open by default on the next session","The Simulate Relics On Another Character menu is now open by default on the Relic Scorer tab","Updated Boothill damage calcs","Updated Robin damage calcs","Fix: Herta now correctly defaults to FUA sort","Fix: Removed leftover unused character level selectors, all characters now default to level 80","Fix: Black Swan E1 now correctly only applies res shred on DOT elements","Fix: Scores for saved builds will now update with scoring changes","Fix: Creating new relics with an owner now equips the relic"]},{title:"",date:"04-04-2024",content:["Added Break DMG calculations for all characters and a sortable BREAK column in the optimizer grid","breakDmg.webp","Updated Boothill's Enhanced basic attack calculation to include his Talent's additional break damage",`Updated Boothill's conditional toggle to be "Talent break DMG (forces weakness break)" which overrides the weakness break option when enabled`,"Updated Boothill's default sort option to Basic DMG","boothill.webp","Updated Boothill's scoring algorithm to prioritize SPD and Break Effect","boothillScore.webp","Added a display for the artist's name on custom character portraits","artist.webp","The artist name can be updated along with the image on the crop menu","Enabled gif uploads for custom character portraits","artistInput.webp","Updated Reliquary Archiver import for 2.1 patch, which imports accurate speed decimals for the entire inventory","archiver.webp",'Added new character action menu entry to "Sort by score" which rearranges the character priority by their character scores',"sortByScore.webp","Updated conditional set effects for Pioneer Diver of Dead Waters set with a 0x debuffs option which disables the 2p effect","pioneer.webp","Removed the Enemy HP% selector from the enemy options panel, and replaced it with Enemy Toughness, which affects the Break DMG calculations in the optimizer","tough.webp","Since the Enemy HP% selector was removed, updated character conditionals that depended on it to have their own toggle","Dan Heng now has an enemy HP% threshold toggle","Himeko now has an enemy HP% threshold toggle","Herta now has an enemy HP% threshold toggle","Argenti now has an enemy HP% threshold toggle","Reduced the filesize of assets for faster image loading","Optimizer search speed improvements for unfiltered searches","Added warning popup for optimizer searches with mismatching character and light cone paths",`Ruan Mei's teammate buff renamed to "Overtone buff" and now also applies her weakness break efficiency buff`,"Gallagher's Besotted buff added with Break DMG vulnerability","Fix: Argenti A6 trace now correctly applies to all his abilities instead of just ult DMG","Fix: Updated tooltips for 2.1 light cones","Fix: Updated Along the Passing Shore light cone's passive effect to Mirage Fizzle","Fix: Planetary Rendezvous now shows correctly on the teammate buffs panel","Fix: Bug with unselectable main stats being available in the Edit Relic view in certain cases","Fix: Stat filters are now saved to 1000ths precision"]},{title:"",date:"03-26-2024",content:['Added custom character portrait images, through the "Edit portrait" menu button on the character preview/relic scorer',"sparkle.webp","Portrait images can be selected by url or uploaded from file","crop.webp","Added substat roll count indicators to relics, showing the number of additional rolls per stat","rollQuality.webp","Added new relic rating tools to the Relics tab: for evaluating relic potential for the selected character or all characters","When selecting a character on the Relics grid, all selected relics will show their score according to the selected character's weights","relicsGrid.webp","Added new Relic Insights: Buckets graphs to display the potential of a relic and which characters are the best fit for the stats","relicBuckets.webp","The Relic Insights: Top 10 view shows the min/max range of potential for the top 10 best fit characters","relicTop10.webp","Added new 2.1 sets: Sigonia, the Unclaimed Desolation & Izumo Gensei and Takama Divine Realm","21sets.webp","Added new importer option for the Reliquary Archiver (beta) which can import accurate speed decimals for the entire inventory","importer.webp","Added new Optimization Target options to the optimizer page.","optimimationTarget.webp","This removes the 2 million results hard cap from before.","resultsLimit.webp","Choose the desired optimization goal for damage/stats/rating, and select a results limit, to find the top search results sorted by the target","sortBy.webp","Stat decimals are now shown to 1000ths precision on the Character preview when hovered","spdHover.webp","Added new Character action to switch relics with another character","switchRelics.webp","Added new 2.2 characters: Robin / Boothill / Harmony Trailblazer","Added new 2.2 light cones: Boundless Choreo / For Tomorrow's Journey / Flowing Nightglow / Sailing Towards A Second Life","22chars.webp","Adjusted character optimal main stats, allowing more lenient options such as ATK% spheres for DPS and any sphere stats for Bronya/Sparkle","Removed level selectors on Optimizer tab - all optimizations now assume level 80 character and light cone","Made the sidebar menu always stay on screen when scrolling","Fix: Relic imports from scanning newly rolled relics before logout no longer causes duplicate relics","Fix: Download screenshot button on mobile devices and Safari browsers now generates the image correctly","Fix: Pela E2 skill conditional SPD buff is now off by default","Fix: Bronya technique conditional ATK buff is now off by default","Fix: Silver Wolf skill conditional weakness implanted RES shred is now off by default","Fix: Sparkle talent conditional Quantum allies ATK buff now only applies to Quantum elemental main characters","Fix: Acheron trace Stygian Resurge now has its own slider instead of assuming all hits on target","Fix: Seele E1 conditional CR buff now has its own toggle instead of being linked to the enemy HP selector"]},{title:"",date:"03-12-2024",content:["Added a new visual character selector menu with search and filters","charSelect.webp","Light cone selectors are also updated and now default to the selected character's path","lcSelect.webp","Added a new menu that automatically shows suggestions to fix common misconfigurations in setting up optimizer searches that result in 0 permutations","zeroPerm.webp","Presets speed breakpoints are now defined to 100ths precision","presets.webp","Added def values to enemy level selector","enemyDef.webp","Updated calculations with the latest beta character abilities","Reorganized some stat orderings for consistency",`Fix: Light cone "Today is Another Peaceful Day" now defaults to the character's max energy`,"Fix: E2/E5 eidolon calculations for some characters","Fix: EHP filter works again","Fix: Linking to #scorer and other pages works again","Fix: Permutations now refresh when navigating to Optimizer tab","Fix: Alerts can now be closed when clicking on them"]},{title:"",date:"02-28-2024",content:["Enabled up/down arrow key navigation for grids","Updated the selected row overlay to be more visible","gridRow.webp","Added new priority and exclusion selectors in optimizer options","Priority can now be changed from the optimizer tab now instead of dragging. Exclude will additionally filter out specific characters relics","priorityExclude.webp","Added a notice to update when the scanner version is out of date","outOfDate.webp","Relic scorer Simulate button has been move to a sidebar, and now has preset characters for current/upcoming banners","simulate.webp","Added a sortable CV column for crit value to the Relics tab","cvColumn.webp",'Added a "Move to top" action button to the Characters tab',"moveToTop.webp","Started adding more icons to selectors for readability, more to come","icons.webp","Removed CV column & filter from optimizer tab - damage calculations are a better option to sort by now",'Stats display is set to "Combat Stats" by default now, also the setting now saves correctly per character',"Changed relic scorer API in preparation for upcoming leaderboards update"]},{title:"",date:"02-20-2024",content:["Added: Acheron / Aventurine / Gallagher","newChars.webp",'Added: "Simulate relics on another character" button on the Relic scorer.',"Now the profile characters' builds can be simulated as unowned or unreleased characters & light cones to preview their gear with accurate base stats","simulate.webp","Added: Teammates menu for the optimizer. This automatically adds the teammate's character passives/eidolons/light cone/relic sets to the calculations for more accurate results","teammates.webp","Added: Character builds can now be saved as loadouts, keeping a history of saved builds that can be easily swapped between","savedBuilds.webp","Added: Changelog page to track new optimizer changes","changelog.webp","Moved stat display to the sidebar for easier access","statDisplay.webp",'Clicking "Start optimizing" now scrolls the page down to the results grid',"Deprecated the Fribbels scanner option in favor of the Kel-Z scanner","Energy Regeneration Rate column can be filtered on now","Imports now work with scanner files that only contain characters/light cones without relics","Minor scoring changes for: Sushang, Luka, Physical Trailblazer, Blade, Silver Wolf, Kafka, and Preservation characters"]},{title:"",date:"02-05-2024",content:["Added 'Recommended Presets' button to fill out the optimizer with some suggested values","presets.webp","Added the new Pioneer & Watchmaker relic sets","newSets.webp","Added support for 8 relic scorer slots","scorer8Characters.webp","All character and light cone passives now have descriptions on hover","skillDescriptions.webp","Reorganized Character tab buttons with new Add / Edit character actions","characterActions.webp","Added a Screenshot button for copying the character preview to clipboard / downloads","screenshot.webp","Added a progress bar for the search","progress.webp","Updated damage calcs with all 2.0 light cones","Relic set filters now have a 2 piece + Any option","Improved optimizer search performance, should run 3-6x faster now"]},{title:"",date:"01-22-2024",content:["Black Swan / Sparkle / Misha added with dmg calcs and their signature light cones","newChars.webp","New 'Use equipped relics' optimizer filter toggle","useEquipped.webp","Optimizer grid now shows speed decimals","spd.webp","QOLs for relic editing for autofilled main stats","Double clicking on the characters list now will navigate to the optimizer"]},{title:"",date:"01-13-2024",content:["Big update to the relics tab, including filters and a relic recommendation tool","The recommendation tool scores each relic by its potential at +15 to help with picking which unenhanced relics to roll while building characters","relicsTab.webp","Also updated the Relic Scorer with an import option - now you can import relics directly from your ingame profile characters, with accurate speed values","import.webp"]},{title:"",date:"01-06-2024",content:["Accurate damage calculations for every character, and new optimization columns for average Basic / Skill / Ult / Follow-up / DoT damage","calcs.webp","Character abilities + Light cone passive selectors to customize the damage simulation","passives.webp","Relic set effects menu for customizing which sets to activate","setEffects.webp","New filtering tools including the substat weight filter to reduce permutations & improve search time","weightFilter.webp","Enemy count / DEF / RES / HP / and weakness selectors for optimizing specific combat scenarios","enemyOptions.webp","Integrated with the Kel-Z HSR Scanner for faster & more accurate scans","importer.webp","Expanded combat buffs options for adding more team effects like SPD / DMG% / DEF & RES shred / etc","Relic stat editor and better handling for hidden decimals","New character importer option - Import all your character builds and light cones directly from the game"]}];return e.map(a=>a.content=a.content.filter(i=>i.length>0)),e}const ls=250,ha=100,{Text:Ig}=be;function Eg(){const[e,a]=V.useState(!1);function i(){console.log("Clear data"),a(!0),setTimeout(()=>{a(!1),Z.resetStore(),Y.success("Cleared data")},ha)}return s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(Ig,{children:"Clear all optimizer data."}),s.jsx(Oa,{title:"Erase all data",description:"Are you sure you want to clear all relics and characters?",onConfirm:i,placement:"bottom",okText:"Yes",cancelText:"Cancel",children:s.jsx(j,{type:"primary",icon:s.jsx(cl,{}),loading:e,style:{width:ls},children:"Clear data"})})]})}const{Text:Kn}=be;function Tg(){const[e,a]=V.useState(0),[i,n]=V.useState(void 0),[l,o]=V.useState(!1),[r,c]=V.useState(!1);function h(m){return new Promise(()=>{const f=new FileReader;return f.readAsText(m),f.onload=()=>{const p=String(f.result),I=JSON.parse(p);if(I.fileType||I.source){o(!0),setTimeout(()=>{o(!1),n(void 0),a(1)},ha);return}o(!0),setTimeout(()=>{o(!1),n(I),a(1)},ha)},!1})}function b(){c(!0),setTimeout(()=>{Z.setStore(i),window.refreshRelicsScore(),setTimeout(()=>{a(2),c(!1)},ha)},ha)}function R(){return s.jsx(g,{style:{minHeight:100},children:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(Kn,{children:"Load your optimizer data from a file."}),s.jsx(Er,{accept:".json",name:"file",beforeUpload:h,children:s.jsx(j,{style:{width:ls},icon:s.jsx(ml,{}),loading:l,onClick:()=>a(0),children:"Load save data"})})]})})}function S(){return!(i!=null&&i.relics)||!i.characters?s.jsx(g,{style:{minHeight:100},children:s.jsx(g,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:"Invalid save file, please try a different file. Did you mean to use Relic Importer tab?"})}):s.jsx(g,{style:{minHeight:100},children:s.jsxs(g,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:[s.jsx(Kn,{children:`File contains ${i.relics.length} relics and ${i.characters.length} characters. Replace your current data with the uploaded data?`}),s.jsx(j,{style:{width:ls},icon:s.jsx(ei,{}),type:"primary",onClick:b,loading:r,children:"Use uploaded data"})]})})}function u(){return s.jsx(g,{style:{minHeight:100},children:s.jsx(g,{vertical:!0,gap:10,style:{display:e>=2?"flex":"none"},children:s.jsx(Kn,{children:"Done!"})})})}return s.jsx(g,{gap:5,children:s.jsx(Ki,{direction:"vertical",current:e,items:[{title:"",description:R()},{title:"",description:S()},{title:"",description:u()}]})})}function Dg(e){const a=Z.getMetadata().relics.relicSets,i={metadata:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},characters:[],relics:[]};for(const n of e.data.avatar_list){const l={characterEidolon:n.rank,characterId:n.id.toString(),characterLevel:n.level,lightCone:null,lightConeLevel:80,lightConeSuperimposition:1};n.equip!=null&&(l.lightCone=n.equip.id.toString(),l.lightConeSuperimposition=n.equip.rank),i.characters.push(l);const o=[...n.relics,...n.ornaments];for(const c of o){const h=[];for(const b of c.properties){const R={stat:sr(b.property_type),value:ar(b.value)};h.push(R)}i.relics.push({enhance:c.level,equippedBy:n.id.toString(),grade:c.rarity,id:C.randomId(),part:Wg(c.pos),set:Mg(c.id,a),main:{stat:sr(c.main_property.property_type),value:ar(c.main_property.value)},substats:h,verified:!1})}const r=Cg(n.id);r&&(i.metadata=r)}return i.relics.map(n=>ds.augment(n)),i}function ar(e){return e.endsWith("%")?C.precisionRound(parseFloat(e.slice(0,e.length-1))):C.precisionRound(parseFloat(e))}const Zg={8001:{trailblazer:"Caelus",current_trailblazer_path:"Destruction"},8002:{trailblazer:"Stelle",current_trailblazer_path:"Destruction"},8003:{trailblazer:"Caelus",current_trailblazer_path:"Preservation"},8004:{trailblazer:"Stelle",current_trailblazer_path:"Preservation"},8006:{trailblazer:"Stelle",current_trailblazer_path:"Harmony"},8005:{trailblazer:"Caelus",current_trailblazer_path:"Harmony"}};function Cg(e){return Zg[e]}const Bg={27:d.Stats.HP,32:d.Stats.HP_P,29:d.Stats.ATK,33:d.Stats.ATK_P,31:d.Stats.DEF,34:d.Stats.DEF_P,51:d.Stats.SPD,52:d.Stats.CR,53:d.Stats.CD,56:d.Stats.EHR,57:d.Stats.RES,59:d.Stats.BE,54:d.Stats.ERR,55:d.Stats.OHB,12:d.Stats.Physical_DMG,14:d.Stats.Fire_DMG,16:d.Stats.Ice_DMG,18:d.Stats.Lightning_DMG,20:d.Stats.Wind_DMG,22:d.Stats.Quantum_DMG,24:d.Stats.Imaginary_DMG};function sr(e){return Bg[e]||""}const yg={1:G.Head,2:G.Hands,3:G.Body,4:G.Feet,5:G.PlanarSphere,6:G.LinkRope};function Wg(e){return yg[e]||""}function Mg(e,a){const i=e.toString().substring(1,4);return ir[e]?a[ir[e].set].name:a[i].name}const ir={55001:{set:"101",part:"3",main:"436"},55002:{set:"101",part:"4",main:"441"},55003:{set:"102",part:"3",main:"434"},55004:{set:"103",part:"3",main:"433"},55005:{set:"103",part:"4",main:"443"},55006:{set:"105",part:"3",main:"434"}},{Text:qa}=be;function Vg(){const[e,a]=V.useState(0),[i,n]=V.useState([]),[l,o]=V.useState([]),[r,c]=V.useState(!1),[h,b]=V.useState(!1);P.useForm();function R(E){return new Promise(()=>{const T=new FileReader;return T.readAsText(E),T.onload=()=>{const D=String(T.result);S(D)},!1})}function S(E){try{const T=JSON.parse(E);if(console.log("JSON",T),c(!0),!T)throw new Error("Invalid JSON");if(T.data){const L=Dg(T),M=L.relics;let H=L.characters;H=H.sort((X,oe)=>oe.characterLevel-X.characterLevel),H.map(X=>{X.characterLevel=80,X.lightConeLevel=80}),setTimeout(()=>{o(H),n(M),a(1),c(!1)},ha);return}if(!ug.includes(T.source))throw new Error("Invalid scanner file");const W=lc[T.source].parse(T);let B=W.characters;const F=W.relics;B=B.sort((L,M)=>M.characterLevel-L.characterLevel),B.map(L=>{L.characterLevel=80,L.lightConeLevel=80}),setTimeout(()=>{c(!1),n(F),o(B),a(1)},ha)}catch(T){let D="Unknown Error";T instanceof Error&&(D=T.message),console.error(T),Y.error("Error occurred while importing file: "+D,10),setTimeout(()=>{c(!1),n(void 0),o(void 0),a(1)},ha)}}function u(){b(!0),setTimeout(()=>{Z.mergeRelicsWithState(i),Ie.save(),setTimeout(()=>{b(!1),a(2)},100)},ha)}function m(){b(!0),setTimeout(()=>{Z.mergeRelicsWithState(i,l),Ie.save(),setTimeout(()=>{b(!1),a(2)},100)},ha)}function f(){return s.jsx(g,{style:{minHeight:100,marginBottom:30},gap:30,children:s.jsxs(g,{vertical:!0,gap:10,children:[s.jsx(qa,{children:"Install and run one of the relic scanner options:"}),s.jsx(qa,{children:s.jsxs("ul",{children:[s.jsx(oc,{}),s.jsxs("li",{children:["Kel-Z HSR Scanner (",s.jsx(ya,{text:"Github",url:un.releases}),")",s.jsxs("ul",{children:[s.jsx("li",{children:"Inaccurate speed decimals, 5-10 minutes OCR scan"}),s.jsx("li",{children:"Imports full inventory and character roster"})]})]}),s.jsxs("li",{children:["Relic Scorer Import (",s.jsx("span",{onClick:()=>window.store.getState().setActiveKey(he.RELIC_SCORER),children:s.jsx(ya,{text:"Relic scorer"})}),")",s.jsxs("ul",{children:[s.jsx("li",{children:"Accurate speed decimals, instant scan"}),s.jsx("li",{children:"No download needed, but limited to relics from the 8 characters on profile showcase"})]})]}),s.jsxs("li",{children:["HoyoLab Import (",s.jsx(ya,{text:"Instructions",url:"https://github.com/fribbels/hsr-optimizer/discussions/403"}),")",s.jsxs("ul",{children:[s.jsx("li",{children:"Inaccurate speed decimals, instant scan"}),s.jsx("li",{children:"No download needed, but limited to ingame characters' equipped relics"})]})]})]})}),s.jsx(g,{vertical:!0,align:"flex-start",children:s.jsxs(g,{gap:10,align:"center",children:[s.jsx(Er,{accept:".json",name:"file",beforeUpload:R,children:s.jsx(j,{style:{width:ls},icon:s.jsx(ml,{}),loading:r,onClick:()=>a(0),children:"Upload scanner json file"})}),"or",s.jsx(qt,{style:{width:ls},className:"centered-placeholder",placeholder:"Paste json file contents",value:"",disabled:r,onChange:E=>{const T=E.target.value;try{const D=JSON.parse(T);S(T)}catch{}}})]})})]})})}function p(){return i?s.jsx(g,{style:{minHeight:250},children:s.jsxs(g,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:[s.jsx(qa,{children:`File contains ${i.length||0} relics and ${(l==null?void 0:l.length)||0} characters.`}),s.jsx(qa,{children:"Import relics only. Updates the optimizer with the new dataset of relics and doesn't overwrite builds."}),s.jsx(j,{style:{width:ls},type:"primary",onClick:u,loading:h,children:"Import relics"}),s.jsx(It,{children:s.jsx(qa,{style:{fontSize:12},children:"OR"})}),s.jsx(qa,{children:"Import relics and characters. Replaces the optimizer builds with ingame builds."}),s.jsx(Oa,{title:"Overwrite optimizer builds",description:"Are you sure you want to overwrite your optimizer builds with ingame builds?",onConfirm:m,placement:"bottom",okText:"Yes",cancelText:"Cancel",children:s.jsx(j,{style:{width:ls},type:"primary",loading:h,children:"Import relics & characters"})})]})}):s.jsx(g,{style:{minHeight:100},children:s.jsx(g,{vertical:!0,gap:10,style:{display:e>=1?"flex":"none"},children:"Invalid scanner file, please try a different file"})})}function I(){return s.jsx(g,{style:{minHeight:100},children:s.jsx(g,{vertical:!0,gap:10,style:{display:e>=2?"flex":"none"},children:s.jsx(qa,{children:"Done!"})})})}return s.jsx(g,{gap:5,children:s.jsx(Ki,{direction:"vertical",current:e,items:[{title:"",description:f()},{title:"",description:p()},{title:"",description:I()}]})})}const{Text:Fg}=be,xg=250,Lg=async(e,a)=>{if("showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})())try{const l=await(await window.showSaveFilePicker({suggestedName:a,types:[{description:"JSON",accept:{"text/json":[".json"]}}]})).createWritable();await l.write(e),await l.close()}catch(n){console.warn(n.name,n.message)}else{const n=URL.createObjectURL(e),l=document.createElement("a");l.href=n,l.download=a,l.style.display="none",document.body.append(l),l.click(),setTimeout(()=>{URL.revokeObjectURL(n),l.remove()},1e3)}};function Ug(){async function e(){try{const a=Ie.save(),i=new Blob([a],{type:"text/json;charset=utf-8"});await Lg(i,"fribbels-optimizer-save.json"),Y.success("Done")}catch(a){console.warn(a)}}return s.jsxs(g,{vertical:!0,gap:5,children:[s.jsx(Fg,{children:"Save your optimizer data to a file."}),s.jsx(j,{type:"primary",onClick:e,icon:s.jsx(ul,{}),style:{width:xg},children:"Save data"})]})}function cc(){return s.jsx("div",{children:s.jsx(g,{vertical:!0,gap:5,style:{marginLeft:20,width:1200},children:s.jsx(Uc,{defaultActiveKey:"1",size:"large",style:{marginBottom:32},items:[{label:"Relic scanner importer",key:0,children:s.jsx(Vg,{})},{label:"Load optimizer data",key:1,children:s.jsx(Tg,{})},{label:"Save optimizer data",key:2,children:s.jsx(Ug,{})},{label:"Clear optimizer data",key:3,children:s.jsx(Eg,{})}]})})})}cc.propTypes={active:z.bool};const{useToken:kg}=Et;function Hg(){return kg(),s.jsx("div",{})}async function Pg(e,a,i){const n=nn(e),l=new Array(Math.pow(Object.keys(ja).length,4)).fill(1),o=new Array(Math.pow(Object.keys(mi).length,2)).fill(1),c=g0(i,a,e,n,1,va,l,o,!0),h=p0(c,0);await h.mapAsync(GPUMapMode.READ);const b=h.getMappedRange(),R=new Float32Array(b),S=il(R),u=As(e,{Head:a.Head[0],Hands:a.Hands[0],Body:a.Body[0],Feet:a.Feet[0],PlanarSphere:a.PlanarSphere[0],LinkRope:a.LinkRope[0]}).x,m=Ng(u,S);return h.unmap(),h.destroy(),G0(c),m}function Ng(e,a){const i={};let n=!0;function l(b,R){const S=e[b]-a[b],u=Math.abs(S)<=R;u||(n=!1),i[b]={key:b,cpu:e[b].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),gpu:a[b].toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),deltaValue:S,deltaString:S.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20}),precision:R,pass:u}}const o=0,r=.1,c=.01,h=1e-4;return l("HP",c),l("ATK",c),l("DEF",c),l("SPD",h),l("CRIT Rate",h),l("CRIT DMG",h),l("Effect Hit Rate",h),l("Effect RES",h),l("Break Effect",h),l("Energy Regeneration Rate",h),l("Outgoing Healing Boost",h),l("ELEMENTAL_DMG",h),l("BASIC_SCALING",c),l("SKILL_SCALING",c),l("ULT_SCALING",c),l("FUA_SCALING",c),l("DOT_SCALING",c),l("BASIC_CR_BOOST",c),l("SKILL_CR_BOOST",c),l("ULT_CR_BOOST",c),l("FUA_CR_BOOST",c),l("BASIC_CD_BOOST",c),l("SKILL_CD_BOOST",c),l("ULT_CD_BOOST",c),l("FUA_CD_BOOST",c),l("BASIC_BOOST",c),l("SKILL_BOOST",c),l("ULT_BOOST",c),l("FUA_BOOST",c),l("DOT_BOOST",c),l("VULNERABILITY",c),l("BASIC_VULNERABILITY",c),l("SKILL_VULNERABILITY",c),l("ULT_VULNERABILITY",c),l("FUA_VULNERABILITY",c),l("DOT_VULNERABILITY",c),l("BREAK_VULNERABILITY",c),l("DEF_PEN",c),l("BASIC_DEF_PEN",c),l("SKILL_DEF_PEN",c),l("ULT_DEF_PEN",c),l("FUA_DEF_PEN",c),l("DOT_DEF_PEN",c),l("BREAK_DEF_PEN",c),l("SUPER_BREAK_DEF_PEN",c),l("RES_PEN",c),l("PHYSICAL_RES_PEN",c),l("FIRE_RES_PEN",c),l("ICE_RES_PEN",c),l("LIGHTNING_RES_PEN",c),l("WIND_RES_PEN",c),l("QUANTUM_RES_PEN",c),l("IMAGINARY_RES_PEN",c),l("BASIC_RES_PEN",c),l("SKILL_RES_PEN",c),l("ULT_RES_PEN",c),l("FUA_RES_PEN",c),l("DOT_RES_PEN",c),l("BASIC_DMG",r),l("SKILL_DMG",r),l("ULT_DMG",r),l("FUA_DMG",r),l("DOT_DMG",r),l("BREAK_DMG",r),l("COMBO_DMG",r),l("DMG_RED_MULTI",c),l("EHP",c),l("DOT_CHANCE",c),l("EFFECT_RES_PEN",c),l("DOT_SPLIT",c),l("DOT_STACKS",c),l("ENEMY_WEAKNESS_BROKEN",c),l("SUPER_BREAK_MODIFIER",c),l("BASIC_SUPER_BREAK_MODIFIER",c),l("SUPER_BREAK_HMC_MODIFIER",c),l("BASIC_TOUGHNESS_DMG",c),l("SKILL_TOUGHNESS_DMG",c),l("ULT_TOUGHNESS_DMG",c),l("FUA_TOUGHNESS_DMG",c),l("BASIC_ORIGINAL_DMG_BOOST",c),l("SKILL_ORIGINAL_DMG_BOOST",c),l("ULT_ORIGINAL_DMG_BOOST",c),l("BASIC_BREAK_DMG_MODIFIER",c),l("ULT_CD_OVERRIDE",c),l("ULT_BOOSTS_MULTI",c),l("RATIO_BASED_HP_BUFF",c),l("RATIO_BASED_HP_P_BUFF",c),l("RATIO_BASED_ATK_BUFF",c),l("RATIO_BASED_ATK_P_BUFF",c),l("RATIO_BASED_DEF_BUFF",c),l("RATIO_BASED_DEF_P_BUFF",c),l("RATIO_BASED_SPD_BUFF",c),l("RATIO_BASED_CD_BUFF",c),l("BREAK_EFFICIENCY_BOOST",c),l("BASIC_BREAK_EFFICIENCY_BOOST",c),l("ULT_BREAK_EFFICIENCY_BOOST",c),l("HP%",c),l("ATK%",c),l("DEF%",c),l("SPD%",c),l("BASIC_DMG_TYPE",o),l("SKILL_DMG_TYPE",o),l("ULT_DMG_TYPE",o),l("FUA_DMG_TYPE",o),l("DOT_DMG_TYPE",o),l("BREAK_DMG_TYPE",o),l("SUPER_BREAK_DMG_TYPE",o),{allPass:n,statDeltas:i}}function dc(e,a,i,n){const l={name:e,request:a,relics:i,done:!1};return l.execute=()=>{const o=Pg(a,i,n);return o.then(r=>{l.done=!0,l.result=r}),o},l}function Yg(e){for(const[a,i]of Object.entries(e))i.map(n=>{const l=n.condensedStats;n.substats=[],l.map(([o,r])=>{n.substats.push({stat:o,value:r})})});return e}function uc(){return Yg({Head:[{part:"Head",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"HP",value:705.6},id:"cd85c14c-a662-4413-a149-a379e6d538d3",equippedBy:"1212",weightScore:42.767999999999994,condensedStats:[["CRIT Rate",.36016],["CRIT DMG",.10368],["Effect RES",.03456],["Break Effect",.05184],["HP",705.6]]}],Hands:[{part:"Hands",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"ATK",value:352.8},id:"798657c8-5c5c-4b44-9c5f-f5f094414289",equippedBy:"1212",weightScore:43.416,condensedStats:[["HP%",.03456],["SPD",4],["CRIT DMG",.2268],["Effect Hit Rate",.03456],["ATK",352.8]]}],Body:[{part:"Body",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"CRIT DMG",value:64.8},id:"b3376a19-62f9-489e-80e6-8f98335af158",equippedBy:"1212",weightScore:38.370734301091446,condensedStats:[["HP",114.31138],["ATK%",.07344],["DEF%",.0432],["CRIT Rate",.081],["CRIT DMG",.648]]}],Feet:[{part:"Feet",set:"Hunter of Glacial Forest",enhance:15,grade:5,main:{stat:"SPD",value:25.032},id:"92c53d06-80d0-43a8-b896-2feeda419674",equippedBy:"1212",weightScore:43.16174737167594,condensedStats:[["ATK",21.16877],["ATK%",.11664],["DEF%",.0486],["CRIT DMG",.17496],["SPD",25.032]]}],PlanarSphere:[{part:"PlanarSphere",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"Ice DMG Boost",value:38.8803},id:"80abbd56-b1a0-4587-a349-754c33627217",equippedBy:"1212",weightScore:38.971971552257266,condensedStats:[["DEF",74.09071],["CRIT Rate",.05508],["CRIT DMG",.12312],["Effect Hit Rate",.0432],["Ice DMG Boost",.388803]]}],LinkRope:[{part:"LinkRope",set:"Rutilant Arena",enhance:15,grade:5,main:{stat:"ATK%",value:43.2},id:"c521dc03-6c6e-45ef-9933-811367312441",equippedBy:"1212",weightScore:37.249627764127766,condensedStats:[["HP",80.44134],["CRIT Rate",.08424],["CRIT DMG",.10368],["Break Effect",.05832],["ATK%",.43200000000000005]]}]})}const Ps={},Le="23001",mc=[{characterId:"1001",lightConeId:Le},{characterId:"1002",lightConeId:Le},{characterId:"1003",lightConeId:"23000"},{characterId:"1004",lightConeId:"23004"},{characterId:"1005",lightConeId:"23006"},{characterId:"1006",lightConeId:"23007"},{characterId:"1008",lightConeId:Le},{characterId:"1009",lightConeId:Le},{characterId:"1013",lightConeId:Le},{characterId:"1101",lightConeId:"23003"},{characterId:"1102",lightConeId:"23001"},{characterId:"1103",lightConeId:Le},{characterId:"1104",lightConeId:"23005"},{characterId:"1105",lightConeId:Le},{characterId:"1106",lightConeId:Le},{characterId:"1107",lightConeId:"23002"},{characterId:"1108",lightConeId:Le},{characterId:"1109",lightConeId:Le},{characterId:"1110",lightConeId:Le},{characterId:"1111",lightConeId:Le},{characterId:"1112",lightConeId:"23016"},{characterId:"1201",lightConeId:Le},{characterId:"1202",lightConeId:Le},{characterId:"1203",lightConeId:"23008"},{characterId:"1204",lightConeId:"23010"},{characterId:"1205",lightConeId:"23009"},{characterId:"1206",lightConeId:Le},{characterId:"1207",lightConeId:Le},{characterId:"1208",lightConeId:"23011"},{characterId:"1209",lightConeId:"23012"},{characterId:"1210",lightConeId:Le},{characterId:"1211",lightConeId:"23013"},{characterId:"1212",lightConeId:"23014"},{characterId:"1213",lightConeId:"23015"},{characterId:"1214",lightConeId:Le},{characterId:"1215",lightConeId:Le},{characterId:"1217",lightConeId:"23017"},{characterId:"1218",lightConeId:"23029"},{characterId:"1220",lightConeId:"23031"},{characterId:"1221",lightConeId:"23030"},{characterId:"1222",lightConeId:"23032"},{characterId:"1223",lightConeId:Le},{characterId:"1224",lightConeId:Le},{characterId:"1301",lightConeId:Le},{characterId:"1302",lightConeId:"23018"},{characterId:"1303",lightConeId:"23019"},{characterId:"1304",lightConeId:"23023"},{characterId:"1305",lightConeId:"23020"},{characterId:"1306",lightConeId:"23021"},{characterId:"1307",lightConeId:"23022"},{characterId:"1308",lightConeId:"23024"},{characterId:"1309",lightConeId:"23026"},{characterId:"1310",lightConeId:"23025"},{characterId:"1312",lightConeId:Le},{characterId:"1314",lightConeId:"23028"},{characterId:"1315",lightConeId:"23027"},{characterId:"1317",lightConeId:"23033"},{characterId:"8001",lightConeId:Le},{characterId:"8002",lightConeId:Le},{characterId:"8003",lightConeId:Le},{characterId:"8004",lightConeId:Le},{characterId:"8005",lightConeId:Le},{characterId:"8006",lightConeId:Le}];async function Ag(){const e=await rn();return e?(Ps.metadata=Z.getMetadata(),[...jg(e),...vg(e),...nr(e,4),...nr(e,3),...wg(e),...Xg(e)]):[]}function wg(e){return mc.map(a=>Og(a.characterId,a.lightConeId,e))}function Xg(e){return mc.map(a=>mn(a.characterId,a.lightConeId,e))}function nr(e,a){const i="1005",n=Object.values(Ps.metadata.lightCones).filter(o=>o.rarity==a),l=[];for(const o of n){const r=mn(i,o.id,e);l.push(r)}return l}function jg(e){const a="1005",i=Le,n=[];for(const l of Ws){const o=mn(a,i,e);o.name+=` — Ornament Sets  — ${l}`,o.relics.LinkRope[0].set=l,o.relics.PlanarSphere[0].set=l,n.push(o)}return n}function vg(e){const a="1005",i=Le,n=[];for(const l of ys){const o=mn(a,i,e);o.name+=` — Relic Sets  — ${l}`,o.relics.Head[0].set=l,o.relics.Hands[0].set=l,o.relics.Body[0].set=l,o.relics.Feet[0].set=l,n.push(o)}return n}function Og(e,a,i){const n=$.fixForm(ms({id:e}));n.lightCone=a;const l=uc();return dc(`E0S1 ${Ps.metadata.characters[e].displayName} — ${Ps.metadata.lightCones[a].displayName}`,n,l,i)}function mn(e,a,i){const n=$.fixForm(ms({id:e}));n.characterEidolon=6,n.lightCone=a,n.lightConeSuperimposition=5;const l=uc();return dc(`E6S5 ${Ps.metadata.characters[e].displayName} — ${Ps.metadata.lightCones[a].displayName}`,n,l,i)}function Kg(){return window.store(a=>a.activeKey)!=he.WEBGPU_TEST?s.jsx(s.Fragment,{}):s.jsx(_g,{})}function _g(){const[e,a]=V.useState([]),[i,n]=V.useState(!1);async function l(){n(!1);const o=await Ag(),r=o.length;let c=0,h=0;a(o),o.map(b=>b.name=`#${++c} — ${b.name}`);for(const b of o){await b.execute();const R=[...o].sort(Jg);a(R),h++,h==r&&n(!0)}}return s.jsxs(g,{vertical:!0,style:{width:1200,minHeight:2e3},children:[s.jsx(j,{type:"primary",onClick:l,style:{height:50,background:i?"#248453":void 0},disabled:!i&&e.length>0,children:i?"Tests complete":"Run all WebGPU tests"}),s.jsx(Oi,{items:e.map(zg),expandIconPosition:"end",size:"small"})]})}function Jg(e,a){return e.done!==a.done?e.done?-1:1:e.done&&a.done?e.result.allPass===a.result.allPass?0:e.result.allPass?1:-1:0}function zg(e){return{key:e.name,label:s.jsx(qg,{test:e}),children:s.jsx($g,{test:e})}}const Qg=[{title:"",dataIndex:"pass",render:e=>s.jsx(g,{style:{color:e?"#83ec66":"#ef7979",width:"100%"},justify:"space-around",children:e?s.jsx(vi,{}):s.jsx(rl,{})}),width:20},{title:"Stat",dataIndex:"key",render:e=>s.jsx(Qs,{text:e}),width:80},{title:"CPU",dataIndex:"cpu",render:e=>s.jsx(Qs,{text:e}),width:120},{title:"GPU",dataIndex:"gpu",render:e=>s.jsx(Qs,{text:e}),width:120},{title:"Delta",dataIndex:"deltaString",render:e=>s.jsx(Qs,{text:e}),width:120},{title:"Precision",dataIndex:"precision",render:e=>s.jsx(Qs,{text:e}),width:120}];function $g(e){const{test:a}=e;if(!a.result)return s.jsx(s.Fragment,{});const i=a.result.statDeltas,n=Object.values(i);return n.sort((l,o)=>Number(l.pass)-Number(o.pass)),s.jsx(dr,{columns:Qg,dataSource:n,size:"small",pagination:!1})}function qg(e){const{test:a}=e;return a.done?s.jsxs(g,{gap:8,style:{color:a.result.allPass?"#83ec66":"#ef7979"},children:[a.result.allPass?s.jsx(vi,{}):s.jsx(rl,{}),a.name]}):s.jsxs(g,{gap:8,style:{color:"e6e6e6"},children:[s.jsx(kc,{}),a.name]})}function Qs(e){return s.jsx("div",{style:{margin:"0",fontFamily:"Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif"},children:e.text})}const hc=({error:e})=>s.jsxs(be,{children:["Something went wrong: ",e.message]});let lr=!1;const ep=()=>{const e=window.store(R=>R.activeKey).split("?")[0],a=Zt.useMemo(()=>s.jsx(P0,{}),[]),i=Zt.useMemo(()=>s.jsx(q0,{}),[]),n=Zt.useMemo(()=>s.jsx(A0,{}),[]),l=Zt.useMemo(()=>s.jsx(cc,{}),[]),o=Zt.useMemo(()=>s.jsx(rc,{}),[]),r=Zt.useMemo(()=>s.jsx(ec,{}),[]),c=Zt.useMemo(()=>s.jsx(pg,{}),[]),h=Zt.useMemo(()=>s.jsx(Hg,{}),[]),b=Zt.useMemo(()=>s.jsx(Kg,{}),[]);return V.useEffect(()=>{var S,u;let R=Za[e]||Za[he.OPTIMIZER];if(e==he.RELIC_SCORER){const m=(u=(S=window.location.hash.split("?")[1])==null?void 0:S.split("id=")[1])==null?void 0:u.split("&")[0];m&&(R+=`?id=${m}`)}console.log("Navigating activekey to route",e,R),window.history.pushState({},window.title,R),e==he.OPTIMIZER?(window.onOptimizerFormValuesChange({},$.getForm()),lr||(lr=!0,WorkerPool.initializeAllWorkers())):window.scrollTo(0,0)},[e]),s.jsxs(g,{justify:"space-around",children:[s.jsx(ca,{activeKey:e,tabKey:he.OPTIMIZER,content:a}),s.jsx(ca,{activeKey:e,tabKey:he.CHARACTERS,content:i}),s.jsx(ca,{activeKey:e,tabKey:he.RELICS,content:n}),s.jsx(ca,{activeKey:e,tabKey:he.IMPORT,content:l}),s.jsx(ca,{activeKey:e,tabKey:he.GETTING_STARTED,content:o}),s.jsx(ca,{activeKey:e,tabKey:he.RELIC_SCORER,content:r}),s.jsx(ca,{activeKey:e,tabKey:he.CHANGELOG,content:c}),s.jsx(ca,{activeKey:e,tabKey:he.SETTINGS,content:h}),s.jsx(ca,{activeKey:e,tabKey:he.WEBGPU_TEST,content:b}),s.jsx(hl,{fallbackRender:hc,children:s.jsx(Rg,{})})]})};function ca(e){return s.jsx(hl,{fallbackRender:hc,children:s.jsx("div",{style:{display:e.activeKey===e.tabKey?"contents":"none"},id:e.tabKey,children:e.content})})}ca.propTypes={activeKey:z.string,tabKey:z.string,content:z.element};const{useToken:tp}=Et,{Header:ap}=ri;function sp(){const e=window.store(n=>n.menuSidebarOpen),a=window.store(n=>n.setMenuSidebarOpen),{token:i}=tp();return s.jsx(ap,{style:{display:"flex",alignItems:"center",paddingLeft:"30px",paddingRight:"0px",height:48,width:"100%",backgroundColor:i.colorBgLayout,backgroundImage:"linear-gradient(rgb(0 0 0/60%) 0 0)"},children:s.jsxs(g,{align:"center",justify:"space-between",style:{width:"100%"},children:[s.jsxs(g,{children:[s.jsx(j,{type:"text",icon:e?s.jsx(Na,{}):s.jsx(Hc,{}),onClick:()=>a(!e),style:{fontSize:"16px",position:"relative",left:"-20px"}}),s.jsx("a",{href:ss,children:s.jsxs(g,{align:"center",children:[s.jsx("img",{src:U.getLogo(),style:{width:30,height:30,marginRight:35}}),s.jsx(be,{style:{fontWeight:600,fontSize:22},color:"inherit",children:"Fribbels Honkai Star Rail Optimizer"})]})})]}),s.jsxs(g,{children:[s.jsx("a",{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noreferrer",children:s.jsx(g,{children:s.jsx("img",{src:U.getKofi(),style:{height:36,marginRight:6,borderRadius:5}})})}),s.jsx("a",{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noreferrer",children:s.jsx(g,{children:s.jsx("img",{src:U.getDiscord(),style:{height:36,marginRight:6,borderRadius:5}})})})]})]})})}const ip=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 -1 16 16",children:s.jsx("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"})}),np=e=>s.jsx(rs,{component:ip,...e}),lp=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:s.jsx("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8"})}),op=e=>s.jsx(rs,{component:lp,...e}),rp=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[s.jsx("path",{fillRule:"evenodd",d:"M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2.01 2.01 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5"}),s.jsx("path",{d:"m4.4.8-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 3.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 6.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4.077 4.077 0 0 0-.204.31 2.337 2.337 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.198 3.198 0 0 1-.202.388 5.385 5.385 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 9.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"})]}),cp=e=>s.jsx(rs,{component:rp,...e});function Wt(e,a,i,n,l){return{key:a,icon:i,children:n,label:e,type:l}}const dp=()=>{const e=window.store(l=>l.activeKey),a=window.store(l=>l.setActiveKey),i=V.useMemo(()=>[Wt("Showcase","subTools",s.jsx(wc,{}),[Wt(s.jsxs(g,{children:[s.jsx(Ac,{style:{marginRight:5,width:16}})," ","Relic Scorer"]}),he.RELIC_SCORER)]),Wt("Optimization","subOptimizer",s.jsx(Ir,{}),[Wt(s.jsxs(g,{children:[s.jsx(Xc,{style:{marginRight:5,width:16}})," ","Optimizer"]}),he.OPTIMIZER),Wt(s.jsxs(g,{children:[s.jsx(gr,{style:{marginRight:5,width:16}})," ","Characters"]}),he.CHARACTERS),Wt(s.jsxs(g,{children:[s.jsx(jc,{style:{marginRight:5,width:16}})," ","Relics"]}),he.RELICS),Wt(s.jsxs(g,{children:[s.jsx(ml,{style:{marginRight:5,width:16}})," ","Import / Save"]}),he.IMPORT),Wt(s.jsxs(g,{onClick:()=>window.store.getState().setSettingsDrawerOpen(!0),children:[s.jsx(Xa,{style:{marginRight:5,width:16}})," ","Settings"]}),"link settings"),Wt(s.jsxs(g,{children:[s.jsx(vc,{style:{marginRight:5,width:16}})," ","Get Started"]}),he.GETTING_STARTED)]),Wt("Links","subLinks",s.jsx(Nc,{}),[Wt(s.jsxs(be.Link,{children:[s.jsx(mr,{style:{marginRight:2,width:16}})," ","Changelog"]}),he.CHANGELOG),Wt(s.jsxs(be.Link,{href:"https://ko-fi.com/fribbels",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(cp,{style:{marginRight:5}})," ","Ko-fi"]}),"link donate"),Wt(s.jsxs(be.Link,{href:"https://discord.gg/rDmB4Un7qg",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(np,{style:{marginRight:5}})," ","Discord"]}),"link discord"),Wt(s.jsxs(be.Link,{href:"https://github.com/fribbels/hsr-optimizer",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(op,{style:{marginRight:5}})," ","Github"]}),"link github"),!window.officialOnly&&Wt(s.jsxs(be.Link,{href:"https://starrailoptimizer.github.io/",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(Pc,{style:{marginRight:5}})," ","No leaks"]}),"link leaks free")])],[]),n=l=>{l.key&&l.key.includes("link")||a(l.key)};return s.jsx(Yc,{onClick:n,inlineIndent:12,defaultSelectedKeys:["1"],defaultOpenKeys:["subOptimizer","subTools","subLinks"],selectedKeys:e,mode:"inline",items:i})},{useToken:up}=Et,{Sider:mp}=ri;function hp(){const{token:e}=up(),a=window.store(i=>i.menuSidebarOpen);return s.jsx(mp,{width:170,style:{background:e.colorBgContainer},collapsible:!0,collapsedWidth:48,collapsed:!a,trigger:null,children:s.jsx("div",{style:{position:"sticky",top:0},children:s.jsx(dp,{})})})}const{useToken:Gp,getDesignToken:bp}=Et,{Content:Sp}=ri,Rp=()=>{const[e,a]=Oc.useMessage(),[i,n]=Kc.useNotification(),[l,o]=Bt.useModal();window.messageApi=e,window.notificationApi=i,window.modalApi=l;const r=store(c=>c.colorTheme);return V.useEffect(()=>{Gradient.setToken(bp({token:r}))},[r]),V.useEffect(()=>{_b(DB.getState().version)},[]),s.jsxs(_c,{theme:{token:{motionUnit:.1,opacityLoading:.2,colorBgBase:r.colorBgBase,colorTextBase:r.colorTextBase,colorPrimary:r.colorPrimary,colorPrimaryBorderHover:r.colorPrimary,screenXL:1530,screenXLMin:1530,screenXXL:1660,screenXXLMin:1660},components:{Cascader:{dropdownHeight:800,controlItemWidth:100,controlWidth:100},Collapse:{contentPadding:"0px 0px"},Menu:{margin:2,itemPaddingInline:0,subMenuItemBg:"rgba(255, 255, 255, 0.05)"},Table:{headerBg:"#00000036",cellPaddingInlineSM:5,cellPaddingBlockSM:6},Slider:{dotBorderColor:r.colorPrimary,dotActiveBorderColor:r.colorPrimary,handleActiveColor:r.colorPrimary,handleColor:r.colorPrimary,handleColorDisabled:r.colorPrimary,trackBg:r.colorPrimary,trackHoverBg:r.colorPrimary,railHoverBg:"#ffffff80",railBg:"#ffffff12",handleSize:5,handleSizeHover:5,handleLineWidth:3,handleLineWidthHover:3,railSize:3},InputNumber:{paddingInlineSM:6},Tag:{defaultColor:"#ffffff"},Notification:{width:450}},algorithm:Et.darkAlgorithm},children:[a,n,o,s.jsxs(ri,{style:{minHeight:"100%"},children:[s.jsx(sp,{}),s.jsxs(ri,{hasSider:!0,children:[s.jsx(hp,{}),s.jsx(Sp,{style:{padding:10,margin:0,minHeight:280,marginLeft:"auto",marginRight:"auto",overflow:"initial",display:"flex",justifyContent:"space-around",width:"100%"},children:s.jsx(ep,{})}),s.jsx(J1,{})]})]})]})};window.WorkerPool=Da;window.Constants=d;window.DataParser=a0;window.DB=Z;window.CharacterStats=Zs;window.Assets=U;window.RelicAugmenter=ds;window.StatCalculator=$t;window.Gradient=Ce;window.SaveState=Ie;window.RelicFilters=st;window.Renderer=_;window.Message=Y;window.Hint=Oe;window.CharacterConverter=Rl;window.RelicScorer=it;window.BufferPacker=ci;window.RelicRollFixer=Vs;window.officialOnly=!0;window.colorTheme=c0.BLUE;a0.parse(window.officialOnly);Ie.load(!1);I0();const fp=({error:e})=>s.jsxs(be,{children:["Something went wrong: ",e.message]});document.addEventListener("DOMContentLoaded",function(){Jc.createRoot(document.getElementById("root")).render(s.jsx(hl,{fallbackRender:fp,children:s.jsx(Rp,{})}))});
